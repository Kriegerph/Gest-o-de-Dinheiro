var Tk=Object.create;var gy=Object.defineProperty,Dk=Object.defineProperties,Ak=Object.getOwnPropertyDescriptor,Mk=Object.getOwnPropertyDescriptors,kk=Object.getOwnPropertyNames,hh=Object.getOwnPropertySymbols,Rk=Object.getPrototypeOf,yy=Object.prototype.hasOwnProperty,LC=Object.prototype.propertyIsEnumerable;var FC=(t,e,n)=>e in t?gy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ve=(t,e)=>{for(var n in e||={})yy.call(e,n)&&FC(t,n,e[n]);if(hh)for(var n of hh(e))LC.call(e,n)&&FC(t,n,e[n]);return t},je=(t,e)=>Dk(t,Mk(e));var Bu=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var vy=(t,e)=>{var n={};for(var r in t)yy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&hh)for(var r of hh(t))e.indexOf(r)<0&&LC.call(t,r)&&(n[r]=t[r]);return n};var VC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Nk=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kk(e))!yy.call(t,i)&&i!==n&&gy(t,i,{get:()=>e[i],enumerable:!(r=Ak(e,i))||r.enumerable});return t};var jC=(t,e,n)=>(n=t!=null?Tk(Rk(t)):{},Nk(e||!t||!t.__esModule?gy(n,"default",{value:t,enumerable:!0}):n,t));var vk=VC((yk,fC)=>{"use strict";(function(t){typeof yk=="object"&&typeof fC<"u"?fC.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=t()})(function(){return(function t(e,n,r){function i(a,c){if(!n[a]){if(!e[a]){var u=typeof Bu=="function"&&Bu;if(!c&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(f){return i(e[a][1][f]||f)},d,d.exports,t,e,n,r)}return n[a].exports}for(var s=typeof Bu=="function"&&Bu,o=0;o<r.length;o++)i(r[o]);return i})({1:[function(t,e,n){"use strict";let r=t("fs"),i=t("fast-csv"),s=t("dayjs/plugin/customParseFormat"),o=t("dayjs/plugin/utc"),a=t("dayjs").extend(s).extend(o),c=t("../utils/stream-buf"),{fs:{exists:u}}=t("../utils/utils"),l={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};e.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,f){if(f=f||{},!await u(d))throw new Error("File not found: "+d);let p=r.createReadStream(d),h=await this.read(p,f);return p.close(),h}read(d,f){return f=f||{},new Promise((p,h)=>{let y=this.workbook.addWorksheet(f.sheetName),g=f.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],_=f.map||function(k){if(k==="")return null;let L=Number(k);if(!Number.isNaN(L)&&L!==1/0)return L;let B=g.reduce((R,N)=>{if(R)return R;let j=a(k,N,!0);return j.isValid()?j:null},null);if(B)return new Date(B.valueOf());let V=l[k];return V!==void 0?V:k},x=i.parse(f.parserOptions).on("data",k=>{y.addRow(k.map(_))}).on("end",()=>{x.emit("worksheet",y)});x.on("worksheet",p).on("error",h),d.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,f){return new Promise((p,h)=>{f=f||{};let y=this.workbook.getWorksheet(f.sheetName||f.sheetId),g=i.format(f.formatterOptions);d.on("finish",()=>{p()}),g.on("error",h),g.pipe(d);let{dateFormat:_,dateUTC:x}=f,k=f.map||(V=>{if(V){if(V.text||V.hyperlink)return V.hyperlink||V.text||"";if(V.formula||V.result)return V.result||"";if(V instanceof Date)return _?x?a.utc(V).format(_):a(V).format(_):x?a.utc(V).format():a(V).format();if(V.error)return V.error;if(typeof V=="object")return JSON.stringify(V)}return V}),L=f.includeEmptyRows===void 0||f.includeEmptyRows,B=1;y&&y.eachRow((V,R)=>{if(L)for(;B++<R-1;)g.write([]);let{values:N}=V;N.shift(),g.write(N.map(k)),B=R}),g.end()})}writeFile(d,f){let p={encoding:(f=f||{}).encoding||"utf8"},h=r.createWriteStream(d,p);return this.write(h,f)}async writeBuffer(d){let f=new c;return await this.write(f,d),f.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(o,a){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=o,a)if(typeof a=="string"){let u=r.decodeAddress(a);this.nativeCol=u.col+c,this.nativeColOff=0,this.nativeRow=u.row+c,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+c,this.row=a.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(o){return o instanceof i||o==null?o:new i(o)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(o){this.nativeCol=Math.floor(o),this.nativeColOff=Math.floor((o-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(o){this.nativeRow=Math.floor(o),this.nativeRowOff=Math.floor((o-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(o){this.nativeCol=o.nativeCol,this.nativeColOff=o.nativeColOff,this.nativeRow=o.nativeRow,this.nativeRowOff=o.nativeRowOff}}e.exports=i},{"../utils/col-cache":19}],3:[function(t,e,n){"use strict";let r=t("../utils/col-cache"),i=t("../utils/under-dash"),s=t("./enums"),{slideFormula:o}=t("../utils/shared-formula"),a=t("./note");class c{constructor(d,f,p){if(!d||!f)throw new Error("A Cell needs a Row");this._row=d,this._column=f,r.validateAddress(p),this._address=p,this._value=u.create(c.Types.Null,this),this.style=this._mergeStyle(d.style,f.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,f,p){let h=d&&d.numFmt||f&&f.numFmt;h&&(p.numFmt=h);let y=d&&d.font||f&&f.font;y&&(p.font=y);let g=d&&d.alignment||f&&f.alignment;g&&(p.alignment=g);let _=d&&d.border||f&&f.border;_&&(p.border=_);let x=d&&d.fill||f&&f.fill;x&&(p.fill=x);let k=d&&d.protection||f&&f.protection;return k&&(p.protection=k),p}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(d,f){this._value.release(),this._value=u.create(c.Types.Merge,this,d),f||(this.style=d.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=u.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===c.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==c.Types.Merge?(this._value.release(),this._value=u.create(u.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new a(d)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===c.Types.String&&(this._value=u.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){let{definedNames:f}=this.workbook;f.removeAllNames(this.fullAddress),d.forEach(p=>{f.addEx(this.fullAddress,p)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){let{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=u.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=a.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}c.Types=s.ValueType;let u={getType:l=>l==null?c.Types.Null:l instanceof String||typeof l=="string"?c.Types.String:typeof l=="number"?c.Types.Number:typeof l=="boolean"?c.Types.Boolean:l instanceof Date?c.Types.Date:l.text&&l.hyperlink?c.Types.Hyperlink:l.formula||l.sharedFormula?c.Types.Formula:l.richText?c.Types.RichText:l.sharedString?c.Types.SharedString:l.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(l){this.model={address:l.address,type:c.Types.Null}}get value(){return null}set value(l){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Number,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Date,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){let l={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(l.tooltip=this.model.tooltip),l}set value(l){this.model={text:l.text,hyperlink:l.hyperlink},l.tooltip&&(this.model.tooltip=l.tooltip)}get text(){return this.model.text}set text(l){this.model.text=l}get hyperlink(){return this.model.hyperlink}set hyperlink(l){this.model.hyperlink=l}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(l,d){this.cell=l,this.model={address:l.address,type:c.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(l){let d={},f=p=>{let h=l[p];h&&(d[p]=h)};return f("formula"),f("result"),f("ref"),f("shareType"),f("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(l){this.model=this._copyModel(l)}validate(l){switch(u.getType(l)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(l){this.model.formula=l}get formulaType(){return this.model.formula?s.FormulaType.Master:this.model.sharedFormula?s.FormulaType.Shared:s.FormulaType.None}get result(){return this.model.result}set result(l){this.model.result=l}get type(){return c.Types.Formula}get effectiveType(){let l=this.model.result;return l==null?s.ValueType.Null:l instanceof String||typeof l=="string"?s.ValueType.String:typeof l=="number"?s.ValueType.Number:l instanceof Date?s.ValueType.Date:l.text&&l.hyperlink?s.ValueType.Hyperlink:l.formula?s.ValueType.Formula:s.ValueType.Null}get address(){return this.model.address}set address(l){this.model.address=l}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:l}=this.cell,d=l.findCell(this.model.sharedFormula);this._translatedFormula=d&&o(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(l){l instanceof c?(this._master&&this._master.releaseMergeRef(),l.addMergeRef(),this._master=l):this._master.value=l}isMergedTo(l){return l===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(l){this.model.rawValue=l,this.model.value=JSON.stringify(l)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.SharedString,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}toString(){return this.model.value.richText.map(l=>l.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Boolean,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Error,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((l,d)=>(l[d.t]=d.f,l),[]),create(l,d,f){let p=this.types[l];if(!p)throw new Error("Could not create Value of type "+l);return new p(d,f)}};e.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("./enums"),s=t("../utils/col-cache");class o{constructor(c,u,l){this._worksheet=c,this._number=u,l!==!1&&(this.defn=l)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return s.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((u,l)=>{this._worksheet.getCell(l+1,this.number).value=u})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&r.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,u){let l=this.number;u||(u=c,c=null),this._worksheet.eachRow(c,(d,f)=>{u(d.getCell(l),f)})}get values(){let c=[];return this.eachCell((u,l)=>{u&&u.type!==i.ValueType.Null&&(c[l]=u.value)}),c}set values(c){if(!c)return;let u=this.number,l=0;c.hasOwnProperty("0")&&(l=1),c.forEach((d,f)=>{this._worksheet.getCell(f+l,u).value=d})}_applyStyle(c,u){return this.style[c]=u,this.eachCell(l=>{l[c]=u}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){let u=[],l=null;return c&&c.forEach((d,f)=>{d.isDefault?l&&(l=null):l&&d.equivalentTo(l)?l.max=f+1:(l={min:f+1,max:f+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},u.push(l))}),u.length?u:void 0}static fromModel(c,u){let l=[],d=1,f=0;for(u=(u=u||[]).sort(function(p,h){return p.min-h.min});f<u.length;){let p=u[f++];for(;d<p.min;)l.push(new o(c,d++));for(;d<=p.max;)l.push(new o(c,d++,p))}return l.length?l:null}}e.exports=o},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,e,n){"use strict";e.exports=class{constructor(r){this.model=r||{}}add(r,i){return this.model[r]=i}find(r){return this.model[r]}remove(r){this.model[r]=void 0}}},{}],6:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("../utils/col-cache"),s=t("../utils/cell-matrix"),o=t("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;e.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new s)}add(c,u){let l=i.decodeEx(c);this.addEx(l,u)}addEx(c,u){let l=this.getMatrix(u);if(c.top)for(let d=c.left;d<=c.right;d++)for(let f=c.top;f<=c.bottom;f++){let p={sheetName:c.sheetName,address:i.n2l(d)+f,row:f,col:d};l.addCellEx(p)}else l.addCellEx(c)}remove(c,u){let l=i.decodeEx(c);this.removeEx(l,u)}removeEx(c,u){this.getMatrix(u).removeCellEx(c)}removeAllNames(c){r.each(this.matrixMap,u=>{u.removeCellEx(c)})}forEach(c){r.each(this.matrixMap,(u,l)=>{u.forEach(d=>{c(l,d)})})}getNames(c){return this.getNamesEx(i.decodeEx(c))}getNamesEx(c){return r.map(this.matrixMap,(u,l)=>u.findCellEx(c)&&l).filter(Boolean)}_explore(c,u){u.mark=!1;let{sheetName:l}=u,d=new o(u.row,u.col,u.row,u.col,l),f,p;function h(g,_){let x=c.findCellAt(l,g,u.col);return!(!x||!x.mark)&&(d[_]=g,x.mark=!1,!0)}for(p=u.row-1;h(p,"top");p--);for(p=u.row+1;h(p,"bottom");p++);function y(g,_){let x=[];for(p=d.top;p<=d.bottom;p++){let k=c.findCellAt(l,p,g);if(!k||!k.mark)return!1;x.push(k)}d[_]=g;for(let k=0;k<x.length;k++)x[k].mark=!1;return!0}for(f=u.col-1;y(f,"left");f--);for(f=u.col+1;y(f,"right");f++);return d}getRanges(c,u){return(u=u||this.matrixMap[c])?(u.forEach(l=>{l.mark=!0}),{name:c,ranges:u.map(l=>l.mark&&this._explore(u,l)).filter(Boolean).map(l=>l.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,u){c.forEachInSheet(u,(l,d,f)=>{l&&(l.row===d&&l.col===f||(l.row=d,l.col=f,l.address=i.n2l(f)+d))})}spliceRows(c,u,l,d){r.each(this.matrixMap,f=>{f.spliceRows(c,u,l,d),this.normaliseMatrix(f,c)})}spliceColumns(c,u,l,d){r.each(this.matrixMap,f=>{f.spliceColumns(c,u,l,d),this.normaliseMatrix(f,c)})}get model(){return r.map(this.matrixMap,(c,u)=>this.getRanges(u,c)).filter(c=>c.ranges.length)}set model(c){let u=this.matrixMap={};c.forEach(l=>{let d=u[l.name]=new s;l.ranges.forEach(f=>{a.test(f.split("!").pop()||"")&&d.addCell(f)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,e,n){"use strict";e.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,e,n){"use strict";let r=t("../utils/col-cache"),i=t("./anchor");e.exports=class{constructor(s,o){this.worksheet=s,this.model=o}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(s){let{type:o,imageId:a,range:c,hyperlinks:u}=s;if(this.type=o,this.imageId=a,o==="image")if(typeof c=="string"){let l=r.decode(c);this.range={tl:new i(this.worksheet,{col:l.left,row:l.top},-1),br:new i(this.worksheet,{col:l.right,row:l.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,c.tl,0),br:c.br&&new i(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:u||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,e,n){"use strict";let r=t("../utils/under-dash");class i{constructor(o){this.note=o}get model(){let o=null;switch(typeof this.note){case"string":o={type:"note",note:{texts:[{text:this.note}]}};break;default:o={type:"note",note:this.note}}return r.deepMerge({},i.DEFAULT_CONFIGS,o)}set model(o){let{note:a}=o,{texts:c}=a;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=a}static fromModel(o){let a=new i;return a.model=o,a}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},e.exports=i},{"../utils/under-dash":26}],10:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(o,a,c,u,l){if(arguments.length<4){let d=r.decodeAddress(o),f=r.decodeAddress(a);this.model={top:Math.min(d.row,f.row),left:Math.min(d.col,f.col),bottom:Math.max(d.row,f.row),right:Math.max(d.col,f.col),sheetName:c},this.setTLBR(d.row,d.col,f.row,f.col,l)}else this.model={top:Math.min(o,c),left:Math.min(a,u),bottom:Math.max(o,c),right:Math.max(a,u),sheetName:l}}decode(o){switch(o.length){case 5:this.setTLBR(o[0],o[1],o[2],o[3],o[4]);break;case 4:this.setTLBR(o[0],o[1],o[2],o[3]);break;case 3:this.setTLBR(o[0],o[1],o[2]);break;case 2:this.setTLBR(o[0],o[1]);break;case 1:{let a=o[0];if(a instanceof i)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let c=r.decodeEx(a);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+o.length)}}get top(){return this.model.top||1}set top(o){this.model.top=o}get left(){return this.model.left||1}set left(o){this.model.left=o}get bottom(){return this.model.bottom||1}set bottom(o){this.model.bottom=o}get right(){return this.model.right||1}set right(o){this.model.right=o}get sheetName(){return this.model.sheetName}set sheetName(o){this.model.sheetName=o}get _serialisedSheetName(){let{sheetName:o}=this.model;return o?/^[a-zA-Z0-9]*$/.test(o)?o+"!":`'${o}'!`:""}expand(o,a,c,u){(!this.model.top||o<this.top)&&(this.top=o),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||u>this.right)&&(this.right=u)}expandRow(o){if(o){let{dimensions:a,number:c}=o;a&&this.expand(c,a.min,c,a.max)}}expandToAddress(o){let a=r.decodeEx(o);this.expand(a.row,a.col,a.row,a.col)}get tl(){return r.n2l(this.left)+this.top}get $t$l(){return`$${r.n2l(this.left)}$${this.top}`}get br(){return r.n2l(this.right)+this.bottom}get $b$r(){return`$${r.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&!(o.bottom<this.top)&&!(o.top>this.bottom)&&!(o.right<this.left)&&!(o.left>this.right)}contains(o){let a=r.decodeEx(o);return this.containsEx(a)}containsEx(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&o.row>=this.top&&o.row<=this.bottom&&o.col>=this.left&&o.col<=this.right}forEachAddress(o){for(let a=this.left;a<=this.right;a++)for(let c=this.top;c<=this.bottom;c++)o(r.encodeAddress(c,a),c,a)}}e.exports=i},{"../utils/col-cache":19}],11:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("./enums"),s=t("../utils/col-cache"),o=t("./cell");e.exports=class{constructor(a,c){this._worksheet=a,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let c=this._cells[a.col-1];if(!c){let u=this._worksheet.getColumn(a.col);c=new o(this,u,a.address),this._cells[a.col-1]=c}return c}getCell(a){if(typeof a=="string"){let c=this._worksheet.getColumnKey(a);a=c?c.number:s.l2n(a)}return this._cells[a-1]||this.getCellEx({address:s.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,c){let u=a+c;for(var l=arguments.length,d=new Array(l>2?l-2:0),f=2;f<l;f++)d[f-2]=arguments[f];let p=d.length-c,h=this._cells.length,y,g,_;if(p<0)for(y=a+d.length;y<=h;y++)_=this._cells[y-1],g=this._cells[y-p-1],g?(_=this.getCell(y),_.value=g.value,_.style=g.style,_._comment=g._comment):_&&(_.value=null,_.style={},_._comment=void 0);else if(p>0)for(y=h;y>=u;y--)g=this._cells[y-1],g?(_=this.getCell(y+p),_.value=g.value,_.style=g.style,_._comment=g._comment):this._cells[y+p-1]=void 0;for(y=0;y<d.length;y++)_=this.getCell(a+y),_.value=d[y],_.style={},_._comment=void 0}eachCell(a,c){if(c||(c=a,a=null),a&&a.includeEmpty){let u=this._cells.length;for(let l=1;l<=u;l++)c(this.getCell(l),l)}else this._cells.forEach((u,l)=>{u&&u.type!==i.ValueType.Null&&c(u,l+1)})}addPageBreak(a,c){let u=this._worksheet,l=Math.max(0,a-1)||0,d=Math.max(0,c-1)||16838,f={id:this._number,max:d,man:1};l&&(f.min=l),u.rowBreaks.push(f)}get values(){let a=[];return this._cells.forEach(c=>{c&&c.type!==i.ValueType.Null&&(a[c.col]=c.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let c=0;a.hasOwnProperty("0")&&(c=1),a.forEach((u,l)=>{u!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,l+c),row:this._number,col:l+c}).value=u)})}else this._worksheet.eachColumnKey((c,u)=>{a[u]!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=a[u])})}get hasValues(){return r.some(this._cells,a=>a&&a.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,c=0;return this._cells.forEach(u=>{u&&u.type!==i.ValueType.Null&&((!a||a>u.col)&&(a=u.col),c<u.col&&(c=u.col))}),a>0?{min:a,max:c}:null}_applyStyle(a,c){return this.style[a]=c,this._cells.forEach(u=>{u&&(u[a]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],c=0,u=0;return this._cells.forEach(l=>{if(l){let d=l.model;d&&((!c||c>l.col)&&(c=l.col),u<l.col&&(u=l.col),a.push(d))}}),this.height||a.length?{cells:a,number:this.number,min:c,max:u,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],a.cells.forEach(u=>{switch(u.type){case o.Types.Merge:break;default:{let l;if(u.address)l=s.decodeAddress(u.address);else if(c){let{row:d}=c,f=c.col+1;l={row:d,col:f,address:s.encodeAddress(d,f),$col$row:`$${s.n2l(f)}$${d}`}}c=l,this.getCellEx(l).model=u;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(o,a,c){this.table=o,this.column=a,this.index=c}_set(o,a){this.table.cacheState(),this.column[o]=a}get name(){return this.column.name}set name(o){this._set("name",o)}get filterButton(){return this.column.filterButton}set filterButton(o){this.column.filterButton=o}get style(){return this.column.style}set style(o){this.column.style=o}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(o){this._set("totalsRowLabel",o)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(o){this._set("totalsRowFunction",o)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(o){this._set("totalsRowResult",o)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(o){this._set("totalsRowFormula",o)}}e.exports=class{constructor(s,o){this.worksheet=s,o&&(this.table=o,this.validate(),this.store())}getFormula(s){switch(s.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${s.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${s.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${s.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${s.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${s.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${s.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${s.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${s.name}])`;case"custom":return s.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+s.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:s}=this,o=(p,h,y)=>{p[h]===void 0&&(p[h]=y)};o(s,"headerRow",!0),o(s,"totalsRow",!1),o(s,"style",{}),o(s.style,"theme","TableStyleMedium2"),o(s.style,"showFirstColumn",!1),o(s.style,"showLastColumn",!1),o(s.style,"showRowStripes",!1),o(s.style,"showColumnStripes",!1);let a=(p,h)=>{if(!p)throw new Error(h)};a(s.ref,"Table must have ref"),a(s.columns,"Table must have column definitions"),a(s.rows,"Table must have row definitions"),s.tl=r.decodeAddress(s.ref);let{row:c,col:u}=s.tl;a(c>0,"Table must be on valid row"),a(u>0,"Table must be on valid col");let{width:l,filterHeight:d,tableHeight:f}=this;s.autoFilterRef=r.encode(c,u,c+d-1,u+l-1),s.tableRef=r.encode(c,u,c+f-1,u+l-1),s.columns.forEach((p,h)=>{a(p.name,`Column ${h} must have a name`),h===0?o(p,"totalsRowLabel","Total"):(o(p,"totalsRowFunction","none"),p.totalsRowFormula=this.getFormula(p))})}store(){let s=(d,f)=>{f&&Object.keys(f).forEach(p=>{d[p]=f[p]})},{worksheet:o,table:a}=this,{row:c,col:u}=a.tl,l=0;if(a.headerRow){let d=o.getRow(c+l++);a.columns.forEach((f,p)=>{let{style:h,name:y}=f,g=d.getCell(u+p);g.value=y,s(g,h)})}if(a.rows.forEach(d=>{let f=o.getRow(c+l++);d.forEach((p,h)=>{let y=f.getCell(u+h);y.value=p,s(y,a.columns[h].style)})}),a.totalsRow){let d=o.getRow(c+l++);a.columns.forEach((f,p)=>{let h=d.getCell(u+p);if(p===0)h.value=f.totalsRowLabel;else{let y=this.getFormula(f);h.value=y?{formula:f.totalsRowFormula,result:f.totalsRowResult}:null}s(h,f.style)})}}load(s){let{table:o}=this,{row:a,col:c}=o.tl,u=0;if(o.headerRow){let l=s.getRow(a+u++);o.columns.forEach((d,f)=>{l.getCell(c+f).value=d.name})}if(o.rows.forEach(l=>{let d=s.getRow(a+u++);l.forEach((f,p)=>{d.getCell(c+p).value=f})}),o.totalsRow){let l=s.getRow(a+u++);o.columns.forEach((d,f)=>{let p=l.getCell(c+f);f===0?p.value=d.totalsRowLabel:this.getFormula(d)&&(p.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(s){this.table=s}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let s=r.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let o=0;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let c=0;c<this._cache.width;c++)a.getCell(s.col+c).value=null}else{for(let o=this.tableHeight;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let c=0;c<this._cache.width;c++)a.getCell(s.col+c).value=null}for(let o=0;o<this.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let c=this.width;c<this._cache.width;c++)a.getCell(s.col+c).value=null}}this.store()}addRow(s,o){this.cacheState(),o===void 0?this.table.rows.push(s):this.table.rows.splice(o,0,s)}removeRows(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(s,o)}getColumn(s){let o=this.table.columns[s];return new i(this,o,s)}addColumn(s,o,a){this.cacheState(),a===void 0?(this.table.columns.push(s),this.table.rows.forEach((c,u)=>{c.push(o[u])})):(this.table.columns.splice(a,0,s),this.table.rows.forEach((c,u)=>{c.splice(a,0,o[u])}))}removeColumns(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(s,o),this.table.rows.forEach(a=>{a.splice(s,o)})}_assign(s,o,a){this.cacheState(),s[o]=a}get ref(){return this.table.ref}set ref(s){this._assign(this.table,"ref",s)}get name(){return this.table.name}set name(s){this.table.name=s}get displayName(){return this.table.displyName||this.table.name}set displayNamename(s){this.table.displayName=s}get headerRow(){return this.table.headerRow}set headerRow(s){this._assign(this.table,"headerRow",s)}get totalsRow(){return this.table.totalsRow}set totalsRow(s){this._assign(this.table,"totalsRow",s)}get theme(){return this.table.style.name}set theme(s){this.table.style.name=s}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(s){this.table.style.showFirstColumn=s}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(s){this.table.style.showLastColumn=s}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(s){this.table.style.showRowStripes=s}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(s){this.table.style.showColumnStripes=s}}},{"../utils/col-cache":19}],13:[function(t,e,n){"use strict";let r=t("./worksheet"),i=t("./defined-names"),s=t("../xlsx/xlsx"),o=t("../csv/csv");e.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new s(this)),this._xlsx}get csv(){return this._csv||(this._csv=new o(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,c){let u=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));let l=this._worksheets.reduce((p,h)=>(h&&h.orderNo)>p?h.orderNo:p,0),d=Object.assign({},c,{id:u,name:a,orderNo:l+1,workbook:this}),f=new r(d);return this._worksheets[u]=f,f}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let c=this.getWorksheet(a);c&&c.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(c=>c&&c.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,c)=>a.orderNo-c.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(c=>{a(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let c=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),c}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(c=>{let{id:u,name:l,state:d}=c,f=a.sheets&&a.sheets.findIndex(p=>p.id===u);(this._worksheets[u]=new r({id:u,name:l,orderNo:f,state:d,workbook:this})).model=c}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("../utils/col-cache"),s=t("./range"),o=t("./row"),a=t("./column"),c=t("./enums"),u=t("./image"),l=t("./table"),d=t("./data-validations"),f=t("../utils/encryptor"),{copyStyle:p}=t("../utils/copy-style");e.exports=class{constructor(h){h=h||{},this._workbook=h.workbook,this.id=h.id,this.orderNo=h.orderNo,this.name=h.name,this.state=h.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},h.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!h.pageSetup||!h.pageSetup.fitToWidth&&!h.pageSetup.fitToHeight||h.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},h.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},h.headerFooter),this.dataValidations=new d,this.views=h.views||[],this.autoFilter=h.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(h){if(h===void 0&&(h="sheet"+this.id),this._name!==h){if(typeof h!="string")throw new Error("The name has to be a string.");if(h==="")throw new Error("The name can't be empty.");if(h==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(h))throw new Error(`Worksheet name ${h} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(h))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+h);if(h&&h.length>31&&(console.warn(`Worksheet name ${h} exceeds 31 chars. This will be truncated`),h=h.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===h.toLowerCase()))throw new Error("Worksheet name already exists: "+h);this._name=h}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let h=new s;return this._rows.forEach(y=>{if(y){let g=y.dimensions;g&&h.expand(y.number,g.min,y.number,g.max)}}),h}get columns(){return this._columns}set columns(h){this._headerRowCount=h.reduce((_,x)=>{let k=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(_,k)},0);let y=1,g=this._columns=[];h.forEach(_=>{let x=new a(this,y++,!1);g.push(x),x.defn=_})}getColumnKey(h){return this._keys[h]}setColumnKey(h,y){this._keys[h]=y}deleteColumnKey(h){delete this._keys[h]}eachColumnKey(h){r.each(this._keys,h)}getColumn(h){if(typeof h=="string"){let y=this._keys[h];if(y)return y;h=i.l2n(h)}if(this._columns||(this._columns=[]),h>this._columns.length){let y=this._columns.length+1;for(;y<=h;)this._columns.push(new a(this,y++))}return this._columns[h-1]}spliceColumns(h,y){let g=this._rows.length;for(var _=arguments.length,x=new Array(_>2?_-2:0),k=2;k<_;k++)x[k-2]=arguments[k];if(x.length>0)for(let R=0;R<g;R++){let N=[h,y];x.forEach(P=>{N.push(P[R]||null)});let j=this.getRow(R+1);j.splice.apply(j,N)}else this._rows.forEach(R=>{R&&R.splice(h,y)});let L=x.length-y,B=h+y,V=this._columns.length;if(L<0)for(let R=h+x.length;R<=V;R++)this.getColumn(R).defn=this.getColumn(R-L).defn;else if(L>0)for(let R=V;R>=B;R--)this.getColumn(R+L).defn=this.getColumn(R).defn;for(let R=h;R<h+x.length;R++)this.getColumn(R).defn=null;this.workbook.definedNames.spliceColumns(this.name,h,y,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let h=0;return this.eachRow(y=>{h=Math.max(h,y.cellCount)}),h}get actualColumnCount(){let h=[],y=0;return this.eachRow(g=>{g.eachCell(_=>{let{col:x}=_;h[x]||(h[x]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){let h=this._rows,y=h.length;for(;y>0&&h[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(h){return this._rows[h-1]}findRows(h,y){return this._rows.slice(h-1,h-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let h=0;return this.eachRow(()=>{h++}),h}getRow(h){let y=this._rows[h-1];return y||(y=this._rows[h-1]=new o(this,h)),y}getRows(h,y){if(y<1)return;let g=[];for(let _=h;_<h+y;_++)g.push(this.getRow(_));return g}addRow(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=this._nextRow,_=this.getRow(g);return _.values=h,this._setStyleOption(g,y[0]==="i"?y:"n"),_}addRows(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=[];return h.forEach(_=>{g.push(this.addRow(_,y))}),g}insertRow(h,y){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(h,0,y),this._setStyleOption(h,g),this.getRow(h)}insertRows(h,y){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(h,0,...y),g!=="n")for(let _=0;_<y.length;_++)g[0]==="o"&&this.findRow(y.length+h+_)!==void 0?this._copyStyle(y.length+h+_,h+_,g[1]==="+"):g[0]==="i"&&this.findRow(h-1)!==void 0&&this._copyStyle(h-1,h+_,g[1]==="+");return this.getRows(h,y.length)}_setStyleOption(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(h+1)!==void 0?this._copyStyle(h+1,h,y[1]==="+"):y[0]==="i"&&this.findRow(h-1)!==void 0&&this._copyStyle(h-1,h,y[1]==="+")}_copyStyle(h,y){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_=this.getRow(h),x=this.getRow(y);x.style=p(_.style),_.eachCell({includeEmpty:g},(k,L)=>{x.getCell(L).style=p(k.style)}),x.height=_.height}duplicateRow(h,y){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_=this._rows[h-1],x=new Array(y).fill(_.values);this.spliceRows(h+1,g?0:y,...x);for(let k=0;k<y;k++){let L=this._rows[h+k];L.style=_.style,L.height=_.height,_.eachCell({includeEmpty:!0},(B,V)=>{L.getCell(V).style=B.style})}}spliceRows(h,y){let g=h+y;for(var _=arguments.length,x=new Array(_>2?_-2:0),k=2;k<_;k++)x[k-2]=arguments[k];let L=x.length,B=L-y,V=this._rows.length,R,N;if(B<0)for(h===V&&(this._rows[V-1]=void 0),R=g;R<=V;R++)if(N=this._rows[R-1],N){let j=this.getRow(R+B);j.values=N.values,j.style=N.style,j.height=N.height,N.eachCell({includeEmpty:!0},(P,E)=>{j.getCell(E).style=P.style}),this._rows[R-1]=void 0}else this._rows[R+B-1]=void 0;else if(B>0)for(R=V;R>=g;R--)if(N=this._rows[R-1],N){let j=this.getRow(R+B);j.values=N.values,j.style=N.style,j.height=N.height,N.eachCell({includeEmpty:!0},(P,E)=>{if(j.getCell(E).style=P.style,P._value.constructor.name==="MergeValue"){let S=this.getRow(P._row._number+L).getCell(E),D=P._value._master,m=this.getRow(D._row._number+L).getCell(D._column._number);S.merge(m)}})}else this._rows[R+B-1]=void 0;for(R=0;R<L;R++){let j=this.getRow(h+R);j.style={},j.values=x[R]}this.workbook.definedNames.spliceRows(this.name,h,y,L)}eachRow(h,y){if(y||(y=h,h=void 0),h&&h.includeEmpty){let g=this._rows.length;for(let _=1;_<=g;_++)y(this.getRow(_),_)}else this._rows.forEach(g=>{g&&g.hasValues&&y(g,g.number)})}getSheetValues(){let h=[];return this._rows.forEach(y=>{y&&(h[y.number]=y.values)}),h}findCell(h,y){let g=i.getAddress(h,y),_=this._rows[g.row-1];return _?_.findCell(g.col):void 0}getCell(h,y){let g=i.getAddress(h,y);return this.getRow(g.row).getCellEx(g)}mergeCells(){for(var h=arguments.length,y=new Array(h),g=0;g<h;g++)y[g]=arguments[g];let _=new s(y);this._mergeCellsInternal(_)}mergeCellsWithoutStyle(){for(var h=arguments.length,y=new Array(h),g=0;g<h;g++)y[g]=arguments[g];let _=new s(y);this._mergeCellsInternal(_,!0)}_mergeCellsInternal(h,y){r.each(this._merges,_=>{if(_.intersects(h))throw new Error("Cannot merge already merged cells")});let g=this.getCell(h.top,h.left);for(let _=h.top;_<=h.bottom;_++)for(let x=h.left;x<=h.right;x++)(_>h.top||x>h.left)&&this.getCell(_,x).merge(g,y);this._merges[g.address]=h}_unMergeMaster(h){let y=this._merges[h.address];if(y){for(let g=y.top;g<=y.bottom;g++)for(let _=y.left;_<=y.right;_++)this.getCell(g,_).unmerge();delete this._merges[h.address]}}get hasMerges(){return r.some(this._merges,Boolean)}unMergeCells(){for(var h=arguments.length,y=new Array(h),g=0;g<h;g++)y[g]=arguments[g];let _=new s(y);for(let x=_.top;x<=_.bottom;x++)for(let k=_.left;k<=_.right;k++){let L=this.findCell(x,k);L&&(L.type===c.ValueType.Merge?this._unMergeMaster(L.master):this._merges[L.address]&&this._unMergeMaster(L))}}fillFormula(h,y,g){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",x=i.decode(h),{top:k,left:L,bottom:B,right:V}=x,R=V-L+1,N=i.encodeAddress(k,L),j=_==="shared",P;P=typeof g=="function"?g:Array.isArray(g)?Array.isArray(g[0])?(S,D)=>g[S-k][D-L]:(S,D)=>g[(S-k)*R+(D-L)]:()=>{};let E=!0;for(let S=k;S<=B;S++)for(let D=L;D<=V;D++)E?(this.getCell(S,D).value={shareType:_,formula:y,ref:h,result:P(S,D)},E=!1):this.getCell(S,D).value=j?{sharedFormula:N,result:P(S,D)}:P(S,D)}addImage(h,y){let g={type:"image",imageId:h,range:y};this._media.push(new u(this,g))}getImages(){return this._media.filter(h=>h.type==="image")}addBackgroundImage(h){let y={type:"background",imageId:h};this._media.push(new u(this,y))}getBackgroundImageId(){let h=this._media.find(y=>y.type==="background");return h&&h.imageId}protect(h,y){return new Promise(g=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),h&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=f.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=f.convertPasswordToHash(h,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!h&&"spinCount"in y&&delete this.sheetProtection.spinCount),g()})}unprotect(){this.sheetProtection=null}addTable(h){let y=new l(this,h);return this.tables[h.name]=y,y}getTable(h){return this.tables[h]}removeTable(h){delete this.tables[h]}getTables(){return Object.values(this.tables)}addConditionalFormatting(h){this.conditionalFormattings.push(h)}removeConditionalFormatting(h){typeof h=="number"?this.conditionalFormattings.splice(h,1):this.conditionalFormattings=h instanceof Function?this.conditionalFormattings.filter(h):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(h){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=h}get model(){let h={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(_=>_.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(_=>_.model),conditionalFormattings:this.conditionalFormattings};h.cols=a.toModel(this.columns);let y=h.rows=[],g=h.dimensions=new s;return this._rows.forEach(_=>{let x=_&&_.model;x&&(g.expand(x.number,x.min,x.number,x.max),y.push(x))}),h.merges=[],r.each(this._merges,_=>{h.merges.push(_.range)}),h}_parseRows(h){this._rows=[],h.rows.forEach(y=>{let g=new o(this,y.number);this._rows[g.number-1]=g,g.model=y})}_parseMergeCells(h){r.each(h.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(h){this.name=h.name,this._columns=a.fromModel(this,h.cols),this._parseRows(h),this._parseMergeCells(h),this.dataValidations=new d(h.dataValidations),this.properties=h.properties,this.pageSetup=h.pageSetup,this.headerFooter=h.headerFooter,this.views=h.views,this.autoFilter=h.autoFilter,this._media=h.media.map(y=>new u(this,y)),this.sheetProtection=h.sheetProtection,this.tables=h.tables.reduce((y,g)=>{let _=new l;return _.model=g,y[g.name]=_,y},{}),this.conditionalFormattings=h.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,e,n){"use strict";t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");let r={Workbook:t("./doc/workbook")},i=t("./doc/enums");Object.keys(i).forEach(s=>{r[s]=i[s]}),e.exports=r},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,e,n){"use strict";let r=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(i){return typeof i=="string"?i:r?r.decode(i):i.toString()}},{}],17:[function(t,e,n){"use strict";let r=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=t("buffer");n.stringToBuffer=function(s){return typeof s!="string"?s:r?i.from(r.encode(s).buffer):i.from(s)}},{buffer:220}],18:[function(t,e,n){"use strict";let r=t("./under-dash"),i=t("./col-cache");e.exports=class{constructor(s){this.template=s,this.sheets={}}addCell(s){this.addCellEx(i.decodeEx(s))}getCell(s){return this.findCellEx(i.decodeEx(s),!0)}findCell(s){return this.findCellEx(i.decodeEx(s),!1)}findCellAt(s,o,a){let c=this.sheets[s],u=c&&c[o];return u&&u[a]}addCellEx(s){if(s.top)for(let o=s.top;o<=s.bottom;o++)for(let a=s.left;a<=s.right;a++)this.getCellAt(s.sheetName,o,a);else this.findCellEx(s,!0)}getCellEx(s){return this.findCellEx(s,!0)}findCellEx(s,o){let a=this.findSheet(s,o),c=this.findSheetRow(a,s,o);return this.findRowCell(c,s,o)}getCellAt(s,o,a){let c=this.sheets[s]||(this.sheets[s]=[]),u=c[o]||(c[o]=[]);return u[a]||(u[a]={sheetName:s,address:i.n2l(a)+o,row:o,col:a})}removeCellEx(s){let o=this.findSheet(s);if(!o)return;let a=this.findSheetRow(o,s);a&&delete a[s.col]}forEachInSheet(s,o){let a=this.sheets[s];a&&a.forEach((c,u)=>{c&&c.forEach((l,d)=>{l&&o(l,u,d)})})}forEach(s){r.each(this.sheets,(o,a)=>{this.forEachInSheet(a,s)})}map(s){let o=[];return this.forEach(a=>{o.push(s(a))}),o}findSheet(s,o){let a=s.sheetName;return this.sheets[a]?this.sheets[a]:o?this.sheets[a]=[]:void 0}findSheetRow(s,o,a){let{row:c}=o;return s&&s[c]?s[c]:a?s[c]=[]:void 0}findRowCell(s,o,a){let{col:c}=o;return s&&s[c]?s[c]:a?s[c]=this.template?Object.assign(o,JSON.parse(JSON.stringify(this.template))):o:void 0}spliceRows(s,o,a,c){let u=this.sheets[s];if(u){let l=[];for(let d=0;d<c;d++)l.push([]);u.splice(o,a,...l)}}spliceColumns(s,o,a,c){let u=this.sheets[s];if(u){let l=[];for(let d=0;d<c;d++)l.push(null);r.each(u,d=>{d.splice(o,a,...l)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,e,n){"use strict";let r=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:s=>s<=26?1:s<=676?2:3,_fill(s){let o,a,c,u,l,d=1;if(s>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&s>=1){for(;d<=26;)o=this._dictionary[d-1],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&s>=2){for(d=27;d<=702;)a=d-27,c=a%26,u=Math.floor(a/26),o=this._dictionary[u]+this._dictionary[c],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&s>=3){for(d=703;d<=16384;)a=d-703,c=a%26,u=Math.floor(a/26)%26,l=Math.floor(a/676),o=this._dictionary[l]+this._dictionary[u]+this._dictionary[c],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=3}},l2n(s){if(this._l2n[s]||this._fill(s.length),!this._l2n[s])throw new Error("Out of bounds. Invalid column letter: "+s);return this._l2n[s]},n2l(s){if(s<1||s>16384)throw new Error(s+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[s]||this._fill(this._level(s)),this._n2l[s]},_hash:{},validateAddress(s){if(!r.test(s))throw new Error("Invalid Address: "+s);return!0},decodeAddress(s){let o=s.length<5&&this._hash[s];if(o)return o;let a=!1,c="",u=0,l=!1,d="",f=0;for(let h,y=0;y<s.length;y++)if(h=s.charCodeAt(y),!l&&h>=65&&h<=90)a=!0,c+=s[y],u=26*u+h-64;else if(h>=48&&h<=57)l=!0,d+=s[y],f=10*f+h-48;else if(l&&a&&h!==36)break;if(a){if(u>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else u=void 0;l||(f=void 0);let p={address:s=c+d,col:u,row:f,$col$row:`$${c}$${d}`};return u<=100&&f<=100&&(this._hash[s]=p,this._hash[p.$col$row]=p),p},getAddress(s,o){if(o){let a=this.n2l(o)+s;return this.decodeAddress(a)}return this.decodeAddress(s)},decode(s){let o=s.split(":");if(o.length===2){let a=this.decodeAddress(o[0]),c=this.decodeAddress(o[1]),u={top:Math.min(a.row,c.row),left:Math.min(a.col,c.col),bottom:Math.max(a.row,c.row),right:Math.max(a.col,c.col)};return u.tl=this.n2l(u.left)+u.top,u.br=this.n2l(u.right)+u.bottom,u.dimensions=`${u.tl}:${u.br}`,u}return this.decodeAddress(s)},decodeEx(s){let o=s.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=o[1]||o[2],c=o[3],u=c.split(":");if(u.length>1){let d=this.decodeAddress(u[0]),f=this.decodeAddress(u[1]),p=Math.min(d.row,f.row),h=Math.min(d.col,f.col),y=Math.max(d.row,f.row),g=Math.max(d.col,f.col);return d=this.n2l(h)+p,f=this.n2l(g)+y,{top:p,left:h,bottom:y,right:g,sheetName:a,tl:{address:d,col:h,row:p,$col$row:`$${this.n2l(h)}$${p}`,sheetName:a},br:{address:f,col:g,row:y,$col$row:`$${this.n2l(g)}$${y}`,sheetName:a},dimensions:`${d}:${f}`}}if(c.startsWith("#"))return a?{sheetName:a,error:c}:{error:c};let l=this.decodeAddress(c);return a?ve({sheetName:a},l):l},encodeAddress:(s,o)=>i.n2l(o)+s,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(s,o){let[a,c,,u,l]=s,[d,f]=o;return d>=a&&d<=u&&f>=c&&f<=l}};e.exports=i},{}],20:[function(t,e,n){"use strict";let r=(s,o)=>ve(ve({},s),o.reduce((a,c)=>(s[c]&&(a[c]=ve({},s[c])),a),{})),i=function(s,o,a){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];s[a]&&(o[a]=r(s[a],c))};n.copyStyle=s=>{if(!s)return s;if(o=s,Object.keys(o).length===0)return{};var o;let a=ve({},s);return i(s,a,"font",["color"]),i(s,a,"alignment"),i(s,a,"protection"),s.border&&(i(s,a,"border"),i(s.border,a.border,"top",["color"]),i(s.border,a.border,"left",["color"]),i(s.border,a.border,"bottom",["color"]),i(s.border,a.border,"right",["color"]),i(s.border,a.border,"diagonal",["color"])),s.fill&&(i(s,a,"fill",["fgColor","bgColor","center"]),s.fill.stops&&(a.fill.stops=s.fill.stops.map(c=>r(c,["color"])))),a}},{}],21:[function(t,e,n){(function(r){(function(){"use strict";let i=t("crypto"),s={hash(o){let a=i.createHash(o);for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];return a.update(r.concat(u)),a.digest()},convertPasswordToHash(o,a,c,u){if(a=a.toLowerCase(),i.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let l=r.from(o,"utf16le"),d=this.hash(a,r.from(c,"base64"),l);for(let f=0;f<u;f++){let p=r.alloc(4);p.writeUInt32LE(f,0),d=this.hash(a,d,p)}return d.toString("base64")},randomBytes:o=>i.randomBytes(o)};e.exports=s}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,e,n){"use strict";let{SaxesParser:r}=t("saxes"),{PassThrough:i}=t("readable-stream"),{bufferToString:s}=t("./browser-buffer-decode");e.exports=async function*(o){o.pipe&&!o[Symbol.asyncIterator]&&(o=o.pipe(new i));let a=new r,c;a.on("error",l=>{c=l});let u=[];a.on("opentag",l=>u.push({eventType:"opentag",value:l})),a.on("text",l=>u.push({eventType:"text",value:l})),a.on("closetag",l=>u.push({eventType:"closetag",value:l}));for await(let l of o){if(a.write(s(l)),c)throw c;yield u,u=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,e,n){"use strict";let r=t("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,s=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;e.exports={slideFormula:function(o,a,c){let u=r.decode(a),l=r.decode(c);return o.replace(i,(d,f,p,h,y)=>{if(y)return d;let g=s.exec(h);if(g){let _=g[1],x=g[2].toUpperCase(),k=g[3],L=g[4];if(x.length>3||x.length===3&&x>"XFD")return d;let B=r.l2n(x),V=parseInt(L,10);return _||(B+=l.col-u.col),k||(V+=l.row-u.row),(f||"")+(_||"")+r.n2l(B)+(k||"")+V}return d})}}},{"./col-cache":19}],24:[function(t,e,n){(function(r,i){(function(){"use strict";let s=t("readable-stream"),o=t("./utils"),a=t("./string-buf");class c{constructor(h,y){this._data=h,this._encoding=y}get length(){return this.toBuffer().length}copy(h,y,g,_){return this.toBuffer().copy(h,y,g,_)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class u{constructor(h){this._data=h}get length(){return this._data.length}copy(h,y,g,_){return this._data._buf.copy(h,y,g,_)}toBuffer(){return this._data.toBuffer()}}class l{constructor(h){this._data=h}get length(){return this._data.length}copy(h,y,g,_){this._data.copy(h,y,g,_)}toBuffer(){return this._data}}class d{constructor(h){this.size=h,this.buffer=i.alloc(h),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let h=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(h,0,this.iRead,this.iWrite),h}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(h){let y;return h===0?null:h===void 0||h>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=i.alloc(h),this.buffer.copy(y,0,this.iRead,h),this.iRead+=h,y)}write(h,y,g){let _=Math.min(g,this.size-this.iWrite);return h.copy(this.buffer,this.iWrite,y,y+_),this.iWrite+=_,_}}let f=function(p){p=p||{},this.bufSize=p.bufSize||1048576,this.buffers=[],this.batch=p.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};o.inherits(f,s.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(p=>p.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let h=this.buffers[this.buffers.length-1];if(!h.full)return h}let p=new d(this.bufSize);return this.buffers.push(p),p},async _pipe(p){await Promise.all(this.pipes.map(function(h){return new Promise(y=>{h.write(p.toBuffer(),()=>{y()})})}))},_writeToBuffers(p){let h=0,y=p.length;for(;h<y;)h+=this._getWritableBuffer().write(p,h,y-h)},async write(p,h,y){let g;if(h instanceof Function&&(y=h,h="utf8"),y=y||o.nop,p instanceof a)g=new u(p);else if(p instanceof i)g=new l(p);else{if(!(typeof p=="string"||p instanceof String||p instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");g=new c(p,h)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(g);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(g),r.nextTick(y)):(await this._pipe(g),y());else this.paused||this.emit("data",g.toBuffer()),this._writeToBuffers(g),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(p,h,y){let g=_=>{_?y(_):(this._flush(),this.pipes.forEach(x=>{x.end()}),this.emit("finish"))};p?this.write(p,h,g):g()},read(p){let h;if(p){for(h=[];p&&this.buffers.length&&!this.buffers[0].eod;){let y=this.buffers[0],g=y.read(p);p-=g.length,h.push(g),y.eod&&y.full&&this.buffers.shift()}return i.concat(h)}return h=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],i.concat(h)},setEncoding(p){this.encoding=p},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(p){this.pipes.push(p),!this.paused&&this.buffers.length&&this.end()},unpipe(p){this.pipes=this.pipes.filter(h=>h!==p)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),e.exports=f}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,e,n){(function(r){(function(){"use strict";e.exports=class{constructor(i){this._buf=r.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=r.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let s=2*this._buf.length;for(;s<i;)s*=2;let o=r.alloc(s);this._buf.copy(o,0),this._buf=o}addText(i){this._buffer=void 0;let s=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;s>=this._buf.length-4;)this._grow(this._inPos+i.length),s=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=s}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,e,n){"use strict";let{toString:r}=Object.prototype,i=/["&<>]/,s={each:function(o,a){o&&(Array.isArray(o)?o.forEach(a):Object.keys(o).forEach(c=>{a(o[c],c)}))},some:function(o,a){return!!o&&(Array.isArray(o)?o.some(a):Object.keys(o).some(c=>a(o[c],c)))},every:function(o,a){return!o||(Array.isArray(o)?o.every(a):Object.keys(o).every(c=>a(o[c],c)))},map:function(o,a){return o?Array.isArray(o)?o.map(a):Object.keys(o).map(c=>a(o[c],c)):[]},keyBy:(o,a)=>o.reduce((c,u)=>(c[u[a]]=u,c),{}),isEqual:function(o,a){let c=typeof o,u=typeof a,l=Array.isArray(o),d=Array.isArray(a),f;if(c!==u)return!1;switch(typeof o){case"object":if(l||d)return!(!l||!d)&&o.length===a.length&&o.every((p,h)=>{let y=a[h];return s.isEqual(p,y)});if(o===null||a===null)return o===a;if(f=Object.keys(o),Object.keys(a).length!==f.length)return!1;for(let p of f)if(!a.hasOwnProperty(p))return!1;return s.every(o,(p,h)=>{let y=a[h];return s.isEqual(p,y)});default:return o===a}},escapeHtml(o){let a=i.exec(o);if(!a)return o;let c="",u="",l=0,d=a.index;for(;d<o.length;d++){switch(o.charAt(d)){case'"':u="&quot;";break;case"&":u="&amp;";break;case"'":u="&apos;";break;case"<":u="&lt;";break;case">":u="&gt;";break;default:continue}l!==d&&(c+=o.substring(l,d)),l=d+1,c+=u}return l!==d?c+o.substring(l,d):c},strcmp:(o,a)=>o<a?-1:o>a?1:0,isUndefined:o=>r.call(o)==="[object Undefined]",isObject:o=>r.call(o)==="[object Object]",deepMerge(){let o=arguments[0]||{},{length:a}=arguments,c,u,l;function d(f,p){c=o[p],l=Array.isArray(f),s.isObject(f)||l?(l?(l=!1,u=c&&Array.isArray(c)?c:[]):u=c&&s.isObject(c)?c:{},o[p]=s.deepMerge(u,f)):s.isUndefined(f)||(o[p]=f)}for(let f=0;f<a;f++)s.each(arguments[f],d);return o}};e.exports=s},{}],27:[function(t,e,n){(function(r,i){(function(){"use strict";let s=t("fs"),o=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:c=>new Promise(u=>{r.setImmediate?i(()=>{u(c)}):setTimeout(()=>{u(c)},1)}),inherits:function(c,u,l,d){c.super_=u,d||(d=l,l=null),l&&Object.keys(l).forEach(p=>{Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(l,p))});let f={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(p=>{f[p]=Object.getOwnPropertyDescriptor(d,p)}),c.prototype=Object.create(u.prototype,f)},dateToExcel:(c,u)=>25569+c.getTime()/864e5-(u?1462:0),excelToDate(c,u){let l=Math.round(24*(c-25569+(u?1462:0))*3600*1e3);return new Date(l)},parsePath(c){let u=c.lastIndexOf("/");return{path:c.substring(0,u),name:c.substring(u+1)}},getRelsPath(c){let u=a.parsePath(c);return`${u.path}/_rels/${u.name}.rels`},xmlEncode(c){let u=o.exec(c);if(!u)return c;let l="",d="",f=0,p=u.index;for(;p<c.length;p++){let h=c.charCodeAt(p);switch(h){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(h<=31&&(h<=8||h>=11&&h!==13)){d="";break}continue}f!==p&&(l+=c.substring(f,p)),f=p+1,d&&(l+=d)}return f!==p?l+c.substring(f,p):l},xmlDecode:c=>c.replace(/&([a-z]*);/g,u=>{switch(u){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return u}}),validInt(c){let u=parseInt(c,10);return Number.isNaN(u)?0:u},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(u=>{s.access(c,s.constants.F_OK,l=>{u(!l)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};e.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,e,n){"use strict";let r=t("./under-dash"),i=t("./utils");function s(c,u,l){c.push(` ${u}="${i.xmlEncode(l.toString())}"`)}function o(c,u){if(u){let l=[];r.each(u,(d,f)=>{d!==void 0&&s(l,f,d)}),c.push(l.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(u){let l=this._xml;l.push("<?xml"),o(l,u),l.push(`?>
`)}openNode(u,l){let d=this.tos,f=this._xml;d&&this.open&&f.push(">"),this._stack.push(u),f.push("<"),f.push(u),o(f,l),this.leaf=!0,this.open=!0}addAttribute(u,l){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l!==void 0&&s(this._xml,u,l)}addAttributes(u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");o(this._xml,u)}writeText(u){let l=this._xml;this.open&&(l.push(">"),this.open=!1),this.leaf=!1,l.push(i.xmlEncode(u.toString()))}writeXml(u){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(u)}closeNode(){let u=this._stack.pop(),l=this._xml;this.leaf?l.push("/>"):(l.push("</"),l.push(u),l.push(">")),this.open=!1,this.leaf=!1}leafNode(u,l,d){this.openNode(u,l),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let u=this._rollbacks.pop();this._xml.length>u.xml&&this._xml.splice(u.xml,this._xml.length-u.xml),this._stack.length>u.stack&&this._stack.splice(u.stack,this._stack.length-u.stack),this.leaf=u.leaf,this.open=u.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},e.exports=a},{"./under-dash":26,"./utils":27}],29:[function(t,e,n){(function(r){(function(){"use strict";let i=t("events"),s=t("jszip"),o=t("./stream-buf"),{stringToBuffer:a}=t("./browser-buffer-encode");class c extends i.EventEmitter{constructor(l){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},l),this.zip=new s,this.stream=new o}append(l,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,l,{base64:!0}):(r.browser&&typeof l=="string"&&(l=a(l)),this.zip.file(d.name,l))}async finalize(){let l=await this.zip.generateAsync(this.options);this.stream.end(l),this.emit("finish")}read(l){return this.stream.read(l)}setEncoding(l){return this.stream.setEncoding(l)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(l,d){return this.stream.pipe(l,d)}unpipe(l){return this.stream.unpipe(l)}unshift(l){return this.stream.unshift(l)}wrap(l){return this.stream.wrap(l)}}e.exports={ZipWriter:c}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,e,n){"use strict";e.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,e,n){"use strict";e.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,e,n){"use strict";let r=t("../../utils/parse-sax"),i=t("../../utils/xml-stream");class s{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof s?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(let c of a)for(let{eventType:u,value:l}of c)if(u==="opentag")this.parseOpen(l);else if(u==="text")this.parseText(l);else if(u==="closetag"&&!this.parseClose(l.name))return this.model;return this.model}async parseStream(a){return this.parse(r(a))}get xml(){return this.toXml(this.model)}toXml(a){let c=new i;return this.render(c,a),c.xml}static toAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(u)return c}else if(u||a!==c)return a.toString()}static toStringAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,c,u)}static toStringValue(a,c){return a===void 0?c:a}static toBoolAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(u)return c}else if(u||a!==c)return a?"1":"0"}static toBoolValue(a,c){return a===void 0?c:a==="1"}static toIntAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,c,u)}static toIntValue(a,c){return a===void 0?c:parseInt(a,10)}static toFloatAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,c,u)}static toFloatValue(a,c){return a===void 0?c:parseFloat(a)}}e.exports=s},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/col-cache");function s(a){try{return i.decodeEx(a),!0}catch{return!1}}function o(a){let c=[],u=!1,l="";return a.split(",").forEach(d=>{if(!d)return;let f=(d.match(/'/g)||[]).length;if(!f)return void(u?l+=d+",":s(d)&&c.push(d));let p=f%2==0;!u&&p&&s(d)?c.push(d):u&&!p?(u=!1,s(l+d)&&c.push(l+d),l=""):(u=!0,l+=d+",")}),c}e.exports=class extends r{render(a,c){a.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),a.writeText(c.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:o(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform");e.exports=class extends i{render(s,o){s.leafNode("sheet",{sheetId:o.id,name:o.name,state:o.state,"r:id":o.rId})}parseOpen(s){return s.name==="sheet"&&(this.model={name:r.xmlDecode(s.attributes.name),id:parseInt(s.attributes.sheetId,10),state:s.attributes.state,rId:s.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:s.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.leafNode("workbookPr",{date1904:s.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){let o={xWindow:s.x||0,yWindow:s.y||0,windowWidth:s.width||12e3,windowHeight:s.height||24e3,firstSheet:s.firstSheet,activeTab:s.activeTab};s.visibility&&s.visibility!=="visible"&&(o.visibility=s.visibility),i.leafNode("workbookView",o)}parseOpen(i){if(i.name==="workbookView"){let s=this.model={},o=function(c,u,l){let d=u!==void 0?s[c]=u:l;d!==void 0&&(s[c]=d)},a=function(c,u,l){let d=u!==void 0?s[c]=parseInt(u,10):l;d!==void 0&&(s[c]=d)};return a("x",i.attributes.xWindow,0),a("y",i.attributes.yWindow,0),a("width",i.attributes.windowWidth,25e3),a("height",i.attributes.windowHeight,1e4),o("visibility",i.attributes.visibility,"visible"),a("activeTab",i.attributes.activeTab,void 0),a("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("../static-xform"),c=t("../list-xform"),u=t("./defined-name-xform"),l=t("./sheet-xform"),d=t("./workbook-view-xform"),f=t("./workbook-properties-xform"),p=t("./workbook-calc-properties-xform");class h extends o{constructor(){super(),this.map={fileVersion:h.STATIC_XFORMS.fileVersion,workbookPr:new f,bookViews:new c({tag:"bookViews",count:!1,childXform:new d}),sheets:new c({tag:"sheets",count:!1,childXform:new l}),definedNames:new c({tag:"definedNames",count:!1,childXform:new u}),calcPr:new p}}prepare(g){g.sheets=g.worksheets;let _=[],x=0;g.sheets.forEach(k=>{if(k.pageSetup&&k.pageSetup.printArea&&k.pageSetup.printArea.split("&&").forEach(L=>{let B=L.split(":"),V={name:"_xlnm.Print_Area",ranges:[`'${k.name}'!$${B[0]}:$${B[1]}`],localSheetId:x};_.push(V)}),k.pageSetup&&(k.pageSetup.printTitlesRow||k.pageSetup.printTitlesColumn)){let L=[];if(k.pageSetup.printTitlesColumn){let V=k.pageSetup.printTitlesColumn.split(":");L.push(`'${k.name}'!$${V[0]}:$${V[1]}`)}if(k.pageSetup.printTitlesRow){let V=k.pageSetup.printTitlesRow.split(":");L.push(`'${k.name}'!$${V[0]}:$${V[1]}`)}let B={name:"_xlnm.Print_Titles",ranges:L,localSheetId:x};_.push(B)}x++}),_.length&&(g.definedNames=g.definedNames.concat(_)),(g.media||[]).forEach((k,L)=>{k.name=k.type+(L+1)})}render(g,_){g.openXml(s.StdDocAttributes),g.openNode("workbook",h.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(g),this.map.workbookPr.render(g,_.properties),this.map.bookViews.render(g,_.views),this.map.sheets.render(g,_.sheets),this.map.definedNames.render(g,_.definedNames),this.map.calcPr.render(g,_.calcProperties),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"workbook":return!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(g){let _=(g.workbookRels||[]).reduce((V,R)=>(V[R.Id]=R,V),{}),x=[],k,L=0;(g.sheets||[]).forEach(V=>{let R=_[V.rId];R&&(k=g.worksheetHash["xl/"+R.Target.replace(/^(\s|\/xl\/)+/,"")],k&&(k.name=V.name,k.id=V.id,k.state=V.state,x[L++]=k))});let B=[];r.each(g.definedNames,V=>{if(V.name==="_xlnm.Print_Area"){if(k=x[V.localSheetId],k){k.pageSetup||(k.pageSetup={});let R=i.decodeEx(V.ranges[0]);k.pageSetup.printArea=k.pageSetup.printArea?`${k.pageSetup.printArea}&&${R.dimensions}`:R.dimensions}}else if(V.name==="_xlnm.Print_Titles"){if(k=x[V.localSheetId],k){k.pageSetup||(k.pageSetup={});let R=V.ranges.join(","),N=/\$/g,j=/\$\d+:\$\d+/,P=R.match(j);if(P&&P.length){let D=P[0];k.pageSetup.printTitlesRow=D.replace(N,"")}let E=/\$[A-Z]+:\$[A-Z]+/,S=R.match(E);if(S&&S.length){let D=S[0];k.pageSetup.printTitlesColumn=D.replace(N,"")}}}else B.push(V)}),g.definedNames=B,g.media.forEach((V,R)=>{V.index=R})}}h.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},h.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},e.exports=h},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,e,n){"use strict";let r=t("../strings/rich-text-xform"),i=t("../../../utils/utils"),s=t("../base-xform"),o=e.exports=function(a){this.model=a};i.inherits(o,s,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new r),this._richTextXform},render(a,c){c=c||this.model,a.openNode("comment",{ref:c.ref,authorId:0}),a.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(u=>{this.richTextXform.render(a,u)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=ve({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../../../utils/utils"),s=t("../base-xform"),o=t("./comment-xform"),a=e.exports=function(){this.map={comment:new o}};i.inherits(a,s,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,u){u=u||this.model,c.openXml(r.StdDocAttributes),c.openNode("comments",a.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),u.comments.forEach(l=>{this.map.comment.render(c,l)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s,o){(s===o[2]||this.tag==="x:SizeWithCells"&&s===o[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"x:Anchor"}getAnchorRect(i){let s=Math.floor(i.left),o=Math.floor(68*(i.left-s)),a=Math.floor(i.top),c=Math.floor(18*(i.top-a)),u=Math.floor(i.right),l=Math.floor(68*(i.right-u)),d=Math.floor(i.bottom);return[s,o,a,c,u,l,d,Math.floor(18*(i.bottom-d))]}getDefaultRect(i){let s=i.col,o=Math.max(i.row-2,0);return[s,6,o,14,s+2,2,o+4,16]}render(i,s){let o=s.anchor?this.getAnchorRect(s.anchor):this.getDefaultRect(s.refAddress);i.leafNode("x:Anchor",null,o.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./vml-anchor-xform"),s=t("./style/vml-protection-xform"),o=t("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];e.exports=class extends r{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new s({tag:"x:Locked"}),"x:LockText":new s({tag:"x:LockText"}),"x:SizeWithCells":new o({tag:"x:SizeWithCells"}),"x:MoveWithCells":new o({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,u){let{protection:l,editAs:d}=u.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,d,a),this.map["x:SizeWithCells"].render(c,d,a),this.map["x:Anchor"].render(c,u),this.map["x:Locked"].render(c,l.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,l.lockText),c.leafNode("x:Row",null,u.refAddress.row-1),c.leafNode("x:Column",null,u.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),u=Object.keys(c).length;this.model.editAs=a[u],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("./vml-shape-xform");class o extends i{constructor(){super(),this.map={"v:shape":new s}}get tag(){return"xml"}render(c,u){c.openXml(r.StdDocAttributes),c.openNode(this.tag,o.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),u.comments.forEach((l,d)=>{this.map["v:shape"].render(c,l,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,u){c.anchors.forEach(l=>{l.br?this.map["xdr:twoCellAnchor"].reconcile(l,u):this.map["xdr:oneCellAnchor"].reconcile(l,u)})}}o.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},e.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./vml-textbox-xform"),s=t("./vml-client-data-xform");class o extends r{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new s}}get tag(){return"v:shape"}render(c,u,l){c.openNode("v:shape",o.V_SHAPE_ATTRIBUTES(u,l)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,u),this.map["x:ClientData"].render(c,u),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}o.V_SHAPE_ATTRIBUTES=(a,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),e.exports=o},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"v:textbox"}conversionUnit(i,s,o){return`${parseFloat(i)*s.toFixed(2)}${o}`}reverseConversionUnit(i){return(i||"").split(",").map(s=>Number(parseFloat(this.conversionUnit(parseFloat(s),.1,"")).toFixed(2)))}render(i,s){let o={style:"mso-direction-alt:auto"};if(s&&s.note){let{inset:a}=s.note&&s.note.margins;Array.isArray(a)&&(a=a.map(c=>this.conversionUnit(c,10,"mm")).join(",")),a&&(o.inset=a)}i.openNode("v:textbox",o),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,e,n){"use strict";let r=t("./base-xform");e.exports=class extends r{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,s){this.model[i]=s.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,s.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:s.length,baseType:"lpstr"}),s.forEach(o=>{i.leafNode("vt:lpstr",void 0,o.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("../simple/string-xform"),o=t("./app-heading-pairs-xform"),a=t("./app-titles-of-parts-xform");class c extends i{constructor(){super(),this.map={Company:new s({tag:"Company"}),Manager:new s({tag:"Manager"}),HeadingPairs:new o,TitleOfParts:new a}}render(l,d){l.openXml(r.StdDocAttributes),l.openNode("Properties",c.PROPERTY_ATTRIBUTES),l.leafNode("Application",void 0,"Microsoft Excel"),l.leafNode("DocSecurity",void 0,"0"),l.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(l,d.worksheets),this.map.TitleOfParts.render(l,d.worksheets),this.map.Company.render(l,d.company||""),this.map.Manager.render(l,d.manager),l.leafNode("LinksUpToDate",void 0,"false"),l.leafNode("SharedDoc",void 0,"false"),l.leafNode("HyperlinksChanged",void 0,"false"),l.leafNode("AppVersion",void 0,"16.0300"),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Properties":return!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(u){return u.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},e.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform");class s extends i{render(a,c){a.openXml(r.StdDocAttributes),a.openNode("Types",s.PROPERTY_ATTRIBUTES);let u={};(c.media||[]).forEach(l=>{if(l.type==="image"){let d=l.extension;u[d]||(u[d]=!0,a.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(l=>{let d=`/xl/worksheets/sheet${l.id}.xml`;a.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(l=>{a.leafNode("Override",{PartName:"/xl/tables/"+l.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(l=>{a.leafNode("Override",{PartName:`/xl/drawings/${l.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(l=>{let{commentName:d}=l;a.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}s.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("../simple/date-xform"),o=t("../simple/string-xform"),a=t("../simple/integer-xform");class c extends i{constructor(){super(),this.map={"dc:creator":new o({tag:"dc:creator"}),"dc:title":new o({tag:"dc:title"}),"dc:subject":new o({tag:"dc:subject"}),"dc:description":new o({tag:"dc:description"}),"dc:identifier":new o({tag:"dc:identifier"}),"dc:language":new o({tag:"dc:language"}),"cp:keywords":new o({tag:"cp:keywords"}),"cp:category":new o({tag:"cp:category"}),"cp:lastModifiedBy":new o({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new s({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new o({tag:"cp:version"}),"cp:contentStatus":new o({tag:"cp:contentStatus"}),"cp:contentType":new o({tag:"cp:contentType"}),"dcterms:created":new s({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new s({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(l,d){l.openXml(r.StdDocAttributes),l.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(l,d.creator),this.map["dc:title"].render(l,d.title),this.map["dc:subject"].render(l,d.subject),this.map["dc:description"].render(l,d.description),this.map["dc:identifier"].render(l,d.identifier),this.map["dc:language"].render(l,d.language),this.map["cp:keywords"].render(l,d.keywords),this.map["cp:category"].render(l,d.category),this.map["cp:lastModifiedBy"].render(l,d.lastModifiedBy),this.map["cp:lastPrinted"].render(l,d.lastPrinted),this.map["cp:revision"].render(l,d.revision),this.map["cp:version"].render(l,d.version),this.map["cp:contentStatus"].render(l,d.contentStatus),this.map["cp:contentType"].render(l,d.contentType),this.map["dcterms:created"].render(l,d.created),this.map["dcterms:modified"].render(l,d.modified),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}c.DateFormat=function(u){return u.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},e.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.leafNode("Relationship",s)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("./relationship-xform");class o extends i{constructor(){super(),this.map={Relationship:new s}}render(c,u){u=u||this._values,c.openXml(r.StdDocAttributes),c.openNode("Relationships",o.RELATIONSHIPS_ATTRIBUTES),u.forEach(l=>{this.map.Relationship.render(c,l)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}o.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},e.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,s){if(i&&i.rId){let o=s.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(o){let a=o[1],c=s.mediaIndex[a];return s.media[c]}}}}},{"../base-xform":32}],57:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./blip-xform");e.exports=class extends r{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(s,o){s.openNode(this.tag),this.map["a:blip"].render(s,o),s.openNode("a:stretch"),s.leafNode("a:fillRect"),s.closeNode(),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:blip"}render(i,s){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":s.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./hlink-click-xform"),s=t("./ext-lst-xform");e.exports=class extends r{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new s}}get tag(){return"xdr:cNvPr"}render(o,a){o.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(o,a),this.map["a:extLst"].render(o,a),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../simple/integer-xform");e.exports=class extends r{constructor(s){super(),this.tag=s.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(s,o){s.openNode(this.tag),this.map["xdr:col"].render(s,o.nativeCol),this.map["xdr:colOff"].render(s,o.nativeColOff),this.map["xdr:row"].render(s,o.nativeRow),this.map["xdr:rowOff"].render(s,o.nativeRowOff),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../../../utils/xml-stream"),s=t("../base-xform"),o=t("./two-cell-anchor-xform"),a=t("./one-cell-anchor-xform");class c extends s{constructor(){super(),this.map={"xdr:twoCellAnchor":new o,"xdr:oneCellAnchor":new a}}prepare(l){l.anchors.forEach((d,f)=>{d.anchorType=(function(p){return(typeof p.range=="string"?r.decode(p.range):p.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:f})})}get tag(){return"xdr:wsDr"}render(l,d){l.openXml(i.StdDocAttributes),l.openNode(this.tag,c.DRAWING_ATTRIBUTES),d.anchors.forEach(f=>{this.map[f.anchorType].render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,d){l.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},e.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,s){i.openNode(this.tag);let o=Math.floor(9525*s.width),a=Math.floor(9525*s.height);i.addAttribute("cx",o),i.addAttribute("cy",a),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:hlinkClick"}render(i,s){s.hyperlinks&&s.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":s.hyperlinks.rId,tooltip:s.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./c-nv-pr-xform"),s=t("./c-nv-pic-pr-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new s}}get tag(){return"xdr:nvPicPr"}render(o,a){o.openNode(this.tag),this.map["xdr:cNvPr"].render(o,a),this.map["xdr:cNvPicPr"].render(o,a),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,e,n){"use strict";let r=t("./base-cell-anchor-xform"),i=t("../static-xform"),s=t("./cell-position-xform"),o=t("./ext-xform"),a=t("./pic-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:ext":new o({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:ext"].render(c,u.range.ext),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../static-xform"),s=t("./blip-fill-xform"),o=t("./nv-pic-pr-xform"),a=t("./sp-pr");e.exports=class extends r{constructor(){super(),this.map={"xdr:nvPicPr":new o,"xdr:blipFill":new s,"xdr:spPr":new i(a)}}get tag(){return"xdr:pic"}prepare(c,u){c.index=u.index+1}render(c,u){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,u),this.map["xdr:blipFill"].render(c,u),this.map["xdr:spPr"].render(c,u),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,e,n){"use strict";e.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,e,n){"use strict";let r=t("./base-cell-anchor-xform"),i=t("../static-xform"),s=t("./cell-position-xform"),o=t("./pic-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:to":new s({tag:"xdr:to"}),"xdr:pic":new o,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,c){this.map["xdr:pic"].prepare(a.picture,c)}render(a,c){a.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,c.range.tl),this.map["xdr:to"].render(a,c.range.br),this.map["xdr:pic"].render(a,c.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,c){a.medium=this.reconcilePicture(a.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,e,n){"use strict";let r=t("./base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,s){let{childXform:o}=this;i&&i.forEach((a,c)=>{s.index=c,o.prepare(a,s)})}render(i,s){if(this.always||s&&s.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,s&&s.length||0);let{childXform:o}=this;(s||[]).forEach((a,c)=>{o.render(i,a,c)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,s){if(i){let{childXform:o}=this;i.forEach(a=>{o.reconcile(a,s)})}}}},{"./base-xform":32}],72:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../base-xform");e.exports=class extends i{get tag(){return"autoFilter"}render(s,o){if(o)if(typeof o=="string")s.leafNode("autoFilter",{ref:o});else{let a=function(l){return typeof l=="string"?l:r.getAddress(l.row,l.column).address},c=a(o.from),u=a(o.to);c&&u&&s.leafNode("autoFilter",{ref:`${c}:${u}`})}}parseOpen(s){s.name==="autoFilter"&&(this.model=s.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform"),s=t("../../../doc/range"),o=t("../../../doc/enums"),a=t("../strings/rich-text-xform");function c(u){if(u==null)return o.ValueType.Null;if(u instanceof String||typeof u=="string")return o.ValueType.String;if(typeof u=="number")return o.ValueType.Number;if(typeof u=="boolean")return o.ValueType.Boolean;if(u instanceof Date)return o.ValueType.Date;if(u.text&&u.hyperlink)return o.ValueType.Hyperlink;if(u.formula)return o.ValueType.Formula;if(u.error)return o.ValueType.Error;throw new Error("I could not understand type of value")}e.exports=class extends i{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(u,l){let d=l.styles.addStyleModel(u.style||{},(function(f){switch(f.type){case o.ValueType.Formula:return c(f.result);default:return f.type}})(u));switch(d&&(u.styleId=d),u.comment&&l.comments.push(je(ve({},u.comment),{ref:u.address})),u.type){case o.ValueType.String:case o.ValueType.RichText:l.sharedStrings&&(u.ssId=l.sharedStrings.add(u.value));break;case o.ValueType.Date:l.date1904&&(u.date1904=!0);break;case o.ValueType.Hyperlink:l.sharedStrings&&u.text!==void 0&&u.text!==null&&(u.ssId=l.sharedStrings.add(u.text)),l.hyperlinks.push({address:u.address,target:u.hyperlink,tooltip:u.tooltip});break;case o.ValueType.Merge:l.merges.add(u);break;case o.ValueType.Formula:if(l.date1904&&(u.date1904=!0),u.shareType==="shared"&&(u.si=l.siFormulae++),u.formula)l.formulae[u.address]=u;else if(u.sharedFormula){let f=l.formulae[u.sharedFormula];if(!f)throw new Error("Shared Formula master must exist above and or left of clone for cell "+u.address);f.si===void 0?(f.shareType="shared",f.si=l.siFormulae++,f.range=new s(f.address,u.address)):f.range&&f.range.expandToAddress(u.address),u.si=f.si}}}renderFormula(u,l){let d=null;switch(l.shareType){case"shared":d={t:"shared",ref:l.ref||l.range.range,si:l.si};break;case"array":d={t:"array",ref:l.ref};break;default:l.si!==void 0&&(d={t:"shared",si:l.si})}switch(c(l.result)){case o.ValueType.Null:u.leafNode("f",d,l.formula);break;case o.ValueType.String:u.addAttribute("t","str"),u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result);break;case o.ValueType.Number:u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result);break;case o.ValueType.Boolean:u.addAttribute("t","b"),u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result?1:0);break;case o.ValueType.Error:u.addAttribute("t","e"),u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result.error);break;case o.ValueType.Date:u.leafNode("f",d,l.formula),u.leafNode("v",null,r.dateToExcel(l.result,l.date1904));break;default:throw new Error("I could not understand type of value")}}render(u,l){if(l.type!==o.ValueType.Null||l.styleId){switch(u.openNode("c"),u.addAttribute("r",l.address),l.styleId&&u.addAttribute("s",l.styleId),l.type){case o.ValueType.Null:break;case o.ValueType.Number:u.leafNode("v",null,l.value);break;case o.ValueType.Boolean:u.addAttribute("t","b"),u.leafNode("v",null,l.value?"1":"0");break;case o.ValueType.Error:u.addAttribute("t","e"),u.leafNode("v",null,l.value.error);break;case o.ValueType.String:case o.ValueType.RichText:l.ssId!==void 0?(u.addAttribute("t","s"),u.leafNode("v",null,l.ssId)):l.value&&l.value.richText?(u.addAttribute("t","inlineStr"),u.openNode("is"),l.value.richText.forEach(d=>{this.richTextXForm.render(u,d)}),u.closeNode("is")):(u.addAttribute("t","str"),u.leafNode("v",null,l.value));break;case o.ValueType.Date:u.leafNode("v",null,r.dateToExcel(l.value,l.date1904));break;case o.ValueType.Hyperlink:l.ssId!==void 0?(u.addAttribute("t","s"),u.leafNode("v",null,l.ssId)):(u.addAttribute("t","str"),u.leafNode("v",null,l.text));break;case o.ValueType.Formula:this.renderFormula(u,l);break;case o.ValueType.Merge:}u.closeNode()}}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"c":return this.model={address:u.attributes.r},this.t=u.attributes.t,u.attributes.s&&(this.model.styleId=parseInt(u.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=u.attributes.si,this.model.shareType=u.attributes.t,this.model.ref=u.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){if(this.parser)this.parser.parseText(u);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+u:u;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+u:u:this.model.value=this.model.value?this.model.value+u:u}}parseClose(u){switch(u){case"c":{let{model:l}=this;if(l.formula||l.shareType)l.type=o.ValueType.Formula,l.value&&(this.t==="str"?l.result=r.xmlDecode(l.value):this.t==="b"?l.result=parseInt(l.value,10)!==0:this.t==="e"?l.result={error:l.value}:l.result=parseFloat(l.value),l.value=void 0);else if(l.value!==void 0)switch(this.t){case"s":l.type=o.ValueType.String,l.value=parseInt(l.value,10);break;case"str":l.type=o.ValueType.String,l.value=r.xmlDecode(l.value);break;case"inlineStr":l.type=o.ValueType.String;break;case"b":l.type=o.ValueType.Boolean,l.value=parseInt(l.value,10)!==0;break;case"e":l.type=o.ValueType.Error,l.value={error:l.value};break;default:l.type=o.ValueType.Number,l.value=parseFloat(l.value)}else l.styleId?l.type=o.ValueType.Null:l.type=o.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(u),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(u),!0)}}reconcile(u,l){let d=u.styleId&&l.styles&&l.styles.getStyleModel(u.styleId);switch(d&&(u.style=d),u.styleId!==void 0&&(u.styleId=void 0),u.type){case o.ValueType.String:typeof u.value=="number"&&l.sharedStrings&&(u.value=l.sharedStrings.getString(u.value)),u.value.richText&&(u.type=o.ValueType.RichText);break;case o.ValueType.Number:d&&r.isDateFmt(d.numFmt)&&(u.type=o.ValueType.Date,u.value=r.excelToDate(u.value,l.date1904));break;case o.ValueType.Formula:u.result!==void 0&&d&&r.isDateFmt(d.numFmt)&&(u.result=r.excelToDate(u.result,l.date1904)),u.shareType==="shared"&&(u.ref?l.formulae[u.si]=u.address:(u.sharedFormula=l.formulae[u.si],delete u.shareType),delete u.si)}let f=l.hyperlinkMap[u.address];f&&(u.type===o.ValueType.Formula?(u.text=u.result,u.result=void 0):(u.text=u.value,u.value=void 0),u.type=o.ValueType.Hyperlink,u.hyperlink=f);let p=l.commentsMap&&l.commentsMap[u.address];p&&(u.comment=p)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"x14:cfIcon"}render(i,s){i.leafNode(this.tag,{iconSet:s.iconSet,iconId:s.iconId})}parseOpen(i){let{attributes:s}=i;this.model={iconSet:s.iconSet,iconId:r.toIntValue(s.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(t,e,n){"use strict";let{v4:r}=t("uuid"),i=t("../../base-xform"),s=t("../../composite-xform"),o=t("./databar-ext-xform"),a=t("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class u extends s{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new o,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?o.isExt(d):!(d.type!=="iconSet"||!d.custom&&!c[d.iconSet])}prepare(d){u.isExt(d)&&(d.x14Id=`{${r()}}`.toUpperCase())}render(d,f){if(u.isExt(f))switch(f.type){case"dataBar":this.renderDataBar(d,f);break;case"iconSet":this.renderIconSet(d,f)}}renderDataBar(d,f){d.openNode(this.tag,{type:"dataBar",id:f.x14Id}),this.databarXform.render(d,f),d.closeNode()}renderIconSet(d,f){d.openNode(this.tag,{type:"iconSet",priority:f.priority,id:f.x14Id||`{${r()}}`}),this.iconSetXform.render(d,f),d.closeNode()}createNewModel(d){let{attributes:f}=d;return{type:f.type,x14Id:f.id,priority:i.toIntValue(f.priority)}}onParserClose(d,f){Object.assign(this.model,f.model)}}e.exports=u},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./f-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(s,o){s.openNode(this.tag,{type:o.type}),o.value!==void 0&&this.fExtXform.render(s,o.value),s.closeNode()}createNewModel(s){return{type:s.attributes.type}}onParserClose(s,o){switch(s){case"xm:f":this.model.value=o.model?parseFloat(o.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./sqref-ext-xform"),s=t("./cf-rule-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new s}}get tag(){return"x14:conditionalFormatting"}prepare(o,a){o.rules.forEach(c=>{this.cfRule.prepare(c,a)})}render(o,a){a.rules.some(s.isExt)&&(o.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(s.isExt).forEach(c=>this.cfRule.render(o,c)),this.sqRef.render(o,a.ref),o.closeNode())}createNewModel(){return{rules:[]}}onParserClose(o,a){switch(o){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./cf-rule-ext-xform"),s=t("./conditional-formatting-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new s}}get tag(){return"x14:conditionalFormattings"}hasContent(o){return o.hasExtContent===void 0&&(o.hasExtContent=o.some(a=>a.rules.some(i.isExt))),o.hasExtContent}prepare(o,a){o.forEach(c=>{this.cfXform.prepare(c,a)})}render(o,a){this.hasContent(a)&&(o.openNode(this.tag),a.forEach(c=>this.cfXform.render(o,c)),o.closeNode())}createNewModel(){return[]}onParserClose(o,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("../../style/color-xform"),o=t("./cfvo-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:borderColor":this.borderColorXform=new s("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new s("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new s("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new s("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,c){a.openNode(this.tag,{minLength:r.toIntAttribute(c.minLength,0,!0),maxLength:r.toIntAttribute(c.maxLength,100,!0),border:r.toBoolAttribute(c.border,!1),gradient:r.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:r.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toAttribute(c.axisPosition,"auto"),direction:r.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),this.borderColorXform.render(a,c.borderColor),this.negativeBorderColorXform.render(a,c.negativeBorderColor),this.negativeFillColorXform.render(a,c.negativeFillColor),this.axisColorXform.render(a,c.axisColor),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],minLength:r.toIntValue(c.minLength,0),maxLength:r.toIntValue(c.maxLength,100),border:r.toBoolValue(c.border,!1),gradient:r.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:r.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toStringValue(c.axisPosition,"auto"),direction:r.toStringValue(c.direction,"leftToRight")}}onParserClose(a,c){let[,u]=a.split(":");switch(u){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[u]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"xm:f"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("./cfvo-ext-xform"),o=t("./cf-icon-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:cfIcon":this.cfIconXform=new o}}get tag(){return"x14:iconSet"}render(a,c){a.openNode(this.tag,{iconSet:r.toStringAttribute(c.iconSet),reverse:r.toBoolAttribute(c.reverse,!1),showValue:r.toBoolAttribute(c.showValue,!0),custom:r.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),c.icons&&c.icons.forEach((u,l)=>{u.iconId=l,this.cfIconXform.render(a,u)}),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],iconSet:r.toStringValue(c.iconSet,"3TrafficLights"),reverse:r.toBoolValue(c.reverse,!1),showValue:r.toBoolValue(c.showValue,!0)}}onParserClose(a,c){let[,u]=a.split(":");switch(u){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[u]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"xm:sqref"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("../../../../doc/range"),o=t("./databar-xform"),a=t("./ext-lst-ref-xform"),c=t("./formula-xform"),u=t("./color-scale-xform"),l=t("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},f=h=>{let{type:y,operator:g}=h;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:g}}};class p extends i{constructor(){super(),this.map={dataBar:this.databarXform=new o,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new u,iconSet:this.iconSetXform=new l}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!d[y.iconSet]}render(y,g){switch(g.type){case"expression":this.renderExpression(y,g);break;case"cellIs":this.renderCellIs(y,g);break;case"top10":this.renderTop10(y,g);break;case"aboveAverage":this.renderAboveAverage(y,g);break;case"dataBar":this.renderDataBar(y,g);break;case"colorScale":this.renderColorScale(y,g);break;case"iconSet":this.renderIconSet(y,g);break;case"containsText":this.renderText(y,g);break;case"timePeriod":this.renderTimePeriod(y,g)}}renderExpression(y,g){y.openNode(this.tag,{type:"expression",dxfId:g.dxfId,priority:g.priority}),this.formulaXform.render(y,g.formulae[0]),y.closeNode()}renderCellIs(y,g){y.openNode(this.tag,{type:"cellIs",dxfId:g.dxfId,priority:g.priority,operator:g.operator}),g.formulae.forEach(_=>{this.formulaXform.render(y,_)}),y.closeNode()}renderTop10(y,g){y.leafNode(this.tag,{type:"top10",dxfId:g.dxfId,priority:g.priority,percent:r.toBoolAttribute(g.percent,!1),bottom:r.toBoolAttribute(g.bottom,!1),rank:r.toIntValue(g.rank,10,!0)})}renderAboveAverage(y,g){y.leafNode(this.tag,{type:"aboveAverage",dxfId:g.dxfId,priority:g.priority,aboveAverage:r.toBoolAttribute(g.aboveAverage,!0)})}renderDataBar(y,g){y.openNode(this.tag,{type:"dataBar",priority:g.priority}),this.databarXform.render(y,g),this.extLstRefXform.render(y,g),y.closeNode()}renderColorScale(y,g){y.openNode(this.tag,{type:"colorScale",priority:g.priority}),this.colorScaleXform.render(y,g),y.closeNode()}renderIconSet(y,g){p.isPrimitive(g)&&(y.openNode(this.tag,{type:"iconSet",priority:g.priority}),this.iconSetXform.render(y,g),y.closeNode())}renderText(y,g){y.openNode(this.tag,{type:g.operator,dxfId:g.dxfId,priority:g.priority,operator:r.toStringAttribute(g.operator,"containsText")});let _=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let k=new s(x.ref),{tl:L}=k;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${L})))`;case"containsBlanks":return`LEN(TRIM(${L}))=0`;case"notContainsBlanks":return`LEN(TRIM(${L}))>0`;case"containsErrors":return`ISERROR(${L})`;case"notContainsErrors":return`NOT(ISERROR(${L}))`;default:return}})(g);_&&this.formulaXform.render(y,_),y.closeNode()}renderTimePeriod(y,g){y.openNode(this.tag,{type:"timePeriod",dxfId:g.dxfId,priority:g.priority,timePeriod:g.timePeriod});let _=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let k=new s(x.ref),{tl:L}=k;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${L},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${L},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${L},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${L},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${L},1)=TODAY()-1`;case"today":return`FLOOR(${L},1)=TODAY()`;case"tomorrow":return`FLOOR(${L},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${L},1)<=6,FLOOR(${L},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0-1)),YEAR(${L})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${L})=MONTH(TODAY()),YEAR(${L})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0+1)),YEAR(${L})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(g);_&&this.formulaXform.render(y,_),y.closeNode()}createNewModel(y){let{attributes:g}=y;return je(ve({},f(g)),{dxfId:r.toIntValue(g.dxfId),priority:r.toIntValue(g.priority),timePeriod:g.timePeriod,percent:r.toBoolValue(g.percent),bottom:r.toBoolValue(g.bottom),rank:r.toIntValue(g.rank),aboveAverage:r.toBoolValue(g.aboveAverage)})}onParserClose(y,g){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,g.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(g.model)}}}e.exports=p},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"cfvo"}render(i,s){i.leafNode(this.tag,{type:s.type,val:s.value})}parseOpen(i){this.model={type:i.attributes.type,value:r.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("../../style/color-xform"),s=t("./cfvo-xform");e.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"colorScale"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(o,c)}),a.color.forEach(c=>{this.colorXform.render(o,c)}),o.closeNode()}createNewModel(o){return{cfvo:[],color:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./cf-rule-xform");e.exports=class extends r{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(s,o){o.rules.some(i.isPrimitive)&&(s.openNode(this.tag,{sqref:o.ref}),o.rules.forEach(a=>{i.isPrimitive(a)&&(a.ref=o.ref,this.map.cfRule.render(s,a))}),s.closeNode())}createNewModel(s){let{attributes:o}=s;return{ref:o.sqref,rules:[]}}onParserClose(s,o){this.model.rules.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("./conditional-formatting-xform");e.exports=class extends r{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(s,o){let a=s.reduce((c,u)=>Math.max(c,...u.rules.map(l=>l.priority||0)),1);s.forEach(c=>{c.rules.forEach(u=>{u.priority||(u.priority=a++),u.style&&(u.dxfId=o.styles.addDxfStyle(u.style))})})}render(s,o){o.forEach(a=>{this.cfXform.render(s,a)})}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return!!this.parser&&(!!this.parser.parseClose(s)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(s,o){s.forEach(a=>{a.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=o.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("../../style/color-xform"),s=t("./cfvo-xform");e.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"dataBar"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(o,c)}),this.colorXform.render(o,a.color),o.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(o,a){switch(o){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform");class s extends r{get tag(){return"x14:id"}render(c,u){c.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class o extends i{constructor(){super(),this.map={"x14:id":this.idXform=new s}}get tag(){return"ext"}render(c,u){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,u.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model.x14Id=u.model}}e.exports=class extends i{constructor(){super(),this.map={ext:new o}}get tag(){return"extLst"}render(a,c){a.openNode(this.tag),this.map.ext.render(a,c),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"formula"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("./cfvo-xform");e.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new s}}get tag(){return"iconSet"}render(o,a){o.openNode(this.tag,{iconSet:r.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:r.toBoolAttribute(a.reverse,!1),showValue:r.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(c=>{this.cfvoXform.render(o,c)}),o.closeNode()}createNewModel(o){let{attributes:a}=o;return{iconSet:r.toStringValue(a.iconSet,"3TrafficLights"),reverse:r.toBoolValue(a.reverse),showValue:r.toBoolValue(a.showValue),cfvo:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform");e.exports=class extends i{get tag(){return"col"}prepare(s,o){let a=o.styles.addStyleModel(s.style||{});a&&(s.styleId=a)}render(s,o){s.openNode("col"),s.addAttribute("min",o.min),s.addAttribute("max",o.max),o.width&&s.addAttribute("width",o.width),o.styleId&&s.addAttribute("style",o.styleId),o.hidden&&s.addAttribute("hidden","1"),o.bestFit&&s.addAttribute("bestFit","1"),o.outlineLevel&&s.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&s.addAttribute("collapsed","1"),s.addAttribute("customWidth","1"),s.closeNode()}parseOpen(s){if(s.name==="col"){let o=this.model={min:parseInt(s.attributes.min||"0",10),max:parseInt(s.attributes.max||"0",10),width:s.attributes.width===void 0?void 0:parseFloat(s.attributes.width||"0")};return s.attributes.style&&(o.styleId=parseInt(s.attributes.style,10)),r.parseBoolean(s.attributes.hidden)&&(o.hidden=!0),r.parseBoolean(s.attributes.bestFit)&&(o.bestFit=!0),s.attributes.outlineLevel&&(o.outlineLevel=parseInt(s.attributes.outlineLevel,10)),r.parseBoolean(s.attributes.collapsed)&&(o.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(s,o){s.styleId&&(s.style=o.styles.getStyleModel(s.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/utils"),s=t("../../../utils/col-cache"),o=t("../base-xform"),a=t("../../../doc/range");function c(l,d,f,p){let h=d[f];h!==void 0?l[f]=h:p!==void 0&&(l[f]=p)}function u(l,d,f,p){let h=d[f];h!==void 0?l[f]=i.parseBoolean(h):p!==void 0&&(l[f]=p)}e.exports=class extends o{get tag(){return"dataValidations"}render(l,d){let f=(function(p){let h=r.map(p,(_,x)=>({address:x,dataValidation:_,marked:!1})).sort((_,x)=>r.strcmp(_.address,x.address)),y=r.keyBy(h,"address"),g=(_,x,k)=>{for(let L=0;L<x;L++){let B=s.encodeAddress(_.row+L,k);if(!p[B]||!r.isEqual(p[_.address],p[B]))return!1}return!0};return h.map(_=>{if(!_.marked){let x=s.decodeEx(_.address);if(x.dimensions)return y[x.dimensions].marked=!0,je(ve({},_.dataValidation),{sqref:_.address});let k=1,L=s.encodeAddress(x.row+k,x.col);for(;p[L]&&r.isEqual(_.dataValidation,p[L]);)k++,L=s.encodeAddress(x.row+k,x.col);let B=1;for(;g(x,k,x.col+B);)B++;for(let V=0;V<k;V++)for(let R=0;R<B;R++)L=s.encodeAddress(x.row+V,x.col+R),y[L].marked=!0;if(k>1||B>1){let V=x.row+(k-1),R=x.col+(B-1);return je(ve({},_.dataValidation),{sqref:`${_.address}:${s.encodeAddress(V,R)}`})}return je(ve({},_.dataValidation),{sqref:_.address})}return null}).filter(Boolean)})(d);f.length&&(l.openNode("dataValidations",{count:f.length}),f.forEach(p=>{l.openNode("dataValidation"),p.type!=="any"&&(l.addAttribute("type",p.type),p.operator&&p.type!=="list"&&p.operator!=="between"&&l.addAttribute("operator",p.operator),p.allowBlank&&l.addAttribute("allowBlank","1")),p.showInputMessage&&l.addAttribute("showInputMessage","1"),p.promptTitle&&l.addAttribute("promptTitle",p.promptTitle),p.prompt&&l.addAttribute("prompt",p.prompt),p.showErrorMessage&&l.addAttribute("showErrorMessage","1"),p.errorStyle&&l.addAttribute("errorStyle",p.errorStyle),p.errorTitle&&l.addAttribute("errorTitle",p.errorTitle),p.error&&l.addAttribute("error",p.error),l.addAttribute("sqref",p.sqref),(p.formulae||[]).forEach((h,y)=>{l.openNode("formula"+(y+1)),p.type==="date"?l.writeText(i.dateToExcel(new Date(h))):l.writeText(h),l.closeNode()}),l.closeNode()}),l.closeNode())}parseOpen(l){switch(l.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=l.attributes.sqref;let d={type:l.attributes.type||"any",formulae:[]};switch(l.attributes.type&&u(d,l.attributes,"allowBlank"),u(d,l.attributes,"showInputMessage"),u(d,l.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:c(d,l.attributes,"operator","between")}return c(d,l.attributes,"promptTitle"),c(d,l.attributes,"prompt"),c(d,l.attributes,"errorStyle"),c(d,l.attributes,"errorTitle"),c(d,l.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(l){this._formula&&this._formula.push(l)}parseClose(l){switch(l){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new a(d).forEachAddress(f=>{this.model[f]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=i.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"dimension"}render(i,s){s&&i.leafNode("dimension",{ref:s})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"drawing"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,e,n){"use strict";let r=t("../composite-xform"),i=t("./cf-ext/conditional-formattings-ext-xform");class s extends r{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,c){this.conditionalFormattings.prepare(a.conditionalFormattings,c)}render(a,c){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,c.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){this.model[a]=c.model}}e.exports=class extends r{constructor(){super(),this.map={ext:this.ext=new s}}get tag(){return"extLst"}prepare(o,a){this.ext.prepare(o,a)}hasContent(o){return this.ext.hasContent(o)}render(o,a){this.hasContent(a)&&(o.openNode("extLst"),this.ext.render(o,a),o.closeNode())}createNewModel(){return{}}onParserClose(o,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"headerFooter"}render(i,s){if(s){i.addRollback();let o=!1;i.openNode("headerFooter"),s.differentFirst&&(i.addAttribute("differentFirst","1"),o=!0),s.differentOddEven&&(i.addAttribute("differentOddEven","1"),o=!0),s.oddHeader&&typeof s.oddHeader=="string"&&(i.leafNode("oddHeader",null,s.oddHeader),o=!0),s.oddFooter&&typeof s.oddFooter=="string"&&(i.leafNode("oddFooter",null,s.oddFooter),o=!0),s.evenHeader&&typeof s.evenHeader=="string"&&(i.leafNode("evenHeader",null,s.evenHeader),o=!0),s.evenFooter&&typeof s.evenFooter=="string"&&(i.leafNode("evenFooter",null,s.evenFooter),o=!0),s.firstHeader&&typeof s.firstHeader=="string"&&(i.leafNode("firstHeader",null,s.firstHeader),o=!0),s.firstFooter&&typeof s.firstFooter=="string"&&(i.leafNode("firstFooter",null,s.firstFooter),o=!0),o?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"hyperlink"}render(i,s){this.isInternalLink(s)?i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip,location:s.target}):i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"mergeCell"}render(i,s){i.leafNode("mergeCell",{ref:s})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../doc/range"),s=t("../../../utils/col-cache"),o=t("../../../doc/enums");e.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let c=`${a.master}:${a.address}`;this.merges[a.master]=new i(c)}}get mergeCells(){return r.map(this.merges,a=>a.range)}reconcile(a,c){r.each(a,u=>{let l=s.decode(u);for(let d=l.top;d<=l.bottom;d++){let f=c[d-1];for(let p=l.left;p<=l.right;p++){let h=f.cells[p-1];h?h.type===o.ValueType.Merge&&(h.master=l.tl):f.cells[p]={type:o.ValueType.Null,address:s.encodeAddress(d,p)}}}})}getMasterAddress(a){let c=this.hash[a];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,e,n){"use strict";let r=t("../base-xform"),i=s=>s!==void 0;e.exports=class extends r{get tag(){return"outlinePr"}render(s,o){return!(!o||!i(o.summaryBelow)&&!i(o.summaryRight))&&(s.leafNode(this.tag,{summaryBelow:i(o.summaryBelow)?Number(o.summaryBelow):void 0,summaryRight:i(o.summaryRight)?Number(o.summaryRight):void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={summaryBelow:i(s.attributes.summaryBelow)?!!Number(s.attributes.summaryBelow):void 0,summaryRight:i(s.attributes.summaryRight)?!!Number(s.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"brk"}render(i,s){i.leafNode("brk",s)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");e.exports=class extends i{get tag(){return"pageMargins"}render(s,o){if(o){let a={left:o.left,right:o.right,top:o.top,bottom:o.bottom,header:o.header,footer:o.footer};r.some(a,c=>c!==void 0)&&s.leafNode(this.tag,a)}}parseOpen(s){switch(s.name){case this.tag:return this.model={left:parseFloat(s.attributes.left||.7),right:parseFloat(s.attributes.right||.7),top:parseFloat(s.attributes.top||.75),bottom:parseFloat(s.attributes.bottom||.75),header:parseFloat(s.attributes.header||.3),footer:parseFloat(s.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"pageSetUpPr"}render(i,s){return!(!s||!s.fitToPage)&&(i.leafNode(this.tag,{fitToPage:s.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function s(u){return u?"1":void 0}function o(u){switch(u){case"overThenDown":return u;default:return}}function a(u){switch(u){case"atEnd":case"asDisplyed":return u;default:return}}function c(u){switch(u){case"dash":case"blank":case"NA":return u;default:return}}e.exports=class extends i{get tag(){return"pageSetup"}render(u,l){if(l){let d={paperSize:l.paperSize,orientation:l.orientation,horizontalDpi:l.horizontalDpi,verticalDpi:l.verticalDpi,pageOrder:o(l.pageOrder),blackAndWhite:s(l.blackAndWhite),draft:s(l.draft),cellComments:a(l.cellComments),errors:c(l.errors),scale:l.scale,fitToWidth:l.fitToWidth,fitToHeight:l.fitToHeight,firstPageNumber:l.firstPageNumber,useFirstPageNumber:s(l.firstPageNumber),usePrinterDefaults:s(l.usePrinterDefaults),copies:l.copies};r.some(d,f=>f!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={paperSize:(l=u.attributes.paperSize,l!==void 0?parseInt(l,10):void 0),orientation:u.attributes.orientation||"portrait",horizontalDpi:parseInt(u.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(u.attributes.verticalDpi||"4294967295",10),pageOrder:u.attributes.pageOrder||"downThenOver",blackAndWhite:u.attributes.blackAndWhite==="1",draft:u.attributes.draft==="1",cellComments:u.attributes.cellComments||"None",errors:u.attributes.errors||"displayed",scale:parseInt(u.attributes.scale||"100",10),fitToWidth:parseInt(u.attributes.fitToWidth||"1",10),fitToHeight:parseInt(u.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(u.attributes.firstPageNumber||"1",10),useFirstPageNumber:u.attributes.useFirstPageNumber==="1",usePrinterDefaults:u.attributes.usePrinterDefaults==="1",copies:parseInt(u.attributes.copies||"1",10)},!0;default:return!1}var l}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"picture"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function s(o){return o?"1":void 0}e.exports=class extends i{get tag(){return"printOptions"}render(o,a){if(a){let c={headings:s(a.showRowColHeaders),gridLines:s(a.showGridLines),horizontalCentered:s(a.horizontalCentered),verticalCentered:s(a.verticalCentered)};r.some(c,u=>u!==void 0)&&o.leafNode(this.tag,c)}}parseOpen(o){switch(o.name){case this.tag:return this.model={showRowColHeaders:o.attributes.headings==="1",showGridLines:o.attributes.gridLines==="1",horizontalCentered:o.attributes.horizontalCentered==="1",verticalCentered:o.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,e,n){"use strict";let r=t("./page-breaks-xform"),i=t("../list-xform");e.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new r})}render(s,o){if(o&&o.length){s.openNode(this.tag,this.$),this.count&&(s.addAttribute(this.$count,o.length),s.addAttribute("manualBreakCount",o.length));let{childXform:a}=this;o.forEach(c=>{a.render(s,c)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/utils"),s=t("./cell-xform");e.exports=class extends r{constructor(o){super(),this.maxItems=o&&o.maxItems,this.map={c:new s}}get tag(){return"row"}prepare(o,a){let c=a.styles.addStyleModel(o.style);c&&(o.styleId=c);let u=this.map.c;o.cells.forEach(l=>{u.prepare(l,a)})}render(o,a,c){o.openNode("row"),o.addAttribute("r",a.number),a.height&&(o.addAttribute("ht",a.height),o.addAttribute("customHeight","1")),a.hidden&&o.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&o.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(o.addAttribute("s",a.styleId),o.addAttribute("customFormat","1")),o.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&o.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&o.addAttribute("collapsed","1");let u=this.map.c;a.cells.forEach(l=>{u.render(o,l,c)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;if(o.name==="row"){this.numRowsSeen+=1;let a=o.attributes.spans?o.attributes.spans.split(":").map(u=>parseInt(u,10)):[void 0,void 0],c=this.model={number:parseInt(o.attributes.r,10),min:a[0],max:a[1],cells:[]};return o.attributes.s&&(c.styleId=parseInt(o.attributes.s,10)),i.parseBoolean(o.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(c.bestFit=!0),o.attributes.ht&&(c.height=parseFloat(o.attributes.ht)),o.attributes.outlineLevel&&(c.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(o,a){o.style=o.styleId?a.styles.getStyleModel(o.styleId):{},o.styleId!==void 0&&(o.styleId=void 0);let c=this.map.c;o.cells.forEach(u=>{c.reconcile(u,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");e.exports=class extends i{get tag(){return"sheetFormatPr"}render(s,o){if(o){let a={defaultRowHeight:o.defaultRowHeight,outlineLevelRow:o.outlineLevelRow,outlineLevelCol:o.outlineLevelCol,"x14ac:dyDescent":o.dyDescent};o.defaultColWidth&&(a.defaultColWidth=o.defaultColWidth),o.defaultRowHeight&&o.defaultRowHeight===15||(a.customHeight="1"),r.some(a,c=>c!==void 0)&&s.leafNode("sheetFormatPr",a)}}parseOpen(s){return s.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(s.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(s.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(s.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(s.attributes.outlineLevelCol||"0",10)},s.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(s.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../style/color-xform"),s=t("./page-setup-properties-xform"),o=t("./outline-properties-xform");e.exports=class extends r{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new s,outlinePr:new o}}get tag(){return"sheetPr"}render(a,c){if(c){a.addRollback(),a.openNode("sheetPr");let u=!1;u=this.map.tabColor.render(a,c.tabColor)||u,u=this.map.pageSetUpPr.render(a,c.pageSetup)||u,u=this.map.outlinePr.render(a,c.outlineProperties)||u,u?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function s(a,c){return a?c:void 0}function o(a,c){return a===c||void 0}e.exports=class extends i{get tag(){return"sheetProtection"}render(a,c){if(c){let u={sheet:s(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:s(c.formatCells,"0"),formatColumns:s(c.formatColumns,"0"),formatRows:s(c.formatRows,"0"),insertColumns:s(c.insertColumns,"0"),insertRows:s(c.insertRows,"0"),insertHyperlinks:s(c.insertHyperlinks,"0"),deleteColumns:s(c.deleteColumns,"0"),deleteRows:s(c.deleteRows,"0"),sort:s(c.sort,"0"),autoFilter:s(c.autoFilter,"0"),pivotTables:s(c.pivotTables,"0")};c.sheet&&(u.algorithmName=c.algorithmName,u.hashValue=c.hashValue,u.saltValue=c.saltValue,u.spinCount=c.spinCount,u.objects=s(c.objects===!1,"1"),u.scenarios=s(c.scenarios===!1,"1")),r.some(u,l=>l!==void 0)&&a.leafNode(this.tag,u)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:o(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:o(a.attributes.formatCells,"0"),formatColumns:o(a.attributes.formatColumns,"0"),formatRows:o(a.attributes.formatRows,"0"),insertColumns:o(a.attributes.insertColumns,"0"),insertRows:o(a.attributes.insertRows,"0"),insertHyperlinks:o(a.attributes.insertHyperlinks,"0"),deleteColumns:o(a.attributes.deleteColumns,"0"),deleteRows:o(a.attributes.deleteRows,"0"),sort:o(a.attributes.sort,"0"),autoFilter:o(a.attributes.autoFilter,"0"),pivotTables:o(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../base-xform"),s={frozen:"frozen",frozenSplit:"frozen",split:"split"};e.exports=class extends i{get tag(){return"sheetView"}prepare(o){switch(o.state){case"frozen":case"split":break;default:o.state="normal"}}render(o,a){o.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let c=function(p,h,y){y&&o.addAttribute(p,h)},u,l,d,f;switch(c("rightToLeft","1",a.rightToLeft===!0),c("tabSelected","1",a.tabSelected),c("showRuler","0",a.showRuler===!1),c("showRowColHeaders","0",a.showRowColHeaders===!1),c("showGridLines","0",a.showGridLines===!1),c("zoomScale",a.zoomScale,a.zoomScale),c("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),c("view",a.style,a.style),a.state){case"frozen":l=a.xSplit||0,d=a.ySplit||0,u=a.topLeftCell||r.getAddress(d+1,l+1).address,f=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:u,activePane:f,state:"frozen"}),o.leafNode("selection",{pane:f,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),o.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&o.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}o.closeNode()}parseOpen(o){switch(o.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(o.attributes.workbookViewId,10),rightToLeft:o.attributes.rightToLeft==="1",tabSelected:o.attributes.tabSelected==="1",showRuler:o.attributes.showRuler!=="0",showRowColHeaders:o.attributes.showRowColHeaders!=="0",showGridLines:o.attributes.showGridLines!=="0",zoomScale:parseInt(o.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(o.attributes.zoomScaleNormal||"100",10),style:o.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(o.attributes.xSplit||"0",10),ySplit:parseInt(o.attributes.ySplit||"0",10),topLeftCell:o.attributes.topLeftCell,activePane:o.attributes.activePane||"topLeft",state:o.attributes.state},!0;case"selection":{let a=o.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:o.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(o){let a,c;switch(o){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:s[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tablePart"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),o=t("../../rel-type"),a=t("./merges"),c=t("../base-xform"),u=t("../list-xform"),l=t("./row-xform"),d=t("./col-xform"),f=t("./dimension-xform"),p=t("./hyperlink-xform"),h=t("./merge-cell-xform"),y=t("./data-validations-xform"),g=t("./sheet-properties-xform"),_=t("./sheet-format-properties-xform"),x=t("./sheet-view-xform"),k=t("./sheet-protection-xform"),L=t("./page-margins-xform"),B=t("./page-setup-xform"),V=t("./print-options-xform"),R=t("./auto-filter-xform"),N=t("./picture-xform"),j=t("./drawing-xform"),P=t("./table-part-xform"),E=t("./row-breaks-xform"),S=t("./header-footer-xform"),D=t("./cf/conditional-formattings-xform"),m=t("./ext-lst-xform"),v=(b,C)=>{if(!C||!C.length)return b;if(!b||!b.length)return C;let I={},F={};return b.forEach($=>{I[$.ref]=$,$.rules.forEach(z=>{let{x14Id:Y}=z;Y&&(F[Y]=z)})}),C.forEach($=>{$.rules.forEach(z=>{let Y=F[z.x14Id];Y?((O,W)=>{Object.keys(W).forEach(M=>{let A=O[M],U=W[M];A===void 0&&U!==void 0&&(O[M]=U)})})(Y,z):I[$.ref]?I[$.ref].rules.push(z):b.push({ref:$.ref,rules:[z]})})}),b};class w extends c{constructor(C){super();let{maxRows:I,maxCols:F,ignoreNodes:$}=C||{};this.ignoreNodes=$||[],this.map={sheetPr:new g,dimension:new f,sheetViews:new u({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new _,cols:new u({tag:"cols",count:!1,childXform:new d}),sheetData:new u({tag:"sheetData",count:!1,empty:!0,childXform:new l({maxItems:F}),maxItems:I}),autoFilter:new R,mergeCells:new u({tag:"mergeCells",count:!0,childXform:new h}),rowBreaks:new E,hyperlinks:new u({tag:"hyperlinks",count:!1,childXform:new p}),pageMargins:new L,dataValidations:new y,pageSetup:new B,headerFooter:new S,printOptions:new V,picture:new N,drawing:new j,sheetProtection:new k,tableParts:new u({tag:"tableParts",count:!0,childXform:new P}),conditionalFormatting:new D,extLst:new m}}prepare(C,I){I.merges=new a,C.hyperlinks=I.hyperlinks=[],C.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(C.cols,I),this.map.sheetData.prepare(C.rows,I),this.map.conditionalFormatting.prepare(C.conditionalFormattings,I),C.mergeCells=I.merges.mergeCells;let F=C.rels=[];function $(O){return"rId"+(O.length+1)}if(C.hyperlinks.forEach(O=>{let W=$(F);O.rId=W,F.push({Id:W,Type:o.Hyperlink,Target:O.target,TargetMode:"External"})}),C.comments.length>0){let O={Id:$(F),Type:o.Comments,Target:`../comments${C.id}.xml`};F.push(O);let W={Id:$(F),Type:o.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};F.push(W),C.comments.forEach(M=>{M.refAddress=i.decodeAddress(M.ref)}),I.commentRefs.push({commentName:"comments"+C.id,vmlDrawing:"vmlDrawing"+C.id})}let z=[],Y;C.media.forEach(O=>{if(O.type==="background"){let W=$(F);Y=I.media[O.imageId],F.push({Id:W,Type:o.Image,Target:`../media/${Y.name}.${Y.extension}`}),C.background={rId:W},C.image=I.media[O.imageId]}else if(O.type==="image"){let{drawing:W}=C;Y=I.media[O.imageId],W||(W=C.drawing={rId:$(F),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(W),F.push({Id:W.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${W.name}.xml`}));let M=this.preImageId===O.imageId?z[O.imageId]:z[W.rels.length];M||(M=$(W.rels),z[W.rels.length]=M,W.rels.push({Id:M,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));let A={picture:{rId:M},range:O.range};if(O.hyperlinks&&O.hyperlinks.hyperlink){let U=$(W.rels);z[W.rels.length]=U,A.picture.hyperlinks={tooltip:O.hyperlinks.tooltip,rId:U},W.rels.push({Id:U,Type:o.Hyperlink,Target:O.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=O.imageId,W.anchors.push(A)}}),C.tables.forEach(O=>{let W=$(F);O.rId=W,F.push({Id:W,Type:o.Table,Target:"../tables/"+O.target}),O.columns.forEach(M=>{let{style:A}=M;A&&(M.dxfId=I.styles.addDxfStyle(A))})}),this.map.extLst.prepare(C,I)}render(C,I){C.openXml(s.StdDocAttributes),C.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);let F=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(F.defaultColWidth=I.properties.defaultColWidth);let $={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},z=I.pageSetup&&I.pageSetup.margins,Y={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},O=I.sheetProtection;this.map.sheetPr.render(C,$),this.map.dimension.render(C,I.dimensions),this.map.sheetViews.render(C,I.views),this.map.sheetFormatPr.render(C,F),this.map.cols.render(C,I.cols),this.map.sheetData.render(C,I.rows),this.map.sheetProtection.render(C,O),this.map.autoFilter.render(C,I.autoFilter),this.map.mergeCells.render(C,I.mergeCells),this.map.conditionalFormatting.render(C,I.conditionalFormattings),this.map.dataValidations.render(C,I.dataValidations),this.map.hyperlinks.render(C,I.hyperlinks),this.map.printOptions.render(C,Y),this.map.pageMargins.render(C,z),this.map.pageSetup.render(C,I.pageSetup),this.map.headerFooter.render(C,I.headerFooter),this.map.rowBreaks.render(C,I.rowBreaks),this.map.drawing.render(C,I.drawing),this.map.picture.render(C,I.background),this.map.tableParts.render(C,I.tables),this.map.extLst.render(C,I),I.rels&&I.rels.forEach(W=>{W.Type===o.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":W.Id})}),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name==="worksheet"?(r.each(this.map,I=>{I.reset()}),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"worksheet":{let I=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(I.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(I.outlineProperties=this.map.sheetPr.model.outlineProperties);let F={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},$=Object.assign(F,this.map.pageSetup.model,this.map.printOptions.model),z=v(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:I,views:this.map.sheetViews.model,pageSetup:$,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(C,I){let F=(C.relationships||[]).reduce((z,Y)=>{if(z[Y.Id]=Y,Y.Type===o.Comments&&(C.comments=I.comments[Y.Target].comments),Y.Type===o.VmlDrawing&&C.comments&&C.comments.length){let O=I.vmlDrawings[Y.Target].comments;C.comments.forEach((W,M)=>{W.note=Object.assign({},W.note,O[M])})}return z},{});if(I.commentsMap=(C.comments||[]).reduce((z,Y)=>(Y.ref&&(z[Y.ref]=Y),z),{}),I.hyperlinkMap=(C.hyperlinks||[]).reduce((z,Y)=>(Y.rId&&(z[Y.address]=F[Y.rId].Target),z),{}),I.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach(z=>{z.cells=z.cells&&z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(C.cols,I),this.map.sheetData.reconcile(C.rows,I),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,I),C.media=[],C.drawing){let z=F[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(z){let Y=z[1];I.drawings[Y].anchors.forEach(O=>{if(O.medium){let W={type:"image",imageId:O.medium.index,range:O.range,hyperlinks:O.picture.hyperlinks};C.media.push(W)}})}}let $=C.background&&F[C.background.rId];if($){let z=$.Target.split("/media/")[1],Y=I.mediaIndex&&I.mediaIndex[z];Y!==void 0&&C.media.push({type:"background",imageId:Y})}C.tables=(C.tables||[]).map(z=>{let Y=F[z.rId];return I.tables[Y.Target]}),delete C.relationships,delete C.hyperlinks,delete C.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},e.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,s){s&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(s){try{return Number.isNaN(s.getTime())?"":s.toISOString()}catch{return""}},this._parse=i.parse||function(s){return new Date(s)}}render(i,s){s&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(s)):i.writeText(this._format(s)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,s){(s||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,s){s!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,e,n){"use strict";let r=t("./base-xform"),i=t("../../utils/xml-stream");e.exports=class extends r{constructor(s){super(),this._model=s}render(s){if(!this._xml){let o=new i;(function a(c,u){c.openNode(u.tag,u.$),u.c&&u.c.forEach(l=>{a(c,l)}),u.t&&c.writeText(u.t),c.closeNode()})(o,this._model),this._xml=o.xml}s.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(s){switch(s){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("./rich-text-xform"),s=t("../base-xform");e.exports=class extends s{constructor(){super(),this.map={r:new i,t:new r}}get tag(){return"rPh"}render(o,a){if(o.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:c}=this.map;a.richText.forEach(u=>{c.render(o,u)})}else a&&this.map.t.render(o,a.text);o.closeNode()}parseOpen(o){let{name:a}=o;return this.parser?(this.parser.parseOpen(o),!0):a===this.tag?(this.model={sb:parseInt(o.attributes.sb,10),eb:parseInt(o.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("../style/font-xform"),s=t("../base-xform");class o extends s{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new r)}get fontXform(){return this._fontXform||(this._fontXform=new i(o.FONT_OPTIONS))}render(c,u){u=u||this.model,c.openNode("r"),u.font&&this.fontXform.render(c,u.font),this.textXform.render(c,u.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}o.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},e.exports=o},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("./rich-text-xform"),s=t("./phonetic-text-xform"),o=t("../base-xform");e.exports=class extends o{constructor(a){super(),this.model=a,this.map={r:new i,t:new r,rPh:new s}}get tag(){return"si"}render(a,c){a.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(u=>{this.map.r.render(a,u)}):this.map.t.render(a,""):c!=null&&this.map.t.render(a,c),a.closeNode()}parseOpen(a){let{name:c}=a;return this.parser?(this.parser.parseOpen(a),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("./shared-string-xform");e.exports=class extends i{constructor(o){super(),this.model=o||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new s)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(o){return this.model.values[o]}add(o){return o.richText?this.addRichText(o):this.addText(o)}addText(o){let a=this.hash[o];return a===void 0&&(a=this.hash[o]=this.model.values.length,this.model.values.push(o)),this.model.count++,a}addRichText(o){let a=this.sharedStringXform.toXml(o),c=this.rich[a];return c===void 0&&(c=this.rich[a]=this.model.values.length,this.model.values.push(o)),this.model.count++,c}render(o,a){a=a||this._values,o.openXml(r.StdDocAttributes),o.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let c=this.sharedStringXform;a.values.forEach(u=>{c.render(o,u)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(o),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(o){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"t"}render(i,s){i.openNode("t"),/^\s|\n|\s$/.test(s)&&i.addAttribute("xml:space","preserve"),i.writeText(s),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,s)=>String.fromCharCode(parseInt(s,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,e,n){"use strict";let r=t("../../../doc/enums"),i=t("../../../utils/utils"),s=t("../base-xform"),o={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,u)=>(c[u]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,u)=>(c[u]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=i.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=i.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return r.ReadingOrder.LeftToRight;case"rtl":return r.ReadingOrder.RightToLeft;default:return}}},a={toXml(c){if(c=o.textRotation(c)){if(c==="vertical")return 255;let u=Math.round(c);if(u>=0&&u<=90)return u;if(u<0&&u>=-90)return 90-u}},toModel(c){let u=i.validInt(c);if(u!==void 0){if(u===255)return"vertical";if(u>=0&&u<=90)return u;if(u>90&&u<=180)return 90-u}}};e.exports=class extends s{get tag(){return"alignment"}render(c,u){c.addRollback(),c.openNode("alignment");let l=!1;function d(f,p){p&&(c.addAttribute(f,p),l=!0)}d("horizontal",o.horizontal(u.horizontal)),d("vertical",o.vertical(u.vertical)),d("wrapText",!!o.wrapText(u.wrapText)&&"1"),d("shrinkToFit",!!o.shrinkToFit(u.shrinkToFit)&&"1"),d("indent",o.indent(u.indent)),d("textRotation",a.toXml(u.textRotation)),d("readingOrder",o.readingOrder(u.readingOrder)),c.closeNode(),l?c.commit():c.rollback()}parseOpen(c){let u={},l=!1;function d(f,p,h){f&&(u[p]=h,l=!0)}d(c.attributes.horizontal,"horizontal",c.attributes.horizontal),d(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),d(c.attributes.wrapText,"wrapText",i.parseBoolean(c.attributes.wrapText)),d(c.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(c.attributes.shrinkToFit)),d(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),d(c.attributes.textRotation,"textRotation",a.toModel(c.attributes.textRotation)),d(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=l?u:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/utils"),s=t("./color-xform");class o extends r{constructor(c){super(),this.name=c,this.map={color:new s}}get tag(){return this.name}render(c,u,l){let d=u&&u.color||l||this.defaultColor;c.openNode(this.name),u&&u.style&&(c.addAttribute("style",u.style),d&&this.map.color.render(c,d)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{let{style:u}=c.attributes;return this.model=u?{style:u}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return o.validStyleValues[c]}}o.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,c)=>(a[c]=!0,a),{}),e.exports=class extends r{constructor(){super(),this.map={top:new o("top"),left:new o("left"),bottom:new o("bottom"),right:new o("right"),diagonal:new o("diagonal")}}render(a,c){let{color:u}=c;function l(d,f){d&&!d.color&&c.color&&(d=je(ve({},d),{color:c.color})),f.render(a,d,u)}a.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&a.addAttribute("diagonalUp","1"),c.diagonal.down&&a.addAttribute("diagonalDown","1")),l(c.left,this.map.left),l(c.right,this.map.right),l(c.top,this.map.top),l(c.bottom,this.map.bottom),l(c.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let c=this.model={},u=function(l,d,f){d&&(f&&Object.assign(d,f),c[l]=d)};u("left",this.map.left.model),u("right",this.map.right.model),u("top",this.map.top.model),u("bottom",this.map.bottom.model),u("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,s){return!!s&&(i.openNode(this.name),s.argb?i.addAttribute("rgb",s.argb):s.theme!==void 0?(i.addAttribute("theme",s.theme),s.tint!==void 0&&i.addAttribute("tint",s.tint)):s.indexed!==void 0?i.addAttribute("indexed",s.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./alignment-xform"),s=t("./border-xform"),o=t("./fill-xform"),a=t("./font-xform"),c=t("./numfmt-xform"),u=t("./protection-xform");e.exports=class extends r{constructor(){super(),this.map={alignment:new i,border:new s,fill:new o,font:new a,numFmt:new c,protection:new u}}get tag(){return"dxf"}render(l,d){if(l.openNode(this.tag),d.font&&this.map.font.render(l,d.font),d.numFmt&&d.numFmtId){let f={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(l,f)}d.fill&&this.map.fill.render(l,d.fill),d.alignment&&this.map.alignment.render(l,d.alignment),d.border&&this.map.border.render(l,d.border),d.protection&&this.map.protection.render(l,d.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l),!0}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):l!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./color-xform");class s extends r{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(l,d){l.openNode("stop"),l.addAttribute("position",d.position),this.map.color.render(l,d.color),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"stop":return this.model={position:parseFloat(l.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(){}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class o extends r{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(l,d){l.openNode("patternFill"),l.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(l,d.fgColor),d.bgColor&&this.map.bgColor.render(l,d.bgColor),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"patternFill":return this.model={type:"pattern",pattern:l.attributes.patternType},!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.parser.model&&(this.model[l]=this.parser.model),this.parser=void 0),!0)}}class a extends r{constructor(){super(),this.map={stop:new s}}get name(){return"gradient"}get tag(){return"gradientFill"}render(l,d){switch(l.openNode("gradientFill"),d.gradient){case"angle":l.addAttribute("degree",d.degree);break;case"path":l.addAttribute("type","path"),d.center.left&&(l.addAttribute("left",d.center.left),d.center.right===void 0&&l.addAttribute("right",d.center.left)),d.center.right&&l.addAttribute("right",d.center.right),d.center.top&&(l.addAttribute("top",d.center.top),d.center.bottom===void 0&&l.addAttribute("bottom",d.center.top)),d.center.bottom&&l.addAttribute("bottom",d.center.bottom)}let f=this.map.stop;d.stops.forEach(p=>{f.render(l,p)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"gradientFill":{let d=this.model={stops:[]};return l.attributes.degree?(d.gradient="angle",d.degree=parseInt(l.attributes.degree,10)):l.attributes.type==="path"&&(d.gradient="path",d.center={left:l.attributes.left?parseFloat(l.attributes.left):0,top:l.attributes.top?parseFloat(l.attributes.top):0},l.attributes.right!==l.attributes.left&&(d.center.right=l.attributes.right?parseFloat(l.attributes.right):0),l.attributes.bottom!==l.attributes.top&&(d.center.bottom=l.attributes.bottom?parseFloat(l.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends r{constructor(){super(),this.map={patternFill:new o,gradientFill:new a}}get tag(){return"fill"}render(l,d){switch(l.addRollback(),l.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(l,d);break;case"gradient":this.map.gradientFill.render(l,d);break;default:return void l.rollback()}l.closeNode(),l.commit()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"fill":return this.model={},!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(l){return c.validPatternValues[l]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((u,l)=>(u[l]=!0,u),{}),c.StopXform=s,c.PatternFillXform=o,c.GradientFillXform=a,e.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(t,e,n){"use strict";let r=t("./color-xform"),i=t("../simple/boolean-xform"),s=t("../simple/integer-xform"),o=t("../simple/string-xform"),a=t("./underline-xform"),c=t("../../../utils/under-dash"),u=t("../base-xform");class l extends u{constructor(f){super(),this.options=f||l.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new s({tag:"charset",attr:"val"})},color:{prop:"color",xform:new r},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new s({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new o({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new o({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new s({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new o({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(f,p){let{map:h}=this;f.openNode(this.options.tagName),c.each(this.map,(y,g)=>{h[g].xform.render(f,p[y.prop])}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;if(this.map[f.name])return this.parser=this.map[f.name].xform,this.parser.parseOpen(f);switch(f.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser&&!this.parser.parseClose(f)){let p=this.map[f];return this.parser.model&&(this.model[p.prop]=this.parser.model),this.parser=void 0,!0}switch(f){case this.options.tagName:return!1;default:return!0}}}l.OPTIONS={tagName:"font",fontNameTag:"name"},e.exports=l},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../defaultnumformats"),s=t("../base-xform"),o=(function(){let c={};return r.each(i,(u,l)=>{u.f&&(c[u.f]=parseInt(l,10))}),c})();class a extends s{constructor(u,l){super(),this.id=u,this.formatCode=l}get tag(){return"numFmt"}render(u,l){u.leafNode("numFmt",{numFmtId:l.id,formatCode:l.formatCode})}parseOpen(u){switch(u.name){case"numFmt":return this.model={id:parseInt(u.attributes.numFmtId,10),formatCode:u.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(c){return o[c]},a.getDefaultFmtCode=function(c){return i[c]&&i[c].f},e.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,e,n){"use strict";let r=t("../base-xform"),i={boolean:(s,o)=>s===void 0?o:s};e.exports=class extends r{get tag(){return"protection"}render(s,o){s.addRollback(),s.openNode("protection");let a=!1;function c(u,l){l!==void 0&&(s.addAttribute(u,l),a=!0)}c("locked",i.boolean(o.locked,!0)?void 0:"0"),c("hidden",i.boolean(o.hidden,!1)?"1":void 0),s.closeNode(),a?s.commit():s.rollback()}parseOpen(s){let o={locked:s.attributes.locked!=="0",hidden:s.attributes.hidden==="1"},a=!o.locked||o.hidden;this.model=a?o:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./alignment-xform"),s=t("./protection-xform");e.exports=class extends r{constructor(o){super(),this.xfId=!(!o||!o.xfId),this.map={alignment:new i,protection:new s}}get tag(){return"xf"}render(o,a){o.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&o.addAttribute("xfId",a.xfId||0),a.numFmtId&&o.addAttribute("applyNumberFormat","1"),a.fontId&&o.addAttribute("applyFont","1"),a.fillId&&o.addAttribute("applyFill","1"),a.borderId&&o.addAttribute("applyBorder","1"),a.alignment&&o.addAttribute("applyAlignment","1"),a.protection&&o.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(o,a.alignment),a.protection&&this.map.protection.render(o,a.protection),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"xf":return this.model={numFmtId:parseInt(o.attributes.numFmtId,10),fontId:parseInt(o.attributes.fontId,10),fillId:parseInt(o.attributes.fillId,10),borderId:parseInt(o.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(o.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(o),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):o!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,e,n){"use strict";let r=t("../../../doc/enums"),i=t("../../../utils/xml-stream"),s=t("../base-xform"),o=t("../static-xform"),a=t("../list-xform"),c=t("./font-xform"),u=t("./fill-xform"),l=t("./border-xform"),d=t("./numfmt-xform"),f=t("./style-xform"),p=t("./dxf-xform");class h extends s{constructor(g){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new d}),fonts:new a({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new u}),borders:new a({tag:"borders",count:!0,childXform:new l}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new f}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new f({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new p}),numFmt:new d,font:new c,fill:new u,border:new l,style:new f({xfId:!0}),cellStyles:h.STATIC_XFORMS.cellStyles,tableStyles:h.STATIC_XFORMS.tableStyles,extLst:h.STATIC_XFORMS.extLst},g&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(g,_){_=_||this.model,g.openXml(i.StdDocAttributes),g.openNode("styleSheet",h.STYLESHEET_ATTRIBUTES),this.index?(_.numFmts&&_.numFmts.length&&(g.openNode("numFmts",{count:_.numFmts.length}),_.numFmts.forEach(x=>{g.writeXml(x)}),g.closeNode()),_.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),g.openNode("fonts",{count:_.fonts.length,"x14ac:knownFonts":1}),_.fonts.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("fills",{count:_.fills.length}),_.fills.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("borders",{count:_.borders.length}),_.borders.forEach(x=>{g.writeXml(x)}),g.closeNode(),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),g.openNode("cellXfs",{count:_.styles.length}),_.styles.forEach(x=>{g.writeXml(x)}),g.closeNode()):(this.map.numFmts.render(g,_.numFmts),this.map.fonts.render(g,_.fonts),this.map.fills.render(g,_.fills),this.map.borders.render(g,_.borders),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(g,_.styles)),h.STATIC_XFORMS.cellStyles.render(g),this.map.dxfs.render(g,_.dxfs),h.STATIC_XFORMS.tableStyles.render(g),h.STATIC_XFORMS.extLst.render(g),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"styleSheet":{this.model={};let _=(x,k)=>{k.model&&k.model.length&&(this.model[x]=k.model)};if(_("numFmts",this.map.numFmts),_("fonts",this.map.fonts),_("fills",this.map.fills),_("borders",this.map.borders),_("styles",this.map.cellXfs),_("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let x=this.index.numFmt;this.model.numFmts.forEach(k=>{x[k.id]=k.formatCode})}return!1}default:return!0}}addStyleModel(g,_){if(!g)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(g))return this.weakMap.get(g);let x={};if(_=_||r.ValueType.Number,g.numFmt)x.numFmtId=this._addNumFmtStr(g.numFmt);else switch(_){case r.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case r.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}g.font&&(x.fontId=this._addFont(g.font)),g.border&&(x.borderId=this._addBorder(g.border)),g.fill&&(x.fillId=this._addFill(g.fill)),g.alignment&&(x.alignment=g.alignment),g.protection&&(x.protection=g.protection);let k=this._addStyle(x);return this.weakMap&&this.weakMap.set(g,k),k}getStyleModel(g){let _=this.model.styles[g];if(!_)return null;let x=this.index.model[g];if(x)return x;if(x=this.index.model[g]={},_.numFmtId){let L=this.index.numFmt[_.numFmtId]||d.getDefaultFmtCode(_.numFmtId);L&&(x.numFmt=L)}function k(L,B,V){if(V||V===0){let R=B[V];R&&(x[L]=R)}}return k("font",this.model.fonts,_.fontId),k("border",this.model.borders,_.borderId),k("fill",this.model.fills,_.fillId),_.alignment&&(x.alignment=_.alignment),_.protection&&(x.protection=_.protection),x}addDxfStyle(g){return g.numFmt&&(g.numFmtId=this._addNumFmtStr(g.numFmt)),this.model.dxfs.push(g),this.model.dxfs.length-1}getDxfStyle(g){return this.model.dxfs[g]}_addStyle(g){let _=this.map.style.toXml(g),x=this.index.style[_];return x===void 0&&(x=this.index.style[_]=this.model.styles.length,this.model.styles.push(_)),x}_addNumFmtStr(g){let _=d.getDefaultFmtId(g);if(_!==void 0||(_=this.index.numFmt[g],_!==void 0))return _;_=this.index.numFmt[g]=164+this.model.numFmts.length;let x=this.map.numFmt.toXml({id:_,formatCode:g});return this.model.numFmts.push(x),_}_addFont(g){let _=this.map.font.toXml(g),x=this.index.font[_];return x===void 0&&(x=this.index.font[_]=this.model.fonts.length,this.model.fonts.push(_)),x}_addBorder(g){let _=this.map.border.toXml(g),x=this.index.border[_];return x===void 0&&(x=this.index.border[_]=this.model.borders.length,this.model.borders.push(_)),x}_addFill(g){let _=this.map.fill.toXml(g),x=this.index.fill[_];return x===void 0&&(x=this.index.fill[_]=this.model.fills.length,this.model.fills.push(_)),x}}h.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},h.STATIC_XFORMS={cellStyles:new o({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new o({tag:"dxfs",$:{count:0}}),tableStyles:new o({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new o({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},h.Mock=class extends h{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,g){switch(g){case r.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let y={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},e.exports=h},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,e,n){"use strict";let r=t("../base-xform");class i extends r{constructor(o){super(),this.model=o}get tag(){return"u"}render(o,a){if((a=a||this.model)===!0)o.leafNode("u");else{let c=i.Attributes[a];c&&o.leafNode("u",c)}}parseOpen(o){o.name==="u"&&(this.model=o.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},e.exports=i},{"../base-xform":32}],137:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./filter-column-xform");e.exports=class extends r{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(s){s.columns.forEach((o,a)=>{this.map.filterColumn.prepare(o,{index:a})})}render(s,o){return s.openNode(this.tag,{ref:o.autoFilterRef}),o.columns.forEach(a=>{this.map.filterColumn.render(s,a)}),s.closeNode(),!0}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model={autoFilterRef:s.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[s.name],this.parser)return this.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(s){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"customFilter"}render(i,s){i.leafNode(this.tag,{val:s.val,operator:s.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../list-xform"),s=t("./custom-filter-xform"),o=t("./filter-xform");e.exports=class extends r{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new s}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new o})}}get tag(){return"filterColumn"}prepare(a,c){a.colId=c.index.toString()}render(a,c){return c.customFilters?(a.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(a,c.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:c}=a;switch(a.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"filter"}render(i,s){i.leafNode(this.tag,{val:s.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tableColumn"}prepare(i,s){i.id=s.index+1}render(i,s){return i.leafNode(this.tag,{id:s.id.toString(),name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tableStyleInfo"}render(i,s){return i.leafNode(this.tag,{name:s.theme?s.theme:void 0,showFirstColumn:s.showFirstColumn?"1":"0",showLastColumn:s.showLastColumn?"1":"0",showRowStripes:s.showRowStripes?"1":"0",showColumnStripes:s.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={theme:s.name?s.name:null,showFirstColumn:s.showFirstColumn==="1",showLastColumn:s.showLastColumn==="1",showRowStripes:s.showRowStripes==="1",showColumnStripes:s.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("../list-xform"),o=t("./auto-filter-xform"),a=t("./table-column-xform"),c=t("./table-style-info-xform");class u extends i{constructor(){super(),this.map={autoFilter:new o,tableColumns:new s({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new c}}prepare(d,f){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,f)}get tag(){return"table"}render(d,f){d.openXml(r.StdDocAttributes),d.openNode(this.tag,je(ve({},u.TABLE_ATTRIBUTES),{id:f.id,name:f.name,displayName:f.displayName||f.name,ref:f.tableRef,totalsRowCount:f.totalsRow?"1":void 0,totalsRowShown:f.totalsRow?void 0:"1",headerRowCount:f.headerRow?"1":"0"})),this.map.autoFilter.render(d,f),this.map.tableColumns.render(d,f.columns),this.map.tableStyleInfo.render(d,f.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;let{name:f,attributes:p}=d;switch(f){case this.tag:this.reset(),this.model={name:p.name,displayName:p.displayName||p.name,tableRef:p.ref,totalsRow:p.totalsRowCount==="1",headerRow:p.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((f,p)=>{this.model.columns[p].filterButton=f.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,f){d.columns.forEach(p=>{p.dxfId!==void 0&&(p.style=f.styles.getDxfStyle(p.dxfId))})}}u.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},e.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,e,n){(function(r,i){(function(){"use strict";let s=t("fs"),o=t("jszip"),{PassThrough:a}=t("readable-stream"),c=t("../utils/zip-stream"),u=t("../utils/stream-buf"),l=t("../utils/utils"),d=t("../utils/xml-stream"),{bufferToString:f}=t("../utils/browser-buffer-decode"),p=t("./xform/style/styles-xform"),h=t("./xform/core/core-xform"),y=t("./xform/strings/shared-strings-xform"),g=t("./xform/core/relationships-xform"),_=t("./xform/core/content-types-xform"),x=t("./xform/core/app-xform"),k=t("./xform/book/workbook-xform"),L=t("./xform/sheet/worksheet-xform"),B=t("./xform/drawing/drawing-xform"),V=t("./xform/table/table-xform"),R=t("./xform/comment/comments-xform"),N=t("./xform/comment/vml-notes-xform"),j=t("./xml/theme1");class P{constructor(S){this.workbook=S}async readFile(S,D){if(!await l.fs.exists(S))throw new Error("File not found: "+S);let m=s.createReadStream(S);try{let v=await this.read(m,D);return m.close(),v}catch(v){throw m.close(),v}}parseRels(S){return new g().parseStream(S)}parseWorkbook(S){return new k().parseStream(S)}parseSharedStrings(S){return new y().parseStream(S)}reconcile(S,D){let m=new k,v=new L(D),w=new B,b=new V;m.reconcile(S);let C={media:S.media,mediaIndex:S.mediaIndex};Object.keys(S.drawings).forEach($=>{let z=S.drawings[$],Y=S.drawingRels[$];Y&&(C.rels=Y.reduce((O,W)=>(O[W.Id]=W,O),{}),(z.anchors||[]).forEach(O=>{let W=O.picture&&O.picture.hyperlinks;W&&C.rels[W.rId]&&(W.hyperlink=C.rels[W.rId].Target,delete W.rId)}),w.reconcile(z,C))});let I={styles:S.styles};Object.values(S.tables).forEach($=>{b.reconcile($,I)});let F={styles:S.styles,sharedStrings:S.sharedStrings,media:S.media,mediaIndex:S.mediaIndex,date1904:S.properties&&S.properties.date1904,drawings:S.drawings,comments:S.comments,tables:S.tables,vmlDrawings:S.vmlDrawings};S.worksheets.forEach($=>{$.relationships=S.worksheetRels[$.sheetNo],v.reconcile($,F)}),delete S.worksheetHash,delete S.worksheetRels,delete S.globalRels,delete S.sharedStrings,delete S.workbookRels,delete S.sheetDefs,delete S.styles,delete S.mediaIndex,delete S.drawings,delete S.drawingRels,delete S.vmlDrawings}async _processWorksheetEntry(S,D,m,v,w){let b=new L(v),C=await b.parseStream(S);C.sheetNo=m,D.worksheetHash[w]=C,D.worksheets.push(C)}async _processCommentEntry(S,D,m){let v=new R,w=await v.parseStream(S);D.comments[`../${m}.xml`]=w}async _processTableEntry(S,D,m){let v=new V,w=await v.parseStream(S);D.tables[`../tables/${m}.xml`]=w}async _processWorksheetRelsEntry(S,D,m){let v=new g,w=await v.parseStream(S);D.worksheetRels[m]=w}async _processMediaEntry(S,D,m){let v=m.lastIndexOf(".");if(v>=1){let w=m.substr(v+1),b=m.substr(0,v);await new Promise((C,I)=>{let F=new u;F.on("finish",()=>{D.mediaIndex[m]=D.media.length,D.mediaIndex[b]=D.media.length;let $={type:"image",name:b,extension:w,buffer:F.toBuffer()};D.media.push($),C()}),S.on("error",$=>{I($)}),S.pipe(F)})}}async _processDrawingEntry(S,D,m){let v=new B,w=await v.parseStream(S);D.drawings[m]=w}async _processDrawingRelsEntry(S,D,m){let v=new g,w=await v.parseStream(S);D.drawingRels[m]=w}async _processVmlDrawingEntry(S,D,m){let v=new N,w=await v.parseStream(S);D.vmlDrawings[`../drawings/${m}.vml`]=w}async _processThemeEntry(S,D,m){await new Promise((v,w)=>{let b=new u;S.on("error",w),b.on("error",w),b.on("finish",()=>{D.themes[m]=b.read().toString(),v()}),S.pipe(b)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(S,D){!S[Symbol.asyncIterator]&&S.pipe&&(S=S.pipe(new a));let m=[];for await(let v of S)m.push(v);return this.load(i.concat(m),D)}async load(S,D){let m;m=D&&D.base64?i.from(S.toString(),"base64"):S;let v={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await o.loadAsync(m);for(let b of Object.values(w.files))if(!b.dir){let C,I=b.name;if(I[0]==="/"&&(I=I.substr(1)),I.match(/xl\/media\//)||I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))C=new a,C.write(await b.async("nodebuffer"));else{let F;C=new a({writableObjectMode:!0,readableObjectMode:!0}),F=r.browser?f(await b.async("nodebuffer")):await b.async("string");let $=16384;for(let z=0;z<F.length;z+=$)C.write(F.substring(z,z+$))}switch(C.end(),I){case"_rels/.rels":v.globalRels=await this.parseRels(C);break;case"xl/workbook.xml":{let F=await this.parseWorkbook(C);v.sheets=F.sheets,v.definedNames=F.definedNames,v.views=F.views,v.properties=F.properties,v.calcProperties=F.calcProperties;break}case"xl/_rels/workbook.xml.rels":v.workbookRels=await this.parseRels(C);break;case"xl/sharedStrings.xml":v.sharedStrings=new y,await v.sharedStrings.parseStream(C);break;case"xl/styles.xml":v.styles=new p,await v.styles.parseStream(C);break;case"docProps/app.xml":{let F=new x,$=await F.parseStream(C);v.company=$.company,v.manager=$.manager;break}case"docProps/core.xml":{let F=new h,$=await F.parseStream(C);Object.assign(v,$);break}default:{let F=I.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(F){await this._processWorksheetEntry(C,v,F[1],D,I);break}if(F=I.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),F){await this._processWorksheetRelsEntry(C,v,F[1]);break}if(F=I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),F){await this._processThemeEntry(C,v,F[1]);break}if(F=I.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),F){await this._processMediaEntry(C,v,F[1]);break}if(F=I.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),F){await this._processDrawingEntry(C,v,F[1]);break}if(F=I.match(/xl\/(comments\d+)[.]xml/),F){await this._processCommentEntry(C,v,F[1]);break}if(F=I.match(/xl\/tables\/(table\d+)[.]xml/),F){await this._processTableEntry(C,v,F[1]);break}if(F=I.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),F){await this._processDrawingRelsEntry(C,v,F[1]);break}if(F=I.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),F){await this._processVmlDrawingEntry(C,v,F[1]);break}}}}return this.reconcile(v,D),this.workbook.model=v,this.workbook}async addMedia(S,D){await Promise.all(D.media.map(async m=>{if(m.type==="image"){let v=`xl/media/${m.name}.${m.extension}`;if(m.filename){let w=await(function(b,C){return new Promise((I,F)=>{s.readFile(b,C,($,z)=>{$?F($):I(z)})})})(m.filename);return S.append(w,{name:v})}if(m.buffer)return S.append(m.buffer,{name:v});if(m.base64){let w=m.base64,b=w.substring(w.indexOf(",")+1);return S.append(b,{name:v,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(S,D){let m=new B,v=new g;D.worksheets.forEach(w=>{let{drawing:b}=w;if(b){m.prepare(b,{});let C=m.toXml(b);S.append(C,{name:`xl/drawings/${b.name}.xml`}),C=v.toXml(b.rels),S.append(C,{name:`xl/drawings/_rels/${b.name}.xml.rels`})}})}addTables(S,D){let m=new V;D.worksheets.forEach(v=>{let{tables:w}=v;w.forEach(b=>{m.prepare(b,{});let C=m.toXml(b);S.append(C,{name:"xl/tables/"+b.target})})})}async addContentTypes(S,D){let m=new _().toXml(D);S.append(m,{name:"[Content_Types].xml"})}async addApp(S,D){let m=new x().toXml(D);S.append(m,{name:"docProps/app.xml"})}async addCore(S,D){let m=new h;S.append(m.toXml(D),{name:"docProps/core.xml"})}async addThemes(S,D){let m=D.themes||{theme1:j};Object.keys(m).forEach(v=>{let w=m[v],b=`xl/theme/${v}.xml`;S.append(w,{name:b})})}async addOfficeRels(S){let D=new g().toXml([{Id:"rId1",Type:P.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:P.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:P.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);S.append(D,{name:"_rels/.rels"})}async addWorkbookRels(S,D){let m=1,v=[{Id:"rId"+m++,Type:P.RelType.Styles,Target:"styles.xml"},{Id:"rId"+m++,Type:P.RelType.Theme,Target:"theme/theme1.xml"}];D.sharedStrings.count&&v.push({Id:"rId"+m++,Type:P.RelType.SharedStrings,Target:"sharedStrings.xml"}),D.worksheets.forEach(b=>{b.rId="rId"+m++,v.push({Id:b.rId,Type:P.RelType.Worksheet,Target:`worksheets/sheet${b.id}.xml`})});let w=new g().toXml(v);S.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(S,D){D.sharedStrings&&D.sharedStrings.count&&S.append(D.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(S,D){let{xml:m}=D.styles;m&&S.append(m,{name:"xl/styles.xml"})}async addWorkbook(S,D){let m=new k;S.append(m.toXml(D),{name:"xl/workbook.xml"})}async addWorksheets(S,D){let m=new L,v=new g,w=new R,b=new N;D.worksheets.forEach(C=>{let I=new d;m.render(I,C),S.append(I.xml,{name:`xl/worksheets/sheet${C.id}.xml`}),C.rels&&C.rels.length&&(I=new d,v.render(I,C.rels),S.append(I.xml,{name:`xl/worksheets/_rels/sheet${C.id}.xml.rels`})),C.comments.length>0&&(I=new d,w.render(I,C),S.append(I.xml,{name:`xl/comments${C.id}.xml`}),I=new d,b.render(I,C),S.append(I.xml,{name:`xl/drawings/vmlDrawing${C.id}.vml`}))})}_finalize(S){return new Promise((D,m)=>{S.on("finish",()=>{D(this)}),S.on("error",m),S.finalize()})}prepareModel(S,D){S.creator=S.creator||"ExcelJS",S.lastModifiedBy=S.lastModifiedBy||"ExcelJS",S.created=S.created||new Date,S.modified=S.modified||new Date,S.useSharedStrings=D.useSharedStrings===void 0||D.useSharedStrings,S.useStyles=D.useStyles===void 0||D.useStyles,S.sharedStrings=new y,S.styles=S.useStyles?new p(!0):new p.Mock;let m=new k,v=new L;m.prepare(S);let w={sharedStrings:S.sharedStrings,styles:S.styles,date1904:S.properties.date1904,drawingsCount:0,media:S.media};w.drawings=S.drawings=[],w.commentRefs=S.commentRefs=[];let b=0;S.tables=[],S.worksheets.forEach(C=>{C.tables.forEach(I=>{b++,I.target=`table${b}.xml`,I.id=b,S.tables.push(I)}),v.prepare(C,w)})}async write(S,D){D=D||{};let{model:m}=this.workbook,v=new c.ZipWriter(D.zip);return v.pipe(S),this.prepareModel(m,D),await this.addContentTypes(v,m),await this.addOfficeRels(v,m),await this.addWorkbookRels(v,m),await this.addWorksheets(v,m),await this.addSharedStrings(v,m),await this.addDrawings(v,m),await this.addTables(v,m),await Promise.all([this.addThemes(v,m),this.addStyles(v,m)]),await this.addMedia(v,m),await Promise.all([this.addApp(v,m),this.addCore(v,m)]),await this.addWorkbook(v,m),this._finalize(v)}writeFile(S,D){let m=s.createWriteStream(S);return new Promise((v,w)=>{m.on("finish",()=>{v()}),m.on("error",b=>{w(b)}),this.write(m,D).then(()=>{m.end()}).catch(b=>{w(b)})})}async writeBuffer(S){let D=new u;return await this.write(D,S),D.read()}}P.RelType=t("./rel-type"),e.exports=P}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,e,n){"use strict";e.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,e,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;let i=t("stream"),s=t("./formatter");class o extends i.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new s.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,u,l){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(f,p)=>f?(d=!0,l(f)):(p&&p.forEach(h=>{this.push(r.from(h,"utf8"))}),d=!0,l()))}catch(f){if(d)throw f;l(f)}}_flush(c){this.rowFormatter.finish((u,l)=>u?c(u):(l&&l.forEach(d=>{this.push(r.from(d,"utf8"))}),c()))}}n.CsvFormatterStream=o}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,r||{}),r?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),r?.quote===!0?this.quote='"':r?.quote===!1&&(this.quote=""),typeof r?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=r.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,e,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;let i=r(t("lodash.isboolean")),s=r(t("lodash.isnil")),o=r(t("lodash.escaperegexp"));n.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let c=`[${a.delimiter}${o.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(a){this._headers=a}shouldQuote(a,c){let u=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(u)?u:Array.isArray(u)?u[a]:this._headers!==null&&u[this._headers[a]]}format(a,c,u){let l=(""+(s.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&l.indexOf(d.quote)!==-1?this.quoteField(l.replace(this.REPLACE_REGEXP,d.escapedQuote)):l.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,u)?this.quoteField(l):l}quoteField(a){let{quote:c}=this.formatterOptions;return`${c}${a}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,e,n){"use strict";var r=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;let i=r(t("lodash.isfunction")),s=r(t("lodash.isequal")),o=t("./FieldFormatter"),a=t("../types");class c{constructor(l){this.rowCount=0,this.formatterOptions=l,this.fieldFormatter=new o.FieldFormatter(l),this.headers=l.headers,this.shouldWriteHeaders=l.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),l.transform&&(this.rowTransform=l.transform)}static isRowHashArray(l){return!!Array.isArray(l)&&Array.isArray(l[0])&&l[0].length===2}static isRowArray(l){return Array.isArray(l)&&!this.isRowHashArray(l)}static gatherHeaders(l){return c.isRowHashArray(l)?l.map(d=>d[0]):Array.isArray(l)?l:Object.keys(l)}static createTransform(l){return a.isSyncTransform(l)?(d,f)=>{let p=null;try{p=l(d)}catch(h){return f(h)}return f(null,p)}:(d,f)=>{l(d,f)}}set rowTransform(l){if(!i.default(l))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(l)}format(l,d){this.callTransformer(l,(f,p)=>{if(f)return d(f);if(!l)return d(null);let h=[];if(p){let{shouldFormatColumns:y,headers:g}=this.checkHeaders(p);if(this.shouldWriteHeaders&&g&&!this.hasWrittenHeaders&&(h.push(this.formatColumns(g,!0)),this.hasWrittenHeaders=!0),y){let _=this.gatherColumns(p);h.push(this.formatColumns(_,!1))}}return d(null,h)})}finish(l){let d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return l(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),l(null,d)}checkHeaders(l){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let d=c.gatherHeaders(l);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!s.default(d,l),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(l){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(l)?c.isRowHashArray(l)?this.headers.map((d,f)=>{let p=l[f];return p?p[1]:""}):c.isRowArray(l)&&!this.shouldWriteHeaders?l:this.headers.map((d,f)=>l[f]):this.headers.map(d=>l[d])}callTransformer(l,d){return this._rowTransform?this._rowTransform(l,d):d(null,l)}formatColumns(l,d){let f=l.map((h,y)=>this.fieldFormatter.format(h,y,d)).join(this.formatterOptions.delimiter),{rowCount:p}=this;return this.rowCount+=1,p?[this.formatterOptions.rowDelimiter,f].join(""):f}}n.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var r=t("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return r.RowFormatter}});var i=t("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,e,n){(function(r){(function(){"use strict";var i=Object.create?function(y,g,_,x){x===void 0&&(x=_),Object.defineProperty(y,x,{enumerable:!0,get:function(){return g[_]}})}:function(y,g,_,x){x===void 0&&(x=_),y[x]=g[_]},s=Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g},o=function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var _ in y)_!=="default"&&Object.prototype.hasOwnProperty.call(y,_)&&i(g,y,_);return s(g,y),g},a=function(y,g){for(var _ in y)_==="default"||Object.prototype.hasOwnProperty.call(g,_)||i(g,y,_)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;let c=t("util"),u=t("stream"),l=o(t("fs")),d=t("./FormatterOptions"),f=t("./CsvFormatterStream");a(t("./types"),n);var p=t("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return p.CsvFormatterStream}});var h=t("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return h.FormatterOptions}}),n.format=y=>new f.CsvFormatterStream(new d.FormatterOptions(y)),n.write=(y,g)=>{let _=n.format(g),x=c.promisify((k,L)=>{_.write(k,void 0,L)});return y.reduce((k,L)=>k.then(()=>x(L)),Promise.resolve()).then(()=>_.end()).catch(k=>{_.emit("error",k)}),_},n.writeToStream=(y,g,_)=>n.write(g,_).pipe(y),n.writeToBuffer=function(y){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=[],x=new u.Writable({write(k,L,B){_.push(k),B()}});return new Promise((k,L)=>{x.on("error",L).on("finish",()=>k(r.concat(_))),n.write(y,g).pipe(x)})},n.writeToString=(y,g)=>n.writeToBuffer(y,g).then(_=>_.toString()),n.writeToPath=(y,g,_)=>{let x=l.createWriteStream(y,{encoding:"utf8"});return n.write(g,_).pipe(x)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1},{}],153:[function(t,e,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;let i=t("string_decoder"),s=t("stream"),o=t("./transforms"),a=t("./parser");class c extends s.Transform{constructor(l){super({objectMode:l.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=l,this.parser=new a.Parser(l),this.headerTransformer=new o.HeaderTransformer(l),this.decoder=new i.StringDecoder(l.encoding),this.rowTransformerValidator=new o.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(l){return this.rowTransformerValidator.rowTransform=l,this}validate(l){return this.rowTransformerValidator.rowValidator=l,this}emit(l){if(l==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return super.emit(l,...f)}_transform(l,d,f){if(this.hasHitRowLimit)return f();let p=c.wrapDoneCallback(f);try{let{lines:h}=this,y=h+this.decoder.write(l),g=this.parse(y,!0);return this.processRows(g,p)}catch(h){return p(h)}}_flush(l){let d=c.wrapDoneCallback(l);if(this.hasHitRowLimit)return d();try{let f=this.lines+this.decoder.end(),p=this.parse(f,!1);return this.processRows(p,d)}catch(f){return d(f)}}parse(l,d){if(!l)return[];let{line:f,rows:p}=this.parser.parse(l,d);return this.lines=f,p}processRows(l,d){let f=l.length,p=h=>{let y=x=>x?d(x):h%100!=0?p(h+1):void r(()=>p(h+1));if(this.checkAndEmitHeaders(),h>=f||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();let g=l[h];this.rowCount+=1,this.parsedRowCount+=1;let _=this.rowCount;return this.transformRow(g,(x,k)=>{if(x)return this.rowCount-=1,y(x);if(!k)return y(new Error("expected transform result"));if(k.isValid){if(k.row)return this.pushRow(k.row,y)}else this.emit("data-invalid",k.row,_,k.reason);return y()})};p(0)}transformRow(l,d){try{this.headerTransformer.transform(l,(f,p)=>f?d(f):p?p.isValid?p.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(p.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:l}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(f){d(f)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(l){return this.rowCount-=1,l(null,{row:null,isValid:!0})}pushRow(l,d){try{this.parserOptions.objectMode?this.push(l):this.push(JSON.stringify(l)),d()}catch(f){d(f)}}static wrapDoneCallback(l){let d=!1;return function(f){if(f){if(d)throw f;return d=!0,void l(f)}for(var p=arguments.length,h=new Array(p>1?p-1:0),y=1;y<p;y++)h[y-1]=arguments[y];l(...h)}}}n.CsvParserStream=c}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,e,n){"use strict";var r=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;let i=r(t("lodash.escaperegexp")),s=r(t("lodash.isnil"));n.ParserOptions=class{constructor(o){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,o||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!s.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,e,n){"use strict";var r=Object.create?function(p,h,y,g){g===void 0&&(g=y),Object.defineProperty(p,g,{enumerable:!0,get:function(){return h[y]}})}:function(p,h,y,g){g===void 0&&(g=y),p[g]=h[y]},i=Object.create?function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}:function(p,h){p.default=h},s=function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var y in p)y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)&&r(h,p,y);return i(h,p),h},o=function(p,h){for(var y in p)y==="default"||Object.prototype.hasOwnProperty.call(h,y)||r(h,p,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;let a=s(t("fs")),c=t("stream"),u=t("./ParserOptions"),l=t("./CsvParserStream");o(t("./types"),n);var d=t("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var f=t("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return f.ParserOptions}}),n.parse=p=>new l.CsvParserStream(new u.ParserOptions(p)),n.parseStream=(p,h)=>p.pipe(new l.CsvParserStream(new u.ParserOptions(h))),n.parseFile=function(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(p).pipe(new l.CsvParserStream(new u.ParserOptions(h)))},n.parseString=(p,h)=>{let y=new c.Readable;return y.push(p),y.push(null),y.pipe(new l.CsvParserStream(new u.ParserOptions(h)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;let r=t("./Scanner"),i=t("./RowParser"),s=t("./Token");class o{constructor(c){this.parserOptions=c,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,u){let l=new r.Scanner({line:o.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:u});return this.parserOptions.supportsComments?this.parseWithComments(l):this.parseWithoutComments(l)}parseWithoutComments(c){let u=[],l=!0;for(;l;)l=this.parseRow(c,u);return{line:c.line,rows:u}}parseWithComments(c){let{parserOptions:u}=this,l=[];for(let d=c.nextCharacterToken;d!==null;d=c.nextCharacterToken)if(s.Token.isTokenComment(d,u)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:l};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:l};c.truncateToCursor()}else if(!this.parseRow(c,l))break;return{line:c.line,rows:l}}parseRow(c,u){if(!c.nextNonSpaceToken)return!1;let l=this.rowParser.parse(c);return l!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(l)||u.push(l),!0)}}n.Parser=o},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;let r=t("./column"),i=t("./Token");n.RowParser=class{constructor(s){this.parserOptions=s,this.columnParser=new r.ColumnParser(s)}static isEmptyRow(s){return s.join("").replace(/\s+/g,"")===""}parse(s){let{parserOptions:o}=this,{hasMoreData:a}=s,c=s,u=[],l=this.getStartToken(c,u);for(;l;){if(i.Token.isTokenRowDelimiter(l))return c.advancePastToken(l),!c.hasMoreCharacters&&i.Token.isTokenCarriageReturn(l,o)&&a?null:(c.truncateToCursor(),u);if(!this.shouldSkipColumnParse(c,l,u)){let d=this.columnParser.parse(c);if(d===null)return null;u.push(d)}l=c.nextNonSpaceToken}return a?null:(c.truncateToCursor(),u)}getStartToken(s,o){let a=s.nextNonSpaceToken;return a!==null&&i.Token.isTokenDelimiter(a,this.parserOptions)?(o.push(""),s.nextNonSpaceToken):a}shouldSkipColumnParse(s,o,a){let{parserOptions:c}=this;if(i.Token.isTokenDelimiter(o,c)){s.advancePastToken(o);let u=s.nextCharacterToken;if(!s.hasMoreCharacters||u!==null&&i.Token.isTokenRowDelimiter(u)||u!==null&&i.Token.isTokenDelimiter(u,c))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;let r=t("./Token"),i=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(s){this.cursor=0,this.line=s.line,this.lineLength=this.line.length,this.parserOptions=s.parserOptions,this.hasMoreData=s.hasMoreData,this.cursor=s.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:s}=this,o=this.parserOptions.NEXT_TOKEN_REGEXP;if(s.search(o)===-1)return null;let a=o.exec(s);if(a==null)return null;let c=a[1],u=this.cursor+(a.index||0);return new r.Token({token:c,startCursor:u,endCursor:u+c.length-1})}get nextCharacterToken(){let{cursor:s,lineLength:o}=this;return o<=s?null:new r.Token({token:this.line[s],startCursor:s,endCursor:s})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let s=i.exec(this.lineFromCursor);return s?(this.cursor+=(s.index||0)+s[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(s){return this.cursor=s,this}advanceToToken(s){return this.cursor=s.startCursor,this}advancePastToken(s){return this.cursor=s.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(r){this.token=r.token,this.startCursor=r.startCursor,this.endCursor=r.endCursor}static isTokenRowDelimiter(r){let i=r.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(r,i){return r.token===i.carriageReturn}static isTokenComment(r,i){return i.supportsComments&&!!r&&r.token===i.comment}static isTokenEscapeCharacter(r,i){return r.token===i.escapeChar}static isTokenQuote(r,i){return r.token===i.quote}static isTokenDelimiter(r,i){return r.token===i.delimiter}}},{}],160:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(r){r.trim?this.format=i=>i.trim():r.ltrim?this.format=i=>i.trimLeft():r.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;let r=t("./NonQuotedColumnParser"),i=t("./QuotedColumnParser"),s=t("../Token");n.ColumnParser=class{constructor(o){this.parserOptions=o,this.quotedColumnParser=new i.QuotedColumnParser(o),this.nonQuotedColumnParser=new r.NonQuotedColumnParser(o)}parse(o){let{nextNonSpaceToken:a}=o;return a!==null&&s.Token.isTokenQuote(a,this.parserOptions)?(o.advanceToToken(a),this.quotedColumnParser.parse(o)):this.nonQuotedColumnParser.parse(o)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;let r=t("./ColumnFormatter"),i=t("../Token");n.NonQuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let{parserOptions:o}=this,a=[],c=s.nextCharacterToken;for(;c&&!i.Token.isTokenDelimiter(c,o)&&!i.Token.isTokenRowDelimiter(c);c=s.nextCharacterToken)a.push(c.token),s.advancePastToken(c);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;let r=t("./ColumnFormatter"),i=t("../Token");n.QuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let o=s.cursor,{foundClosingQuote:a,col:c}=this.gatherDataBetweenQuotes(s);if(!a){if(s.advanceTo(o),!s.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${s.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(s),c}gatherDataBetweenQuotes(s){let{parserOptions:o}=this,a=!1,c=!1,u=[],l=s.nextCharacterToken;for(;!c&&l!==null;l=s.nextCharacterToken){let d=i.Token.isTokenQuote(l,o);if(!a&&d)a=!0;else if(a)if(i.Token.isTokenEscapeCharacter(l,o)){s.advancePastToken(l);let f=s.nextCharacterToken;f!==null&&(i.Token.isTokenQuote(f,o)||i.Token.isTokenEscapeCharacter(f,o))?(u.push(f.token),l=f):d?c=!0:u.push(l.token)}else d?c=!0:u.push(l.token);s.advancePastToken(l)}return{col:this.columnFormatter.format(u.join("")),foundClosingQuote:c}}checkForMalformedColumn(s){let{parserOptions:o}=this,{nextNonSpaceToken:a}=s;if(a){let c=i.Token.isTokenDelimiter(a,o),u=i.Token.isTokenRowDelimiter(a);if(!c&&!u){let l=s.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${o.escapedDelimiter}' OR new line got: '${a.token}'. at '${l}`)}s.advanceToToken(a)}else s.hasMoreData||s.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var r=t("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}});var i=t("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var s=t("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}});var o=t("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return o.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var r=t("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=t("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var s=t("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return s.Scanner}});var o=t("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return o.Token}});var a=t("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,e,n){"use strict";var r=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;let i=r(t("lodash.isundefined")),s=r(t("lodash.isfunction")),o=r(t("lodash.uniq")),a=r(t("lodash.groupby"));n.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):s.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,u){return this.shouldMapRow(c)?u(null,this.processRow(c)):u(null,{row:null,isValid:!0})}shouldMapRow(c){let{parserOptions:u}=this;if(!this.headersTransform&&u.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};let{parserOptions:u}=this;if(!u.discardUnmappedColumns&&c.length>this.headersLength){if(!u.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return u.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){let u={},{headers:l,headersLength:d}=this;for(let f=0;f<d;f+=1){let p=l[f];if(!i.default(p)){let h=c[f];i.default(h)?u[p]="":u[p]=h}}return u}setHeaders(c){var u;let l=c.filter(d=>!!d);if(o.default(l).length!==l.length){let d=a.default(l),f=Object.keys(d).filter(p=>d[p].length>1);throw new Error("Duplicate headers found "+JSON.stringify(f))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((u=this.headers)===null||u===void 0?void 0:u.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,e,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;let i=r(t("lodash.isfunction")),s=t("../types");class o{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return s.isSyncTransform(c)?(u,l)=>{let d=null;try{d=c(u)}catch(f){return l(f)}return l(null,d)}:c}static createValidator(c){return s.isSyncValidate(c)?(u,l)=>{l(null,{row:u,isValid:c(u)})}:(u,l)=>{c(u,(d,f,p)=>d?l(d):l(null,f?{row:u,isValid:f,reason:p}:{row:u,isValid:!1,reason:p}))}}set rowTransform(c){if(!i.default(c))throw new TypeError("The transform should be a function");this._rowTransform=o.createTransform(c)}set rowValidator(c){if(!i.default(c))throw new TypeError("The validate should be a function");this._rowValidator=o.createValidator(c)}transformAndValidate(c,u){return this.callTransformer(c,(l,d)=>l?u(l):d?this.callValidator(d,(f,p)=>f?u(f):p&&!p.isValid?u(null,{row:d,isValid:!1,reason:p.reason}):u(null,{row:d,isValid:!0})):u(null,{row:null,isValid:!0}))}callTransformer(c,u){return this._rowTransform?this._rowTransform(c,u):u(null,c)}callValidator(c,u){return this._rowValidator?this._rowValidator(c,u):u(null,{row:c,isValid:!0})}}n.RowTransformerValidator=o},{"../types":169,"lodash.isfunction":446}],168:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var r=t("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return r.RowTransformerValidator}});var i=t("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1,n.isSyncValidate=r=>r.length===1},{}],170:[function(t,e,n){"use strict";let r=n;r.bignum=t("bn.js"),r.define=t("./asn1/api").define,r.base=t("./asn1/base"),r.constants=t("./asn1/constants"),r.decoders=t("./asn1/decoders"),r.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,e,n){"use strict";let r=t("./encoders"),i=t("./decoders"),s=t("inherits");function o(a,c){this.name=a,this.body=c,this.decoders={},this.encoders={}}n.define=function(a,c){return new o(a,c)},o.prototype._createNamed=function(a){let c=this.name;function u(l){this._initNamed(l,c)}return s(u,a),u.prototype._initNamed=function(l,d){a.call(this,l,d)},new u(this)},o.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(i[a])),this.decoders[a]},o.prototype.decode=function(a,c,u){return this._getDecoder(c).decode(a,u)},o.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(r[a])),this.encoders[a]},o.prototype.encode=function(a,c,u){return this._getEncoder(c).encode(a,u)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,e,n){"use strict";let r=t("inherits"),i=t("../base/reporter").Reporter,s=t("safer-buffer").Buffer;function o(c,u){i.call(this,u),s.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function a(c,u){if(Array.isArray(c))this.length=0,this.value=c.map(function(l){return a.isEncoderBuffer(l)||(l=new a(l,u)),this.length+=l.length,l},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return u.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=s.byteLength(c);else{if(!s.isBuffer(c))return u.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}r(o,i),n.DecoderBuffer=o,o.isDecoderBuffer=function(c){return c instanceof o?!0:typeof c=="object"&&s.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(c){let u=new o(this.base);return u.offset=c.offset,u.length=this.offset,this.offset=c.offset,i.prototype.restore.call(this,c.reporter),u},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},o.prototype.skip=function(c,u){if(!(this.offset+c<=this.length))return this.error(u||"DecoderBuffer overrun");let l=new o(this.base);return l._reporterState=this._reporterState,l.offset=this.offset,l.length=this.offset+c,this.offset+=c,l},o.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},n.EncoderBuffer=a,a.isEncoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},a.prototype.join=function(c,u){return c||(c=s.alloc(this.length)),u||(u=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(l){l.join(c,u),u+=l.length}):(typeof this.value=="number"?c[u]=this.value:typeof this.value=="string"?c.write(this.value,u):s.isBuffer(this.value)&&this.value.copy(c,u),u+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,e,n){"use strict";let r=n;r.Reporter=t("./reporter").Reporter,r.DecoderBuffer=t("./buffer").DecoderBuffer,r.EncoderBuffer=t("./buffer").EncoderBuffer,r.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,e,n){"use strict";let r=t("../base/reporter").Reporter,i=t("../base/buffer").EncoderBuffer,s=t("../base/buffer").DecoderBuffer,o=t("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(d,f,p){let h={};this._baseState=h,h.name=p,h.enc=d,h.parent=f||null,h.children=null,h.tag=null,h.args=null,h.reverseArgs=null,h.choice=null,h.optional=!1,h.any=!1,h.obj=!1,h.use=null,h.useDecoder=null,h.key=null,h.default=null,h.explicit=null,h.implicit=null,h.contains=null,h.parent||(h.children=[],this._wrap())}e.exports=u;let l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){let d=this._baseState,f={};l.forEach(function(h){f[h]=d[h]});let p=new this.constructor(f.parent);return p._baseState=f,p},u.prototype._wrap=function(){let d=this._baseState;c.forEach(function(f){this[f]=function(){let p=new this.constructor(this);return d.children.push(p),p[f].apply(p,arguments)}},this)},u.prototype._init=function(d){let f=this._baseState;o(f.parent===null),d.call(this),f.children=f.children.filter(function(p){return p._baseState.parent===this},this),o.equal(f.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(d){let f=this._baseState,p=d.filter(function(h){return h instanceof this.constructor},this);d=d.filter(function(h){return!(h instanceof this.constructor)},this),p.length!==0&&(o(f.children===null),f.children=p,p.forEach(function(h){h._baseState.parent=this},this)),d.length!==0&&(o(f.args===null),f.args=d,f.reverseArgs=d.map(function(h){if(typeof h!="object"||h.constructor!==Object)return h;let y={};return Object.keys(h).forEach(function(g){g==(0|g)&&(g|=0);let _=h[g];y[_]=g}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){u.prototype[d]=function(){let f=this._baseState;throw new Error(d+" not implemented for encoding: "+f.enc)}}),a.forEach(function(d){u.prototype[d]=function(){let f=this._baseState,p=Array.prototype.slice.call(arguments);return o(f.tag===null),f.tag=d,this._useArgs(p),this}}),u.prototype.use=function(d){o(d);let f=this._baseState;return o(f.use===null),f.use=d,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(d){let f=this._baseState;return o(f.default===null),f.default=d,f.optional=!0,this},u.prototype.explicit=function(d){let f=this._baseState;return o(f.explicit===null&&f.implicit===null),f.explicit=d,this},u.prototype.implicit=function(d){let f=this._baseState;return o(f.explicit===null&&f.implicit===null),f.implicit=d,this},u.prototype.obj=function(){let d=this._baseState,f=Array.prototype.slice.call(arguments);return d.obj=!0,f.length!==0&&this._useArgs(f),this},u.prototype.key=function(d){let f=this._baseState;return o(f.key===null),f.key=d,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(d){let f=this._baseState;return o(f.choice===null),f.choice=d,this._useArgs(Object.keys(d).map(function(p){return d[p]})),this},u.prototype.contains=function(d){let f=this._baseState;return o(f.use===null),f.contains=d,this},u.prototype._decode=function(d,f){let p=this._baseState;if(p.parent===null)return d.wrapResult(p.children[0]._decode(d,f));let h,y=p.default,g=!0,_=null;if(p.key!==null&&(_=d.enterKey(p.key)),p.optional){let x=null;if(p.explicit!==null?x=p.explicit:p.implicit!==null?x=p.implicit:p.tag!==null&&(x=p.tag),x!==null||p.any){if(g=this._peekTag(d,x,p.any),d.isError(g))return g}else{let k=d.save();try{p.choice===null?this._decodeGeneric(p.tag,d,f):this._decodeChoice(d,f),g=!0}catch{g=!1}d.restore(k)}}if(p.obj&&g&&(h=d.enterObject()),g){if(p.explicit!==null){let k=this._decodeTag(d,p.explicit);if(d.isError(k))return k;d=k}let x=d.offset;if(p.use===null&&p.choice===null){let k;p.any&&(k=d.save());let L=this._decodeTag(d,p.implicit!==null?p.implicit:p.tag,p.any);if(d.isError(L))return L;p.any?y=d.raw(k):d=L}if(f&&f.track&&p.tag!==null&&f.track(d.path(),x,d.length,"tagged"),f&&f.track&&p.tag!==null&&f.track(d.path(),d.offset,d.length,"content"),p.any||(y=p.choice===null?this._decodeGeneric(p.tag,d,f):this._decodeChoice(d,f)),d.isError(y))return y;if(p.any||p.choice!==null||p.children===null||p.children.forEach(function(k){k._decode(d,f)}),p.contains&&(p.tag==="octstr"||p.tag==="bitstr")){let k=new s(y);y=this._getUse(p.contains,d._reporterState.obj)._decode(k,f)}}return p.obj&&g&&(y=d.leaveObject(h)),p.key===null||y===null&&g!==!0?_!==null&&d.exitKey(_):d.leaveKey(_,p.key,y),y},u.prototype._decodeGeneric=function(d,f,p){let h=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(f,d,h.args[0],p):/str$/.test(d)?this._decodeStr(f,d,p):d==="objid"&&h.args?this._decodeObjid(f,h.args[0],h.args[1],p):d==="objid"?this._decodeObjid(f,null,null,p):d==="gentime"||d==="utctime"?this._decodeTime(f,d,p):d==="null_"?this._decodeNull(f,p):d==="bool"?this._decodeBool(f,p):d==="objDesc"?this._decodeStr(f,d,p):d==="int"||d==="enum"?this._decodeInt(f,h.args&&h.args[0],p):h.use!==null?this._getUse(h.use,f._reporterState.obj)._decode(f,p):f.error("unknown tag: "+d)},u.prototype._getUse=function(d,f){let p=this._baseState;return p.useDecoder=this._use(d,f),o(p.useDecoder._baseState.parent===null),p.useDecoder=p.useDecoder._baseState.children[0],p.implicit!==p.useDecoder._baseState.implicit&&(p.useDecoder=p.useDecoder.clone(),p.useDecoder._baseState.implicit=p.implicit),p.useDecoder},u.prototype._decodeChoice=function(d,f){let p=this._baseState,h=null,y=!1;return Object.keys(p.choice).some(function(g){let _=d.save(),x=p.choice[g];try{let k=x._decode(d,f);if(d.isError(k))return!1;h={type:g,value:k},y=!0}catch{return d.restore(_),!1}return!0},this),y?h:d.error("Choice not matched")},u.prototype._createEncoderBuffer=function(d){return new i(d,this.reporter)},u.prototype._encode=function(d,f,p){let h=this._baseState;if(h.default!==null&&h.default===d)return;let y=this._encodeValue(d,f,p);return y===void 0||this._skipDefault(y,f,p)?void 0:y},u.prototype._encodeValue=function(d,f,p){let h=this._baseState;if(h.parent===null)return h.children[0]._encode(d,f||new r);let y=null;if(this.reporter=f,h.optional&&d===void 0){if(h.default===null)return;d=h.default}let g=null,_=!1;if(h.any)y=this._createEncoderBuffer(d);else if(h.choice)y=this._encodeChoice(d,f);else if(h.contains)g=this._getUse(h.contains,p)._encode(d,f),_=!0;else if(h.children)g=h.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,f,d);if(x._baseState.key===null)return f.error("Child should have a key");let k=f.enterKey(x._baseState.key);if(typeof d!="object")return f.error("Child expected, but input is not object");let L=x._encode(d[x._baseState.key],f,d);return f.leaveKey(k),L},this).filter(function(x){return x}),g=this._createEncoderBuffer(g);else if(h.tag==="seqof"||h.tag==="setof"){if(!h.args||h.args.length!==1)return f.error("Too many args for : "+h.tag);if(!Array.isArray(d))return f.error("seqof/setof, but data is not Array");let x=this.clone();x._baseState.implicit=null,g=this._createEncoderBuffer(d.map(function(k){let L=this._baseState;return this._getUse(L.args[0],d)._encode(k,f)},x))}else h.use!==null?y=this._getUse(h.use,p)._encode(d,f):(g=this._encodePrimitive(h.tag,d),_=!0);if(!h.any&&h.choice===null){let x=h.implicit!==null?h.implicit:h.tag,k=h.implicit===null?"universal":"context";x===null?h.use===null&&f.error("Tag could be omitted only for .use()"):h.use===null&&(y=this._encodeComposite(x,_,k,g))}return h.explicit!==null&&(y=this._encodeComposite(h.explicit,!1,"context",y)),y},u.prototype._encodeChoice=function(d,f){let p=this._baseState,h=p.choice[d.type];return h||o(!1,d.type+" not found in "+JSON.stringify(Object.keys(p.choice))),h._encode(d.value,f)},u.prototype._encodePrimitive=function(d,f){let p=this._baseState;if(/str$/.test(d))return this._encodeStr(f,d);if(d==="objid"&&p.args)return this._encodeObjid(f,p.reverseArgs[0],p.args[1]);if(d==="objid")return this._encodeObjid(f,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(f,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(f,p.args&&p.reverseArgs[0]);if(d==="bool")return this._encodeBool(f);if(d==="objDesc")return this._encodeStr(f,d);throw new Error("Unsupported tag: "+d)},u.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},u.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,e,n){"use strict";let r=t("inherits");function i(o){this._reporterState={obj:null,path:[],options:o||{},errors:[]}}function s(o,a){this.path=o,this.rethrow(a)}n.Reporter=i,i.prototype.isError=function(o){return o instanceof s},i.prototype.save=function(){let o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},i.prototype.restore=function(o){let a=this._reporterState;a.obj=o.obj,a.path=a.path.slice(0,o.pathLen)},i.prototype.enterKey=function(o){return this._reporterState.path.push(o)},i.prototype.exitKey=function(o){let a=this._reporterState;a.path=a.path.slice(0,o-1)},i.prototype.leaveKey=function(o,a,c){let u=this._reporterState;this.exitKey(o),u.obj!==null&&(u.obj[a]=c)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let o=this._reporterState,a=o.obj;return o.obj={},a},i.prototype.leaveObject=function(o){let a=this._reporterState,c=a.obj;return a.obj=o,c},i.prototype.error=function(o){let a,c=this._reporterState,u=o instanceof s;if(a=u?o:new s(c.path.map(function(l){return"["+JSON.stringify(l)+"]"}).join(""),o.message||o,o.stack),!c.options.partial)throw a;return u||c.errors.push(a),a},i.prototype.wrapResult=function(o){let a=this._reporterState;return a.options.partial?{result:this.isError(o)?null:o,errors:a.errors}:o},r(s,Error),s.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(t,e,n){"use strict";function r(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r(n.tag)},{}],177:[function(t,e,n){"use strict";let r=n;r._reverse=function(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s},r.der=t("./der")},{"./der":176}],178:[function(t,e,n){"use strict";let r=t("inherits"),i=t("bn.js"),s=t("../base/buffer").DecoderBuffer,o=t("../base/node"),a=t("../constants/der");function c(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){o.call(this,"der",f)}function l(f,p){let h=f.readUInt8(p);if(f.isError(h))return h;let y=a.tagClass[h>>6],g=(32&h)==0;if((31&h)==31){let _=h;for(h=0;(128&_)==128;){if(_=f.readUInt8(p),f.isError(_))return _;h<<=7,h|=127&_}}else h&=31;return{cls:y,primitive:g,tag:h,tagStr:a.tag[h]}}function d(f,p,h){let y=f.readUInt8(h);if(f.isError(y))return y;if(!p&&y===128)return null;if((128&y)==0)return y;let g=127&y;if(g>4)return f.error("length octect is too long");y=0;for(let _=0;_<g;_++){y<<=8;let x=f.readUInt8(h);if(f.isError(x))return x;y|=x}return y}e.exports=c,c.prototype.decode=function(f,p){return s.isDecoderBuffer(f)||(f=new s(f,p)),this.tree._decode(f,p)},r(u,o),u.prototype._peekTag=function(f,p,h){if(f.isEmpty())return!1;let y=f.save(),g=l(f,'Failed to peek tag: "'+p+'"');return f.isError(g)?g:(f.restore(y),g.tag===p||g.tagStr===p||g.tagStr+"of"===p||h)},u.prototype._decodeTag=function(f,p,h){let y=l(f,'Failed to decode tag of "'+p+'"');if(f.isError(y))return y;let g=d(f,y.primitive,'Failed to get length of "'+p+'"');if(f.isError(g))return g;if(!h&&y.tag!==p&&y.tagStr!==p&&y.tagStr+"of"!==p)return f.error('Failed to match tag: "'+p+'"');if(y.primitive||g!==null)return f.skip(g,'Failed to match body of: "'+p+'"');let _=f.save(),x=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(x)?x:(g=f.offset-_.offset,f.restore(_),f.skip(g,'Failed to match body of: "'+p+'"'))},u.prototype._skipUntilEnd=function(f,p){for(;;){let h=l(f,p);if(f.isError(h))return h;let y=d(f,h.primitive,p);if(f.isError(y))return y;let g;if(g=h.primitive||y!==null?f.skip(y):this._skipUntilEnd(f,p),f.isError(g))return g;if(h.tagStr==="end")break}},u.prototype._decodeList=function(f,p,h,y){let g=[];for(;!f.isEmpty();){let _=this._peekTag(f,"end");if(f.isError(_))return _;let x=h.decode(f,"der",y);if(f.isError(x)&&_)break;g.push(x)}return g},u.prototype._decodeStr=function(f,p){if(p==="bitstr"){let h=f.readUInt8();return f.isError(h)?h:{unused:h,data:f.raw()}}if(p==="bmpstr"){let h=f.raw();if(h.length%2==1)return f.error("Decoding of string type: bmpstr length mismatch");let y="";for(let g=0;g<h.length/2;g++)y+=String.fromCharCode(h.readUInt16BE(2*g));return y}if(p==="numstr"){let h=f.raw().toString("ascii");return this._isNumstr(h)?h:f.error("Decoding of string type: numstr unsupported characters")}if(p==="octstr"||p==="objDesc")return f.raw();if(p==="printstr"){let h=f.raw().toString("ascii");return this._isPrintstr(h)?h:f.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(p)?f.raw().toString():f.error("Decoding of string type: "+p+" unsupported")},u.prototype._decodeObjid=function(f,p,h){let y,g=[],_=0,x=0;for(;!f.isEmpty();)x=f.readUInt8(),_<<=7,_|=127&x,(128&x)==0&&(g.push(_),_=0);128&x&&g.push(_);let k=g[0]/40|0,L=g[0]%40;if(y=h?g:[k,L].concat(g.slice(1)),p){let B=p[y.join(" ")];B===void 0&&(B=p[y.join(".")]),B!==void 0&&(y=B)}return y},u.prototype._decodeTime=function(f,p){let h=f.raw().toString(),y,g,_,x,k,L;if(p==="gentime")y=0|h.slice(0,4),g=0|h.slice(4,6),_=0|h.slice(6,8),x=0|h.slice(8,10),k=0|h.slice(10,12),L=0|h.slice(12,14);else{if(p!=="utctime")return f.error("Decoding "+p+" time is not supported yet");y=0|h.slice(0,2),g=0|h.slice(2,4),_=0|h.slice(4,6),x=0|h.slice(6,8),k=0|h.slice(8,10),L=0|h.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,g-1,_,x,k,L,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(f){let p=f.readUInt8();return f.isError(p)?p:p!==0},u.prototype._decodeInt=function(f,p){let h=f.raw(),y=new i(h);return p&&(y=p[y.toString(10)]||y),y},u.prototype._use=function(f,p){return typeof f=="function"&&(f=f(p)),f._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,e,n){"use strict";let r=n;r.der=t("./der"),r.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,e,n){"use strict";let r=t("inherits"),i=t("safer-buffer").Buffer,s=t("./der");function o(a){s.call(this,a),this.enc="pem"}r(o,s),e.exports=o,o.prototype.decode=function(a,c){let u=a.toString().split(/[\r\n]+/g),l=c.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,p=-1;for(let g=0;g<u.length;g++){let _=u[g].match(d);if(_!==null&&_[2]===l){if(f!==-1){if(_[1]!=="END")break;p=g;break}if(_[1]!=="BEGIN")break;f=g}}if(f===-1||p===-1)throw new Error("PEM section not found for: "+l);let h=u.slice(f+1,p).join("");h.replace(/[^a-z0-9+/=]+/gi,"");let y=i.from(h,"base64");return s.prototype.decode.call(this,y,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,e,n){"use strict";let r=t("inherits"),i=t("safer-buffer").Buffer,s=t("../base/node"),o=t("../constants/der");function a(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new c,this.tree._init(l.body)}function c(l){s.call(this,"der",l)}function u(l){return l<10?"0"+l:l}e.exports=a,a.prototype.encode=function(l,d){return this.tree._encode(l,d).join()},r(c,s),c.prototype._encodeComposite=function(l,d,f,p){let h=(function(_,x,k,L){let B;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),o.tagByName.hasOwnProperty(_))B=o.tagByName[_];else{if(typeof _!="number"||(0|_)!==_)return L.error("Unknown tag: "+_);B=_}return B>=31?L.error("Multi-octet tag encoding unsupported"):(x||(B|=32),B|=o.tagClassByName[k||"universal"]<<6,B)})(l,d,f,this.reporter);if(p.length<128){let _=i.alloc(2);return _[0]=h,_[1]=p.length,this._createEncoderBuffer([_,p])}let y=1;for(let _=p.length;_>=256;_>>=8)y++;let g=i.alloc(2+y);g[0]=h,g[1]=128|y;for(let _=1+y,x=p.length;x>0;_--,x>>=8)g[_]=255&x;return this._createEncoderBuffer([g,p])},c.prototype._encodeStr=function(l,d){if(d==="bitstr")return this._createEncoderBuffer([0|l.unused,l.data]);if(d==="bmpstr"){let f=i.alloc(2*l.length);for(let p=0;p<l.length;p++)f.writeUInt16BE(l.charCodeAt(p),2*p);return this._createEncoderBuffer(f)}return d==="numstr"?this._isNumstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: "+d+" unsupported")},c.prototype._encodeObjid=function(l,d,f){if(typeof l=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(l))return this.reporter.error("objid not found in values map");l=d[l].split(/[\s.]+/g);for(let g=0;g<l.length;g++)l[g]|=0}else if(Array.isArray(l)){l=l.slice();for(let g=0;g<l.length;g++)l[g]|=0}if(!Array.isArray(l))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(l));if(!f){if(l[1]>=40)return this.reporter.error("Second objid identifier OOB");l.splice(0,2,40*l[0]+l[1])}let p=0;for(let g=0;g<l.length;g++){let _=l[g];for(p++;_>=128;_>>=7)p++}let h=i.alloc(p),y=h.length-1;for(let g=l.length-1;g>=0;g--){let _=l[g];for(h[y--]=127&_;(_>>=7)>0;)h[y--]=128|127&_}return this._createEncoderBuffer(h)},c.prototype._encodeTime=function(l,d){let f,p=new Date(l);return d==="gentime"?f=[u(p.getUTCFullYear()),u(p.getUTCMonth()+1),u(p.getUTCDate()),u(p.getUTCHours()),u(p.getUTCMinutes()),u(p.getUTCSeconds()),"Z"].join(""):d==="utctime"?f=[u(p.getUTCFullYear()%100),u(p.getUTCMonth()+1),u(p.getUTCDate()),u(p.getUTCHours()),u(p.getUTCMinutes()),u(p.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(f,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(l,d){if(typeof l=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(l))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(l));l=d[l]}if(typeof l!="number"&&!i.isBuffer(l)){let h=l.toArray();!l.sign&&128&h[0]&&h.unshift(0),l=i.from(h)}if(i.isBuffer(l)){let h=l.length;l.length===0&&h++;let y=i.alloc(h);return l.copy(y),l.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(l<128)return this._createEncoderBuffer(l);if(l<256)return this._createEncoderBuffer([0,l]);let f=1;for(let h=l;h>=256;h>>=8)f++;let p=new Array(f);for(let h=p.length-1;h>=0;h--)p[h]=255&l,l>>=8;return 128&p[0]&&p.unshift(0),this._createEncoderBuffer(i.from(p))},c.prototype._encodeBool=function(l){return this._createEncoderBuffer(l?255:0)},c.prototype._use=function(l,d){return typeof l=="function"&&(l=l(d)),l._getEncoder("der").tree},c.prototype._skipDefault=function(l,d,f){let p=this._baseState,h;if(p.default===null)return!1;let y=l.join();if(p.defaultBuffer===void 0&&(p.defaultBuffer=this._encodeValue(p.default,d,f).join()),y.length!==p.defaultBuffer.length)return!1;for(h=0;h<y.length;h++)if(y[h]!==p.defaultBuffer[h])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,e,n){"use strict";let r=n;r.der=t("./der"),r.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,e,n){"use strict";let r=t("inherits"),i=t("./der");function s(o){i.call(this,o),this.enc="pem"}r(s,i),e.exports=s,s.prototype.encode=function(o,a){let c=i.prototype.encode.call(this,o).toString("base64"),u=["-----BEGIN "+a.label+"-----"];for(let l=0;l<c.length;l+=64)u.push(c.slice(l,l+64));return u.push("-----END "+a.label+"-----"),u.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,e,n){"use strict";(function(r,i){function s(E,S){if(!E)throw new Error(S||"Assertion failed")}function o(E,S){E.super_=S;var D=function(){};D.prototype=S.prototype,E.prototype=new D,E.prototype.constructor=E}function a(E,S,D){if(a.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(S!=="le"&&S!=="be"||(D=S,S=10),this._init(E||0,S||10,D||"be"))}var c;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function u(E,S){var D=E.charCodeAt(S);return D>=65&&D<=70?D-55:D>=97&&D<=102?D-87:D-48&15}function l(E,S,D){var m=u(E,D);return D-1>=S&&(m|=u(E,D-1)<<4),m}function d(E,S,D,m){for(var v=0,w=Math.min(E.length,D),b=S;b<w;b++){var C=E.charCodeAt(b)-48;v*=m,v+=C>=49?C-49+10:C>=17?C-17+10:C}return v}a.isBN=function(E){return E instanceof a||E!==null&&typeof E=="object"&&E.constructor.wordSize===a.wordSize&&Array.isArray(E.words)},a.max=function(E,S){return E.cmp(S)>0?E:S},a.min=function(E,S){return E.cmp(S)<0?E:S},a.prototype._init=function(E,S,D){if(typeof E=="number")return this._initNumber(E,S,D);if(typeof E=="object")return this._initArray(E,S,D);S==="hex"&&(S=16),s(S===(0|S)&&S>=2&&S<=36);var m=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(m++,this.negative=1),m<E.length&&(S===16?this._parseHex(E,m,D):(this._parseBase(E,S,m),D==="le"&&this._initArray(this.toArray(),S,D)))},a.prototype._initNumber=function(E,S,D){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(s(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),S,D)},a.prototype._initArray=function(E,S,D){if(s(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,w,b=0;if(D==="be")for(m=E.length-1,v=0;m>=0;m-=3)w=E[m]|E[m-1]<<8|E[m-2]<<16,this.words[v]|=w<<b&67108863,this.words[v+1]=w>>>26-b&67108863,(b+=24)>=26&&(b-=26,v++);else if(D==="le")for(m=0,v=0;m<E.length;m+=3)w=E[m]|E[m+1]<<8|E[m+2]<<16,this.words[v]|=w<<b&67108863,this.words[v+1]=w>>>26-b&67108863,(b+=24)>=26&&(b-=26,v++);return this.strip()},a.prototype._parseHex=function(E,S,D){this.length=Math.ceil((E.length-S)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,w=0,b=0;if(D==="be")for(m=E.length-1;m>=S;m-=2)v=l(E,S,m)<<w,this.words[b]|=67108863&v,w>=18?(w-=18,b+=1,this.words[b]|=v>>>26):w+=8;else for(m=(E.length-S)%2==0?S+1:S;m<E.length;m+=2)v=l(E,S,m)<<w,this.words[b]|=67108863&v,w>=18?(w-=18,b+=1,this.words[b]|=v>>>26):w+=8;this.strip()},a.prototype._parseBase=function(E,S,D){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=S)m++;m--,v=v/S|0;for(var w=E.length-D,b=w%m,C=Math.min(w,w-b)+D,I=0,F=D;F<C;F+=m)I=d(E,F,F+m,S),this.imuln(v),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(b!==0){var $=1;for(I=d(E,F,E.length,S),F=0;F<b;F++)$*=S;this.imuln($),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},a.prototype.copy=function(E){E.words=new Array(this.length);for(var S=0;S<this.length;S++)E.words[S]=this.words[S];E.length=this.length,E.negative=this.negative,E.red=this.red},a.prototype.clone=function(){var E=new a(null);return this.copy(E),E},a.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(E,S,D){D.negative=S.negative^E.negative;var m=E.length+S.length|0;D.length=m,m=m-1|0;var v=0|E.words[0],w=0|S.words[0],b=v*w,C=67108863&b,I=b/67108864|0;D.words[0]=C;for(var F=1;F<m;F++){for(var $=I>>>26,z=67108863&I,Y=Math.min(F,S.length-1),O=Math.max(0,F-E.length+1);O<=Y;O++){var W=F-O|0;$+=(b=(v=0|E.words[W])*(w=0|S.words[O])+z)/67108864|0,z=67108863&b}D.words[F]=0|z,I=0|$}return I!==0?D.words[F]=0|I:D.length--,D.strip()}a.prototype.toString=function(E,S){var D;if(S=0|S||1,(E=E||10)===16||E==="hex"){D="";for(var m=0,v=0,w=0;w<this.length;w++){var b=this.words[w],C=(16777215&(b<<m|v)).toString(16);D=(v=b>>>24-m&16777215)!==0||w!==this.length-1?f[6-C.length]+C+D:C+D,(m+=2)>=26&&(m-=26,w--)}for(v!==0&&(D=v.toString(16)+D);D.length%S!=0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(E===(0|E)&&E>=2&&E<=36){var I=p[E],F=h[E];D="";var $=this.clone();for($.negative=0;!$.isZero();){var z=$.modn(F).toString(E);D=($=$.idivn(F)).isZero()?z+D:f[I-z.length]+z+D}for(this.isZero()&&(D="0"+D);D.length%S!=0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(E,S){return s(c!==void 0),this.toArrayLike(c,E,S)},a.prototype.toArray=function(E,S){return this.toArrayLike(Array,E,S)},a.prototype.toArrayLike=function(E,S,D){var m=this.byteLength(),v=D||Math.max(1,m);s(m<=v,"byte array longer than desired length"),s(v>0,"Requested array length <= 0"),this.strip();var w,b,C=S==="le",I=new E(v),F=this.clone();if(C){for(b=0;!F.isZero();b++)w=F.andln(255),F.iushrn(8),I[b]=w;for(;b<v;b++)I[b]=0}else{for(b=0;b<v-m;b++)I[b]=0;for(b=0;!F.isZero();b++)w=F.andln(255),F.iushrn(8),I[v-b-1]=w}return I},Math.clz32?a.prototype._countBits=function(E){return 32-Math.clz32(E)}:a.prototype._countBits=function(E){var S=E,D=0;return S>=4096&&(D+=13,S>>>=13),S>=64&&(D+=7,S>>>=7),S>=8&&(D+=4,S>>>=4),S>=2&&(D+=2,S>>>=2),D+S},a.prototype._zeroBits=function(E){if(E===0)return 26;var S=E,D=0;return(8191&S)==0&&(D+=13,S>>>=13),(127&S)==0&&(D+=7,S>>>=7),(15&S)==0&&(D+=4,S>>>=4),(3&S)==0&&(D+=2,S>>>=2),(1&S)==0&&D++,D},a.prototype.bitLength=function(){var E=this.words[this.length-1],S=this._countBits(E);return 26*(this.length-1)+S},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,S=0;S<this.length;S++){var D=this._zeroBits(this.words[S]);if(E+=D,D!==26)break}return E},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},a.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var S=0;S<E.length;S++)this.words[S]=this.words[S]|E.words[S];return this.strip()},a.prototype.ior=function(E){return s((this.negative|E.negative)==0),this.iuor(E)},a.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},a.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},a.prototype.iuand=function(E){var S;S=this.length>E.length?E:this;for(var D=0;D<S.length;D++)this.words[D]=this.words[D]&E.words[D];return this.length=S.length,this.strip()},a.prototype.iand=function(E){return s((this.negative|E.negative)==0),this.iuand(E)},a.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},a.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},a.prototype.iuxor=function(E){var S,D;this.length>E.length?(S=this,D=E):(S=E,D=this);for(var m=0;m<D.length;m++)this.words[m]=S.words[m]^D.words[m];if(this!==S)for(;m<S.length;m++)this.words[m]=S.words[m];return this.length=S.length,this.strip()},a.prototype.ixor=function(E){return s((this.negative|E.negative)==0),this.iuxor(E)},a.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},a.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},a.prototype.inotn=function(E){s(typeof E=="number"&&E>=0);var S=0|Math.ceil(E/26),D=E%26;this._expand(S),D>0&&S--;for(var m=0;m<S;m++)this.words[m]=67108863&~this.words[m];return D>0&&(this.words[m]=~this.words[m]&67108863>>26-D),this.strip()},a.prototype.notn=function(E){return this.clone().inotn(E)},a.prototype.setn=function(E,S){s(typeof E=="number"&&E>=0);var D=E/26|0,m=E%26;return this._expand(D+1),this.words[D]=S?this.words[D]|1<<m:this.words[D]&~(1<<m),this.strip()},a.prototype.iadd=function(E){var S,D,m;if(this.negative!==0&&E.negative===0)return this.negative=0,S=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,S=this.isub(E),E.negative=1,S._normSign();this.length>E.length?(D=this,m=E):(D=E,m=this);for(var v=0,w=0;w<m.length;w++)S=(0|D.words[w])+(0|m.words[w])+v,this.words[w]=67108863&S,v=S>>>26;for(;v!==0&&w<D.length;w++)S=(0|D.words[w])+v,this.words[w]=67108863&S,v=S>>>26;if(this.length=D.length,v!==0)this.words[this.length]=v,this.length++;else if(D!==this)for(;w<D.length;w++)this.words[w]=D.words[w];return this},a.prototype.add=function(E){var S;return E.negative!==0&&this.negative===0?(E.negative=0,S=this.sub(E),E.negative^=1,S):E.negative===0&&this.negative!==0?(this.negative=0,S=E.sub(this),this.negative=1,S):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},a.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var S=this.iadd(E);return E.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var D,m,v=this.cmp(E);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(D=this,m=E):(D=E,m=this);for(var w=0,b=0;b<m.length;b++)w=(S=(0|D.words[b])-(0|m.words[b])+w)>>26,this.words[b]=67108863&S;for(;w!==0&&b<D.length;b++)w=(S=(0|D.words[b])+w)>>26,this.words[b]=67108863&S;if(w===0&&b<D.length&&D!==this)for(;b<D.length;b++)this.words[b]=D.words[b];return this.length=Math.max(this.length,b),D!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(E){return this.clone().isub(E)};var g=function(E,S,D){var m,v,w,b=E.words,C=S.words,I=D.words,F=0,$=0|b[0],z=8191&$,Y=$>>>13,O=0|b[1],W=8191&O,M=O>>>13,A=0|b[2],U=8191&A,X=A>>>13,re=0|b[3],Z=8191&re,te=re>>>13,de=0|b[4],le=8191&de,Q=de>>>13,ce=0|b[5],se=8191&ce,ue=ce>>>13,pe=0|b[6],fe=8191&pe,he=pe>>>13,Te=0|b[7],Me=8191&Te,ke=Te>>>13,it=0|b[8],Fe=8191&it,He=it>>>13,Ft=0|b[9],st=8191&Ft,ze=Ft>>>13,lt=0|C[0],Pe=8191&lt,Ne=lt>>>13,At=0|C[1],Ye=8191&At,ut=At>>>13,mr=0|C[2],dt=8191&mr,pt=mr>>>13,Wn=0|C[3],_t=8191&Wn,It=Wn>>>13,In=0|C[4],yt=8191&In,ht=In>>>13,Gn=0|C[5],Tt=8191&Gn,gt=Gn>>>13,Er=0|C[6],Mt=8191&Er,oe=Er>>>13,be=0|C[7],Ce=8191&be,Ae=be>>>13,Zt=0|C[8],Ve=8191&Zt,Ke=Zt>>>13,Jt=0|C[9],ft=8191&Jt,We=Jt>>>13;D.negative=E.negative^S.negative,D.length=19;var dn=(F+(m=Math.imul(z,Pe))|0)+((8191&(v=(v=Math.imul(z,Ne))+Math.imul(Y,Pe)|0))<<13)|0;F=((w=Math.imul(Y,Ne))+(v>>>13)|0)+(dn>>>26)|0,dn&=67108863,m=Math.imul(W,Pe),v=(v=Math.imul(W,Ne))+Math.imul(M,Pe)|0,w=Math.imul(M,Ne);var Bt=(F+(m=m+Math.imul(z,Ye)|0)|0)+((8191&(v=(v=v+Math.imul(z,ut)|0)+Math.imul(Y,Ye)|0))<<13)|0;F=((w=w+Math.imul(Y,ut)|0)+(v>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(U,Pe),v=(v=Math.imul(U,Ne))+Math.imul(X,Pe)|0,w=Math.imul(X,Ne),m=m+Math.imul(W,Ye)|0,v=(v=v+Math.imul(W,ut)|0)+Math.imul(M,Ye)|0,w=w+Math.imul(M,ut)|0;var Ht=(F+(m=m+Math.imul(z,dt)|0)|0)+((8191&(v=(v=v+Math.imul(z,pt)|0)+Math.imul(Y,dt)|0))<<13)|0;F=((w=w+Math.imul(Y,pt)|0)+(v>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,m=Math.imul(Z,Pe),v=(v=Math.imul(Z,Ne))+Math.imul(te,Pe)|0,w=Math.imul(te,Ne),m=m+Math.imul(U,Ye)|0,v=(v=v+Math.imul(U,ut)|0)+Math.imul(X,Ye)|0,w=w+Math.imul(X,ut)|0,m=m+Math.imul(W,dt)|0,v=(v=v+Math.imul(W,pt)|0)+Math.imul(M,dt)|0,w=w+Math.imul(M,pt)|0;var wn=(F+(m=m+Math.imul(z,_t)|0)|0)+((8191&(v=(v=v+Math.imul(z,It)|0)+Math.imul(Y,_t)|0))<<13)|0;F=((w=w+Math.imul(Y,It)|0)+(v>>>13)|0)+(wn>>>26)|0,wn&=67108863,m=Math.imul(le,Pe),v=(v=Math.imul(le,Ne))+Math.imul(Q,Pe)|0,w=Math.imul(Q,Ne),m=m+Math.imul(Z,Ye)|0,v=(v=v+Math.imul(Z,ut)|0)+Math.imul(te,Ye)|0,w=w+Math.imul(te,ut)|0,m=m+Math.imul(U,dt)|0,v=(v=v+Math.imul(U,pt)|0)+Math.imul(X,dt)|0,w=w+Math.imul(X,pt)|0,m=m+Math.imul(W,_t)|0,v=(v=v+Math.imul(W,It)|0)+Math.imul(M,_t)|0,w=w+Math.imul(M,It)|0;var On=(F+(m=m+Math.imul(z,yt)|0)|0)+((8191&(v=(v=v+Math.imul(z,ht)|0)+Math.imul(Y,yt)|0))<<13)|0;F=((w=w+Math.imul(Y,ht)|0)+(v>>>13)|0)+(On>>>26)|0,On&=67108863,m=Math.imul(se,Pe),v=(v=Math.imul(se,Ne))+Math.imul(ue,Pe)|0,w=Math.imul(ue,Ne),m=m+Math.imul(le,Ye)|0,v=(v=v+Math.imul(le,ut)|0)+Math.imul(Q,Ye)|0,w=w+Math.imul(Q,ut)|0,m=m+Math.imul(Z,dt)|0,v=(v=v+Math.imul(Z,pt)|0)+Math.imul(te,dt)|0,w=w+Math.imul(te,pt)|0,m=m+Math.imul(U,_t)|0,v=(v=v+Math.imul(U,It)|0)+Math.imul(X,_t)|0,w=w+Math.imul(X,It)|0,m=m+Math.imul(W,yt)|0,v=(v=v+Math.imul(W,ht)|0)+Math.imul(M,yt)|0,w=w+Math.imul(M,ht)|0;var or=(F+(m=m+Math.imul(z,Tt)|0)|0)+((8191&(v=(v=v+Math.imul(z,gt)|0)+Math.imul(Y,Tt)|0))<<13)|0;F=((w=w+Math.imul(Y,gt)|0)+(v>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(fe,Pe),v=(v=Math.imul(fe,Ne))+Math.imul(he,Pe)|0,w=Math.imul(he,Ne),m=m+Math.imul(se,Ye)|0,v=(v=v+Math.imul(se,ut)|0)+Math.imul(ue,Ye)|0,w=w+Math.imul(ue,ut)|0,m=m+Math.imul(le,dt)|0,v=(v=v+Math.imul(le,pt)|0)+Math.imul(Q,dt)|0,w=w+Math.imul(Q,pt)|0,m=m+Math.imul(Z,_t)|0,v=(v=v+Math.imul(Z,It)|0)+Math.imul(te,_t)|0,w=w+Math.imul(te,It)|0,m=m+Math.imul(U,yt)|0,v=(v=v+Math.imul(U,ht)|0)+Math.imul(X,yt)|0,w=w+Math.imul(X,ht)|0,m=m+Math.imul(W,Tt)|0,v=(v=v+Math.imul(W,gt)|0)+Math.imul(M,Tt)|0,w=w+Math.imul(M,gt)|0;var gr=(F+(m=m+Math.imul(z,Mt)|0)|0)+((8191&(v=(v=v+Math.imul(z,oe)|0)+Math.imul(Y,Mt)|0))<<13)|0;F=((w=w+Math.imul(Y,oe)|0)+(v>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(Me,Pe),v=(v=Math.imul(Me,Ne))+Math.imul(ke,Pe)|0,w=Math.imul(ke,Ne),m=m+Math.imul(fe,Ye)|0,v=(v=v+Math.imul(fe,ut)|0)+Math.imul(he,Ye)|0,w=w+Math.imul(he,ut)|0,m=m+Math.imul(se,dt)|0,v=(v=v+Math.imul(se,pt)|0)+Math.imul(ue,dt)|0,w=w+Math.imul(ue,pt)|0,m=m+Math.imul(le,_t)|0,v=(v=v+Math.imul(le,It)|0)+Math.imul(Q,_t)|0,w=w+Math.imul(Q,It)|0,m=m+Math.imul(Z,yt)|0,v=(v=v+Math.imul(Z,ht)|0)+Math.imul(te,yt)|0,w=w+Math.imul(te,ht)|0,m=m+Math.imul(U,Tt)|0,v=(v=v+Math.imul(U,gt)|0)+Math.imul(X,Tt)|0,w=w+Math.imul(X,gt)|0,m=m+Math.imul(W,Mt)|0,v=(v=v+Math.imul(W,oe)|0)+Math.imul(M,Mt)|0,w=w+Math.imul(M,oe)|0;var Xn=(F+(m=m+Math.imul(z,Ce)|0)|0)+((8191&(v=(v=v+Math.imul(z,Ae)|0)+Math.imul(Y,Ce)|0))<<13)|0;F=((w=w+Math.imul(Y,Ae)|0)+(v>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,m=Math.imul(Fe,Pe),v=(v=Math.imul(Fe,Ne))+Math.imul(He,Pe)|0,w=Math.imul(He,Ne),m=m+Math.imul(Me,Ye)|0,v=(v=v+Math.imul(Me,ut)|0)+Math.imul(ke,Ye)|0,w=w+Math.imul(ke,ut)|0,m=m+Math.imul(fe,dt)|0,v=(v=v+Math.imul(fe,pt)|0)+Math.imul(he,dt)|0,w=w+Math.imul(he,pt)|0,m=m+Math.imul(se,_t)|0,v=(v=v+Math.imul(se,It)|0)+Math.imul(ue,_t)|0,w=w+Math.imul(ue,It)|0,m=m+Math.imul(le,yt)|0,v=(v=v+Math.imul(le,ht)|0)+Math.imul(Q,yt)|0,w=w+Math.imul(Q,ht)|0,m=m+Math.imul(Z,Tt)|0,v=(v=v+Math.imul(Z,gt)|0)+Math.imul(te,Tt)|0,w=w+Math.imul(te,gt)|0,m=m+Math.imul(U,Mt)|0,v=(v=v+Math.imul(U,oe)|0)+Math.imul(X,Mt)|0,w=w+Math.imul(X,oe)|0,m=m+Math.imul(W,Ce)|0,v=(v=v+Math.imul(W,Ae)|0)+Math.imul(M,Ce)|0,w=w+Math.imul(M,Ae)|0;var yr=(F+(m=m+Math.imul(z,Ve)|0)|0)+((8191&(v=(v=v+Math.imul(z,Ke)|0)+Math.imul(Y,Ve)|0))<<13)|0;F=((w=w+Math.imul(Y,Ke)|0)+(v>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(st,Pe),v=(v=Math.imul(st,Ne))+Math.imul(ze,Pe)|0,w=Math.imul(ze,Ne),m=m+Math.imul(Fe,Ye)|0,v=(v=v+Math.imul(Fe,ut)|0)+Math.imul(He,Ye)|0,w=w+Math.imul(He,ut)|0,m=m+Math.imul(Me,dt)|0,v=(v=v+Math.imul(Me,pt)|0)+Math.imul(ke,dt)|0,w=w+Math.imul(ke,pt)|0,m=m+Math.imul(fe,_t)|0,v=(v=v+Math.imul(fe,It)|0)+Math.imul(he,_t)|0,w=w+Math.imul(he,It)|0,m=m+Math.imul(se,yt)|0,v=(v=v+Math.imul(se,ht)|0)+Math.imul(ue,yt)|0,w=w+Math.imul(ue,ht)|0,m=m+Math.imul(le,Tt)|0,v=(v=v+Math.imul(le,gt)|0)+Math.imul(Q,Tt)|0,w=w+Math.imul(Q,gt)|0,m=m+Math.imul(Z,Mt)|0,v=(v=v+Math.imul(Z,oe)|0)+Math.imul(te,Mt)|0,w=w+Math.imul(te,oe)|0,m=m+Math.imul(U,Ce)|0,v=(v=v+Math.imul(U,Ae)|0)+Math.imul(X,Ce)|0,w=w+Math.imul(X,Ae)|0,m=m+Math.imul(W,Ve)|0,v=(v=v+Math.imul(W,Ke)|0)+Math.imul(M,Ve)|0,w=w+Math.imul(M,Ke)|0;var ie=(F+(m=m+Math.imul(z,ft)|0)|0)+((8191&(v=(v=v+Math.imul(z,We)|0)+Math.imul(Y,ft)|0))<<13)|0;F=((w=w+Math.imul(Y,We)|0)+(v>>>13)|0)+(ie>>>26)|0,ie&=67108863,m=Math.imul(st,Ye),v=(v=Math.imul(st,ut))+Math.imul(ze,Ye)|0,w=Math.imul(ze,ut),m=m+Math.imul(Fe,dt)|0,v=(v=v+Math.imul(Fe,pt)|0)+Math.imul(He,dt)|0,w=w+Math.imul(He,pt)|0,m=m+Math.imul(Me,_t)|0,v=(v=v+Math.imul(Me,It)|0)+Math.imul(ke,_t)|0,w=w+Math.imul(ke,It)|0,m=m+Math.imul(fe,yt)|0,v=(v=v+Math.imul(fe,ht)|0)+Math.imul(he,yt)|0,w=w+Math.imul(he,ht)|0,m=m+Math.imul(se,Tt)|0,v=(v=v+Math.imul(se,gt)|0)+Math.imul(ue,Tt)|0,w=w+Math.imul(ue,gt)|0,m=m+Math.imul(le,Mt)|0,v=(v=v+Math.imul(le,oe)|0)+Math.imul(Q,Mt)|0,w=w+Math.imul(Q,oe)|0,m=m+Math.imul(Z,Ce)|0,v=(v=v+Math.imul(Z,Ae)|0)+Math.imul(te,Ce)|0,w=w+Math.imul(te,Ae)|0,m=m+Math.imul(U,Ve)|0,v=(v=v+Math.imul(U,Ke)|0)+Math.imul(X,Ve)|0,w=w+Math.imul(X,Ke)|0;var ge=(F+(m=m+Math.imul(W,ft)|0)|0)+((8191&(v=(v=v+Math.imul(W,We)|0)+Math.imul(M,ft)|0))<<13)|0;F=((w=w+Math.imul(M,We)|0)+(v>>>13)|0)+(ge>>>26)|0,ge&=67108863,m=Math.imul(st,dt),v=(v=Math.imul(st,pt))+Math.imul(ze,dt)|0,w=Math.imul(ze,pt),m=m+Math.imul(Fe,_t)|0,v=(v=v+Math.imul(Fe,It)|0)+Math.imul(He,_t)|0,w=w+Math.imul(He,It)|0,m=m+Math.imul(Me,yt)|0,v=(v=v+Math.imul(Me,ht)|0)+Math.imul(ke,yt)|0,w=w+Math.imul(ke,ht)|0,m=m+Math.imul(fe,Tt)|0,v=(v=v+Math.imul(fe,gt)|0)+Math.imul(he,Tt)|0,w=w+Math.imul(he,gt)|0,m=m+Math.imul(se,Mt)|0,v=(v=v+Math.imul(se,oe)|0)+Math.imul(ue,Mt)|0,w=w+Math.imul(ue,oe)|0,m=m+Math.imul(le,Ce)|0,v=(v=v+Math.imul(le,Ae)|0)+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ae)|0,m=m+Math.imul(Z,Ve)|0,v=(v=v+Math.imul(Z,Ke)|0)+Math.imul(te,Ve)|0,w=w+Math.imul(te,Ke)|0;var Ie=(F+(m=m+Math.imul(U,ft)|0)|0)+((8191&(v=(v=v+Math.imul(U,We)|0)+Math.imul(X,ft)|0))<<13)|0;F=((w=w+Math.imul(X,We)|0)+(v>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(st,_t),v=(v=Math.imul(st,It))+Math.imul(ze,_t)|0,w=Math.imul(ze,It),m=m+Math.imul(Fe,yt)|0,v=(v=v+Math.imul(Fe,ht)|0)+Math.imul(He,yt)|0,w=w+Math.imul(He,ht)|0,m=m+Math.imul(Me,Tt)|0,v=(v=v+Math.imul(Me,gt)|0)+Math.imul(ke,Tt)|0,w=w+Math.imul(ke,gt)|0,m=m+Math.imul(fe,Mt)|0,v=(v=v+Math.imul(fe,oe)|0)+Math.imul(he,Mt)|0,w=w+Math.imul(he,oe)|0,m=m+Math.imul(se,Ce)|0,v=(v=v+Math.imul(se,Ae)|0)+Math.imul(ue,Ce)|0,w=w+Math.imul(ue,Ae)|0,m=m+Math.imul(le,Ve)|0,v=(v=v+Math.imul(le,Ke)|0)+Math.imul(Q,Ve)|0,w=w+Math.imul(Q,Ke)|0;var Se=(F+(m=m+Math.imul(Z,ft)|0)|0)+((8191&(v=(v=v+Math.imul(Z,We)|0)+Math.imul(te,ft)|0))<<13)|0;F=((w=w+Math.imul(te,We)|0)+(v>>>13)|0)+(Se>>>26)|0,Se&=67108863,m=Math.imul(st,yt),v=(v=Math.imul(st,ht))+Math.imul(ze,yt)|0,w=Math.imul(ze,ht),m=m+Math.imul(Fe,Tt)|0,v=(v=v+Math.imul(Fe,gt)|0)+Math.imul(He,Tt)|0,w=w+Math.imul(He,gt)|0,m=m+Math.imul(Me,Mt)|0,v=(v=v+Math.imul(Me,oe)|0)+Math.imul(ke,Mt)|0,w=w+Math.imul(ke,oe)|0,m=m+Math.imul(fe,Ce)|0,v=(v=v+Math.imul(fe,Ae)|0)+Math.imul(he,Ce)|0,w=w+Math.imul(he,Ae)|0,m=m+Math.imul(se,Ve)|0,v=(v=v+Math.imul(se,Ke)|0)+Math.imul(ue,Ve)|0,w=w+Math.imul(ue,Ke)|0;var Oe=(F+(m=m+Math.imul(le,ft)|0)|0)+((8191&(v=(v=v+Math.imul(le,We)|0)+Math.imul(Q,ft)|0))<<13)|0;F=((w=w+Math.imul(Q,We)|0)+(v>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,m=Math.imul(st,Tt),v=(v=Math.imul(st,gt))+Math.imul(ze,Tt)|0,w=Math.imul(ze,gt),m=m+Math.imul(Fe,Mt)|0,v=(v=v+Math.imul(Fe,oe)|0)+Math.imul(He,Mt)|0,w=w+Math.imul(He,oe)|0,m=m+Math.imul(Me,Ce)|0,v=(v=v+Math.imul(Me,Ae)|0)+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ae)|0,m=m+Math.imul(fe,Ve)|0,v=(v=v+Math.imul(fe,Ke)|0)+Math.imul(he,Ve)|0,w=w+Math.imul(he,Ke)|0;var et=(F+(m=m+Math.imul(se,ft)|0)|0)+((8191&(v=(v=v+Math.imul(se,We)|0)+Math.imul(ue,ft)|0))<<13)|0;F=((w=w+Math.imul(ue,We)|0)+(v>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(st,Mt),v=(v=Math.imul(st,oe))+Math.imul(ze,Mt)|0,w=Math.imul(ze,oe),m=m+Math.imul(Fe,Ce)|0,v=(v=v+Math.imul(Fe,Ae)|0)+Math.imul(He,Ce)|0,w=w+Math.imul(He,Ae)|0,m=m+Math.imul(Me,Ve)|0,v=(v=v+Math.imul(Me,Ke)|0)+Math.imul(ke,Ve)|0,w=w+Math.imul(ke,Ke)|0;var tt=(F+(m=m+Math.imul(fe,ft)|0)|0)+((8191&(v=(v=v+Math.imul(fe,We)|0)+Math.imul(he,ft)|0))<<13)|0;F=((w=w+Math.imul(he,We)|0)+(v>>>13)|0)+(tt>>>26)|0,tt&=67108863,m=Math.imul(st,Ce),v=(v=Math.imul(st,Ae))+Math.imul(ze,Ce)|0,w=Math.imul(ze,Ae),m=m+Math.imul(Fe,Ve)|0,v=(v=v+Math.imul(Fe,Ke)|0)+Math.imul(He,Ve)|0,w=w+Math.imul(He,Ke)|0;var zt=(F+(m=m+Math.imul(Me,ft)|0)|0)+((8191&(v=(v=v+Math.imul(Me,We)|0)+Math.imul(ke,ft)|0))<<13)|0;F=((w=w+Math.imul(ke,We)|0)+(v>>>13)|0)+(zt>>>26)|0,zt&=67108863,m=Math.imul(st,Ve),v=(v=Math.imul(st,Ke))+Math.imul(ze,Ve)|0,w=Math.imul(ze,Ke);var xt=(F+(m=m+Math.imul(Fe,ft)|0)|0)+((8191&(v=(v=v+Math.imul(Fe,We)|0)+Math.imul(He,ft)|0))<<13)|0;F=((w=w+Math.imul(He,We)|0)+(v>>>13)|0)+(xt>>>26)|0,xt&=67108863;var wt=(F+(m=Math.imul(st,ft))|0)+((8191&(v=(v=Math.imul(st,We))+Math.imul(ze,ft)|0))<<13)|0;return F=((w=Math.imul(ze,We))+(v>>>13)|0)+(wt>>>26)|0,wt&=67108863,I[0]=dn,I[1]=Bt,I[2]=Ht,I[3]=wn,I[4]=On,I[5]=or,I[6]=gr,I[7]=Xn,I[8]=yr,I[9]=ie,I[10]=ge,I[11]=Ie,I[12]=Se,I[13]=Oe,I[14]=et,I[15]=tt,I[16]=zt,I[17]=xt,I[18]=wt,F!==0&&(I[19]=F,D.length++),D};function _(E,S,D){return new x().mulp(E,S,D)}function x(E,S){this.x=E,this.y=S}Math.imul||(g=y),a.prototype.mulTo=function(E,S){var D=this.length+E.length;return this.length===10&&E.length===10?g(this,E,S):D<63?y(this,E,S):D<1024?(function(m,v,w){w.negative=v.negative^m.negative,w.length=m.length+v.length;for(var b=0,C=0,I=0;I<w.length-1;I++){var F=C;C=0;for(var $=67108863&b,z=Math.min(I,v.length-1),Y=Math.max(0,I-m.length+1);Y<=z;Y++){var O=I-Y,W=(0|m.words[O])*(0|v.words[Y]),M=67108863&W;$=67108863&(M=M+$|0),C+=(F=(F=F+(W/67108864|0)|0)+(M>>>26)|0)>>>26,F&=67108863}w.words[I]=$,b=F,F=C}return b!==0?w.words[I]=b:w.length--,w.strip()})(this,E,S):_(this,E,S)},x.prototype.makeRBT=function(E){for(var S=new Array(E),D=a.prototype._countBits(E)-1,m=0;m<E;m++)S[m]=this.revBin(m,D,E);return S},x.prototype.revBin=function(E,S,D){if(E===0||E===D-1)return E;for(var m=0,v=0;v<S;v++)m|=(1&E)<<S-v-1,E>>=1;return m},x.prototype.permute=function(E,S,D,m,v,w){for(var b=0;b<w;b++)m[b]=S[E[b]],v[b]=D[E[b]]},x.prototype.transform=function(E,S,D,m,v,w){this.permute(w,E,S,D,m,v);for(var b=1;b<v;b<<=1)for(var C=b<<1,I=Math.cos(2*Math.PI/C),F=Math.sin(2*Math.PI/C),$=0;$<v;$+=C)for(var z=I,Y=F,O=0;O<b;O++){var W=D[$+O],M=m[$+O],A=D[$+O+b],U=m[$+O+b],X=z*A-Y*U;U=z*U+Y*A,A=X,D[$+O]=W+A,m[$+O]=M+U,D[$+O+b]=W-A,m[$+O+b]=M-U,O!==C&&(X=I*z-F*Y,Y=I*Y+F*z,z=X)}},x.prototype.guessLen13b=function(E,S){var D=1|Math.max(S,E),m=1&D,v=0;for(D=D/2|0;D;D>>>=1)v++;return 1<<v+1+m},x.prototype.conjugate=function(E,S,D){if(!(D<=1))for(var m=0;m<D/2;m++){var v=E[m];E[m]=E[D-m-1],E[D-m-1]=v,v=S[m],S[m]=-S[D-m-1],S[D-m-1]=-v}},x.prototype.normalize13b=function(E,S){for(var D=0,m=0;m<S/2;m++){var v=8192*Math.round(E[2*m+1]/S)+Math.round(E[2*m]/S)+D;E[m]=67108863&v,D=v<67108864?0:v/67108864|0}return E},x.prototype.convert13b=function(E,S,D,m){for(var v=0,w=0;w<S;w++)v+=0|E[w],D[2*w]=8191&v,v>>>=13,D[2*w+1]=8191&v,v>>>=13;for(w=2*S;w<m;++w)D[w]=0;s(v===0),s((-8192&v)==0)},x.prototype.stub=function(E){for(var S=new Array(E),D=0;D<E;D++)S[D]=0;return S},x.prototype.mulp=function(E,S,D){var m=2*this.guessLen13b(E.length,S.length),v=this.makeRBT(m),w=this.stub(m),b=new Array(m),C=new Array(m),I=new Array(m),F=new Array(m),$=new Array(m),z=new Array(m),Y=D.words;Y.length=m,this.convert13b(E.words,E.length,b,m),this.convert13b(S.words,S.length,F,m),this.transform(b,w,C,I,m,v),this.transform(F,w,$,z,m,v);for(var O=0;O<m;O++){var W=C[O]*$[O]-I[O]*z[O];I[O]=C[O]*z[O]+I[O]*$[O],C[O]=W}return this.conjugate(C,I,m),this.transform(C,I,Y,w,m,v),this.conjugate(Y,w,m),this.normalize13b(Y,m),D.negative=E.negative^S.negative,D.length=E.length+S.length,D.strip()},a.prototype.mul=function(E){var S=new a(null);return S.words=new Array(this.length+E.length),this.mulTo(E,S)},a.prototype.mulf=function(E){var S=new a(null);return S.words=new Array(this.length+E.length),_(this,E,S)},a.prototype.imul=function(E){return this.clone().mulTo(E,this)},a.prototype.imuln=function(E){s(typeof E=="number"),s(E<67108864);for(var S=0,D=0;D<this.length;D++){var m=(0|this.words[D])*E,v=(67108863&m)+(67108863&S);S>>=26,S+=m/67108864|0,S+=v>>>26,this.words[D]=67108863&v}return S!==0&&(this.words[D]=S,this.length++),this},a.prototype.muln=function(E){return this.clone().imuln(E)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(E){var S=(function(w){for(var b=new Array(w.bitLength()),C=0;C<b.length;C++){var I=C/26|0,F=C%26;b[C]=(w.words[I]&1<<F)>>>F}return b})(E);if(S.length===0)return new a(1);for(var D=this,m=0;m<S.length&&S[m]===0;m++,D=D.sqr());if(++m<S.length)for(var v=D.sqr();m<S.length;m++,v=v.sqr())S[m]!==0&&(D=D.mul(v));return D},a.prototype.iushln=function(E){s(typeof E=="number"&&E>=0);var S,D=E%26,m=(E-D)/26,v=67108863>>>26-D<<26-D;if(D!==0){var w=0;for(S=0;S<this.length;S++){var b=this.words[S]&v,C=(0|this.words[S])-b<<D;this.words[S]=C|w,w=b>>>26-D}w&&(this.words[S]=w,this.length++)}if(m!==0){for(S=this.length-1;S>=0;S--)this.words[S+m]=this.words[S];for(S=0;S<m;S++)this.words[S]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(E){return s(this.negative===0),this.iushln(E)},a.prototype.iushrn=function(E,S,D){var m;s(typeof E=="number"&&E>=0),m=S?(S-S%26)/26:0;var v=E%26,w=Math.min((E-v)/26,this.length),b=67108863^67108863>>>v<<v,C=D;if(m-=w,m=Math.max(0,m),C){for(var I=0;I<w;I++)C.words[I]=this.words[I];C.length=w}if(w!==0)if(this.length>w)for(this.length-=w,I=0;I<this.length;I++)this.words[I]=this.words[I+w];else this.words[0]=0,this.length=1;var F=0;for(I=this.length-1;I>=0&&(F!==0||I>=m);I--){var $=0|this.words[I];this.words[I]=F<<26-v|$>>>v,F=$&b}return C&&F!==0&&(C.words[C.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(E,S,D){return s(this.negative===0),this.iushrn(E,S,D)},a.prototype.shln=function(E){return this.clone().ishln(E)},a.prototype.ushln=function(E){return this.clone().iushln(E)},a.prototype.shrn=function(E){return this.clone().ishrn(E)},a.prototype.ushrn=function(E){return this.clone().iushrn(E)},a.prototype.testn=function(E){s(typeof E=="number"&&E>=0);var S=E%26,D=(E-S)/26,m=1<<S;return!(this.length<=D)&&!!(this.words[D]&m)},a.prototype.imaskn=function(E){s(typeof E=="number"&&E>=0);var S=E%26,D=(E-S)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if(S!==0&&D++,this.length=Math.min(D,this.length),S!==0){var m=67108863^67108863>>>S<<S;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(E){return this.clone().imaskn(E)},a.prototype.iaddn=function(E){return s(typeof E=="number"),s(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},a.prototype._iaddn=function(E){this.words[0]+=E;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},a.prototype.isubn=function(E){if(s(typeof E=="number"),s(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},a.prototype.addn=function(E){return this.clone().iaddn(E)},a.prototype.subn=function(E){return this.clone().isubn(E)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(E,S,D){var m,v,w=E.length+D;this._expand(w);var b=0;for(m=0;m<E.length;m++){v=(0|this.words[m+D])+b;var C=(0|E.words[m])*S;b=((v-=67108863&C)>>26)-(C/67108864|0),this.words[m+D]=67108863&v}for(;m<this.length-D;m++)b=(v=(0|this.words[m+D])+b)>>26,this.words[m+D]=67108863&v;if(b===0)return this.strip();for(s(b===-1),b=0,m=0;m<this.length;m++)b=(v=-(0|this.words[m])+b)>>26,this.words[m]=67108863&v;return this.negative=1,this.strip()},a.prototype._wordDiv=function(E,S){var D=(this.length,E.length),m=this.clone(),v=E,w=0|v.words[v.length-1];(D=26-this._countBits(w))!==0&&(v=v.ushln(D),m.iushln(D),w=0|v.words[v.length-1]);var b,C=m.length-v.length;if(S!=="mod"){(b=new a(null)).length=C+1,b.words=new Array(b.length);for(var I=0;I<b.length;I++)b.words[I]=0}var F=m.clone()._ishlnsubmul(v,1,C);F.negative===0&&(m=F,b&&(b.words[C]=1));for(var $=C-1;$>=0;$--){var z=67108864*(0|m.words[v.length+$])+(0|m.words[v.length+$-1]);for(z=Math.min(z/w|0,67108863),m._ishlnsubmul(v,z,$);m.negative!==0;)z--,m.negative=0,m._ishlnsubmul(v,1,$),m.isZero()||(m.negative^=1);b&&(b.words[$]=z)}return b&&b.strip(),m.strip(),S!=="div"&&D!==0&&m.iushrn(D),{div:b||null,mod:m}},a.prototype.divmod=function(E,S,D){return s(!E.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&E.negative===0?(w=this.neg().divmod(E,S),S!=="mod"&&(m=w.div.neg()),S!=="div"&&(v=w.mod.neg(),D&&v.negative!==0&&v.iadd(E)),{div:m,mod:v}):this.negative===0&&E.negative!==0?(w=this.divmod(E.neg(),S),S!=="mod"&&(m=w.div.neg()),{div:m,mod:w.mod}):(this.negative&E.negative)!=0?(w=this.neg().divmod(E.neg(),S),S!=="div"&&(v=w.mod.neg(),D&&v.negative!==0&&v.isub(E)),{div:w.div,mod:v}):E.length>this.length||this.cmp(E)<0?{div:new a(0),mod:this}:E.length===1?S==="div"?{div:this.divn(E.words[0]),mod:null}:S==="mod"?{div:null,mod:new a(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new a(this.modn(E.words[0]))}:this._wordDiv(E,S);var m,v,w},a.prototype.div=function(E){return this.divmod(E,"div",!1).div},a.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},a.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},a.prototype.divRound=function(E){var S=this.divmod(E);if(S.mod.isZero())return S.div;var D=S.div.negative!==0?S.mod.isub(E):S.mod,m=E.ushrn(1),v=E.andln(1),w=D.cmp(m);return w<0||v===1&&w===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},a.prototype.modn=function(E){s(E<=67108863);for(var S=(1<<26)%E,D=0,m=this.length-1;m>=0;m--)D=(S*D+(0|this.words[m]))%E;return D},a.prototype.idivn=function(E){s(E<=67108863);for(var S=0,D=this.length-1;D>=0;D--){var m=(0|this.words[D])+67108864*S;this.words[D]=m/E|0,S=m%E}return this.strip()},a.prototype.divn=function(E){return this.clone().idivn(E)},a.prototype.egcd=function(E){s(E.negative===0),s(!E.isZero());var S=this,D=E.clone();S=S.negative!==0?S.umod(E):S.clone();for(var m=new a(1),v=new a(0),w=new a(0),b=new a(1),C=0;S.isEven()&&D.isEven();)S.iushrn(1),D.iushrn(1),++C;for(var I=D.clone(),F=S.clone();!S.isZero();){for(var $=0,z=1;(S.words[0]&z)==0&&$<26;++$,z<<=1);if($>0)for(S.iushrn($);$-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(I),v.isub(F)),m.iushrn(1),v.iushrn(1);for(var Y=0,O=1;(D.words[0]&O)==0&&Y<26;++Y,O<<=1);if(Y>0)for(D.iushrn(Y);Y-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(I),b.isub(F)),w.iushrn(1),b.iushrn(1);S.cmp(D)>=0?(S.isub(D),m.isub(w),v.isub(b)):(D.isub(S),w.isub(m),b.isub(v))}return{a:w,b,gcd:D.iushln(C)}},a.prototype._invmp=function(E){s(E.negative===0),s(!E.isZero());var S=this,D=E.clone();S=S.negative!==0?S.umod(E):S.clone();for(var m,v=new a(1),w=new a(0),b=D.clone();S.cmpn(1)>0&&D.cmpn(1)>0;){for(var C=0,I=1;(S.words[0]&I)==0&&C<26;++C,I<<=1);if(C>0)for(S.iushrn(C);C-- >0;)v.isOdd()&&v.iadd(b),v.iushrn(1);for(var F=0,$=1;(D.words[0]&$)==0&&F<26;++F,$<<=1);if(F>0)for(D.iushrn(F);F-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);S.cmp(D)>=0?(S.isub(D),v.isub(w)):(D.isub(S),w.isub(v))}return(m=S.cmpn(1)===0?v:w).cmpn(0)<0&&m.iadd(E),m},a.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var S=this.clone(),D=E.clone();S.negative=0,D.negative=0;for(var m=0;S.isEven()&&D.isEven();m++)S.iushrn(1),D.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;D.isEven();)D.iushrn(1);var v=S.cmp(D);if(v<0){var w=S;S=D,D=w}else if(v===0||D.cmpn(1)===0)break;S.isub(D)}return D.iushln(m)},a.prototype.invm=function(E){return this.egcd(E).a.umod(E)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(E){return this.words[0]&E},a.prototype.bincn=function(E){s(typeof E=="number");var S=E%26,D=(E-S)/26,m=1<<S;if(this.length<=D)return this._expand(D+1),this.words[D]|=m,this;for(var v=m,w=D;v!==0&&w<this.length;w++){var b=0|this.words[w];v=(b+=v)>>>26,b&=67108863,this.words[w]=b}return v!==0&&(this.words[w]=v,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(E){var S,D=E<0;if(this.negative!==0&&!D)return-1;if(this.negative===0&&D)return 1;if(this.strip(),this.length>1)S=1;else{D&&(E=-E),s(E<=67108863,"Number is too big");var m=0|this.words[0];S=m===E?0:m<E?-1:1}return this.negative!==0?0|-S:S},a.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var S=this.ucmp(E);return this.negative!==0?0|-S:S},a.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var S=0,D=this.length-1;D>=0;D--){var m=0|this.words[D],v=0|E.words[D];if(m!==v){m<v?S=-1:m>v&&(S=1);break}}return S},a.prototype.gtn=function(E){return this.cmpn(E)===1},a.prototype.gt=function(E){return this.cmp(E)===1},a.prototype.gten=function(E){return this.cmpn(E)>=0},a.prototype.gte=function(E){return this.cmp(E)>=0},a.prototype.ltn=function(E){return this.cmpn(E)===-1},a.prototype.lt=function(E){return this.cmp(E)===-1},a.prototype.lten=function(E){return this.cmpn(E)<=0},a.prototype.lte=function(E){return this.cmp(E)<=0},a.prototype.eqn=function(E){return this.cmpn(E)===0},a.prototype.eq=function(E){return this.cmp(E)===0},a.red=function(E){return new j(E)},a.prototype.toRed=function(E){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(E){return this.red=E,this},a.prototype.forceRed=function(E){return s(!this.red,"Already a number in reduction context"),this._forceRed(E)},a.prototype.redAdd=function(E){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},a.prototype.redIAdd=function(E){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},a.prototype.redSub=function(E){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},a.prototype.redISub=function(E){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},a.prototype.redShl=function(E){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},a.prototype.redMul=function(E){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},a.prototype.redIMul=function(E){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(E){return s(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var k={k256:null,p224:null,p192:null,p25519:null};function L(E,S){this.name=E,this.p=new a(S,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(E){if(typeof E=="string"){var S=a._prime(E);this.m=S.p,this.prime=S}else s(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function P(E){j.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var E=new a(null);return E.words=new Array(Math.ceil(this.n/13)),E},L.prototype.ireduce=function(E){var S,D=E;do this.split(D,this.tmp),S=(D=(D=this.imulK(D)).iadd(this.tmp)).bitLength();while(S>this.n);var m=S<this.n?-1:D.ucmp(this.p);return m===0?(D.words[0]=0,D.length=1):m>0?D.isub(this.p):D.strip!==void 0?D.strip():D._strip(),D},L.prototype.split=function(E,S){E.iushrn(this.n,0,S)},L.prototype.imulK=function(E){return E.imul(this.k)},o(B,L),B.prototype.split=function(E,S){for(var D=Math.min(E.length,9),m=0;m<D;m++)S.words[m]=E.words[m];if(S.length=D,E.length<=9)return E.words[0]=0,void(E.length=1);var v=E.words[9];for(S.words[S.length++]=4194303&v,m=10;m<E.length;m++){var w=0|E.words[m];E.words[m-10]=(4194303&w)<<4|v>>>22,v=w}v>>>=22,E.words[m-10]=v,v===0&&E.length>10?E.length-=10:E.length-=9},B.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var S=0,D=0;D<E.length;D++){var m=0|E.words[D];S+=977*m,E.words[D]=67108863&S,S=64*m+(S/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},o(V,L),o(R,L),o(N,L),N.prototype.imulK=function(E){for(var S=0,D=0;D<E.length;D++){var m=19*(0|E.words[D])+S,v=67108863&m;m>>>=26,E.words[D]=v,S=m}return S!==0&&(E.words[E.length++]=S),E},a._prime=function(E){if(k[E])return k[E];var S;if(E==="k256")S=new B;else if(E==="p224")S=new V;else if(E==="p192")S=new R;else{if(E!=="p25519")throw new Error("Unknown prime "+E);S=new N}return k[E]=S,S},j.prototype._verify1=function(E){s(E.negative===0,"red works only with positives"),s(E.red,"red works only with red numbers")},j.prototype._verify2=function(E,S){s((E.negative|S.negative)==0,"red works only with positives"),s(E.red&&E.red===S.red,"red works only with red numbers")},j.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},j.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},j.prototype.add=function(E,S){this._verify2(E,S);var D=E.add(S);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},j.prototype.iadd=function(E,S){this._verify2(E,S);var D=E.iadd(S);return D.cmp(this.m)>=0&&D.isub(this.m),D},j.prototype.sub=function(E,S){this._verify2(E,S);var D=E.sub(S);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},j.prototype.isub=function(E,S){this._verify2(E,S);var D=E.isub(S);return D.cmpn(0)<0&&D.iadd(this.m),D},j.prototype.shl=function(E,S){return this._verify1(E),this.imod(E.ushln(S))},j.prototype.imul=function(E,S){return this._verify2(E,S),this.imod(E.imul(S))},j.prototype.mul=function(E,S){return this._verify2(E,S),this.imod(E.mul(S))},j.prototype.isqr=function(E){return this.imul(E,E.clone())},j.prototype.sqr=function(E){return this.mul(E,E)},j.prototype.sqrt=function(E){if(E.isZero())return E.clone();var S=this.m.andln(3);if(s(S%2==1),S===3){var D=this.m.add(new a(1)).iushrn(2);return this.pow(E,D)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);s(!m.isZero());var w=new a(1).toRed(this),b=w.redNeg(),C=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new a(2*I*I).toRed(this);this.pow(I,C).cmp(b)!==0;)I.redIAdd(b);for(var F=this.pow(I,m),$=this.pow(E,m.addn(1).iushrn(1)),z=this.pow(E,m),Y=v;z.cmp(w)!==0;){for(var O=z,W=0;O.cmp(w)!==0;W++)O=O.redSqr();s(W<Y);var M=this.pow(F,new a(1).iushln(Y-W-1));$=$.redMul(M),F=M.redSqr(),z=z.redMul(F),Y=W}return $},j.prototype.invm=function(E){var S=E._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},j.prototype.pow=function(E,S){if(S.isZero())return new a(1).toRed(this);if(S.cmpn(1)===0)return E.clone();var D=new Array(16);D[0]=new a(1).toRed(this),D[1]=E;for(var m=2;m<D.length;m++)D[m]=this.mul(D[m-1],E);var v=D[0],w=0,b=0,C=S.bitLength()%26;for(C===0&&(C=26),m=S.length-1;m>=0;m--){for(var I=S.words[m],F=C-1;F>=0;F--){var $=I>>F&1;v!==D[0]&&(v=this.sqr(v)),$!==0||w!==0?(w<<=1,w|=$,(++b===4||m===0&&F===0)&&(v=this.mul(v,D[w]),b=0,w=0)):b=0}C=26}return v},j.prototype.convertTo=function(E){var S=E.umod(this.m);return S===E?S.clone():S},j.prototype.convertFrom=function(E){var S=E.clone();return S.red=null,S},a.mont=function(E){return new P(E)},o(P,j),P.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},P.prototype.convertFrom=function(E){var S=this.imod(E.mul(this.rinv));return S.red=null,S},P.prototype.imul=function(E,S){if(E.isZero()||S.isZero())return E.words[0]=0,E.length=1,E;var D=E.imul(S),m=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=D.isub(m).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},P.prototype.mul=function(E,S){if(E.isZero()||S.isZero())return new a(0)._forceRed(this);var D=E.mul(S),m=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=D.isub(m).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},P.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],185:[function(t,e,n){"use strict";n.byteLength=function(d){var f=u(d),p=f[0],h=f[1];return 3*(p+h)/4-h},n.toByteArray=function(d){var f,p,h=u(d),y=h[0],g=h[1],_=new s((function(L,B,V){return 3*(B+V)/4-V})(0,y,g)),x=0,k=g>0?y-4:y;for(p=0;p<k;p+=4)f=i[d.charCodeAt(p)]<<18|i[d.charCodeAt(p+1)]<<12|i[d.charCodeAt(p+2)]<<6|i[d.charCodeAt(p+3)],_[x++]=f>>16&255,_[x++]=f>>8&255,_[x++]=255&f;return g===2&&(f=i[d.charCodeAt(p)]<<2|i[d.charCodeAt(p+1)]>>4,_[x++]=255&f),g===1&&(f=i[d.charCodeAt(p)]<<10|i[d.charCodeAt(p+1)]<<4|i[d.charCodeAt(p+2)]>>2,_[x++]=f>>8&255,_[x++]=255&f),_},n.fromByteArray=function(d){for(var f,p=d.length,h=p%3,y=[],g=0,_=p-h;g<_;g+=16383)y.push(l(d,g,g+16383>_?_:g+16383));return h===1?(f=d[p-1],y.push(r[f>>2]+r[f<<4&63]+"==")):h===2&&(f=(d[p-2]<<8)+d[p-1],y.push(r[f>>10]+r[f>>4&63]+r[f<<2&63]+"=")),y.join("")};for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(d){var f=d.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=d.indexOf("=");return p===-1&&(p=f),[p,p===f?0:4-p%4]}function l(d,f,p){for(var h,y,g=[],_=f;_<p;_+=3)h=(d[_]<<16&16711680)+(d[_+1]<<8&65280)+(255&d[_+2]),g.push(r[(y=h)>>18&63]+r[y>>12&63]+r[y>>6&63]+r[63&y]);return g.join("")}i[45]=62,i[95]=63},{}],186:[function(t,e,n){"use strict";(function(r,i){function s(m,v){if(!m)throw new Error(v||"Assertion failed")}function o(m,v){m.super_=v;var w=function(){};w.prototype=v.prototype,m.prototype=new w,m.prototype.constructor=m}function a(m,v,w){if(a.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&(v!=="le"&&v!=="be"||(w=v,v=10),this._init(m||0,v||10,w||"be"))}var c;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function u(m,v){var w=m.charCodeAt(v);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void s(!1,"Invalid character in "+m)}function l(m,v,w){var b=u(m,w);return w-1>=v&&(b|=u(m,w-1)<<4),b}function d(m,v,w,b){for(var C=0,I=0,F=Math.min(m.length,w),$=v;$<F;$++){var z=m.charCodeAt($)-48;C*=b,I=z>=49?z-49+10:z>=17?z-17+10:z,s(z>=0&&I<b,"Invalid character"),C+=I}return C}function f(m,v){m.words=v.words,m.length=v.length,m.negative=v.negative,m.red=v.red}if(a.isBN=function(m){return m instanceof a||m!==null&&typeof m=="object"&&m.constructor.wordSize===a.wordSize&&Array.isArray(m.words)},a.max=function(m,v){return m.cmp(v)>0?m:v},a.min=function(m,v){return m.cmp(v)<0?m:v},a.prototype._init=function(m,v,w){if(typeof m=="number")return this._initNumber(m,v,w);if(typeof m=="object")return this._initArray(m,v,w);v==="hex"&&(v=16),s(v===(0|v)&&v>=2&&v<=36);var b=0;(m=m.toString().replace(/\s+/g,""))[0]==="-"&&(b++,this.negative=1),b<m.length&&(v===16?this._parseHex(m,b,w):(this._parseBase(m,v,b),w==="le"&&this._initArray(this.toArray(),v,w)))},a.prototype._initNumber=function(m,v,w){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[67108863&m],this.length=1):m<4503599627370496?(this.words=[67108863&m,m/67108864&67108863],this.length=2):(s(m<9007199254740992),this.words=[67108863&m,m/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),v,w)},a.prototype._initArray=function(m,v,w){if(s(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var C,I,F=0;if(w==="be")for(b=m.length-1,C=0;b>=0;b-=3)I=m[b]|m[b-1]<<8|m[b-2]<<16,this.words[C]|=I<<F&67108863,this.words[C+1]=I>>>26-F&67108863,(F+=24)>=26&&(F-=26,C++);else if(w==="le")for(b=0,C=0;b<m.length;b+=3)I=m[b]|m[b+1]<<8|m[b+2]<<16,this.words[C]|=I<<F&67108863,this.words[C+1]=I>>>26-F&67108863,(F+=24)>=26&&(F-=26,C++);return this._strip()},a.prototype._parseHex=function(m,v,w){this.length=Math.ceil((m.length-v)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var C,I=0,F=0;if(w==="be")for(b=m.length-1;b>=v;b-=2)C=l(m,v,b)<<I,this.words[F]|=67108863&C,I>=18?(I-=18,F+=1,this.words[F]|=C>>>26):I+=8;else for(b=(m.length-v)%2==0?v+1:v;b<m.length;b+=2)C=l(m,v,b)<<I,this.words[F]|=67108863&C,I>=18?(I-=18,F+=1,this.words[F]|=C>>>26):I+=8;this._strip()},a.prototype._parseBase=function(m,v,w){this.words=[0],this.length=1;for(var b=0,C=1;C<=67108863;C*=v)b++;b--,C=C/v|0;for(var I=m.length-w,F=I%b,$=Math.min(I,I-F)+w,z=0,Y=w;Y<$;Y+=b)z=d(m,Y,Y+b,v),this.imuln(C),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(F!==0){var O=1;for(z=d(m,Y,m.length,v),Y=0;Y<F;Y++)O*=v;this.imuln(O),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},a.prototype.copy=function(m){m.words=new Array(this.length);for(var v=0;v<this.length;v++)m.words[v]=this.words[v];m.length=this.length,m.negative=this.negative,m.red=this.red},a.prototype._move=function(m){f(m,this)},a.prototype.clone=function(){var m=new a(null);return this.copy(m),m},a.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{a.prototype.inspect=p}else a.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(m,v){var w;if(v=0|v||1,(m=m||10)===16||m==="hex"){w="";for(var b=0,C=0,I=0;I<this.length;I++){var F=this.words[I],$=(16777215&(F<<b|C)).toString(16);C=F>>>24-b&16777215,(b+=2)>=26&&(b-=26,I--),w=C!==0||I!==this.length-1?h[6-$.length]+$+w:$+w}for(C!==0&&(w=C.toString(16)+w);w.length%v!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(m===(0|m)&&m>=2&&m<=36){var z=y[m],Y=g[m];w="";var O=this.clone();for(O.negative=0;!O.isZero();){var W=O.modrn(Y).toString(m);w=(O=O.idivn(Y)).isZero()?W+w:h[z-W.length]+W+w}for(this.isZero()&&(w="0"+w);w.length%v!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=67108864*this.words[1]:this.length===3&&this.words[2]===1?m+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(m,v){return this.toArrayLike(c,m,v)}),a.prototype.toArray=function(m,v){return this.toArrayLike(Array,m,v)};function _(m,v,w){w.negative=v.negative^m.negative;var b=m.length+v.length|0;w.length=b,b=b-1|0;var C=0|m.words[0],I=0|v.words[0],F=C*I,$=67108863&F,z=F/67108864|0;w.words[0]=$;for(var Y=1;Y<b;Y++){for(var O=z>>>26,W=67108863&z,M=Math.min(Y,v.length-1),A=Math.max(0,Y-m.length+1);A<=M;A++){var U=Y-A|0;O+=(F=(C=0|m.words[U])*(I=0|v.words[A])+W)/67108864|0,W=67108863&F}w.words[Y]=0|W,z=0|O}return z!==0?w.words[Y]=0|z:w.length--,w._strip()}a.prototype.toArrayLike=function(m,v,w){this._strip();var b=this.byteLength(),C=w||Math.max(1,b);s(b<=C,"byte array longer than desired length"),s(C>0,"Requested array length <= 0");var I=(function(F,$){return F.allocUnsafe?F.allocUnsafe($):new F($)})(m,C);return this["_toArrayLike"+(v==="le"?"LE":"BE")](I,b),I},a.prototype._toArrayLikeLE=function(m,v){for(var w=0,b=0,C=0,I=0;C<this.length;C++){var F=this.words[C]<<I|b;m[w++]=255&F,w<m.length&&(m[w++]=F>>8&255),w<m.length&&(m[w++]=F>>16&255),I===6?(w<m.length&&(m[w++]=F>>24&255),b=0,I=0):(b=F>>>24,I+=2)}if(w<m.length)for(m[w++]=b;w<m.length;)m[w++]=0},a.prototype._toArrayLikeBE=function(m,v){for(var w=m.length-1,b=0,C=0,I=0;C<this.length;C++){var F=this.words[C]<<I|b;m[w--]=255&F,w>=0&&(m[w--]=F>>8&255),w>=0&&(m[w--]=F>>16&255),I===6?(w>=0&&(m[w--]=F>>24&255),b=0,I=0):(b=F>>>24,I+=2)}if(w>=0)for(m[w--]=b;w>=0;)m[w--]=0},Math.clz32?a.prototype._countBits=function(m){return 32-Math.clz32(m)}:a.prototype._countBits=function(m){var v=m,w=0;return v>=4096&&(w+=13,v>>>=13),v>=64&&(w+=7,v>>>=7),v>=8&&(w+=4,v>>>=4),v>=2&&(w+=2,v>>>=2),w+v},a.prototype._zeroBits=function(m){if(m===0)return 26;var v=m,w=0;return(8191&v)==0&&(w+=13,v>>>=13),(127&v)==0&&(w+=7,v>>>=7),(15&v)==0&&(w+=4,v>>>=4),(3&v)==0&&(w+=2,v>>>=2),(1&v)==0&&w++,w},a.prototype.bitLength=function(){var m=this.words[this.length-1],v=this._countBits(m);return 26*(this.length-1)+v},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,v=0;v<this.length;v++){var w=this._zeroBits(this.words[v]);if(m+=w,w!==26)break}return m},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},a.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]|m.words[v];return this._strip()},a.prototype.ior=function(m){return s((this.negative|m.negative)==0),this.iuor(m)},a.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},a.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},a.prototype.iuand=function(m){var v;v=this.length>m.length?m:this;for(var w=0;w<v.length;w++)this.words[w]=this.words[w]&m.words[w];return this.length=v.length,this._strip()},a.prototype.iand=function(m){return s((this.negative|m.negative)==0),this.iuand(m)},a.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},a.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},a.prototype.iuxor=function(m){var v,w;this.length>m.length?(v=this,w=m):(v=m,w=this);for(var b=0;b<w.length;b++)this.words[b]=v.words[b]^w.words[b];if(this!==v)for(;b<v.length;b++)this.words[b]=v.words[b];return this.length=v.length,this._strip()},a.prototype.ixor=function(m){return s((this.negative|m.negative)==0),this.iuxor(m)},a.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},a.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},a.prototype.inotn=function(m){s(typeof m=="number"&&m>=0);var v=0|Math.ceil(m/26),w=m%26;this._expand(v),w>0&&v--;for(var b=0;b<v;b++)this.words[b]=67108863&~this.words[b];return w>0&&(this.words[b]=~this.words[b]&67108863>>26-w),this._strip()},a.prototype.notn=function(m){return this.clone().inotn(m)},a.prototype.setn=function(m,v){s(typeof m=="number"&&m>=0);var w=m/26|0,b=m%26;return this._expand(w+1),this.words[w]=v?this.words[w]|1<<b:this.words[w]&~(1<<b),this._strip()},a.prototype.iadd=function(m){var v,w,b;if(this.negative!==0&&m.negative===0)return this.negative=0,v=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,v=this.isub(m),m.negative=1,v._normSign();this.length>m.length?(w=this,b=m):(w=m,b=this);for(var C=0,I=0;I<b.length;I++)v=(0|w.words[I])+(0|b.words[I])+C,this.words[I]=67108863&v,C=v>>>26;for(;C!==0&&I<w.length;I++)v=(0|w.words[I])+C,this.words[I]=67108863&v,C=v>>>26;if(this.length=w.length,C!==0)this.words[this.length]=C,this.length++;else if(w!==this)for(;I<w.length;I++)this.words[I]=w.words[I];return this},a.prototype.add=function(m){var v;return m.negative!==0&&this.negative===0?(m.negative=0,v=this.sub(m),m.negative^=1,v):m.negative===0&&this.negative!==0?(this.negative=0,v=m.sub(this),this.negative=1,v):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},a.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var v=this.iadd(m);return m.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var w,b,C=this.cmp(m);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(w=this,b=m):(w=m,b=this);for(var I=0,F=0;F<b.length;F++)I=(v=(0|w.words[F])-(0|b.words[F])+I)>>26,this.words[F]=67108863&v;for(;I!==0&&F<w.length;F++)I=(v=(0|w.words[F])+I)>>26,this.words[F]=67108863&v;if(I===0&&F<w.length&&w!==this)for(;F<w.length;F++)this.words[F]=w.words[F];return this.length=Math.max(this.length,F),w!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(m){return this.clone().isub(m)};var x=function(m,v,w){var b,C,I,F=m.words,$=v.words,z=w.words,Y=0,O=0|F[0],W=8191&O,M=O>>>13,A=0|F[1],U=8191&A,X=A>>>13,re=0|F[2],Z=8191&re,te=re>>>13,de=0|F[3],le=8191&de,Q=de>>>13,ce=0|F[4],se=8191&ce,ue=ce>>>13,pe=0|F[5],fe=8191&pe,he=pe>>>13,Te=0|F[6],Me=8191&Te,ke=Te>>>13,it=0|F[7],Fe=8191&it,He=it>>>13,Ft=0|F[8],st=8191&Ft,ze=Ft>>>13,lt=0|F[9],Pe=8191&lt,Ne=lt>>>13,At=0|$[0],Ye=8191&At,ut=At>>>13,mr=0|$[1],dt=8191&mr,pt=mr>>>13,Wn=0|$[2],_t=8191&Wn,It=Wn>>>13,In=0|$[3],yt=8191&In,ht=In>>>13,Gn=0|$[4],Tt=8191&Gn,gt=Gn>>>13,Er=0|$[5],Mt=8191&Er,oe=Er>>>13,be=0|$[6],Ce=8191&be,Ae=be>>>13,Zt=0|$[7],Ve=8191&Zt,Ke=Zt>>>13,Jt=0|$[8],ft=8191&Jt,We=Jt>>>13,dn=0|$[9],Bt=8191&dn,Ht=dn>>>13;w.negative=m.negative^v.negative,w.length=19;var wn=(Y+(b=Math.imul(W,Ye))|0)+((8191&(C=(C=Math.imul(W,ut))+Math.imul(M,Ye)|0))<<13)|0;Y=((I=Math.imul(M,ut))+(C>>>13)|0)+(wn>>>26)|0,wn&=67108863,b=Math.imul(U,Ye),C=(C=Math.imul(U,ut))+Math.imul(X,Ye)|0,I=Math.imul(X,ut);var On=(Y+(b=b+Math.imul(W,dt)|0)|0)+((8191&(C=(C=C+Math.imul(W,pt)|0)+Math.imul(M,dt)|0))<<13)|0;Y=((I=I+Math.imul(M,pt)|0)+(C>>>13)|0)+(On>>>26)|0,On&=67108863,b=Math.imul(Z,Ye),C=(C=Math.imul(Z,ut))+Math.imul(te,Ye)|0,I=Math.imul(te,ut),b=b+Math.imul(U,dt)|0,C=(C=C+Math.imul(U,pt)|0)+Math.imul(X,dt)|0,I=I+Math.imul(X,pt)|0;var or=(Y+(b=b+Math.imul(W,_t)|0)|0)+((8191&(C=(C=C+Math.imul(W,It)|0)+Math.imul(M,_t)|0))<<13)|0;Y=((I=I+Math.imul(M,It)|0)+(C>>>13)|0)+(or>>>26)|0,or&=67108863,b=Math.imul(le,Ye),C=(C=Math.imul(le,ut))+Math.imul(Q,Ye)|0,I=Math.imul(Q,ut),b=b+Math.imul(Z,dt)|0,C=(C=C+Math.imul(Z,pt)|0)+Math.imul(te,dt)|0,I=I+Math.imul(te,pt)|0,b=b+Math.imul(U,_t)|0,C=(C=C+Math.imul(U,It)|0)+Math.imul(X,_t)|0,I=I+Math.imul(X,It)|0;var gr=(Y+(b=b+Math.imul(W,yt)|0)|0)+((8191&(C=(C=C+Math.imul(W,ht)|0)+Math.imul(M,yt)|0))<<13)|0;Y=((I=I+Math.imul(M,ht)|0)+(C>>>13)|0)+(gr>>>26)|0,gr&=67108863,b=Math.imul(se,Ye),C=(C=Math.imul(se,ut))+Math.imul(ue,Ye)|0,I=Math.imul(ue,ut),b=b+Math.imul(le,dt)|0,C=(C=C+Math.imul(le,pt)|0)+Math.imul(Q,dt)|0,I=I+Math.imul(Q,pt)|0,b=b+Math.imul(Z,_t)|0,C=(C=C+Math.imul(Z,It)|0)+Math.imul(te,_t)|0,I=I+Math.imul(te,It)|0,b=b+Math.imul(U,yt)|0,C=(C=C+Math.imul(U,ht)|0)+Math.imul(X,yt)|0,I=I+Math.imul(X,ht)|0;var Xn=(Y+(b=b+Math.imul(W,Tt)|0)|0)+((8191&(C=(C=C+Math.imul(W,gt)|0)+Math.imul(M,Tt)|0))<<13)|0;Y=((I=I+Math.imul(M,gt)|0)+(C>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,b=Math.imul(fe,Ye),C=(C=Math.imul(fe,ut))+Math.imul(he,Ye)|0,I=Math.imul(he,ut),b=b+Math.imul(se,dt)|0,C=(C=C+Math.imul(se,pt)|0)+Math.imul(ue,dt)|0,I=I+Math.imul(ue,pt)|0,b=b+Math.imul(le,_t)|0,C=(C=C+Math.imul(le,It)|0)+Math.imul(Q,_t)|0,I=I+Math.imul(Q,It)|0,b=b+Math.imul(Z,yt)|0,C=(C=C+Math.imul(Z,ht)|0)+Math.imul(te,yt)|0,I=I+Math.imul(te,ht)|0,b=b+Math.imul(U,Tt)|0,C=(C=C+Math.imul(U,gt)|0)+Math.imul(X,Tt)|0,I=I+Math.imul(X,gt)|0;var yr=(Y+(b=b+Math.imul(W,Mt)|0)|0)+((8191&(C=(C=C+Math.imul(W,oe)|0)+Math.imul(M,Mt)|0))<<13)|0;Y=((I=I+Math.imul(M,oe)|0)+(C>>>13)|0)+(yr>>>26)|0,yr&=67108863,b=Math.imul(Me,Ye),C=(C=Math.imul(Me,ut))+Math.imul(ke,Ye)|0,I=Math.imul(ke,ut),b=b+Math.imul(fe,dt)|0,C=(C=C+Math.imul(fe,pt)|0)+Math.imul(he,dt)|0,I=I+Math.imul(he,pt)|0,b=b+Math.imul(se,_t)|0,C=(C=C+Math.imul(se,It)|0)+Math.imul(ue,_t)|0,I=I+Math.imul(ue,It)|0,b=b+Math.imul(le,yt)|0,C=(C=C+Math.imul(le,ht)|0)+Math.imul(Q,yt)|0,I=I+Math.imul(Q,ht)|0,b=b+Math.imul(Z,Tt)|0,C=(C=C+Math.imul(Z,gt)|0)+Math.imul(te,Tt)|0,I=I+Math.imul(te,gt)|0,b=b+Math.imul(U,Mt)|0,C=(C=C+Math.imul(U,oe)|0)+Math.imul(X,Mt)|0,I=I+Math.imul(X,oe)|0;var ie=(Y+(b=b+Math.imul(W,Ce)|0)|0)+((8191&(C=(C=C+Math.imul(W,Ae)|0)+Math.imul(M,Ce)|0))<<13)|0;Y=((I=I+Math.imul(M,Ae)|0)+(C>>>13)|0)+(ie>>>26)|0,ie&=67108863,b=Math.imul(Fe,Ye),C=(C=Math.imul(Fe,ut))+Math.imul(He,Ye)|0,I=Math.imul(He,ut),b=b+Math.imul(Me,dt)|0,C=(C=C+Math.imul(Me,pt)|0)+Math.imul(ke,dt)|0,I=I+Math.imul(ke,pt)|0,b=b+Math.imul(fe,_t)|0,C=(C=C+Math.imul(fe,It)|0)+Math.imul(he,_t)|0,I=I+Math.imul(he,It)|0,b=b+Math.imul(se,yt)|0,C=(C=C+Math.imul(se,ht)|0)+Math.imul(ue,yt)|0,I=I+Math.imul(ue,ht)|0,b=b+Math.imul(le,Tt)|0,C=(C=C+Math.imul(le,gt)|0)+Math.imul(Q,Tt)|0,I=I+Math.imul(Q,gt)|0,b=b+Math.imul(Z,Mt)|0,C=(C=C+Math.imul(Z,oe)|0)+Math.imul(te,Mt)|0,I=I+Math.imul(te,oe)|0,b=b+Math.imul(U,Ce)|0,C=(C=C+Math.imul(U,Ae)|0)+Math.imul(X,Ce)|0,I=I+Math.imul(X,Ae)|0;var ge=(Y+(b=b+Math.imul(W,Ve)|0)|0)+((8191&(C=(C=C+Math.imul(W,Ke)|0)+Math.imul(M,Ve)|0))<<13)|0;Y=((I=I+Math.imul(M,Ke)|0)+(C>>>13)|0)+(ge>>>26)|0,ge&=67108863,b=Math.imul(st,Ye),C=(C=Math.imul(st,ut))+Math.imul(ze,Ye)|0,I=Math.imul(ze,ut),b=b+Math.imul(Fe,dt)|0,C=(C=C+Math.imul(Fe,pt)|0)+Math.imul(He,dt)|0,I=I+Math.imul(He,pt)|0,b=b+Math.imul(Me,_t)|0,C=(C=C+Math.imul(Me,It)|0)+Math.imul(ke,_t)|0,I=I+Math.imul(ke,It)|0,b=b+Math.imul(fe,yt)|0,C=(C=C+Math.imul(fe,ht)|0)+Math.imul(he,yt)|0,I=I+Math.imul(he,ht)|0,b=b+Math.imul(se,Tt)|0,C=(C=C+Math.imul(se,gt)|0)+Math.imul(ue,Tt)|0,I=I+Math.imul(ue,gt)|0,b=b+Math.imul(le,Mt)|0,C=(C=C+Math.imul(le,oe)|0)+Math.imul(Q,Mt)|0,I=I+Math.imul(Q,oe)|0,b=b+Math.imul(Z,Ce)|0,C=(C=C+Math.imul(Z,Ae)|0)+Math.imul(te,Ce)|0,I=I+Math.imul(te,Ae)|0,b=b+Math.imul(U,Ve)|0,C=(C=C+Math.imul(U,Ke)|0)+Math.imul(X,Ve)|0,I=I+Math.imul(X,Ke)|0;var Ie=(Y+(b=b+Math.imul(W,ft)|0)|0)+((8191&(C=(C=C+Math.imul(W,We)|0)+Math.imul(M,ft)|0))<<13)|0;Y=((I=I+Math.imul(M,We)|0)+(C>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,b=Math.imul(Pe,Ye),C=(C=Math.imul(Pe,ut))+Math.imul(Ne,Ye)|0,I=Math.imul(Ne,ut),b=b+Math.imul(st,dt)|0,C=(C=C+Math.imul(st,pt)|0)+Math.imul(ze,dt)|0,I=I+Math.imul(ze,pt)|0,b=b+Math.imul(Fe,_t)|0,C=(C=C+Math.imul(Fe,It)|0)+Math.imul(He,_t)|0,I=I+Math.imul(He,It)|0,b=b+Math.imul(Me,yt)|0,C=(C=C+Math.imul(Me,ht)|0)+Math.imul(ke,yt)|0,I=I+Math.imul(ke,ht)|0,b=b+Math.imul(fe,Tt)|0,C=(C=C+Math.imul(fe,gt)|0)+Math.imul(he,Tt)|0,I=I+Math.imul(he,gt)|0,b=b+Math.imul(se,Mt)|0,C=(C=C+Math.imul(se,oe)|0)+Math.imul(ue,Mt)|0,I=I+Math.imul(ue,oe)|0,b=b+Math.imul(le,Ce)|0,C=(C=C+Math.imul(le,Ae)|0)+Math.imul(Q,Ce)|0,I=I+Math.imul(Q,Ae)|0,b=b+Math.imul(Z,Ve)|0,C=(C=C+Math.imul(Z,Ke)|0)+Math.imul(te,Ve)|0,I=I+Math.imul(te,Ke)|0,b=b+Math.imul(U,ft)|0,C=(C=C+Math.imul(U,We)|0)+Math.imul(X,ft)|0,I=I+Math.imul(X,We)|0;var Se=(Y+(b=b+Math.imul(W,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(W,Ht)|0)+Math.imul(M,Bt)|0))<<13)|0;Y=((I=I+Math.imul(M,Ht)|0)+(C>>>13)|0)+(Se>>>26)|0,Se&=67108863,b=Math.imul(Pe,dt),C=(C=Math.imul(Pe,pt))+Math.imul(Ne,dt)|0,I=Math.imul(Ne,pt),b=b+Math.imul(st,_t)|0,C=(C=C+Math.imul(st,It)|0)+Math.imul(ze,_t)|0,I=I+Math.imul(ze,It)|0,b=b+Math.imul(Fe,yt)|0,C=(C=C+Math.imul(Fe,ht)|0)+Math.imul(He,yt)|0,I=I+Math.imul(He,ht)|0,b=b+Math.imul(Me,Tt)|0,C=(C=C+Math.imul(Me,gt)|0)+Math.imul(ke,Tt)|0,I=I+Math.imul(ke,gt)|0,b=b+Math.imul(fe,Mt)|0,C=(C=C+Math.imul(fe,oe)|0)+Math.imul(he,Mt)|0,I=I+Math.imul(he,oe)|0,b=b+Math.imul(se,Ce)|0,C=(C=C+Math.imul(se,Ae)|0)+Math.imul(ue,Ce)|0,I=I+Math.imul(ue,Ae)|0,b=b+Math.imul(le,Ve)|0,C=(C=C+Math.imul(le,Ke)|0)+Math.imul(Q,Ve)|0,I=I+Math.imul(Q,Ke)|0,b=b+Math.imul(Z,ft)|0,C=(C=C+Math.imul(Z,We)|0)+Math.imul(te,ft)|0,I=I+Math.imul(te,We)|0;var Oe=(Y+(b=b+Math.imul(U,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(U,Ht)|0)+Math.imul(X,Bt)|0))<<13)|0;Y=((I=I+Math.imul(X,Ht)|0)+(C>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,b=Math.imul(Pe,_t),C=(C=Math.imul(Pe,It))+Math.imul(Ne,_t)|0,I=Math.imul(Ne,It),b=b+Math.imul(st,yt)|0,C=(C=C+Math.imul(st,ht)|0)+Math.imul(ze,yt)|0,I=I+Math.imul(ze,ht)|0,b=b+Math.imul(Fe,Tt)|0,C=(C=C+Math.imul(Fe,gt)|0)+Math.imul(He,Tt)|0,I=I+Math.imul(He,gt)|0,b=b+Math.imul(Me,Mt)|0,C=(C=C+Math.imul(Me,oe)|0)+Math.imul(ke,Mt)|0,I=I+Math.imul(ke,oe)|0,b=b+Math.imul(fe,Ce)|0,C=(C=C+Math.imul(fe,Ae)|0)+Math.imul(he,Ce)|0,I=I+Math.imul(he,Ae)|0,b=b+Math.imul(se,Ve)|0,C=(C=C+Math.imul(se,Ke)|0)+Math.imul(ue,Ve)|0,I=I+Math.imul(ue,Ke)|0,b=b+Math.imul(le,ft)|0,C=(C=C+Math.imul(le,We)|0)+Math.imul(Q,ft)|0,I=I+Math.imul(Q,We)|0;var et=(Y+(b=b+Math.imul(Z,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(Z,Ht)|0)+Math.imul(te,Bt)|0))<<13)|0;Y=((I=I+Math.imul(te,Ht)|0)+(C>>>13)|0)+(et>>>26)|0,et&=67108863,b=Math.imul(Pe,yt),C=(C=Math.imul(Pe,ht))+Math.imul(Ne,yt)|0,I=Math.imul(Ne,ht),b=b+Math.imul(st,Tt)|0,C=(C=C+Math.imul(st,gt)|0)+Math.imul(ze,Tt)|0,I=I+Math.imul(ze,gt)|0,b=b+Math.imul(Fe,Mt)|0,C=(C=C+Math.imul(Fe,oe)|0)+Math.imul(He,Mt)|0,I=I+Math.imul(He,oe)|0,b=b+Math.imul(Me,Ce)|0,C=(C=C+Math.imul(Me,Ae)|0)+Math.imul(ke,Ce)|0,I=I+Math.imul(ke,Ae)|0,b=b+Math.imul(fe,Ve)|0,C=(C=C+Math.imul(fe,Ke)|0)+Math.imul(he,Ve)|0,I=I+Math.imul(he,Ke)|0,b=b+Math.imul(se,ft)|0,C=(C=C+Math.imul(se,We)|0)+Math.imul(ue,ft)|0,I=I+Math.imul(ue,We)|0;var tt=(Y+(b=b+Math.imul(le,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(le,Ht)|0)+Math.imul(Q,Bt)|0))<<13)|0;Y=((I=I+Math.imul(Q,Ht)|0)+(C>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(Pe,Tt),C=(C=Math.imul(Pe,gt))+Math.imul(Ne,Tt)|0,I=Math.imul(Ne,gt),b=b+Math.imul(st,Mt)|0,C=(C=C+Math.imul(st,oe)|0)+Math.imul(ze,Mt)|0,I=I+Math.imul(ze,oe)|0,b=b+Math.imul(Fe,Ce)|0,C=(C=C+Math.imul(Fe,Ae)|0)+Math.imul(He,Ce)|0,I=I+Math.imul(He,Ae)|0,b=b+Math.imul(Me,Ve)|0,C=(C=C+Math.imul(Me,Ke)|0)+Math.imul(ke,Ve)|0,I=I+Math.imul(ke,Ke)|0,b=b+Math.imul(fe,ft)|0,C=(C=C+Math.imul(fe,We)|0)+Math.imul(he,ft)|0,I=I+Math.imul(he,We)|0;var zt=(Y+(b=b+Math.imul(se,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(se,Ht)|0)+Math.imul(ue,Bt)|0))<<13)|0;Y=((I=I+Math.imul(ue,Ht)|0)+(C>>>13)|0)+(zt>>>26)|0,zt&=67108863,b=Math.imul(Pe,Mt),C=(C=Math.imul(Pe,oe))+Math.imul(Ne,Mt)|0,I=Math.imul(Ne,oe),b=b+Math.imul(st,Ce)|0,C=(C=C+Math.imul(st,Ae)|0)+Math.imul(ze,Ce)|0,I=I+Math.imul(ze,Ae)|0,b=b+Math.imul(Fe,Ve)|0,C=(C=C+Math.imul(Fe,Ke)|0)+Math.imul(He,Ve)|0,I=I+Math.imul(He,Ke)|0,b=b+Math.imul(Me,ft)|0,C=(C=C+Math.imul(Me,We)|0)+Math.imul(ke,ft)|0,I=I+Math.imul(ke,We)|0;var xt=(Y+(b=b+Math.imul(fe,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(fe,Ht)|0)+Math.imul(he,Bt)|0))<<13)|0;Y=((I=I+Math.imul(he,Ht)|0)+(C>>>13)|0)+(xt>>>26)|0,xt&=67108863,b=Math.imul(Pe,Ce),C=(C=Math.imul(Pe,Ae))+Math.imul(Ne,Ce)|0,I=Math.imul(Ne,Ae),b=b+Math.imul(st,Ve)|0,C=(C=C+Math.imul(st,Ke)|0)+Math.imul(ze,Ve)|0,I=I+Math.imul(ze,Ke)|0,b=b+Math.imul(Fe,ft)|0,C=(C=C+Math.imul(Fe,We)|0)+Math.imul(He,ft)|0,I=I+Math.imul(He,We)|0;var wt=(Y+(b=b+Math.imul(Me,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(Me,Ht)|0)+Math.imul(ke,Bt)|0))<<13)|0;Y=((I=I+Math.imul(ke,Ht)|0)+(C>>>13)|0)+(wt>>>26)|0,wt&=67108863,b=Math.imul(Pe,Ve),C=(C=Math.imul(Pe,Ke))+Math.imul(Ne,Ve)|0,I=Math.imul(Ne,Ke),b=b+Math.imul(st,ft)|0,C=(C=C+Math.imul(st,We)|0)+Math.imul(ze,ft)|0,I=I+Math.imul(ze,We)|0;var kt=(Y+(b=b+Math.imul(Fe,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(Fe,Ht)|0)+Math.imul(He,Bt)|0))<<13)|0;Y=((I=I+Math.imul(He,Ht)|0)+(C>>>13)|0)+(kt>>>26)|0,kt&=67108863,b=Math.imul(Pe,ft),C=(C=Math.imul(Pe,We))+Math.imul(Ne,ft)|0,I=Math.imul(Ne,We);var Pn=(Y+(b=b+Math.imul(st,Bt)|0)|0)+((8191&(C=(C=C+Math.imul(st,Ht)|0)+Math.imul(ze,Bt)|0))<<13)|0;Y=((I=I+Math.imul(ze,Ht)|0)+(C>>>13)|0)+(Pn>>>26)|0,Pn&=67108863;var Kn=(Y+(b=Math.imul(Pe,Bt))|0)+((8191&(C=(C=Math.imul(Pe,Ht))+Math.imul(Ne,Bt)|0))<<13)|0;return Y=((I=Math.imul(Ne,Ht))+(C>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,z[0]=wn,z[1]=On,z[2]=or,z[3]=gr,z[4]=Xn,z[5]=yr,z[6]=ie,z[7]=ge,z[8]=Ie,z[9]=Se,z[10]=Oe,z[11]=et,z[12]=tt,z[13]=zt,z[14]=xt,z[15]=wt,z[16]=kt,z[17]=Pn,z[18]=Kn,Y!==0&&(z[19]=Y,w.length++),w};function k(m,v,w){w.negative=v.negative^m.negative,w.length=m.length+v.length;for(var b=0,C=0,I=0;I<w.length-1;I++){var F=C;C=0;for(var $=67108863&b,z=Math.min(I,v.length-1),Y=Math.max(0,I-m.length+1);Y<=z;Y++){var O=I-Y,W=(0|m.words[O])*(0|v.words[Y]),M=67108863&W;$=67108863&(M=M+$|0),C+=(F=(F=F+(W/67108864|0)|0)+(M>>>26)|0)>>>26,F&=67108863}w.words[I]=$,b=F,F=C}return b!==0?w.words[I]=b:w.length--,w._strip()}function L(m,v,w){return k(m,v,w)}function B(m,v){this.x=m,this.y=v}Math.imul||(x=_),a.prototype.mulTo=function(m,v){var w=this.length+m.length;return this.length===10&&m.length===10?x(this,m,v):w<63?_(this,m,v):w<1024?k(this,m,v):L(this,m,v)},B.prototype.makeRBT=function(m){for(var v=new Array(m),w=a.prototype._countBits(m)-1,b=0;b<m;b++)v[b]=this.revBin(b,w,m);return v},B.prototype.revBin=function(m,v,w){if(m===0||m===w-1)return m;for(var b=0,C=0;C<v;C++)b|=(1&m)<<v-C-1,m>>=1;return b},B.prototype.permute=function(m,v,w,b,C,I){for(var F=0;F<I;F++)b[F]=v[m[F]],C[F]=w[m[F]]},B.prototype.transform=function(m,v,w,b,C,I){this.permute(I,m,v,w,b,C);for(var F=1;F<C;F<<=1)for(var $=F<<1,z=Math.cos(2*Math.PI/$),Y=Math.sin(2*Math.PI/$),O=0;O<C;O+=$)for(var W=z,M=Y,A=0;A<F;A++){var U=w[O+A],X=b[O+A],re=w[O+A+F],Z=b[O+A+F],te=W*re-M*Z;Z=W*Z+M*re,re=te,w[O+A]=U+re,b[O+A]=X+Z,w[O+A+F]=U-re,b[O+A+F]=X-Z,A!==$&&(te=z*W-Y*M,M=z*M+Y*W,W=te)}},B.prototype.guessLen13b=function(m,v){var w=1|Math.max(v,m),b=1&w,C=0;for(w=w/2|0;w;w>>>=1)C++;return 1<<C+1+b},B.prototype.conjugate=function(m,v,w){if(!(w<=1))for(var b=0;b<w/2;b++){var C=m[b];m[b]=m[w-b-1],m[w-b-1]=C,C=v[b],v[b]=-v[w-b-1],v[w-b-1]=-C}},B.prototype.normalize13b=function(m,v){for(var w=0,b=0;b<v/2;b++){var C=8192*Math.round(m[2*b+1]/v)+Math.round(m[2*b]/v)+w;m[b]=67108863&C,w=C<67108864?0:C/67108864|0}return m},B.prototype.convert13b=function(m,v,w,b){for(var C=0,I=0;I<v;I++)C+=0|m[I],w[2*I]=8191&C,C>>>=13,w[2*I+1]=8191&C,C>>>=13;for(I=2*v;I<b;++I)w[I]=0;s(C===0),s((-8192&C)==0)},B.prototype.stub=function(m){for(var v=new Array(m),w=0;w<m;w++)v[w]=0;return v},B.prototype.mulp=function(m,v,w){var b=2*this.guessLen13b(m.length,v.length),C=this.makeRBT(b),I=this.stub(b),F=new Array(b),$=new Array(b),z=new Array(b),Y=new Array(b),O=new Array(b),W=new Array(b),M=w.words;M.length=b,this.convert13b(m.words,m.length,F,b),this.convert13b(v.words,v.length,Y,b),this.transform(F,I,$,z,b,C),this.transform(Y,I,O,W,b,C);for(var A=0;A<b;A++){var U=$[A]*O[A]-z[A]*W[A];z[A]=$[A]*W[A]+z[A]*O[A],$[A]=U}return this.conjugate($,z,b),this.transform($,z,M,I,b,C),this.conjugate(M,I,b),this.normalize13b(M,b),w.negative=m.negative^v.negative,w.length=m.length+v.length,w._strip()},a.prototype.mul=function(m){var v=new a(null);return v.words=new Array(this.length+m.length),this.mulTo(m,v)},a.prototype.mulf=function(m){var v=new a(null);return v.words=new Array(this.length+m.length),L(this,m,v)},a.prototype.imul=function(m){return this.clone().mulTo(m,this)},a.prototype.imuln=function(m){var v=m<0;v&&(m=-m),s(typeof m=="number"),s(m<67108864);for(var w=0,b=0;b<this.length;b++){var C=(0|this.words[b])*m,I=(67108863&C)+(67108863&w);w>>=26,w+=C/67108864|0,w+=I>>>26,this.words[b]=67108863&I}return w!==0&&(this.words[b]=w,this.length++),v?this.ineg():this},a.prototype.muln=function(m){return this.clone().imuln(m)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(m){var v=(function(I){for(var F=new Array(I.bitLength()),$=0;$<F.length;$++){var z=$/26|0,Y=$%26;F[$]=I.words[z]>>>Y&1}return F})(m);if(v.length===0)return new a(1);for(var w=this,b=0;b<v.length&&v[b]===0;b++,w=w.sqr());if(++b<v.length)for(var C=w.sqr();b<v.length;b++,C=C.sqr())v[b]!==0&&(w=w.mul(C));return w},a.prototype.iushln=function(m){s(typeof m=="number"&&m>=0);var v,w=m%26,b=(m-w)/26,C=67108863>>>26-w<<26-w;if(w!==0){var I=0;for(v=0;v<this.length;v++){var F=this.words[v]&C,$=(0|this.words[v])-F<<w;this.words[v]=$|I,I=F>>>26-w}I&&(this.words[v]=I,this.length++)}if(b!==0){for(v=this.length-1;v>=0;v--)this.words[v+b]=this.words[v];for(v=0;v<b;v++)this.words[v]=0;this.length+=b}return this._strip()},a.prototype.ishln=function(m){return s(this.negative===0),this.iushln(m)},a.prototype.iushrn=function(m,v,w){var b;s(typeof m=="number"&&m>=0),b=v?(v-v%26)/26:0;var C=m%26,I=Math.min((m-C)/26,this.length),F=67108863^67108863>>>C<<C,$=w;if(b-=I,b=Math.max(0,b),$){for(var z=0;z<I;z++)$.words[z]=this.words[z];$.length=I}if(I!==0)if(this.length>I)for(this.length-=I,z=0;z<this.length;z++)this.words[z]=this.words[z+I];else this.words[0]=0,this.length=1;var Y=0;for(z=this.length-1;z>=0&&(Y!==0||z>=b);z--){var O=0|this.words[z];this.words[z]=Y<<26-C|O>>>C,Y=O&F}return $&&Y!==0&&($.words[$.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(m,v,w){return s(this.negative===0),this.iushrn(m,v,w)},a.prototype.shln=function(m){return this.clone().ishln(m)},a.prototype.ushln=function(m){return this.clone().iushln(m)},a.prototype.shrn=function(m){return this.clone().ishrn(m)},a.prototype.ushrn=function(m){return this.clone().iushrn(m)},a.prototype.testn=function(m){s(typeof m=="number"&&m>=0);var v=m%26,w=(m-v)/26,b=1<<v;return!(this.length<=w)&&!!(this.words[w]&b)},a.prototype.imaskn=function(m){s(typeof m=="number"&&m>=0);var v=m%26,w=(m-v)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(v!==0&&w++,this.length=Math.min(w,this.length),v!==0){var b=67108863^67108863>>>v<<v;this.words[this.length-1]&=b}return this._strip()},a.prototype.maskn=function(m){return this.clone().imaskn(m)},a.prototype.iaddn=function(m){return s(typeof m=="number"),s(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(0|this.words[0])<=m?(this.words[0]=m-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},a.prototype._iaddn=function(m){this.words[0]+=m;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(m){if(s(typeof m=="number"),s(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},a.prototype.addn=function(m){return this.clone().iaddn(m)},a.prototype.subn=function(m){return this.clone().isubn(m)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(m,v,w){var b,C,I=m.length+w;this._expand(I);var F=0;for(b=0;b<m.length;b++){C=(0|this.words[b+w])+F;var $=(0|m.words[b])*v;F=((C-=67108863&$)>>26)-($/67108864|0),this.words[b+w]=67108863&C}for(;b<this.length-w;b++)F=(C=(0|this.words[b+w])+F)>>26,this.words[b+w]=67108863&C;if(F===0)return this._strip();for(s(F===-1),F=0,b=0;b<this.length;b++)F=(C=-(0|this.words[b])+F)>>26,this.words[b]=67108863&C;return this.negative=1,this._strip()},a.prototype._wordDiv=function(m,v){var w=(this.length,m.length),b=this.clone(),C=m,I=0|C.words[C.length-1];(w=26-this._countBits(I))!==0&&(C=C.ushln(w),b.iushln(w),I=0|C.words[C.length-1]);var F,$=b.length-C.length;if(v!=="mod"){(F=new a(null)).length=$+1,F.words=new Array(F.length);for(var z=0;z<F.length;z++)F.words[z]=0}var Y=b.clone()._ishlnsubmul(C,1,$);Y.negative===0&&(b=Y,F&&(F.words[$]=1));for(var O=$-1;O>=0;O--){var W=67108864*(0|b.words[C.length+O])+(0|b.words[C.length+O-1]);for(W=Math.min(W/I|0,67108863),b._ishlnsubmul(C,W,O);b.negative!==0;)W--,b.negative=0,b._ishlnsubmul(C,1,O),b.isZero()||(b.negative^=1);F&&(F.words[O]=W)}return F&&F._strip(),b._strip(),v!=="div"&&w!==0&&b.iushrn(w),{div:F||null,mod:b}},a.prototype.divmod=function(m,v,w){return s(!m.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&m.negative===0?(I=this.neg().divmod(m,v),v!=="mod"&&(b=I.div.neg()),v!=="div"&&(C=I.mod.neg(),w&&C.negative!==0&&C.iadd(m)),{div:b,mod:C}):this.negative===0&&m.negative!==0?(I=this.divmod(m.neg(),v),v!=="mod"&&(b=I.div.neg()),{div:b,mod:I.mod}):(this.negative&m.negative)!=0?(I=this.neg().divmod(m.neg(),v),v!=="div"&&(C=I.mod.neg(),w&&C.negative!==0&&C.isub(m)),{div:I.div,mod:C}):m.length>this.length||this.cmp(m)<0?{div:new a(0),mod:this}:m.length===1?v==="div"?{div:this.divn(m.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new a(this.modrn(m.words[0]))}:this._wordDiv(m,v);var b,C,I},a.prototype.div=function(m){return this.divmod(m,"div",!1).div},a.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},a.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},a.prototype.divRound=function(m){var v=this.divmod(m);if(v.mod.isZero())return v.div;var w=v.div.negative!==0?v.mod.isub(m):v.mod,b=m.ushrn(1),C=m.andln(1),I=w.cmp(b);return I<0||C===1&&I===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modrn=function(m){var v=m<0;v&&(m=-m),s(m<=67108863);for(var w=(1<<26)%m,b=0,C=this.length-1;C>=0;C--)b=(w*b+(0|this.words[C]))%m;return v?-b:b},a.prototype.modn=function(m){return this.modrn(m)},a.prototype.idivn=function(m){var v=m<0;v&&(m=-m),s(m<=67108863);for(var w=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*w;this.words[b]=C/m|0,w=C%m}return this._strip(),v?this.ineg():this},a.prototype.divn=function(m){return this.clone().idivn(m)},a.prototype.egcd=function(m){s(m.negative===0),s(!m.isZero());var v=this,w=m.clone();v=v.negative!==0?v.umod(m):v.clone();for(var b=new a(1),C=new a(0),I=new a(0),F=new a(1),$=0;v.isEven()&&w.isEven();)v.iushrn(1),w.iushrn(1),++$;for(var z=w.clone(),Y=v.clone();!v.isZero();){for(var O=0,W=1;(v.words[0]&W)==0&&O<26;++O,W<<=1);if(O>0)for(v.iushrn(O);O-- >0;)(b.isOdd()||C.isOdd())&&(b.iadd(z),C.isub(Y)),b.iushrn(1),C.iushrn(1);for(var M=0,A=1;(w.words[0]&A)==0&&M<26;++M,A<<=1);if(M>0)for(w.iushrn(M);M-- >0;)(I.isOdd()||F.isOdd())&&(I.iadd(z),F.isub(Y)),I.iushrn(1),F.iushrn(1);v.cmp(w)>=0?(v.isub(w),b.isub(I),C.isub(F)):(w.isub(v),I.isub(b),F.isub(C))}return{a:I,b:F,gcd:w.iushln($)}},a.prototype._invmp=function(m){s(m.negative===0),s(!m.isZero());var v=this,w=m.clone();v=v.negative!==0?v.umod(m):v.clone();for(var b,C=new a(1),I=new a(0),F=w.clone();v.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,z=1;(v.words[0]&z)==0&&$<26;++$,z<<=1);if($>0)for(v.iushrn($);$-- >0;)C.isOdd()&&C.iadd(F),C.iushrn(1);for(var Y=0,O=1;(w.words[0]&O)==0&&Y<26;++Y,O<<=1);if(Y>0)for(w.iushrn(Y);Y-- >0;)I.isOdd()&&I.iadd(F),I.iushrn(1);v.cmp(w)>=0?(v.isub(w),C.isub(I)):(w.isub(v),I.isub(C))}return(b=v.cmpn(1)===0?C:I).cmpn(0)<0&&b.iadd(m),b},a.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var v=this.clone(),w=m.clone();v.negative=0,w.negative=0;for(var b=0;v.isEven()&&w.isEven();b++)v.iushrn(1),w.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;w.isEven();)w.iushrn(1);var C=v.cmp(w);if(C<0){var I=v;v=w,w=I}else if(C===0||w.cmpn(1)===0)break;v.isub(w)}return w.iushln(b)},a.prototype.invm=function(m){return this.egcd(m).a.umod(m)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(m){return this.words[0]&m},a.prototype.bincn=function(m){s(typeof m=="number");var v=m%26,w=(m-v)/26,b=1<<v;if(this.length<=w)return this._expand(w+1),this.words[w]|=b,this;for(var C=b,I=w;C!==0&&I<this.length;I++){var F=0|this.words[I];C=(F+=C)>>>26,F&=67108863,this.words[I]=F}return C!==0&&(this.words[I]=C,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(m){var v,w=m<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)v=1;else{w&&(m=-m),s(m<=67108863,"Number is too big");var b=0|this.words[0];v=b===m?0:b<m?-1:1}return this.negative!==0?0|-v:v},a.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var v=this.ucmp(m);return this.negative!==0?0|-v:v},a.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var v=0,w=this.length-1;w>=0;w--){var b=0|this.words[w],C=0|m.words[w];if(b!==C){b<C?v=-1:b>C&&(v=1);break}}return v},a.prototype.gtn=function(m){return this.cmpn(m)===1},a.prototype.gt=function(m){return this.cmp(m)===1},a.prototype.gten=function(m){return this.cmpn(m)>=0},a.prototype.gte=function(m){return this.cmp(m)>=0},a.prototype.ltn=function(m){return this.cmpn(m)===-1},a.prototype.lt=function(m){return this.cmp(m)===-1},a.prototype.lten=function(m){return this.cmpn(m)<=0},a.prototype.lte=function(m){return this.cmp(m)<=0},a.prototype.eqn=function(m){return this.cmpn(m)===0},a.prototype.eq=function(m){return this.cmp(m)===0},a.red=function(m){return new S(m)},a.prototype.toRed=function(m){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(m){return this.red=m,this},a.prototype.forceRed=function(m){return s(!this.red,"Already a number in reduction context"),this._forceRed(m)},a.prototype.redAdd=function(m){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},a.prototype.redIAdd=function(m){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},a.prototype.redSub=function(m){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},a.prototype.redISub=function(m){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},a.prototype.redShl=function(m){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},a.prototype.redMul=function(m){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},a.prototype.redIMul=function(m){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(m){return s(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var V={k256:null,p224:null,p192:null,p25519:null};function R(m,v){this.name=m,this.p=new a(v,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function N(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(m){if(typeof m=="string"){var v=a._prime(m);this.m=v.p,this.prime=v}else s(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function D(m){S.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var m=new a(null);return m.words=new Array(Math.ceil(this.n/13)),m},R.prototype.ireduce=function(m){var v,w=m;do this.split(w,this.tmp),v=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(v>this.n);var b=v<this.n?-1:w.ucmp(this.p);return b===0?(w.words[0]=0,w.length=1):b>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},R.prototype.split=function(m,v){m.iushrn(this.n,0,v)},R.prototype.imulK=function(m){return m.imul(this.k)},o(N,R),N.prototype.split=function(m,v){for(var w=Math.min(m.length,9),b=0;b<w;b++)v.words[b]=m.words[b];if(v.length=w,m.length<=9)return m.words[0]=0,void(m.length=1);var C=m.words[9];for(v.words[v.length++]=4194303&C,b=10;b<m.length;b++){var I=0|m.words[b];m.words[b-10]=(4194303&I)<<4|C>>>22,C=I}C>>>=22,m.words[b-10]=C,C===0&&m.length>10?m.length-=10:m.length-=9},N.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var v=0,w=0;w<m.length;w++){var b=0|m.words[w];v+=977*b,m.words[w]=67108863&v,v=64*b+(v/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m},o(j,R),o(P,R),o(E,R),E.prototype.imulK=function(m){for(var v=0,w=0;w<m.length;w++){var b=19*(0|m.words[w])+v,C=67108863&b;b>>>=26,m.words[w]=C,v=b}return v!==0&&(m.words[m.length++]=v),m},a._prime=function(m){if(V[m])return V[m];var v;if(m==="k256")v=new N;else if(m==="p224")v=new j;else if(m==="p192")v=new P;else{if(m!=="p25519")throw new Error("Unknown prime "+m);v=new E}return V[m]=v,v},S.prototype._verify1=function(m){s(m.negative===0,"red works only with positives"),s(m.red,"red works only with red numbers")},S.prototype._verify2=function(m,v){s((m.negative|v.negative)==0,"red works only with positives"),s(m.red&&m.red===v.red,"red works only with red numbers")},S.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(f(m,m.umod(this.m)._forceRed(this)),m)},S.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},S.prototype.add=function(m,v){this._verify2(m,v);var w=m.add(v);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},S.prototype.iadd=function(m,v){this._verify2(m,v);var w=m.iadd(v);return w.cmp(this.m)>=0&&w.isub(this.m),w},S.prototype.sub=function(m,v){this._verify2(m,v);var w=m.sub(v);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},S.prototype.isub=function(m,v){this._verify2(m,v);var w=m.isub(v);return w.cmpn(0)<0&&w.iadd(this.m),w},S.prototype.shl=function(m,v){return this._verify1(m),this.imod(m.ushln(v))},S.prototype.imul=function(m,v){return this._verify2(m,v),this.imod(m.imul(v))},S.prototype.mul=function(m,v){return this._verify2(m,v),this.imod(m.mul(v))},S.prototype.isqr=function(m){return this.imul(m,m.clone())},S.prototype.sqr=function(m){return this.mul(m,m)},S.prototype.sqrt=function(m){if(m.isZero())return m.clone();var v=this.m.andln(3);if(s(v%2==1),v===3){var w=this.m.add(new a(1)).iushrn(2);return this.pow(m,w)}for(var b=this.m.subn(1),C=0;!b.isZero()&&b.andln(1)===0;)C++,b.iushrn(1);s(!b.isZero());var I=new a(1).toRed(this),F=I.redNeg(),$=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new a(2*z*z).toRed(this);this.pow(z,$).cmp(F)!==0;)z.redIAdd(F);for(var Y=this.pow(z,b),O=this.pow(m,b.addn(1).iushrn(1)),W=this.pow(m,b),M=C;W.cmp(I)!==0;){for(var A=W,U=0;A.cmp(I)!==0;U++)A=A.redSqr();s(U<M);var X=this.pow(Y,new a(1).iushln(M-U-1));O=O.redMul(X),Y=X.redSqr(),W=W.redMul(Y),M=U}return O},S.prototype.invm=function(m){var v=m._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},S.prototype.pow=function(m,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return m.clone();var w=new Array(16);w[0]=new a(1).toRed(this),w[1]=m;for(var b=2;b<w.length;b++)w[b]=this.mul(w[b-1],m);var C=w[0],I=0,F=0,$=v.bitLength()%26;for($===0&&($=26),b=v.length-1;b>=0;b--){for(var z=v.words[b],Y=$-1;Y>=0;Y--){var O=z>>Y&1;C!==w[0]&&(C=this.sqr(C)),O!==0||I!==0?(I<<=1,I|=O,(++F===4||b===0&&Y===0)&&(C=this.mul(C,w[I]),F=0,I=0)):F=0}$=26}return C},S.prototype.convertTo=function(m){var v=m.umod(this.m);return v===m?v.clone():v},S.prototype.convertFrom=function(m){var v=m.clone();return v.red=null,v},a.mont=function(m){return new D(m)},o(D,S),D.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},D.prototype.convertFrom=function(m){var v=this.imod(m.mul(this.rinv));return v.red=null,v},D.prototype.imul=function(m,v){if(m.isZero()||v.isZero())return m.words[0]=0,m.length=1,m;var w=m.imul(v),b=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=w.isub(b).iushrn(this.shift),I=C;return C.cmp(this.m)>=0?I=C.isub(this.m):C.cmpn(0)<0&&(I=C.iadd(this.m)),I._forceRed(this)},D.prototype.mul=function(m,v){if(m.isZero()||v.isZero())return new a(0)._forceRed(this);var w=m.mul(v),b=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=w.isub(b).iushrn(this.shift),I=C;return C.cmp(this.m)>=0?I=C.isub(this.m):C.cmpn(0)<0&&(I=C.iadd(this.m)),I._forceRed(this)},D.prototype.invm=function(m){return this.imod(m._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],187:[function(t,e,n){"use strict";var r;function i(o){this.rand=o}if(e.exports=function(o){return r||(r=new i(null)),r.generate(o)},e.exports.Rand=i,i.prototype.generate=function(o){return this._rand(o)},i.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var a=new Uint8Array(o),c=0;c<a.length;c++)a[c]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=t("crypto");if(typeof s.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(o){return s.randomBytes(o)}}catch{}},{crypto:188}],188:[function(t,e,n){},{}],189:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(l){r.isBuffer(l)||(l=r.from(l));for(var d=l.length/4|0,f=new Array(d),p=0;p<d;p++)f[p]=l.readUInt32BE(4*p);return f}function s(l){for(;0<l.length;l++)l[0]=0}function o(l,d,f,p,h){for(var y,g,_,x,k=f[0],L=f[1],B=f[2],V=f[3],R=l[0]^d[0],N=l[1]^d[1],j=l[2]^d[2],P=l[3]^d[3],E=4,S=1;S<h;S++)y=k[R>>>24]^L[N>>>16&255]^B[j>>>8&255]^V[255&P]^d[E++],g=k[N>>>24]^L[j>>>16&255]^B[P>>>8&255]^V[255&R]^d[E++],_=k[j>>>24]^L[P>>>16&255]^B[R>>>8&255]^V[255&N]^d[E++],x=k[P>>>24]^L[R>>>16&255]^B[N>>>8&255]^V[255&j]^d[E++],R=y,N=g,j=_,P=x;return y=(p[R>>>24]<<24|p[N>>>16&255]<<16|p[j>>>8&255]<<8|p[255&P])^d[E++],g=(p[N>>>24]<<24|p[j>>>16&255]<<16|p[P>>>8&255]<<8|p[255&R])^d[E++],_=(p[j>>>24]<<24|p[P>>>16&255]<<16|p[R>>>8&255]<<8|p[255&N])^d[E++],x=(p[P>>>24]<<24|p[R>>>16&255]<<16|p[N>>>8&255]<<8|p[255&j])^d[E++],[y>>>=0,g>>>=0,_>>>=0,x>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=(function(){for(var l=new Array(256),d=0;d<256;d++)l[d]=d<128?d<<1:d<<1^283;for(var f=[],p=[],h=[[],[],[],[]],y=[[],[],[],[]],g=0,_=0,x=0;x<256;++x){var k=_^_<<1^_<<2^_<<3^_<<4;k=k>>>8^255&k^99,f[g]=k,p[k]=g;var L=l[g],B=l[L],V=l[B],R=257*l[k]^16843008*k;h[0][g]=R<<24|R>>>8,h[1][g]=R<<16|R>>>16,h[2][g]=R<<8|R>>>24,h[3][g]=R,R=16843009*V^65537*B^257*L^16843008*g,y[0][k]=R<<24|R>>>8,y[1][k]=R<<16|R>>>16,y[2][k]=R<<8|R>>>24,y[3][k]=R,g===0?g=_=1:(g=L^l[l[l[V^L]]],_^=l[l[_]])}return{SBOX:f,INV_SBOX:p,SUB_MIX:h,INV_SUB_MIX:y}})();function u(l){this._key=i(l),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var l=this._key,d=l.length,f=d+6,p=4*(f+1),h=[],y=0;y<d;y++)h[y]=l[y];for(y=d;y<p;y++){var g=h[y-1];y%d==0?(g=g<<8|g>>>24,g=c.SBOX[g>>>24]<<24|c.SBOX[g>>>16&255]<<16|c.SBOX[g>>>8&255]<<8|c.SBOX[255&g],g^=a[y/d|0]<<24):d>6&&y%d==4&&(g=c.SBOX[g>>>24]<<24|c.SBOX[g>>>16&255]<<16|c.SBOX[g>>>8&255]<<8|c.SBOX[255&g]),h[y]=h[y-d]^g}for(var _=[],x=0;x<p;x++){var k=p-x,L=h[k-(x%4?0:4)];_[x]=x<4||k<=4?L:c.INV_SUB_MIX[0][c.SBOX[L>>>24]]^c.INV_SUB_MIX[1][c.SBOX[L>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[L>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&L]]}this._nRounds=f,this._keySchedule=h,this._invKeySchedule=_},u.prototype.encryptBlockRaw=function(l){return o(l=i(l),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(l){var d=this.encryptBlockRaw(l),f=r.allocUnsafe(16);return f.writeUInt32BE(d[0],0),f.writeUInt32BE(d[1],4),f.writeUInt32BE(d[2],8),f.writeUInt32BE(d[3],12),f},u.prototype.decryptBlock=function(l){var d=(l=i(l))[1];l[1]=l[3],l[3]=d;var f=o(l,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),p=r.allocUnsafe(16);return p.writeUInt32BE(f[0],0),p.writeUInt32BE(f[3],4),p.writeUInt32BE(f[2],8),p.writeUInt32BE(f[1],12),p},u.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},e.exports.AES=u},{"safe-buffer":494}],190:[function(t,e,n){"use strict";var r=t("./aes"),i=t("safe-buffer").Buffer,s=t("cipher-base"),o=t("inherits"),a=t("./ghash"),c=t("buffer-xor"),u=t("./incr32");function l(d,f,p,h){s.call(this);var y=i.alloc(4,0);this._cipher=new r.AES(f);var g=this._cipher.encryptBlock(y);this._ghash=new a(g),p=(function(_,x,k){if(x.length===12)return _._finID=i.concat([x,i.from([0,0,0,1])]),i.concat([x,i.from([0,0,0,2])]);var L=new a(k),B=x.length,V=B%16;L.update(x),V&&(V=16-V,L.update(i.alloc(V,0))),L.update(i.alloc(8,0));var R=8*B,N=i.alloc(8);N.writeUIntBE(R,0,8),L.update(N),_._finID=L.state;var j=i.from(_._finID);return u(j),j})(this,p,g),this._prev=i.from(p),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=h,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}o(l,s),l.prototype._update=function(d){if(!this._called&&this._alen){var f=16-this._alen%16;f<16&&(f=i.alloc(f,0),this._ghash.update(f))}this._called=!0;var p=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(p),this._len+=d.length,p},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(f,p){var h=0;f.length!==p.length&&h++;for(var y=Math.min(f.length,p.length),g=0;g<y;++g)h+=f[g]^p[g];return h})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},l.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},e.exports=l},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,e,n){"use strict";var r=t("./encrypter"),i=t("./decrypter"),s=t("./modes/list.json");n.createCipher=n.Cipher=r.createCipher,n.createCipheriv=n.Cipheriv=r.createCipheriv,n.createDecipher=n.Decipher=i.createDecipher,n.createDecipheriv=n.Decipheriv=i.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(s)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,e,n){"use strict";var r=t("./authCipher"),i=t("safe-buffer").Buffer,s=t("./modes"),o=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),u=t("evp_bytestokey");function l(p,h,y){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(h),this._prev=i.from(y),this._mode=p,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function f(p,h,y){var g=s[p.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=i.from(y)),g.mode!=="GCM"&&y.length!==g.iv)throw new TypeError("invalid iv length "+y.length);if(typeof h=="string"&&(h=i.from(h)),h.length!==g.key/8)throw new TypeError("invalid key length "+h.length);return g.type==="stream"?new o(g.module,h,y,!0):g.type==="auth"?new r(g.module,h,y,!0):new l(g.module,h,y)}t("inherits")(l,a),l.prototype._update=function(p){var h,y;this._cache.add(p);for(var g=[];h=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,h),g.push(y);return i.concat(g)},l.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return(function(h){var y=h[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var g=-1;++g<y;)if(h[g+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return h.slice(0,16-y)})(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},d.prototype.add=function(p){this.cache=i.concat([this.cache,p])},d.prototype.get=function(p){var h;if(p){if(this.cache.length>16)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h}else if(this.cache.length>=16)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(p,h){var y=s[p.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var g=u(h,!1,y.key,y.iv);return f(p,g.key,g.iv)},n.createDecipheriv=f},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,e,n){"use strict";var r=t("./modes"),i=t("./authCipher"),s=t("safe-buffer").Buffer,o=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),u=t("evp_bytestokey");function l(h,y,g){a.call(this),this._cache=new f,this._cipher=new c.AES(y),this._prev=s.from(g),this._mode=h,this._autopadding=!0}t("inherits")(l,a),l.prototype._update=function(h){var y,g;this._cache.add(h);for(var _=[];y=this._cache.get();)g=this._mode.encrypt(this,y),_.push(g);return s.concat(_)};var d=s.alloc(16,16);function f(){this.cache=s.allocUnsafe(0)}function p(h,y,g){var _=r[h.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=s.from(y)),y.length!==_.key/8)throw new TypeError("invalid key length "+y.length);if(typeof g=="string"&&(g=s.from(g)),_.mode!=="GCM"&&g.length!==_.iv)throw new TypeError("invalid iv length "+g.length);return _.type==="stream"?new o(_.module,y,g):_.type==="auth"?new i(_.module,y,g):new l(_.module,y,g)}l.prototype._final=function(){var h=this._cache.flush();if(this._autopadding)return h=this._mode.encrypt(this,h),this._cipher.scrub(),h;if(!h.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(h){return this._autopadding=!!h,this},f.prototype.add=function(h){this.cache=s.concat([this.cache,h])},f.prototype.get=function(){if(this.cache.length>15){var h=this.cache.slice(0,16);return this.cache=this.cache.slice(16),h}return null},f.prototype.flush=function(){for(var h=16-this.cache.length,y=s.allocUnsafe(h),g=-1;++g<h;)y.writeUInt8(h,g);return s.concat([this.cache,y])},n.createCipheriv=p,n.createCipher=function(h,y){var g=r[h.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var _=u(y,!1,g.key,g.iv);return p(h,_.key,_.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.alloc(16,0);function s(a){var c=r.allocUnsafe(16);return c.writeUInt32BE(a[0]>>>0,0),c.writeUInt32BE(a[1]>>>0,4),c.writeUInt32BE(a[2]>>>0,8),c.writeUInt32BE(a[3]>>>0,12),c}function o(a){this.h=a,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(a){for(var c=-1;++c<a.length;)this.state[c]^=a[c];this._multiply()},o.prototype._multiply=function(){for(var a,c,u,l=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],d=[0,0,0,0],f=-1;++f<128;){for((this.state[~~(f/8)]&1<<7-f%8)!=0&&(d[0]^=l[0],d[1]^=l[1],d[2]^=l[2],d[3]^=l[3]),u=(1&l[3])!=0,c=3;c>0;c--)l[c]=l[c]>>>1|(1&l[c-1])<<31;l[0]=l[0]>>>1,u&&(l[0]=l[0]^225<<24)}this.state=s(d)},o.prototype.update=function(a){var c;for(this.cache=r.concat([this.cache,a]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},o.prototype.final=function(a,c){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(s([0,a,0,c])),this.state},e.exports=o},{"safe-buffer":494}],195:[function(t,e,n){"use strict";e.exports=function(r){for(var i,s=r.length;s--;){if((i=r.readUInt8(s))!==255){i++,r.writeUInt8(i,s);break}r.writeUInt8(0,s)}}},{}],196:[function(t,e,n){"use strict";var r=t("buffer-xor");n.encrypt=function(i,s){var o=r(s,i._prev);return i._prev=i._cipher.encryptBlock(o),i._prev},n.decrypt=function(i,s){var o=i._prev;i._prev=s;var a=i._cipher.decryptBlock(s);return r(a,o)}},{"buffer-xor":219}],197:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("buffer-xor");function s(o,a,c){var u=a.length,l=i(a,o._cache);return o._cache=o._cache.slice(u),o._prev=r.concat([o._prev,c?a:l]),l}n.encrypt=function(o,a,c){for(var u,l=r.allocUnsafe(0);a.length;){if(o._cache.length===0&&(o._cache=o._cipher.encryptBlock(o._prev),o._prev=r.allocUnsafe(0)),!(o._cache.length<=a.length)){l=r.concat([l,s(o,a,c)]);break}u=o._cache.length,l=r.concat([l,s(o,a.slice(0,u),c)]),a=a.slice(u)}return l}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(o,a,c){for(var u,l,d=-1,f=0;++d<8;)u=a&1<<7-d?128:0,f+=(128&(l=o._cipher.encryptBlock(o._prev)[0]^u))>>d%8,o._prev=s(o._prev,c?u:l);return f}function s(o,a){var c=o.length,u=-1,l=r.allocUnsafe(o.length);for(o=r.concat([o,r.from([a])]);++u<c;)l[u]=o[u]<<1|o[u+1]>>7;return l}n.encrypt=function(o,a,c){for(var u=a.length,l=r.allocUnsafe(u),d=-1;++d<u;)l[d]=i(o,a[d],c);return l}},{"safe-buffer":494}],199:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(s,o,a){var c=s._cipher.encryptBlock(s._prev)[0]^o;return s._prev=r.concat([s._prev.slice(1),r.from([a?o:c])]),c}n.encrypt=function(s,o,a){for(var c=o.length,u=r.allocUnsafe(c),l=-1;++l<c;)u[l]=i(s,o[l],a);return u}},{"safe-buffer":494}],200:[function(t,e,n){"use strict";var r=t("buffer-xor"),i=t("safe-buffer").Buffer,s=t("../incr32");function o(a){var c=a._cipher.encryptBlockRaw(a._prev);return s(a._prev),c}n.encrypt=function(a,c){var u=Math.ceil(c.length/16),l=a._cache.length;a._cache=i.concat([a._cache,i.allocUnsafe(16*u)]);for(var d=0;d<u;d++){var f=o(a),p=l+16*d;a._cache.writeUInt32BE(f[0],p+0),a._cache.writeUInt32BE(f[1],p+4),a._cache.writeUInt32BE(f[2],p+8),a._cache.writeUInt32BE(f[3],p+12)}var h=a._cache.slice(0,c.length);return a._cache=a._cache.slice(c.length),r(c,h)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,e,n){"use strict";n.encrypt=function(r,i){return r._cipher.encryptBlock(i)},n.decrypt=function(r,i){return r._cipher.decryptBlock(i)}},{}],202:[function(t,e,n){"use strict";var r={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},i=t("./list.json");for(var s in i)i[s].module=r[i[s].mode];e.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,e,n){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,e,n){(function(r){(function(){"use strict";var i=t("buffer-xor");function s(o){return o._prev=o._cipher.encryptBlock(o._prev),o._prev}n.encrypt=function(o,a){for(;o._cache.length<a.length;)o._cache=r.concat([o._cache,s(o)]);var c=o._cache.slice(0,a.length);return o._cache=o._cache.slice(a.length),i(a,c)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,e,n){"use strict";var r=t("./aes"),i=t("safe-buffer").Buffer,s=t("cipher-base");function o(a,c,u,l){s.call(this),this._cipher=new r.AES(c),this._prev=i.from(u),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=l,this._mode=a}t("inherits")(o,s),o.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},e.exports=o},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,e,n){"use strict";var r=t("browserify-des"),i=t("browserify-aes/browser"),s=t("browserify-aes/modes"),o=t("browserify-des/modes"),a=t("evp_bytestokey");function c(l,d,f){if(l=l.toLowerCase(),s[l])return i.createCipheriv(l,d,f);if(o[l])return new r({key:d,iv:f,mode:l});throw new TypeError("invalid suite type")}function u(l,d,f){if(l=l.toLowerCase(),s[l])return i.createDecipheriv(l,d,f);if(o[l])return new r({key:d,iv:f,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(l,d){var f,p;if(l=l.toLowerCase(),s[l])f=s[l].key,p=s[l].iv;else{if(!o[l])throw new TypeError("invalid suite type");f=8*o[l].key,p=o[l].iv}var h=a(d,!1,f,p);return c(l,h.key,h.iv)},n.createCipheriv=n.Cipheriv=c,n.createDecipher=n.Decipher=function(l,d){var f,p;if(l=l.toLowerCase(),s[l])f=s[l].key,p=s[l].iv;else{if(!o[l])throw new TypeError("invalid suite type");f=8*o[l].key,p=o[l].iv}var h=a(d,!1,f,p);return u(l,h.key,h.iv)},n.createDecipheriv=n.Decipheriv=u,n.listCiphers=n.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,e,n){"use strict";var r=t("cipher-base"),i=t("des.js"),s=t("inherits"),o=t("safe-buffer").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(u){r.call(this);var l,d=u.mode.toLowerCase(),f=a[d];l=u.decrypt?"decrypt":"encrypt";var p=u.key;o.isBuffer(p)||(p=o.from(p)),d!=="des-ede"&&d!=="des-ede-cbc"||(p=o.concat([p,p.slice(0,8)]));var h=u.iv;o.isBuffer(h)||(h=o.from(h)),this._des=f.create({key:p,iv:h,type:l})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=c,s(c,r),c.prototype._update=function(u){return o.from(this._des.update(u))},c.prototype._final=function(){return o.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,e,n){"use strict";n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(t,e,n){(function(r){(function(){"use strict";var i=t("bn.js"),s=t("randombytes");function o(c){var u,l=c.modulus.byteLength();do u=new i(s(l));while(u.cmp(c.modulus)>=0||!u.umod(c.prime1)||!u.umod(c.prime2));return u}function a(c,u){var l=(function(B){var V=o(B);return{blinder:V.toRed(i.mont(B.modulus)).redPow(new i(B.publicExponent)).fromRed(),unblinder:V.invm(B.modulus)}})(u),d=u.modulus.byteLength(),f=new i(c).mul(l.blinder).umod(u.modulus),p=f.toRed(i.mont(u.prime1)),h=f.toRed(i.mont(u.prime2)),y=u.coefficient,g=u.prime1,_=u.prime2,x=p.redPow(u.exponent1).fromRed(),k=h.redPow(u.exponent2).fromRed(),L=x.isub(k).imul(y).umod(g).imul(_);return k.iadd(L).imul(l.unblinder).umod(u.modulus).toArrayLike(r,"be",d)}a.getr=o,e.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,e,n){"use strict";e.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,e,n){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,e,n){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("create-hash"),s=t("readable-stream"),o=t("inherits"),a=t("./sign"),c=t("./verify"),u=t("./algorithms.json");function l(h){s.Writable.call(this);var y=u[h];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=i(y.hash),this._tag=y.id,this._signType=y.sign}function d(h){s.Writable.call(this);var y=u[h];if(!y)throw new Error("Unknown message digest");this._hash=i(y.hash),this._tag=y.id,this._signType=y.sign}function f(h){return new l(h)}function p(h){return new d(h)}Object.keys(u).forEach(function(h){u[h].id=r.from(u[h].id,"hex"),u[h.toLowerCase()]=u[h]}),o(l,s.Writable),l.prototype._write=function(h,y,g){this._hash.update(h),g()},l.prototype.update=function(h,y){return typeof h=="string"&&(h=r.from(h,y)),this._hash.update(h),this},l.prototype.sign=function(h,y){this.end();var g=this._hash.digest(),_=a(g,h,this._hashType,this._signType,this._tag);return y?_.toString(y):_},o(d,s.Writable),d.prototype._write=function(h,y,g){this._hash.update(h),g()},d.prototype.update=function(h,y){return typeof h=="string"&&(h=r.from(h,y)),this._hash.update(h),this},d.prototype.verify=function(h,y,g){typeof y=="string"&&(y=r.from(y,g)),this.end();var _=this._hash.digest();return c(y,_,h,this._signType,this._tag)},e.exports={Sign:f,Verify:p,createSign:f,createVerify:p}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("create-hmac"),s=t("browserify-rsa"),o=t("elliptic").ec,a=t("bn.js"),c=t("parse-asn1"),u=t("./curves.json");function l(h,y,g,_){if((h=r.from(h.toArray())).length<y.byteLength()){var x=r.alloc(y.byteLength()-h.length);h=r.concat([x,h])}var k=g.length,L=(function(R,N){R=(R=d(R,N)).mod(N);var j=r.from(R.toArray());if(j.length<N.byteLength()){var P=r.alloc(N.byteLength()-j.length);j=r.concat([P,j])}return j})(g,y),B=r.alloc(k);B.fill(1);var V=r.alloc(k);return V=i(_,V).update(B).update(r.from([0])).update(h).update(L).digest(),B=i(_,V).update(B).digest(),{k:V=i(_,V).update(B).update(r.from([1])).update(h).update(L).digest(),v:B=i(_,V).update(B).digest()}}function d(h,y){var g=new a(h),_=(h.length<<3)-y.bitLength();return _>0&&g.ishrn(_),g}function f(h,y,g){var _,x;do{for(_=r.alloc(0);8*_.length<h.bitLength();)y.v=i(g,y.k).update(y.v).digest(),_=r.concat([_,y.v]);x=d(_,h),y.k=i(g,y.k).update(y.v).update(r.from([0])).digest(),y.v=i(g,y.k).update(y.v).digest()}while(x.cmp(h)!==-1);return x}function p(h,y,g,_){return h.toRed(a.mont(g)).redPow(y).fromRed().mod(_)}e.exports=function(h,y,g,_,x){var k=c(y);if(k.curve){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(R,N){var j=u[N.curve.join(".")];if(!j)throw new Error("unknown curve "+N.curve.join("."));var P=new o(j).keyFromPrivate(N.privateKey).sign(R);return r.from(P.toDER())})(h,k)}if(k.type==="dsa"){if(_!=="dsa")throw new Error("wrong private key type");return(function(R,N,j){for(var P,E=N.params.priv_key,S=N.params.p,D=N.params.q,m=N.params.g,v=new a(0),w=d(R,D).mod(D),b=!1,C=l(E,D,R,j);b===!1;)P=f(D,C,j),v=p(m,P,S,D),(b=P.invm(D).imul(w.add(E.mul(v))).mod(D)).cmpn(0)===0&&(b=!1,v=new a(0));return(function(I,F){I=I.toArray(),F=F.toArray(),128&I[0]&&(I=[0].concat(I)),128&F[0]&&(F=[0].concat(F));var $=[48,I.length+F.length+4,2,I.length];return $=$.concat(I,[2,F.length],F),r.from($)})(v,b)})(h,k,g)}if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");h=r.concat([x,h]);for(var L=k.modulus.byteLength(),B=[0,1];h.length+B.length+1<L;)B.push(255);B.push(0);for(var V=-1;++V<h.length;)B.push(h[V]);return s(B,k)},e.exports.getKey=l,e.exports.makeKey=f},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("bn.js"),s=t("elliptic").ec,o=t("parse-asn1"),a=t("./curves.json");function c(u,l){if(u.cmpn(0)<=0)throw new Error("invalid sig");if(u.cmp(l)>=l)throw new Error("invalid sig")}e.exports=function(u,l,d,f,p){var h=o(d);if(h.type==="ec"){if(f!=="ecdsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(B,V,R){var N=a[R.data.algorithm.curve.join(".")];if(!N)throw new Error("unknown curve "+R.data.algorithm.curve.join("."));var j=new s(N),P=R.data.subjectPrivateKey.data;return j.verify(V,B,P)})(u,l,h)}if(h.type==="dsa"){if(f!=="dsa")throw new Error("wrong public key type");return(function(B,V,R){var N=R.data.p,j=R.data.q,P=R.data.g,E=R.data.pub_key,S=o.signature.decode(B,"der"),D=S.s,m=S.r;c(D,j),c(m,j);var v=i.mont(N),w=D.invm(j);return P.toRed(v).redPow(new i(V).mul(w).mod(j)).fromRed().mul(E.toRed(v).redPow(m.mul(w).mod(j)).fromRed()).mod(N).mod(j).cmp(m)===0})(u,l,h)}if(f!=="rsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");l=r.concat([p,l]);for(var y=h.modulus.byteLength(),g=[1],_=0;l.length+g.length+2<y;)g.push(255),_++;g.push(0);for(var x=-1;++x<l.length;)g.push(l[x]);g=r.from(g);var k=i.mont(h.modulus);u=(u=new i(u).toRed(k)).redPow(new i(h.publicExponent)),u=r.from(u.fromRed().toArray());var L=_<8?1:0;for(y=Math.min(u.length,g.length),u.length!==g.length&&(L=1),x=-1;++x<y;)L|=u[x]^g[x];return L===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,e,n){},{}],217:[function(t,e,n){"use strict";var r=t("buffer"),i=r.Buffer;function s(a,c){for(var u in a)c[u]=a[u]}function o(a,c,u){return i(a,c,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,n),n.Buffer=o),s(i,o),o.from=function(a,c,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,c,u)},o.alloc=function(a,c,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=i(a);return c!==void 0?typeof u=="string"?l.fill(c,u):l.fill(c):l.fill(0),l},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],218:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.isEncoding||function(h){switch((h=""+h)&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(h){var y;switch(this.encoding=(function(g){var _=(function(x){if(!x)return"utf8";for(var k;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(k)return;x=(""+x).toLowerCase(),k=!0}})(g);if(typeof _!="string"&&(r.isEncoding===i||!i(g)))throw new Error("Unknown encoding: "+g);return _||g})(h),this.encoding){case"utf16le":this.text=c,this.end=u,y=4;break;case"utf8":this.fillLast=a,y=4;break;case"base64":this.text=l,this.end=d,y=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(y)}function o(h){return h<=127?0:h>>5==6?2:h>>4==14?3:h>>3==30?4:h>>6==2?-1:-2}function a(h){var y=this.lastTotal-this.lastNeed,g=(function(_,x,k){if((192&x[0])!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&x.length>1){if((192&x[1])!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&x.length>2&&(192&x[2])!=128)return _.lastNeed=2,"\uFFFD"}})(this,h);return g!==void 0?g:this.lastNeed<=h.length?(h.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,y,0,h.length),void(this.lastNeed-=h.length))}function c(h,y){if((h.length-y)%2==0){var g=h.toString("utf16le",y);if(g){var _=g.charCodeAt(g.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",y,h.length-1)}function u(h){var y=h&&h.length?this.write(h):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,g)}return y}function l(h,y){var g=(h.length-y)%3;return g===0?h.toString("base64",y):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",y,h.length-g))}function d(h){var y=h&&h.length?this.write(h):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function f(h){return h.toString(this.encoding)}function p(h){return h&&h.length?this.write(h):""}n.StringDecoder=s,s.prototype.write=function(h){if(h.length===0)return"";var y,g;if(this.lastNeed){if((y=this.fillLast(h))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<h.length?y?y+this.text(h,g):this.text(h,g):y||""},s.prototype.end=function(h){var y=h&&h.length?this.write(h):"";return this.lastNeed?y+"\uFFFD":y},s.prototype.text=function(h,y){var g=(function(x,k,L){var B=k.length-1;if(B<L)return 0;var V=o(k[B]);return V>=0?(V>0&&(x.lastNeed=V-1),V):--B<L||V===-2?0:(V=o(k[B]))>=0?(V>0&&(x.lastNeed=V-2),V):--B<L||V===-2?0:(V=o(k[B]))>=0?(V>0&&(V===2?V=0:x.lastNeed=V-3),V):0})(this,h,y);if(!this.lastNeed)return h.toString("utf8",y);this.lastTotal=g;var _=h.length-(g-this.lastNeed);return h.copy(this.lastChar,0,_),h.toString("utf8",y,_)},s.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length}},{"safe-buffer":217}],219:[function(t,e,n){(function(r){(function(){"use strict";e.exports=function(i,s){for(var o=Math.min(i.length,s.length),a=new r(o),c=0;c<o;++c)a[c]=i[c]^s[c];return a}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,e,n){(function(r){(function(){"use strict";var i=t("base64-js"),s=t("ieee754");n.Buffer=a,n.SlowBuffer=function(M){return+M!=M&&(M=0),a.alloc(+M)},n.INSPECT_MAX_BYTES=50;function o(M){if(M>2147483647)throw new RangeError('The value "'+M+'" is invalid for option "size"');var A=new Uint8Array(M);return A.__proto__=a.prototype,A}function a(M,A,U){if(typeof M=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(M)}return c(M,A,U)}function c(M,A,U){if(typeof M=="string")return(function(Z,te){if(typeof te=="string"&&te!==""||(te="utf8"),!a.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var de=0|p(Z,te),le=o(de),Q=le.write(Z,te);return Q!==de&&(le=le.slice(0,Q)),le})(M,A);if(ArrayBuffer.isView(M))return d(M);if(M==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(O(M,ArrayBuffer)||M&&O(M.buffer,ArrayBuffer))return(function(Z,te,de){if(te<0||Z.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<te+(de||0))throw new RangeError('"length" is outside of buffer bounds');var le;return le=te===void 0&&de===void 0?new Uint8Array(Z):de===void 0?new Uint8Array(Z,te):new Uint8Array(Z,te,de),le.__proto__=a.prototype,le})(M,A,U);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=M.valueOf&&M.valueOf();if(X!=null&&X!==M)return a.from(X,A,U);var re=(function(Z){if(a.isBuffer(Z)){var te=0|f(Z.length),de=o(te);return de.length===0||Z.copy(de,0,0,te),de}if(Z.length!==void 0)return typeof Z.length!="number"||W(Z.length)?o(0):d(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return d(Z.data)})(M);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return a.from(M[Symbol.toPrimitive]("string"),A,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}function u(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function l(M){return u(M),o(M<0?0:0|f(M))}function d(M){for(var A=M.length<0?0:0|f(M.length),U=o(A),X=0;X<A;X+=1)U[X]=255&M[X];return U}function f(M){if(M>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|M}function p(M,A){if(a.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||O(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var U=M.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&U===0)return 0;for(var re=!1;;)switch(A){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return $(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return z(M).length;default:if(re)return X?-1:$(M).length;A=(""+A).toLowerCase(),re=!0}}function h(M,A,U){var X=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(A>>>=0))return"";for(M||(M="utf8");;)switch(M){case"hex":return S(this,A,U);case"utf8":case"utf-8":return j(this,A,U);case"ascii":return P(this,A,U);case"latin1":case"binary":return E(this,A,U);case"base64":return N(this,A,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,A,U);default:if(X)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),X=!0}}function y(M,A,U){var X=M[A];M[A]=M[U],M[U]=X}function g(M,A,U,X,re){if(M.length===0)return-1;if(typeof U=="string"?(X=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),W(U=+U)&&(U=re?0:M.length-1),U<0&&(U=M.length+U),U>=M.length){if(re)return-1;U=M.length-1}else if(U<0){if(!re)return-1;U=0}if(typeof A=="string"&&(A=a.from(A,X)),a.isBuffer(A))return A.length===0?-1:_(M,A,U,X,re);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(M,A,U):Uint8Array.prototype.lastIndexOf.call(M,A,U):_(M,[A],U,X,re);throw new TypeError("val must be string, number or Buffer")}function _(M,A,U,X,re){var Z,te=1,de=M.length,le=A.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(M.length<2||A.length<2)return-1;te=2,de/=2,le/=2,U/=2}function Q(pe,fe){return te===1?pe[fe]:pe.readUInt16BE(fe*te)}if(re){var ce=-1;for(Z=U;Z<de;Z++)if(Q(M,Z)===Q(A,ce===-1?0:Z-ce)){if(ce===-1&&(ce=Z),Z-ce+1===le)return ce*te}else ce!==-1&&(Z-=Z-ce),ce=-1}else for(U+le>de&&(U=de-le),Z=U;Z>=0;Z--){for(var se=!0,ue=0;ue<le;ue++)if(Q(M,Z+ue)!==Q(A,ue)){se=!1;break}if(se)return Z}return-1}function x(M,A,U,X){U=Number(U)||0;var re=M.length-U;X?(X=Number(X))>re&&(X=re):X=re;var Z=A.length;X>Z/2&&(X=Z/2);for(var te=0;te<X;++te){var de=parseInt(A.substr(2*te,2),16);if(W(de))return te;M[U+te]=de}return te}function k(M,A,U,X){return Y($(A,M.length-U),M,U,X)}function L(M,A,U,X){return Y((function(re){for(var Z=[],te=0;te<re.length;++te)Z.push(255&re.charCodeAt(te));return Z})(A),M,U,X)}function B(M,A,U,X){return L(M,A,U,X)}function V(M,A,U,X){return Y(z(A),M,U,X)}function R(M,A,U,X){return Y((function(re,Z){for(var te,de,le,Q=[],ce=0;ce<re.length&&!((Z-=2)<0);++ce)te=re.charCodeAt(ce),de=te>>8,le=te%256,Q.push(le),Q.push(de);return Q})(A,M.length-U),M,U,X)}function N(M,A,U){return A===0&&U===M.length?i.fromByteArray(M):i.fromByteArray(M.slice(A,U))}function j(M,A,U){U=Math.min(M.length,U);for(var X=[],re=A;re<U;){var Z,te,de,le,Q=M[re],ce=null,se=Q>239?4:Q>223?3:Q>191?2:1;if(re+se<=U)switch(se){case 1:Q<128&&(ce=Q);break;case 2:(192&(Z=M[re+1]))==128&&(le=(31&Q)<<6|63&Z)>127&&(ce=le);break;case 3:Z=M[re+1],te=M[re+2],(192&Z)==128&&(192&te)==128&&(le=(15&Q)<<12|(63&Z)<<6|63&te)>2047&&(le<55296||le>57343)&&(ce=le);break;case 4:Z=M[re+1],te=M[re+2],de=M[re+3],(192&Z)==128&&(192&te)==128&&(192&de)==128&&(le=(15&Q)<<18|(63&Z)<<12|(63&te)<<6|63&de)>65535&&le<1114112&&(ce=le)}ce===null?(ce=65533,se=1):ce>65535&&(ce-=65536,X.push(ce>>>10&1023|55296),ce=56320|1023&ce),X.push(ce),re+=se}return(function(ue){var pe=ue.length;if(pe<=4096)return String.fromCharCode.apply(String,ue);for(var fe="",he=0;he<pe;)fe+=String.fromCharCode.apply(String,ue.slice(he,he+=4096));return fe})(X)}n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=(function(){try{var M=new Uint8Array(1);return M.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},M.foo()===42}catch{return!1}})(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(M,A,U){return c(M,A,U)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(M,A,U){return(function(X,re,Z){return u(X),X<=0?o(X):re!==void 0?typeof Z=="string"?o(X).fill(re,Z):o(X).fill(re):o(X)})(M,A,U)},a.allocUnsafe=function(M){return l(M)},a.allocUnsafeSlow=function(M){return l(M)},a.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==a.prototype},a.compare=function(M,A){if(O(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),O(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(M)||!a.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===A)return 0;for(var U=M.length,X=A.length,re=0,Z=Math.min(U,X);re<Z;++re)if(M[re]!==A[re]){U=M[re],X=A[re];break}return U<X?-1:X<U?1:0},a.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(M,A){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return a.alloc(0);var U;if(A===void 0)for(A=0,U=0;U<M.length;++U)A+=M[U].length;var X=a.allocUnsafe(A),re=0;for(U=0;U<M.length;++U){var Z=M[U];if(O(Z,Uint8Array)&&(Z=a.from(Z)),!a.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(X,re),re+=Z.length}return X},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<M;A+=2)y(this,A,A+1);return this},a.prototype.swap32=function(){var M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<M;A+=4)y(this,A,A+3),y(this,A+1,A+2);return this},a.prototype.swap64=function(){var M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<M;A+=8)y(this,A,A+7),y(this,A+1,A+6),y(this,A+2,A+5),y(this,A+3,A+4);return this},a.prototype.toString=function(){var M=this.length;return M===0?"":arguments.length===0?j(this,0,M):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(M){if(!a.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M||a.compare(this,M)===0},a.prototype.inspect=function(){var M="",A=n.INSPECT_MAX_BYTES;return M=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(M+=" ... "),"<Buffer "+M+">"},a.prototype.compare=function(M,A,U,X,re){if(O(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(A===void 0&&(A=0),U===void 0&&(U=M?M.length:0),X===void 0&&(X=0),re===void 0&&(re=this.length),A<0||U>M.length||X<0||re>this.length)throw new RangeError("out of range index");if(X>=re&&A>=U)return 0;if(X>=re)return-1;if(A>=U)return 1;if(this===M)return 0;for(var Z=(re>>>=0)-(X>>>=0),te=(U>>>=0)-(A>>>=0),de=Math.min(Z,te),le=this.slice(X,re),Q=M.slice(A,U),ce=0;ce<de;++ce)if(le[ce]!==Q[ce]){Z=le[ce],te=Q[ce];break}return Z<te?-1:te<Z?1:0},a.prototype.includes=function(M,A,U){return this.indexOf(M,A,U)!==-1},a.prototype.indexOf=function(M,A,U){return g(this,M,A,U,!0)},a.prototype.lastIndexOf=function(M,A,U){return g(this,M,A,U,!1)},a.prototype.write=function(M,A,U,X){if(A===void 0)X="utf8",U=this.length,A=0;else if(U===void 0&&typeof A=="string")X=A,U=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(U)?(U>>>=0,X===void 0&&(X="utf8")):(X=U,U=void 0)}var re=this.length-A;if((U===void 0||U>re)&&(U=re),M.length>0&&(U<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var Z=!1;;)switch(X){case"hex":return x(this,M,A,U);case"utf8":case"utf-8":return k(this,M,A,U);case"ascii":return L(this,M,A,U);case"latin1":case"binary":return B(this,M,A,U);case"base64":return V(this,M,A,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,M,A,U);default:if(Z)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),Z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(M,A,U){var X="";U=Math.min(M.length,U);for(var re=A;re<U;++re)X+=String.fromCharCode(127&M[re]);return X}function E(M,A,U){var X="";U=Math.min(M.length,U);for(var re=A;re<U;++re)X+=String.fromCharCode(M[re]);return X}function S(M,A,U){var X=M.length;(!A||A<0)&&(A=0),(!U||U<0||U>X)&&(U=X);for(var re="",Z=A;Z<U;++Z)re+=F(M[Z]);return re}function D(M,A,U){for(var X=M.slice(A,U),re="",Z=0;Z<X.length;Z+=2)re+=String.fromCharCode(X[Z]+256*X[Z+1]);return re}function m(M,A,U){if(M%1!=0||M<0)throw new RangeError("offset is not uint");if(M+A>U)throw new RangeError("Trying to access beyond buffer length")}function v(M,A,U,X,re,Z){if(!a.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>re||A<Z)throw new RangeError('"value" argument is out of bounds');if(U+X>M.length)throw new RangeError("Index out of range")}function w(M,A,U,X,re,Z){if(U+X>M.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function b(M,A,U,X,re){return A=+A,U>>>=0,re||w(M,0,U,4),s.write(M,A,U,X,23,4),U+4}function C(M,A,U,X,re){return A=+A,U>>>=0,re||w(M,0,U,8),s.write(M,A,U,X,52,8),U+8}a.prototype.slice=function(M,A){var U=this.length;(M=~~M)<0?(M+=U)<0&&(M=0):M>U&&(M=U),(A=A===void 0?U:~~A)<0?(A+=U)<0&&(A=0):A>U&&(A=U),A<M&&(A=M);var X=this.subarray(M,A);return X.__proto__=a.prototype,X},a.prototype.readUIntLE=function(M,A,U){M>>>=0,A>>>=0,U||m(M,A,this.length);for(var X=this[M],re=1,Z=0;++Z<A&&(re*=256);)X+=this[M+Z]*re;return X},a.prototype.readUIntBE=function(M,A,U){M>>>=0,A>>>=0,U||m(M,A,this.length);for(var X=this[M+--A],re=1;A>0&&(re*=256);)X+=this[M+--A]*re;return X},a.prototype.readUInt8=function(M,A){return M>>>=0,A||m(M,1,this.length),this[M]},a.prototype.readUInt16LE=function(M,A){return M>>>=0,A||m(M,2,this.length),this[M]|this[M+1]<<8},a.prototype.readUInt16BE=function(M,A){return M>>>=0,A||m(M,2,this.length),this[M]<<8|this[M+1]},a.prototype.readUInt32LE=function(M,A){return M>>>=0,A||m(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},a.prototype.readUInt32BE=function(M,A){return M>>>=0,A||m(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},a.prototype.readIntLE=function(M,A,U){M>>>=0,A>>>=0,U||m(M,A,this.length);for(var X=this[M],re=1,Z=0;++Z<A&&(re*=256);)X+=this[M+Z]*re;return X>=(re*=128)&&(X-=Math.pow(2,8*A)),X},a.prototype.readIntBE=function(M,A,U){M>>>=0,A>>>=0,U||m(M,A,this.length);for(var X=A,re=1,Z=this[M+--X];X>0&&(re*=256);)Z+=this[M+--X]*re;return Z>=(re*=128)&&(Z-=Math.pow(2,8*A)),Z},a.prototype.readInt8=function(M,A){return M>>>=0,A||m(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},a.prototype.readInt16LE=function(M,A){M>>>=0,A||m(M,2,this.length);var U=this[M]|this[M+1]<<8;return 32768&U?4294901760|U:U},a.prototype.readInt16BE=function(M,A){M>>>=0,A||m(M,2,this.length);var U=this[M+1]|this[M]<<8;return 32768&U?4294901760|U:U},a.prototype.readInt32LE=function(M,A){return M>>>=0,A||m(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},a.prototype.readInt32BE=function(M,A){return M>>>=0,A||m(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},a.prototype.readFloatLE=function(M,A){return M>>>=0,A||m(M,4,this.length),s.read(this,M,!0,23,4)},a.prototype.readFloatBE=function(M,A){return M>>>=0,A||m(M,4,this.length),s.read(this,M,!1,23,4)},a.prototype.readDoubleLE=function(M,A){return M>>>=0,A||m(M,8,this.length),s.read(this,M,!0,52,8)},a.prototype.readDoubleBE=function(M,A){return M>>>=0,A||m(M,8,this.length),s.read(this,M,!1,52,8)},a.prototype.writeUIntLE=function(M,A,U,X){M=+M,A>>>=0,U>>>=0,X||v(this,M,A,U,Math.pow(2,8*U)-1,0);var re=1,Z=0;for(this[A]=255&M;++Z<U&&(re*=256);)this[A+Z]=M/re&255;return A+U},a.prototype.writeUIntBE=function(M,A,U,X){M=+M,A>>>=0,U>>>=0,X||v(this,M,A,U,Math.pow(2,8*U)-1,0);var re=U-1,Z=1;for(this[A+re]=255&M;--re>=0&&(Z*=256);)this[A+re]=M/Z&255;return A+U},a.prototype.writeUInt8=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,1,255,0),this[A]=255&M,A+1},a.prototype.writeUInt16LE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,2,65535,0),this[A]=255&M,this[A+1]=M>>>8,A+2},a.prototype.writeUInt16BE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,2,65535,0),this[A]=M>>>8,this[A+1]=255&M,A+2},a.prototype.writeUInt32LE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,4,4294967295,0),this[A+3]=M>>>24,this[A+2]=M>>>16,this[A+1]=M>>>8,this[A]=255&M,A+4},a.prototype.writeUInt32BE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,4,4294967295,0),this[A]=M>>>24,this[A+1]=M>>>16,this[A+2]=M>>>8,this[A+3]=255&M,A+4},a.prototype.writeIntLE=function(M,A,U,X){if(M=+M,A>>>=0,!X){var re=Math.pow(2,8*U-1);v(this,M,A,U,re-1,-re)}var Z=0,te=1,de=0;for(this[A]=255&M;++Z<U&&(te*=256);)M<0&&de===0&&this[A+Z-1]!==0&&(de=1),this[A+Z]=(M/te>>0)-de&255;return A+U},a.prototype.writeIntBE=function(M,A,U,X){if(M=+M,A>>>=0,!X){var re=Math.pow(2,8*U-1);v(this,M,A,U,re-1,-re)}var Z=U-1,te=1,de=0;for(this[A+Z]=255&M;--Z>=0&&(te*=256);)M<0&&de===0&&this[A+Z+1]!==0&&(de=1),this[A+Z]=(M/te>>0)-de&255;return A+U},a.prototype.writeInt8=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,1,127,-128),M<0&&(M=255+M+1),this[A]=255&M,A+1},a.prototype.writeInt16LE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,2,32767,-32768),this[A]=255&M,this[A+1]=M>>>8,A+2},a.prototype.writeInt16BE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,2,32767,-32768),this[A]=M>>>8,this[A+1]=255&M,A+2},a.prototype.writeInt32LE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,4,2147483647,-2147483648),this[A]=255&M,this[A+1]=M>>>8,this[A+2]=M>>>16,this[A+3]=M>>>24,A+4},a.prototype.writeInt32BE=function(M,A,U){return M=+M,A>>>=0,U||v(this,M,A,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[A]=M>>>24,this[A+1]=M>>>16,this[A+2]=M>>>8,this[A+3]=255&M,A+4},a.prototype.writeFloatLE=function(M,A,U){return b(this,M,A,!0,U)},a.prototype.writeFloatBE=function(M,A,U){return b(this,M,A,!1,U)},a.prototype.writeDoubleLE=function(M,A,U){return C(this,M,A,!0,U)},a.prototype.writeDoubleBE=function(M,A,U){return C(this,M,A,!1,U)},a.prototype.copy=function(M,A,U,X){if(!a.isBuffer(M))throw new TypeError("argument should be a Buffer");if(U||(U=0),X||X===0||(X=this.length),A>=M.length&&(A=M.length),A||(A=0),X>0&&X<U&&(X=U),X===U||M.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),M.length-A<X-U&&(X=M.length-A+U);var re=X-U;if(this===M&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,U,X);else if(this===M&&U<A&&A<X)for(var Z=re-1;Z>=0;--Z)M[Z+A]=this[Z+U];else Uint8Array.prototype.set.call(M,this.subarray(U,X),A);return re},a.prototype.fill=function(M,A,U,X){if(typeof M=="string"){if(typeof A=="string"?(X=A,A=0,U=this.length):typeof U=="string"&&(X=U,U=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(M.length===1){var re=M.charCodeAt(0);(X==="utf8"&&re<128||X==="latin1")&&(M=re)}}else typeof M=="number"&&(M&=255);if(A<0||this.length<A||this.length<U)throw new RangeError("Out of range index");if(U<=A)return this;var Z;if(A>>>=0,U=U===void 0?this.length:U>>>0,M||(M=0),typeof M=="number")for(Z=A;Z<U;++Z)this[Z]=M;else{var te=a.isBuffer(M)?M:a.from(M,X),de=te.length;if(de===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(Z=0;Z<U-A;++Z)this[Z+A]=te[Z%de]}return this};var I=/[^+/0-9A-Za-z-_]/g;function F(M){return M<16?"0"+M.toString(16):M.toString(16)}function $(M,A){var U;A=A||1/0;for(var X=M.length,re=null,Z=[],te=0;te<X;++te){if((U=M.charCodeAt(te))>55295&&U<57344){if(!re){if(U>56319){(A-=3)>-1&&Z.push(239,191,189);continue}if(te+1===X){(A-=3)>-1&&Z.push(239,191,189);continue}re=U;continue}if(U<56320){(A-=3)>-1&&Z.push(239,191,189),re=U;continue}U=65536+(re-55296<<10|U-56320)}else re&&(A-=3)>-1&&Z.push(239,191,189);if(re=null,U<128){if((A-=1)<0)break;Z.push(U)}else if(U<2048){if((A-=2)<0)break;Z.push(U>>6|192,63&U|128)}else if(U<65536){if((A-=3)<0)break;Z.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;Z.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return Z}function z(M){return i.toByteArray((function(A){if((A=(A=A.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A})(M))}function Y(M,A,U,X){for(var re=0;re<X&&!(re+U>=A.length||re>=M.length);++re)A[re+U]=M[re];return re}function O(M,A){return M instanceof A||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===A.name}function W(M){return M!=M}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("stream").Transform,s=t("string_decoder").StringDecoder;function o(a){i.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(o,i),o.prototype.update=function(a,c,u){typeof a=="string"&&(a=r.from(a,c));var l=this._update(a);return this.hashMode?this:(u&&(l=this._toString(l,u)),l)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(a,c,u){var l;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(d){l=d}finally{u(l)}},o.prototype._flush=function(a){var c;try{this.push(this.__final())}catch(u){c=u}a(c)},o.prototype._finalOrDigest=function(a){var c=this.__final()||r.alloc(0);return a&&(c=this._toString(c,a,!0)),c},o.prototype._toString=function(a,c,u){if(this._decoder||(this._decoder=new s(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var l=this._decoder.write(a);return u&&(l+=this._decoder.end()),l},e.exports=o},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/try-to-string"),s=TypeError;e.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,e,n){"use strict";var r=t("../internals/is-constructor"),i=t("../internals/try-to-string"),s=TypeError;e.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=String,s=TypeError;e.exports=function(o){if(typeof o=="object"||r(o))return o;throw new s("Can't set "+i(o)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol"),i=t("../internals/object-create"),s=t("../internals/object-define-property").f,o=r("unscopables"),a=Array.prototype;a[o]===void 0&&s(a,o,{configurable:!0,value:i(null)}),e.exports=function(c){a[o][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,e,n){"use strict";var r=t("../internals/object-is-prototype-of"),i=TypeError;e.exports=function(s,o){if(r(o,s))return s;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,e,n){"use strict";var r=t("../internals/is-object"),i=String,s=TypeError;e.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/to-absolute-index"),s=t("../internals/length-of-array-like"),o=function(a){return function(c,u,l){var d,f=r(c),p=s(f),h=i(l,p);if(a&&u!=u){for(;p>h;)if((d=f[h++])!=d)return!0}else for(;p>h;h++)if((a||h in f)&&f[h]===u)return a||h||0;return!a&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,e,n){"use strict";var r=t("../internals/function-bind-context"),i=t("../internals/function-uncurry-this"),s=t("../internals/indexed-object"),o=t("../internals/to-object"),a=t("../internals/length-of-array-like"),c=t("../internals/array-species-create"),u=i([].push),l=function(d){var f=d===1,p=d===2,h=d===3,y=d===4,g=d===6,_=d===7,x=d===5||g;return function(k,L,B,V){for(var R,N,j=o(k),P=s(j),E=r(L,B),S=a(P),D=0,m=V||c,v=f?m(k,S):p||_?m(k,0):void 0;S>D;D++)if((x||D in P)&&(N=E(R=P[D],D,j),d))if(f)v[D]=N;else if(N)switch(d){case 3:return!0;case 5:return R;case 6:return D;case 2:u(v,R)}else switch(d){case 4:return!1;case 7:u(v,R)}return g?-1:h||y?y:v}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,e,n){"use strict";var r=t("../internals/to-absolute-index"),i=t("../internals/length-of-array-like"),s=t("../internals/create-property"),o=Array,a=Math.max;e.exports=function(c,u,l){for(var d=i(c),f=r(u,d),p=r(l===void 0?d:l,d),h=o(a(p-f,0)),y=0;f<p;f++,y++)s(h,y,c[f]);return h.length=y,h}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this");e.exports=r([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,e,n){"use strict";var r=t("../internals/is-array"),i=t("../internals/is-constructor"),s=t("../internals/is-object"),o=t("../internals/well-known-symbol")("species"),a=Array;e.exports=function(c){var u;return r(c)&&(u=c.constructor,(i(u)&&(u===a||r(u.prototype))||s(u)&&(u=u[o])===null)&&(u=void 0)),u===void 0?a:u}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,e,n){"use strict";var r=t("../internals/array-species-constructor");e.exports=function(i,s){return new(r(i))(s===0?0:s)}},{"../internals/array-species-constructor":232}],234:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol")("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch{}e.exports=function(a,c){try{if(!c&&!i)return!1}catch{return!1}var u=!1;try{var l={};l[r]=function(){return{next:function(){return{done:u=!0}}}},a(l)}catch{}return u}},{"../internals/well-known-symbol":357}],235:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=r({}.toString),s=r("".slice);e.exports=function(o){return s(i(o),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,e,n){"use strict";var r=t("../internals/to-string-tag-support"),i=t("../internals/is-callable"),s=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("toStringTag"),a=Object,c=s((function(){return arguments})())==="Arguments";e.exports=r?s:function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=(function(p,h){try{return p[h]}catch{}})(l=a(u),o))=="string"?d:c?s(l):(f=s(l))==="Object"&&i(l.callee)?"Arguments":f}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,e,n){"use strict";var r=t("../internals/has-own-property"),i=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),o=t("../internals/object-define-property");e.exports=function(a,c,u){for(var l=i(c),d=o.f,f=s.f,p=0;p<l.length;p++){var h=l[p];r(a,h)||u&&r(u,h)||d(a,h,f(c,h))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol")("match");e.exports=function(i){var s=/./;try{"/./"[i](s)}catch{try{return s[r]=!1,"/./"[i](s)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":260}],240:[function(t,e,n){"use strict";e.exports=function(r,i){return{value:r,done:i}}},{}],241:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");e.exports=r?function(o,a,c){return i.f(o,a,s(1,c))}:function(o,a,c){return o[a]=c,o}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,e,n){"use strict";e.exports=function(r,i){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:i}}},{}],243:[function(t,e,n){"use strict";var r=t("../internals/to-property-key"),i=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");e.exports=function(o,a,c){var u=r(a);u in o?i.f(o,u,s(0,c)):o[u]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,e,n){"use strict";var r=t("../internals/make-built-in"),i=t("../internals/object-define-property");e.exports=function(s,o,a){return a.get&&r(a.get,o,{getter:!0}),a.set&&r(a.set,o,{setter:!0}),i.f(s,o,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/object-define-property"),s=t("../internals/make-built-in"),o=t("../internals/define-global-property");e.exports=function(a,c,u,l){l||(l={});var d=l.enumerable,f=l.name!==void 0?l.name:c;if(r(u)&&s(u,f,l),l.global)d?a[c]=u:o(c,u);else{try{l.unsafe?a[c]&&(d=!0):delete a[c]}catch{}d?a[c]=u:i.f(a,c,{value:u,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,e,n){"use strict";var r=t("../internals/global"),i=Object.defineProperty;e.exports=function(s,o){try{i(r,s,{value:o,configurable:!0,writable:!0})}catch{r[s]=o}return o}},{"../internals/global":274}],247:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,e,n){"use strict";var r=typeof document=="object"&&document.all,i=r===void 0&&r!==void 0;e.exports={all:r,IS_HTMLDDA:i}},{}],249:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-object"),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(a){return o?s.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,e,n){"use strict";var r=t("../internals/engine-is-deno"),i=t("../internals/engine-is-node");e.exports=!r&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,e,n){"use strict";e.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},{"../internals/engine-user-agent":256}],254:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/classof-raw");e.exports=i(r.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/web0s(?!.*chrome)/i.test(r)},{"../internals/engine-user-agent":256}],256:[function(t,e,n){"use strict";e.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,e,n){"use strict";var r,i,s=t("../internals/global"),o=t("../internals/engine-user-agent"),a=s.process,c=s.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,e,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),o=t("../internals/define-built-in"),a=t("../internals/define-global-property"),c=t("../internals/copy-constructor-properties"),u=t("../internals/is-forced");e.exports=function(l,d){var f,p,h,y,g,_=l.target,x=l.global,k=l.stat;if(f=x?r:k?r[_]||a(_,{}):(r[_]||{}).prototype)for(p in d){if(y=d[p],h=l.dontCallGetSet?(g=i(f,p))&&g.value:f[p],!u(x?p:_+(k?".":"#")+p,l.forced)&&h!==void 0){if(typeof y==typeof h)continue;c(y,h)}(l.sham||h&&h.sham)&&s(y,"sham",!0),o(f,p,y,l)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,e,n){"use strict";e.exports=function(r){try{return!!r()}catch{return!0}}},{}],261:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype,s=i.apply,o=i.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this-clause"),i=t("../internals/a-callable"),s=t("../internals/function-bind-native"),o=r(r.bind);e.exports=function(a,c){return i(a),c===void 0?a:s?o(a,c):function(){return a.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/has-own-property"),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),c=a&&function(){}.name==="something",u=a&&(!r||r&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/a-callable");e.exports=function(s,o,a){try{return r(i(Object.getOwnPropertyDescriptor(s,o)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,e,n){"use strict";var r=t("../internals/classof-raw"),i=t("../internals/function-uncurry-this");e.exports=function(s){if(r(s)==="Function")return i(s)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);e.exports=r?o:function(a){return function(){return s.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-callable"),s=function(o){return i(o)?o:void 0};e.exports=function(o,a){return arguments.length<2?s(r[o]):r[o]&&r[o][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,e,n){"use strict";var r=t("../internals/classof"),i=t("../internals/get-method"),s=t("../internals/is-null-or-undefined"),o=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");e.exports=function(c){if(!s(c))return i(c,a)||i(c,"@@iterator")||o[r(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/a-callable"),s=t("../internals/an-object"),o=t("../internals/try-to-string"),a=t("../internals/get-iterator-method"),c=TypeError;e.exports=function(u,l){var d=arguments.length<2?a(u):l;if(i(d))return s(r(d,u));throw new c(o(u)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/is-array"),s=t("../internals/is-callable"),o=t("../internals/classof-raw"),a=t("../internals/to-string"),c=r([].push);e.exports=function(u){if(s(u))return u;if(i(u)){for(var l=u.length,d=[],f=0;f<l;f++){var p=u[f];typeof p=="string"?c(d,p):typeof p!="number"&&o(p)!=="Number"&&o(p)!=="String"||c(d,a(p))}var h=d.length,y=!0;return function(g,_){if(y)return y=!1,_;if(i(this))return _;for(var x=0;x<h;x++)if(d[x]===g)return _}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,e,n){"use strict";var r=t("../internals/a-callable"),i=t("../internals/is-null-or-undefined");e.exports=function(s,o){var a=s[o];return i(a)?void 0:r(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,e,n){(function(r){(function(){"use strict";var i=function(s){return s&&s.Math===Math&&s};e.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof r=="object"&&r)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/to-object"),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(o,a){return s(i(o),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,e,n){"use strict";e.exports={}},{}],277:[function(t,e,n){"use strict";e.exports=function(r,i){try{arguments.length===1?console.error(r):console.error(r,i)}catch{}}},{}],278:[function(t,e,n){"use strict";var r=t("../internals/get-built-in");e.exports=r("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails"),s=t("../internals/document-create-element");e.exports=!r&&!i(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),s=t("../internals/classof-raw"),o=Object,a=r("".split);e.exports=i(function(){return!o("z").propertyIsEnumerable(0)})?function(c){return s(c)==="String"?a(c,""):o(c)}:o},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/is-callable"),s=t("../internals/shared-store"),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(a){return o(a)}),e.exports=s.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,e,n){"use strict";var r,i,s,o=t("../internals/weak-map-basic-detection"),a=t("../internals/global"),c=t("../internals/is-object"),u=t("../internals/create-non-enumerable-property"),l=t("../internals/has-own-property"),d=t("../internals/shared-store"),f=t("../internals/shared-key"),p=t("../internals/hidden-keys"),h=a.TypeError,y=a.WeakMap;if(o||d.state){var g=d.state||(d.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,r=function(x,k){if(g.has(x))throw new h("Object already initialized");return k.facade=x,g.set(x,k),k},i=function(x){return g.get(x)||{}},s=function(x){return g.has(x)}}else{var _=f("state");p[_]=!0,r=function(x,k){if(l(x,_))throw new h("Object already initialized");return k.facade=x,u(x,_,k),k},i=function(x){return l(x,_)?x[_]:{}},s=function(x){return l(x,_)}}e.exports={set:r,get:i,has:s,enforce:function(x){return s(x)?i(x):r(x,{})},getterFor:function(x){return function(k){var L;if(!c(k)||(L=i(k)).type!==x)throw new h("Incompatible receiver, "+x+" required");return L}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol"),i=t("../internals/iterators"),s=r("iterator"),o=Array.prototype;e.exports=function(a){return a!==void 0&&(i.Array===a||o[s]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,e,n){"use strict";var r=t("../internals/classof-raw");e.exports=Array.isArray||function(i){return r(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,e,n){"use strict";var r=t("../internals/document-all"),i=r.all;e.exports=r.IS_HTMLDDA?function(s){return typeof s=="function"||s===i}:function(s){return typeof s=="function"}},{"../internals/document-all":248}],286:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),s=t("../internals/is-callable"),o=t("../internals/classof"),a=t("../internals/get-built-in"),c=t("../internals/inspect-source"),u=function(){},l=[],d=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.test(u),y=function(_){if(!s(_))return!1;try{return d(u,l,_),!0}catch{return!1}},g=function(_){if(!s(_))return!1;switch(o(_)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(f,c(_))}catch{return!0}};g.sham=!0,e.exports=!d||i(function(){var _;return y(y.call)||!y(Object)||!y(function(){_=!0})||_})?g:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,e,n){"use strict";var r=t("../internals/fails"),i=t("../internals/is-callable"),s=/#|\.prototype\./,o=function(d,f){var p=c[a(d)];return p===l||p!==u&&(i(f)?r(f):!!f)},a=o.normalize=function(d){return String(d).replace(s,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,e,n){"use strict";e.exports=function(r){return r==null}},{}],289:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/document-all"),s=i.all;e.exports=i.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:r(o)||o===s}:function(o){return typeof o=="object"?o!==null:r(o)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,e,n){"use strict";e.exports=!1},{}],291:[function(t,e,n){"use strict";var r=t("../internals/is-object"),i=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");e.exports=function(o){var a;return r(o)&&((a=o[s])!==void 0?!!a:i(o)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/is-callable"),s=t("../internals/object-is-prototype-of"),o=t("../internals/use-symbol-as-uid"),a=Object;e.exports=o?function(c){return typeof c=="symbol"}:function(c){var u=r("Symbol");return i(u)&&s(u.prototype,a(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,e,n){"use strict";var r=t("../internals/function-bind-context"),i=t("../internals/function-call"),s=t("../internals/an-object"),o=t("../internals/try-to-string"),a=t("../internals/is-array-iterator-method"),c=t("../internals/length-of-array-like"),u=t("../internals/object-is-prototype-of"),l=t("../internals/get-iterator"),d=t("../internals/get-iterator-method"),f=t("../internals/iterator-close"),p=TypeError,h=function(g,_){this.stopped=g,this.result=_},y=h.prototype;e.exports=function(g,_,x){var k,L,B,V,R,N,j,P=x&&x.that,E=!(!x||!x.AS_ENTRIES),S=!(!x||!x.IS_RECORD),D=!(!x||!x.IS_ITERATOR),m=!(!x||!x.INTERRUPTED),v=r(_,P),w=function(C){return k&&f(k,"normal",C),new h(!0,C)},b=function(C){return E?(s(C),m?v(C[0],C[1],w):v(C[0],C[1])):m?v(C,w):v(C)};if(S)k=g.iterator;else if(D)k=g;else{if(!(L=d(g)))throw new p(o(g)+" is not iterable");if(a(L)){for(B=0,V=c(g);V>B;B++)if((R=b(g[B]))&&u(y,R))return R;return new h(!1)}k=l(g,L)}for(N=S?g.next:k.next;!(j=i(N,k)).done;){try{R=b(j.value)}catch(C){f(k,"throw",C)}if(typeof R=="object"&&R&&u(y,R))return R}return new h(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/an-object"),s=t("../internals/get-method");e.exports=function(o,a,c){var u,l;i(o);try{if(!(u=s(o,"return"))){if(a==="throw")throw c;return c}u=r(u,o)}catch(d){l=!0,u=d}if(a==="throw")throw c;if(l)throw u;return i(u),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,e,n){"use strict";var r=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),s=t("../internals/create-property-descriptor"),o=t("../internals/set-to-string-tag"),a=t("../internals/iterators"),c=function(){return this};e.exports=function(u,l,d,f){var p=l+" Iterator";return u.prototype=i(r,{next:s(+!f,d)}),o(u,p,!1,!0),a[p]=c,u}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/is-pure"),o=t("../internals/function-name"),a=t("../internals/is-callable"),c=t("../internals/iterator-create-constructor"),u=t("../internals/object-get-prototype-of"),l=t("../internals/object-set-prototype-of"),d=t("../internals/set-to-string-tag"),f=t("../internals/create-non-enumerable-property"),p=t("../internals/define-built-in"),h=t("../internals/well-known-symbol"),y=t("../internals/iterators"),g=t("../internals/iterators-core"),_=o.PROPER,x=o.CONFIGURABLE,k=g.IteratorPrototype,L=g.BUGGY_SAFARI_ITERATORS,B=h("iterator"),V=function(){return this};e.exports=function(R,N,j,P,E,S,D){c(j,N,P);var m,v,w,b=function(O){if(O===E&&z)return z;if(!L&&O&&O in F)return F[O];switch(O){case"keys":case"values":case"entries":return function(){return new j(this,O)}}return function(){return new j(this)}},C=N+" Iterator",I=!1,F=R.prototype,$=F[B]||F["@@iterator"]||E&&F[E],z=!L&&$||b(E),Y=N==="Array"&&F.entries||$;if(Y&&(m=u(Y.call(new R)))!==Object.prototype&&m.next&&(s||u(m)===k||(l?l(m,k):a(m[B])||p(m,B,V)),d(m,C,!0,!0),s&&(y[C]=V)),_&&E==="values"&&$&&$.name!=="values"&&(!s&&x?f(F,"name","values"):(I=!0,z=function(){return i($,this)})),E)if(v={values:b("values"),keys:S?z:b("keys"),entries:b("entries")},D)for(w in v)(L||I||!(w in F))&&p(F,w,v[w]);else r({target:N,proto:!0,forced:L||I},v);return s&&!D||F[B]===z||p(F,B,z,{name:E}),y[N]=z,v}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,e,n){"use strict";var r,i,s,o=t("../internals/fails"),a=t("../internals/is-callable"),c=t("../internals/is-object"),u=t("../internals/object-create"),l=t("../internals/object-get-prototype-of"),d=t("../internals/define-built-in"),f=t("../internals/well-known-symbol"),p=t("../internals/is-pure"),h=f("iterator"),y=!1;[].keys&&("next"in(s=[].keys())?(i=l(l(s)))!==Object.prototype&&(r=i):y=!0),!c(r)||o(function(){var g={};return r[h].call(g)!==g})?r={}:p&&(r=u(r)),a(r[h])||d(r,h,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,e,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(t,e,n){"use strict";var r=t("../internals/to-length");e.exports=function(i){return r(i.length)}},{"../internals/to-length":343}],300:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),s=t("../internals/is-callable"),o=t("../internals/has-own-property"),a=t("../internals/descriptors"),c=t("../internals/function-name").CONFIGURABLE,u=t("../internals/inspect-source"),l=t("../internals/internal-state"),d=l.enforce,f=l.get,p=String,h=Object.defineProperty,y=r("".slice),g=r("".replace),_=r([].join),x=a&&!i(function(){return h(function(){},"length",{value:8}).length!==8}),k=String(String).split("String"),L=e.exports=function(B,V,R){y(p(V),0,7)==="Symbol("&&(V="["+g(p(V),/^Symbol\(([^)]*)\)/,"$1")+"]"),R&&R.getter&&(V="get "+V),R&&R.setter&&(V="set "+V),(!o(B,"name")||c&&B.name!==V)&&(a?h(B,"name",{value:V,configurable:!0}):B.name=V),x&&R&&o(R,"arity")&&B.length!==R.arity&&h(B,"length",{value:R.arity});try{R&&o(R,"constructor")&&R.constructor?a&&h(B,"prototype",{writable:!1}):B.prototype&&(B.prototype=void 0)}catch{}var N=d(B);return o(N,"source")||(N.source=_(k,typeof V=="string"?V:"")),B};Function.prototype.toString=L(function(){return s(this)&&f(this).source||u(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,e,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(s){var o=+s;return(o>0?i:r)(o)}},{}],302:[function(t,e,n){"use strict";var r,i,s,o,a,c=t("../internals/global"),u=t("../internals/function-bind-context"),l=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,f=t("../internals/queue"),p=t("../internals/engine-is-ios"),h=t("../internals/engine-is-ios-pebble"),y=t("../internals/engine-is-webos-webkit"),g=t("../internals/engine-is-node"),_=c.MutationObserver||c.WebKitMutationObserver,x=c.document,k=c.process,L=c.Promise,B=l(c,"queueMicrotask"),V=B&&B.value;if(!V){var R=new f,N=function(){var j,P;for(g&&(j=k.domain)&&j.exit();P=R.get();)try{P()}catch(E){throw R.head&&r(),E}j&&j.enter()};p||g||y||!_||!x?!h&&L&&L.resolve?((o=L.resolve(void 0)).constructor=L,a=u(o.then,o),r=function(){a(N)}):g?r=function(){k.nextTick(N)}:(d=u(d,c),r=function(){d(N)}):(i=!0,s=x.createTextNode(""),new _(N).observe(s,{characterData:!0}),r=function(){s.data=i=!i}),V=function(j){R.head||r(),R.add(j)}}e.exports=V},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,e,n){"use strict";var r=t("../internals/a-callable"),i=TypeError,s=function(o){var a,c;this.promise=new o(function(u,l){if(a!==void 0||c!==void 0)throw new i("Bad Promise constructor");a=u,c=l}),this.resolve=r(a),this.reject=r(c)};e.exports.f=function(o){return new s(o)}},{"../internals/a-callable":222}],304:[function(t,e,n){"use strict";var r=t("../internals/is-regexp"),i=TypeError;e.exports=function(s){if(r(s))throw new i("The method doesn't accept regular expressions");return s}},{"../internals/is-regexp":291}],305:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/function-uncurry-this"),s=t("../internals/function-call"),o=t("../internals/fails"),a=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),u=t("../internals/object-property-is-enumerable"),l=t("../internals/to-object"),d=t("../internals/indexed-object"),f=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!f||o(function(){if(r&&f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},g={},_=Symbol("assign detection");return y[_]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){g[x]=x}),f({},y)[_]!==7||a(f({},g)).join("")!=="abcdefghijklmnopqrst"})?function(y,g){for(var _=l(y),x=arguments.length,k=1,L=c.f,B=u.f;x>k;)for(var V,R=d(arguments[k++]),N=L?h(a(R),L(R)):a(R),j=N.length,P=0;j>P;)V=N[P++],r&&!s(B,R,V)||(_[V]=R[V]);return _}:f},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,e,n){"use strict";var r,i=t("../internals/an-object"),s=t("../internals/object-define-properties"),o=t("../internals/enum-bug-keys"),a=t("../internals/hidden-keys"),c=t("../internals/html"),u=t("../internals/document-create-element"),l=t("../internals/shared-key"),d=l("IE_PROTO"),f=function(){},p=function(g){return"<script>"+g+"<\/script>"},h=function(g){g.write(p("")),g.close();var _=g.parentWindow.Object;return g=null,_},y=function(){try{r=new ActiveXObject("htmlfile")}catch{}var g,_;y=typeof document<"u"?document.domain&&r?h(r):((_=u("iframe")).style.display="none",c.appendChild(_),_.src="javascript:",(g=_.contentWindow.document).open(),g.write(p("document.F=Object")),g.close(),g.F):h(r);for(var x=o.length;x--;)delete y.prototype[o[x]];return y()};a[d]=!0,e.exports=Object.create||function(g,_){var x;return g!==null?(f.prototype=i(g),x=new f,f.prototype=null,x[d]=g):x=y(),_===void 0?x:s.f(x,_)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/v8-prototype-define-bug"),s=t("../internals/object-define-property"),o=t("../internals/an-object"),a=t("../internals/to-indexed-object"),c=t("../internals/object-keys");n.f=r&&!i?Object.defineProperties:function(u,l){o(u);for(var d,f=a(l),p=c(l),h=p.length,y=0;h>y;)s.f(u,d=p[y++],f[d]);return u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),s=t("../internals/v8-prototype-define-bug"),o=t("../internals/an-object"),a=t("../internals/to-property-key"),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor;n.f=r?s?function(d,f,p){if(o(d),f=a(f),o(p),typeof d=="function"&&f==="prototype"&&"value"in p&&"writable"in p&&!p.writable){var h=l(d,f);h&&h.writable&&(d[f]=p.value,p={configurable:"configurable"in p?p.configurable:h.configurable,enumerable:"enumerable"in p?p.enumerable:h.enumerable,writable:!1})}return u(d,f,p)}:u:function(d,f,p){if(o(d),f=a(f),o(p),i)try{return u(d,f,p)}catch{}if("get"in p||"set"in p)throw new c("Accessors not supported");return"value"in p&&(d[f]=p.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/function-call"),s=t("../internals/object-property-is-enumerable"),o=t("../internals/create-property-descriptor"),a=t("../internals/to-indexed-object"),c=t("../internals/to-property-key"),u=t("../internals/has-own-property"),l=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;n.f=r?d:function(f,p){if(f=a(f),p=c(p),l)try{return d(f,p)}catch{}if(u(f,p))return o(!i(s.f,f,p),f[p])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,e,n){"use strict";var r=t("../internals/classof-raw"),i=t("../internals/to-indexed-object"),s=t("../internals/object-get-own-property-names").f,o=t("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(c){return a&&r(c)==="Window"?(function(u){try{return s(u)}catch{return o(a)}})(c):s(i(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,e,n){"use strict";var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,e,n){"use strict";n.f=Object.getOwnPropertySymbols},{}],313:[function(t,e,n){"use strict";var r=t("../internals/has-own-property"),i=t("../internals/is-callable"),s=t("../internals/to-object"),o=t("../internals/shared-key"),a=t("../internals/correct-prototype-getter"),c=o("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(d){var f=s(d);if(r(f,c))return f[c];var p=f.constructor;return i(p)&&f instanceof p?p.prototype:f instanceof u?l:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this");e.exports=r({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/has-own-property"),s=t("../internals/to-indexed-object"),o=t("../internals/array-includes").indexOf,a=t("../internals/hidden-keys"),c=r([].push);e.exports=function(u,l){var d,f=s(u),p=0,h=[];for(d in f)!i(a,d)&&i(f,d)&&c(h,d);for(;l.length>p;)i(f,d=l[p++])&&(~o(h,d)||c(h,d));return h}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,e,n){"use strict";var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");e.exports=Object.keys||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);n.f=s?function(o){var a=i(this,o);return!!a&&a.enumerable}:r},{}],318:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this-accessor"),i=t("../internals/an-object"),s=t("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var o,a=!1,c={};try{(o=r(Object.prototype,"__proto__","set"))(c,[]),a=c instanceof Array}catch{}return function(u,l){return i(u),s(l),a?o(u,l):u.__proto__=l,u}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails"),s=t("../internals/function-uncurry-this"),o=t("../internals/object-get-prototype-of"),a=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),u=s(t("../internals/object-property-is-enumerable").f),l=s([].push),d=r&&i(function(){var p=Object.create(null);return p[2]=2,!u(p,2)}),f=function(p){return function(h){for(var y,g=c(h),_=a(g),x=d&&o(g)===null,k=_.length,L=0,B=[];k>L;)y=_[L++],r&&!(x?y in g:u(g,y))||l(B,p?[y,g[y]]:g[y]);return B}};e.exports={entries:f(!0),values:f(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/is-callable"),s=t("../internals/is-object"),o=TypeError;e.exports=function(a,c){var u,l;if(c==="string"&&i(u=a.toString)&&!s(l=r(u,a))||i(u=a.valueOf)&&!s(l=r(u,a))||c!=="string"&&i(u=a.toString)&&!s(l=r(u,a)))return l;throw new o("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/function-uncurry-this"),s=t("../internals/object-get-own-property-names"),o=t("../internals/object-get-own-property-symbols"),a=t("../internals/an-object"),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(u){var l=s.f(a(u)),d=o.f;return d?c(l,d(u)):l}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,e,n){"use strict";var r=t("../internals/global");e.exports=r},{"../internals/global":274}],323:[function(t,e,n){"use strict";e.exports=function(r){try{return{error:!1,value:r()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/promise-native-constructor"),s=t("../internals/is-callable"),o=t("../internals/is-forced"),a=t("../internals/inspect-source"),c=t("../internals/well-known-symbol"),u=t("../internals/engine-is-browser"),l=t("../internals/engine-is-deno"),d=t("../internals/is-pure"),f=t("../internals/engine-v8-version"),p=i&&i.prototype,h=c("species"),y=!1,g=s(r.PromiseRejectionEvent),_=o("Promise",function(){var x=a(i),k=x!==String(i);if(!k&&f===66||d&&(!p.catch||!p.finally))return!0;if(!f||f<51||!/native code/.test(x)){var L=new i(function(V){V(1)}),B=function(V){V(function(){},function(){})};if((L.constructor={})[h]=B,!(y=L.then(function(){})instanceof B))return!0}return!k&&(u||l)&&!g});e.exports={CONSTRUCTOR:_,REJECTION_EVENT:g,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,e,n){"use strict";var r=t("../internals/global");e.exports=r.Promise},{"../internals/global":274}],326:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/is-object"),s=t("../internals/new-promise-capability");e.exports=function(o,a){if(r(o),i(a)&&a.constructor===o)return a;var c=s.f(o);return(0,c.resolve)(a),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,e,n){"use strict";var r=t("../internals/promise-native-constructor"),i=t("../internals/check-correctness-of-iteration"),s=t("../internals/promise-constructor-detection").CONSTRUCTOR;e.exports=s||!i(function(o){r.all(o).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,e,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(i){var s={item:i,next:null},o=this.tail;o?o.next=s:this.head=s,this.tail=s},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},e.exports=r},{}],329:[function(t,e,n){"use strict";var r=t("../internals/is-null-or-undefined"),i=TypeError;e.exports=function(s){if(r(s))throw new i("Can't call method on "+s);return s}},{"../internals/is-null-or-undefined":288}],330:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/define-built-in-accessor"),s=t("../internals/well-known-symbol"),o=t("../internals/descriptors"),a=s("species");e.exports=function(c){var u=r(c);o&&u&&!u[a]&&i(u,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,e,n){"use strict";var r=t("../internals/object-define-property").f,i=t("../internals/has-own-property"),s=t("../internals/well-known-symbol")("toStringTag");e.exports=function(o,a,c){o&&!c&&(o=o.prototype),o&&!i(o,s)&&r(o,s,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,e,n){"use strict";var r=t("../internals/shared"),i=t("../internals/uid"),s=r("keys");e.exports=function(o){return s[o]||(s[o]=i(o))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/define-global-property"),s=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=s},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,e,n){"use strict";var r=t("../internals/is-pure"),i=t("../internals/shared-store");(e.exports=function(s,o){return i[s]||(i[s]=o!==void 0?o:{})})("versions",[]).push({version:"3.33.0",mode:r?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/a-constructor"),s=t("../internals/is-null-or-undefined"),o=t("../internals/well-known-symbol")("species");e.exports=function(a,c){var u,l=r(a).constructor;return l===void 0||s(u=r(l)[o])?c:i(u)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,e,n){"use strict";var r=t("../internals/engine-v8-version"),i=t("../internals/fails"),s=t("../internals/global").String;e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol("symbol detection");return!s(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/get-built-in"),s=t("../internals/well-known-symbol"),o=t("../internals/define-built-in");e.exports=function(){var a=i("Symbol"),c=a&&a.prototype,u=c&&c.valueOf,l=s("toPrimitive");c&&!c[l]&&o(c,l,function(d){return r(u,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,e,n){"use strict";var r=t("../internals/symbol-constructor-detection");e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,e,n){"use strict";var r,i,s,o,a=t("../internals/global"),c=t("../internals/function-apply"),u=t("../internals/function-bind-context"),l=t("../internals/is-callable"),d=t("../internals/has-own-property"),f=t("../internals/fails"),p=t("../internals/html"),h=t("../internals/array-slice"),y=t("../internals/document-create-element"),g=t("../internals/validate-arguments-length"),_=t("../internals/engine-is-ios"),x=t("../internals/engine-is-node"),k=a.setImmediate,L=a.clearImmediate,B=a.process,V=a.Dispatch,R=a.Function,N=a.MessageChannel,j=a.String,P=0,E={};f(function(){r=a.location});var S=function(w){if(d(E,w)){var b=E[w];delete E[w],b()}},D=function(w){return function(){S(w)}},m=function(w){S(w.data)},v=function(w){a.postMessage(j(w),r.protocol+"//"+r.host)};k&&L||(k=function(w){g(arguments.length,1);var b=l(w)?w:R(w),C=h(arguments,1);return E[++P]=function(){c(b,void 0,C)},i(P),P},L=function(w){delete E[w]},x?i=function(w){B.nextTick(D(w))}:V&&V.now?i=function(w){V.now(D(w))}:N&&!_?(o=(s=new N).port2,s.port1.onmessage=m,i=u(o.postMessage,o)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&r.protocol!=="file:"&&!f(v)?(i=v,a.addEventListener("message",m,!1)):i="onreadystatechange"in y("script")?function(w){p.appendChild(y("script")).onreadystatechange=function(){p.removeChild(this),S(w)}}:function(w){setTimeout(D(w),0)}),e.exports={set:k,clear:L}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,e,n){"use strict";var r=t("../internals/to-integer-or-infinity"),i=Math.max,s=Math.min;e.exports=function(o,a){var c=r(o);return c<0?i(c+a,0):s(c,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,e,n){"use strict";var r=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");e.exports=function(s){return r(i(s))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,e,n){"use strict";var r=t("../internals/math-trunc");e.exports=function(i){var s=+i;return s!=s||s===0?0:r(s)}},{"../internals/math-trunc":301}],343:[function(t,e,n){"use strict";var r=t("../internals/to-integer-or-infinity"),i=Math.min;e.exports=function(s){return s>0?i(r(s),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,e,n){"use strict";var r=t("../internals/require-object-coercible"),i=Object;e.exports=function(s){return i(r(s))}},{"../internals/require-object-coercible":329}],345:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/is-object"),s=t("../internals/is-symbol"),o=t("../internals/get-method"),a=t("../internals/ordinary-to-primitive"),c=t("../internals/well-known-symbol"),u=TypeError,l=c("toPrimitive");e.exports=function(d,f){if(!i(d)||s(d))return d;var p,h=o(d,l);if(h){if(f===void 0&&(f="default"),p=r(h,d,f),!i(p)||s(p))return p;throw new u("Can't convert object to primitive value")}return f===void 0&&(f="number"),a(d,f)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,e,n){"use strict";var r=t("../internals/to-primitive"),i=t("../internals/is-symbol");e.exports=function(s){var o=r(s,"string");return i(o)?o:o+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,e,n){"use strict";var r={};r[t("../internals/well-known-symbol")("toStringTag")]="z",e.exports=String(r)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,e,n){"use strict";var r=t("../internals/classof"),i=String;e.exports=function(s){if(r(s)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(s)}},{"../internals/classof":236}],349:[function(t,e,n){"use strict";var r=String;e.exports=function(i){try{return r(i)}catch{return"Object"}}},{}],350:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=0,s=Math.random(),o=r(1 .toString);e.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+o(++i+s,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,e,n){"use strict";var r=t("../internals/symbol-constructor-detection");e.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails");e.exports=r&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,e,n){"use strict";var r=TypeError;e.exports=function(i,s){if(i<s)throw new r("Not enough arguments");return i}},{}],354:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-callable"),s=r.WeakMap;e.exports=i(s)&&/native code/.test(String(s))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,e,n){"use strict";var r=t("../internals/path"),i=t("../internals/has-own-property"),s=t("../internals/well-known-symbol-wrapped"),o=t("../internals/object-define-property").f;e.exports=function(a){var c=r.Symbol||(r.Symbol={});i(c,a)||o(c,a,{value:s.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol");n.f=r},{"../internals/well-known-symbol":357}],357:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/shared"),s=t("../internals/has-own-property"),o=t("../internals/uid"),a=t("../internals/symbol-constructor-detection"),c=t("../internals/use-symbol-as-uid"),u=r.Symbol,l=i("wks"),d=c?u.for||u:u&&u.withoutSetter||o;e.exports=function(f){return s(l,f)||(l[f]=a&&s(u,f)?u[f]:d("Symbol."+f)),l[f]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").findIndex,s=t("../internals/add-to-unscopables"),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{findIndex:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").find,s=t("../internals/add-to-unscopables"),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{find:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-includes").includes,s=t("../internals/fails"),o=t("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:s(function(){return!Array(1).includes()})},{includes:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),s=t("../internals/iterators"),o=t("../internals/internal-state"),a=t("../internals/object-define-property").f,c=t("../internals/iterator-define"),u=t("../internals/create-iter-result-object"),l=t("../internals/is-pure"),d=t("../internals/descriptors"),f=o.set,p=o.getterFor("Array Iterator");e.exports=c(Array,"Array",function(y,g){f(this,{type:"Array Iterator",target:r(y),index:0,kind:g})},function(){var y=p(this),g=y.target,_=y.kind,x=y.index++;if(!g||x>=g.length)return y.target=void 0,u(void 0,!0);switch(_){case"keys":return u(x,!1);case"values":return u(g[x],!1)}return u([x,g[x]],!1)},"values");var h=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&h.name!=="values")try{a(h,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),s=t("../internals/function-apply"),o=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),c=t("../internals/fails"),u=t("../internals/is-callable"),l=t("../internals/is-symbol"),d=t("../internals/array-slice"),f=t("../internals/get-json-replacer-function"),p=t("../internals/symbol-constructor-detection"),h=String,y=i("JSON","stringify"),g=a(/./.exec),_=a("".charAt),x=a("".charCodeAt),k=a("".replace),L=a(1 .toString),B=/[\uD800-\uDFFF]/g,V=/^[\uD800-\uDBFF]$/,R=/^[\uDC00-\uDFFF]$/,N=!p||c(function(){var S=i("Symbol")("stringify detection");return y([S])!=="[null]"||y({a:S})!=="{}"||y(Object(S))!=="{}"}),j=c(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),P=function(S,D){var m=d(arguments),v=f(D);if(u(v)||S!==void 0&&!l(S))return m[1]=function(w,b){if(u(v)&&(b=o(v,this,h(w),b)),!l(b))return b},s(y,null,m)},E=function(S,D,m){var v=_(m,D-1),w=_(m,D+1);return g(V,S)&&!g(R,w)||g(R,S)&&!g(V,v)?"\\u"+L(x(S,0),16):S};y&&r({target:"JSON",stat:!0,arity:3,forced:N||j},{stringify:function(S,D,m){var v=d(arguments),w=s(N?P:y,null,v);return j&&typeof w=="string"?k(w,B,E):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,e,n){"use strict";t("../internals/export")({target:"Number",stat:!0},{isNaN:function(r){return r!=r}})},{"../internals/export":259}],364:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-assign");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/symbol-constructor-detection"),s=t("../internals/fails"),o=t("../internals/object-get-own-property-symbols"),a=t("../internals/to-object");r({target:"Object",stat:!0,forced:!i||s(function(){o.f(1)})},{getOwnPropertySymbols:function(c){var u=o.f;return u?u(a(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/to-object"),s=t("../internals/object-keys");r({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(o){return s(i(o))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(s){return i(s)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/a-callable"),o=t("../internals/new-promise-capability"),a=t("../internals/perform"),c=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(u){var l=this,d=o.f(l),f=d.resolve,p=d.reject,h=a(function(){var y=s(l.resolve),g=[],_=0,x=1;c(u,function(k){var L=_++,B=!1;x++,i(y,l,k).then(function(V){B||(B=!0,g[L]=V,--x||f(g))},p)}),--x||f(g)});return h.error&&p(h.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/is-pure"),s=t("../internals/promise-constructor-detection").CONSTRUCTOR,o=t("../internals/promise-native-constructor"),a=t("../internals/get-built-in"),c=t("../internals/is-callable"),u=t("../internals/define-built-in"),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(f){return this.then(void 0,f)}}),!i&&c(o)){var d=a("Promise").prototype.catch;l.catch!==d&&u(l,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,e,n){"use strict";var r,i,s,o=t("../internals/export"),a=t("../internals/is-pure"),c=t("../internals/engine-is-node"),u=t("../internals/global"),l=t("../internals/function-call"),d=t("../internals/define-built-in"),f=t("../internals/object-set-prototype-of"),p=t("../internals/set-to-string-tag"),h=t("../internals/set-species"),y=t("../internals/a-callable"),g=t("../internals/is-callable"),_=t("../internals/is-object"),x=t("../internals/an-instance"),k=t("../internals/species-constructor"),L=t("../internals/task").set,B=t("../internals/microtask"),V=t("../internals/host-report-errors"),R=t("../internals/perform"),N=t("../internals/queue"),j=t("../internals/internal-state"),P=t("../internals/promise-native-constructor"),E=t("../internals/promise-constructor-detection"),S=t("../internals/new-promise-capability"),D=E.CONSTRUCTOR,m=E.REJECTION_EVENT,v=E.SUBCLASSING,w=j.getterFor("Promise"),b=j.set,C=P&&P.prototype,I=P,F=C,$=u.TypeError,z=u.document,Y=u.process,O=S.f,W=O,M=!!(z&&z.createEvent&&u.dispatchEvent),A=function(se){var ue;return!(!_(se)||!g(ue=se.then))&&ue},U=function(se,ue){var pe,fe,he,Te=ue.value,Me=ue.state===1,ke=Me?se.ok:se.fail,it=se.resolve,Fe=se.reject,He=se.domain;try{ke?(Me||(ue.rejection===2&&de(ue),ue.rejection=1),ke===!0?pe=Te:(He&&He.enter(),pe=ke(Te),He&&(He.exit(),he=!0)),pe===se.promise?Fe(new $("Promise-chain cycle")):(fe=A(pe))?l(fe,pe,it,Fe):it(pe)):Fe(Te)}catch(Ft){He&&!he&&He.exit(),Fe(Ft)}},X=function(se,ue){se.notified||(se.notified=!0,B(function(){for(var pe,fe=se.reactions;pe=fe.get();)U(pe,se);se.notified=!1,ue&&!se.rejection&&Z(se)}))},re=function(se,ue,pe){var fe,he;M?((fe=z.createEvent("Event")).promise=ue,fe.reason=pe,fe.initEvent(se,!1,!0),u.dispatchEvent(fe)):fe={promise:ue,reason:pe},!m&&(he=u["on"+se])?he(fe):se==="unhandledrejection"&&V("Unhandled promise rejection",pe)},Z=function(se){l(L,u,function(){var ue,pe=se.facade,fe=se.value;if(te(se)&&(ue=R(function(){c?Y.emit("unhandledRejection",fe,pe):re("unhandledrejection",pe,fe)}),se.rejection=c||te(se)?2:1,ue.error))throw ue.value})},te=function(se){return se.rejection!==1&&!se.parent},de=function(se){l(L,u,function(){var ue=se.facade;c?Y.emit("rejectionHandled",ue):re("rejectionhandled",ue,se.value)})},le=function(se,ue,pe){return function(fe){se(ue,fe,pe)}},Q=function(se,ue,pe){se.done||(se.done=!0,pe&&(se=pe),se.value=ue,se.state=2,X(se,!0))},ce=function(se,ue,pe){if(!se.done){se.done=!0,pe&&(se=pe);try{if(se.facade===ue)throw new $("Promise can't be resolved itself");var fe=A(ue);fe?B(function(){var he={done:!1};try{l(fe,ue,le(ce,he,se),le(Q,he,se))}catch(Te){Q(he,Te,se)}}):(se.value=ue,se.state=1,X(se,!1))}catch(he){Q({done:!1},he,se)}}};if(D&&(F=(I=function(se){x(this,F),y(se),l(r,this);var ue=w(this);try{se(le(ce,ue),le(Q,ue))}catch(pe){Q(ue,pe)}}).prototype,(r=function(se){b(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new N,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",function(se,ue){var pe=w(this),fe=O(k(this,I));return pe.parent=!0,fe.ok=!g(se)||se,fe.fail=g(ue)&&ue,fe.domain=c?Y.domain:void 0,pe.state===0?pe.reactions.add(fe):B(function(){U(fe,pe)}),fe.promise}),i=function(){var se=new r,ue=w(se);this.promise=se,this.resolve=le(ce,ue),this.reject=le(Q,ue)},S.f=O=function(se){return se===I||se===void 0?new i(se):W(se)},!a&&g(P)&&C!==Object.prototype)){s=C.then,v||d(C,"then",function(se,ue){var pe=this;return new I(function(fe,he){l(s,pe,fe,he)}).then(se,ue)},{unsafe:!0});try{delete C.constructor}catch{}f&&f(C,F)}o({global:!0,constructor:!0,wrap:!0,forced:D},{Promise:I}),p(I,"Promise",!1,!0),h("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/is-pure"),s=t("../internals/promise-native-constructor"),o=t("../internals/fails"),a=t("../internals/get-built-in"),c=t("../internals/is-callable"),u=t("../internals/species-constructor"),l=t("../internals/promise-resolve"),d=t("../internals/define-built-in"),f=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&o(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(h){var y=u(this,a("Promise")),g=c(h);return this.then(g?function(_){return l(y,h()).then(function(){return _})}:h,g?function(_){return l(y,h()).then(function(){throw _})}:h)}}),!i&&c(s)){var p=a("Promise").prototype.finally;f.finally!==p&&d(f,"finally",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,e,n){"use strict";t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/a-callable"),o=t("../internals/new-promise-capability"),a=t("../internals/perform"),c=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(u){var l=this,d=o.f(l),f=d.reject,p=a(function(){var h=s(l.resolve);c(u,function(y){i(h,l,y).then(d.resolve,f)})});return p.error&&f(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/new-promise-capability");r({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(o){var a=s.f(this);return i(a.reject,void 0,o),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),s=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-resolve"),u=i("Promise"),l=s&&!a;r({target:"Promise",stat:!0,forced:s||a},{resolve:function(d){return c(l&&this===u?o:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-uncurry-this"),s=t("../internals/to-absolute-index"),o=RangeError,a=String.fromCharCode,c=String.fromCodePoint,u=i([].join);r({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(l){for(var d,f=[],p=arguments.length,h=0;p>h;){if(d=+arguments[h++],s(d,1114111)!==d)throw new o(d+" is not a valid code point");f[h]=d<65536?a(d):a(55296+((d-=65536)>>10),d%1024+56320)}return u(f,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-uncurry-this"),s=t("../internals/not-a-regexp"),o=t("../internals/require-object-coercible"),a=t("../internals/to-string"),c=t("../internals/correct-is-regexp-logic"),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(l){return!!~u(a(o(this)),a(s(l)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,e,n){"use strict";t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/global"),s=t("../internals/function-call"),o=t("../internals/function-uncurry-this"),a=t("../internals/is-pure"),c=t("../internals/descriptors"),u=t("../internals/symbol-constructor-detection"),l=t("../internals/fails"),d=t("../internals/has-own-property"),f=t("../internals/object-is-prototype-of"),p=t("../internals/an-object"),h=t("../internals/to-indexed-object"),y=t("../internals/to-property-key"),g=t("../internals/to-string"),_=t("../internals/create-property-descriptor"),x=t("../internals/object-create"),k=t("../internals/object-keys"),L=t("../internals/object-get-own-property-names"),B=t("../internals/object-get-own-property-names-external"),V=t("../internals/object-get-own-property-symbols"),R=t("../internals/object-get-own-property-descriptor"),N=t("../internals/object-define-property"),j=t("../internals/object-define-properties"),P=t("../internals/object-property-is-enumerable"),E=t("../internals/define-built-in"),S=t("../internals/define-built-in-accessor"),D=t("../internals/shared"),m=t("../internals/shared-key"),v=t("../internals/hidden-keys"),w=t("../internals/uid"),b=t("../internals/well-known-symbol"),C=t("../internals/well-known-symbol-wrapped"),I=t("../internals/well-known-symbol-define"),F=t("../internals/symbol-define-to-primitive"),$=t("../internals/set-to-string-tag"),z=t("../internals/internal-state"),Y=t("../internals/array-iteration").forEach,O=m("hidden"),W=z.set,M=z.getterFor("Symbol"),A=Object.prototype,U=i.Symbol,X=U&&U.prototype,re=i.RangeError,Z=i.TypeError,te=i.QObject,de=R.f,le=N.f,Q=B.f,ce=P.f,se=o([].push),ue=D("symbols"),pe=D("op-symbols"),fe=D("wks"),he=!te||!te.prototype||!te.prototype.findChild,Te=function(lt,Pe,Ne){var At=de(A,Pe);At&&delete A[Pe],le(lt,Pe,Ne),At&&lt!==A&&le(A,Pe,At)},Me=c&&l(function(){return x(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!==7})?Te:le,ke=function(lt,Pe){var Ne=ue[lt]=x(X);return W(Ne,{type:"Symbol",tag:lt,description:Pe}),c||(Ne.description=Pe),Ne},it=function(lt,Pe,Ne){lt===A&&it(pe,Pe,Ne),p(lt);var At=y(Pe);return p(Ne),d(ue,At)?(Ne.enumerable?(d(lt,O)&&lt[O][At]&&(lt[O][At]=!1),Ne=x(Ne,{enumerable:_(0,!1)})):(d(lt,O)||le(lt,O,_(1,{})),lt[O][At]=!0),Me(lt,At,Ne)):le(lt,At,Ne)},Fe=function(lt,Pe){p(lt);var Ne=h(Pe),At=k(Ne).concat(ze(Ne));return Y(At,function(Ye){c&&!s(He,Ne,Ye)||it(lt,Ye,Ne[Ye])}),lt},He=function(lt){var Pe=y(lt),Ne=s(ce,this,Pe);return!(this===A&&d(ue,Pe)&&!d(pe,Pe))&&(!(Ne||!d(this,Pe)||!d(ue,Pe)||d(this,O)&&this[O][Pe])||Ne)},Ft=function(lt,Pe){var Ne=h(lt),At=y(Pe);if(Ne!==A||!d(ue,At)||d(pe,At)){var Ye=de(Ne,At);return!Ye||!d(ue,At)||d(Ne,O)&&Ne[O][At]||(Ye.enumerable=!0),Ye}},st=function(lt){var Pe=Q(h(lt)),Ne=[];return Y(Pe,function(At){d(ue,At)||d(v,At)||se(Ne,At)}),Ne},ze=function(lt){var Pe=lt===A,Ne=Q(Pe?pe:h(lt)),At=[];return Y(Ne,function(Ye){!d(ue,Ye)||Pe&&!d(A,Ye)||se(At,ue[Ye])}),At};u||(E(X=(U=function(){if(f(X,this))throw new Z("Symbol is not a constructor");var lt=arguments.length&&arguments[0]!==void 0?g(arguments[0]):void 0,Pe=w(lt),Ne=function(At){this===A&&s(Ne,pe,At),d(this,O)&&d(this[O],Pe)&&(this[O][Pe]=!1);var Ye=_(1,At);try{Me(this,Pe,Ye)}catch(ut){if(!(ut instanceof re))throw ut;Te(this,Pe,Ye)}};return c&&he&&Me(A,Pe,{configurable:!0,set:Ne}),ke(Pe,lt)}).prototype,"toString",function(){return M(this).tag}),E(U,"withoutSetter",function(lt){return ke(w(lt),lt)}),P.f=He,N.f=it,j.f=Fe,R.f=Ft,L.f=B.f=st,V.f=ze,C.f=function(lt){return ke(b(lt),lt)},c&&(S(X,"description",{configurable:!0,get:function(){return M(this).description}}),a||E(A,"propertyIsEnumerable",He,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:U}),Y(k(fe),function(lt){I(lt)}),r({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){he=!0},useSimple:function(){he=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(lt,Pe){return Pe===void 0?x(lt):Fe(x(lt),Pe)},defineProperty:it,defineProperties:Fe,getOwnPropertyDescriptor:Ft}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:st}),F(),$(U,"Symbol"),v[O]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),s=t("../internals/has-own-property"),o=t("../internals/to-string"),a=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(d){var f=o(d);if(s(u,f))return u[f];var p=i("Symbol")(f);return u[f]=p,l[p]=f,p}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,e,n){"use strict";t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/has-own-property"),s=t("../internals/is-symbol"),o=t("../internals/try-to-string"),a=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(l){if(!s(l))throw new TypeError(o(l)+" is not a symbol");if(i(u,l))return u[l]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,e,n){"use strict";function r(i){return Object.prototype.toString.call(i)}n.isArray=function(i){return Array.isArray?Array.isArray(i):r(i)==="[object Array]"},n.isBoolean=function(i){return typeof i=="boolean"},n.isNull=function(i){return i===null},n.isNullOrUndefined=function(i){return i==null},n.isNumber=function(i){return typeof i=="number"},n.isString=function(i){return typeof i=="string"},n.isSymbol=function(i){return typeof i=="symbol"},n.isUndefined=function(i){return i===void 0},n.isRegExp=function(i){return r(i)==="[object RegExp]"},n.isObject=function(i){return typeof i=="object"&&i!==null},n.isDate=function(i){return r(i)==="[object Date]"},n.isError=function(i){return r(i)==="[object Error]"||i instanceof Error},n.isFunction=function(i){return typeof i=="function"},n.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},n.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,e,n){(function(r){(function(){"use strict";var i=t("elliptic"),s=t("bn.js");e.exports=function(u){return new a(u)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(u){this.curveType=o[u],this.curveType||(this.curveType={name:u}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(u,l,d){Array.isArray(u)||(u=u.toArray());var f=new r(u);if(d&&f.length<d){var p=new r(d-f.length);p.fill(0),f=r.concat([p,f])}return l?f.toString(l):f}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(u,l){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,l)},a.prototype.computeSecret=function(u,l,d){return l=l||"utf8",r.isBuffer(u)||(u=new r(u,l)),c(this.curve.keyFromPublic(u).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},a.prototype.getPublicKey=function(u,l){var d=this.keys.getPublic(l==="compressed",!0);return l==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),c(d,u)},a.prototype.getPrivateKey=function(u){return c(this.keys.getPrivate(),u)},a.prototype.setPublicKey=function(u,l){return l=l||"utf8",r.isBuffer(u)||(u=new r(u,l)),this.keys._importPublic(u),this},a.prototype.setPrivateKey=function(u,l){l=l||"utf8",r.isBuffer(u)||(u=new r(u,l));var d=new s(u);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(t,e,n){"use strict";var r=t("inherits"),i=t("md5.js"),s=t("ripemd160"),o=t("sha.js"),a=t("cipher-base");function c(u){a.call(this,"digest"),this._hash=u}r(c,a),c.prototype._update=function(u){this._hash.update(u)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(u){return(u=u.toLowerCase())==="md5"?new i:u==="rmd160"||u==="ripemd160"?new s:new c(o(u))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,e,n){"use strict";var r=t("md5.js");e.exports=function(i){return new r().update(i).digest()}},{"md5.js":450}],388:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./legacy"),s=t("cipher-base"),o=t("safe-buffer").Buffer,a=t("create-hash/md5"),c=t("ripemd160"),u=t("sha.js"),l=o.alloc(128);function d(f,p){s.call(this,"digest"),typeof p=="string"&&(p=o.from(p));var h=f==="sha512"||f==="sha384"?128:64;this._alg=f,this._key=p,p.length>h?p=(f==="rmd160"?new c:u(f)).update(p).digest():p.length<h&&(p=o.concat([p,l],h));for(var y=this._ipad=o.allocUnsafe(h),g=this._opad=o.allocUnsafe(h),_=0;_<h;_++)y[_]=54^p[_],g[_]=92^p[_];this._hash=f==="rmd160"?new c:u(f),this._hash.update(y)}r(d,s),d.prototype._update=function(f){this._hash.update(f)},d.prototype._final=function(){var f=this._hash.digest();return(this._alg==="rmd160"?new c:u(this._alg)).update(this._opad).update(f).digest()},e.exports=function(f,p){return(f=f.toLowerCase())==="rmd160"||f==="ripemd160"?new d("rmd160",p):f==="md5"?new i(a,p):new d(f,p)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,e,n){"use strict";var r=t("inherits"),i=t("safe-buffer").Buffer,s=t("cipher-base"),o=i.alloc(128);function a(c,u){s.call(this,"digest"),typeof u=="string"&&(u=i.from(u)),this._alg=c,this._key=u,u.length>64?u=c(u):u.length<64&&(u=i.concat([u,o],64));for(var l=this._ipad=i.allocUnsafe(64),d=this._opad=i.allocUnsafe(64),f=0;f<64;f++)l[f]=54^u[f],d[f]=92^u[f];this._hash=[l]}r(a,s),a.prototype._update=function(c){this._hash.push(c)},a.prototype._final=function(){var c=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,c]))},e.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,e,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=t("randombytes"),n.createHash=n.Hash=t("create-hash"),n.createHmac=n.Hmac=t("create-hmac");var r=t("browserify-sign/algos"),i=Object.keys(r),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);n.getHashes=function(){return s};var o=t("pbkdf2");n.pbkdf2=o.pbkdf2,n.pbkdf2Sync=o.pbkdf2Sync;var a=t("browserify-cipher");n.Cipher=a.Cipher,n.createCipher=a.createCipher,n.Cipheriv=a.Cipheriv,n.createCipheriv=a.createCipheriv,n.Decipher=a.Decipher,n.createDecipher=a.createDecipher,n.Decipheriv=a.Decipheriv,n.createDecipheriv=a.createDecipheriv,n.getCiphers=a.getCiphers,n.listCiphers=a.listCiphers;var c=t("diffie-hellman");n.DiffieHellmanGroup=c.DiffieHellmanGroup,n.createDiffieHellmanGroup=c.createDiffieHellmanGroup,n.getDiffieHellman=c.getDiffieHellman,n.createDiffieHellman=c.createDiffieHellman,n.DiffieHellman=c.DiffieHellman;var u=t("browserify-sign");n.createSign=u.createSign,n.Sign=u.Sign,n.createVerify=u.createVerify,n.Verify=u.Verify,n.createECDH=t("create-ecdh");var l=t("public-encrypt");n.publicEncrypt=l.publicEncrypt,n.privateEncrypt=l.privateEncrypt,n.publicDecrypt=l.publicDecrypt,n.privateDecrypt=l.privateDecrypt;var d=t("randomfill");n.randomFill=d.randomFill,n.randomFillSync=d.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(void 0,function(){var r=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",u="day",l="week",d="month",f="quarter",p="year",h="date",y="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var v=["th","st","nd","rd"],w=m%100;return"["+m+(v[(w-20)%10]||v[w]||v[0])+"]"}},k=function(m,v,w){var b=String(m);return!b||b.length>=v?m:""+Array(v+1-b.length).join(w)+m},L={s:k,z:function(m){var v=-m.utcOffset(),w=Math.abs(v),b=Math.floor(w/60),C=w%60;return(v<=0?"+":"-")+k(b,2,"0")+":"+k(C,2,"0")},m:function m(v,w){if(v.date()<w.date())return-m(w,v);var b=12*(w.year()-v.year())+(w.month()-v.month()),C=v.clone().add(b,d),I=w-C<0,F=v.clone().add(b+(I?-1:1),d);return+(-(b+(w-C)/(I?C-F:F-C))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:d,y:p,w:l,d:u,D:h,h:c,m:a,s:o,ms:s,Q:f}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},B="en",V={};V[B]=x;var R="$isDayjsObject",N=function(m){return m instanceof S||!(!m||!m[R])},j=function m(v,w,b){var C;if(!v)return B;if(typeof v=="string"){var I=v.toLowerCase();V[I]&&(C=I),w&&(V[I]=w,C=I);var F=v.split("-");if(!C&&F.length>1)return m(F[0])}else{var $=v.name;V[$]=v,C=$}return!b&&C&&(B=C),C||!b&&B},P=function(m,v){if(N(m))return m.clone();var w=typeof v=="object"?v:{};return w.date=m,w.args=arguments,new S(w)},E=L;E.l=j,E.i=N,E.w=function(m,v){return P(m,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var S=(function(){function m(w){this.$L=j(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[R]=!0}var v=m.prototype;return v.parse=function(w){this.$d=(function(b){var C=b.date,I=b.utc;if(C===null)return new Date(NaN);if(E.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var F=C.match(g);if(F){var $=F[2]-1||0,z=(F[7]||"0").substring(0,3);return I?new Date(Date.UTC(F[1],$,F[3]||1,F[4]||0,F[5]||0,F[6]||0,z)):new Date(F[1],$,F[3]||1,F[4]||0,F[5]||0,F[6]||0,z)}}return new Date(C)})(w),this.init()},v.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},v.$utils=function(){return E},v.isValid=function(){return this.$d.toString()!==y},v.isSame=function(w,b){var C=P(w);return this.startOf(b)<=C&&C<=this.endOf(b)},v.isAfter=function(w,b){return P(w)<this.startOf(b)},v.isBefore=function(w,b){return this.endOf(b)<P(w)},v.$g=function(w,b,C){return E.u(w)?this[b]:this.set(C,w)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(w,b){var C=this,I=!!E.u(b)||b,F=E.p(w),$=function(X,re){var Z=E.w(C.$u?Date.UTC(C.$y,re,X):new Date(C.$y,re,X),C);return I?Z:Z.endOf(u)},z=function(X,re){return E.w(C.toDate()[X].apply(C.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(re)),C)},Y=this.$W,O=this.$M,W=this.$D,M="set"+(this.$u?"UTC":"");switch(F){case p:return I?$(1,0):$(31,11);case d:return I?$(1,O):$(0,O+1);case l:var A=this.$locale().weekStart||0,U=(Y<A?Y+7:Y)-A;return $(I?W-U:W+(6-U),O);case u:case h:return z(M+"Hours",0);case c:return z(M+"Minutes",1);case a:return z(M+"Seconds",2);case o:return z(M+"Milliseconds",3);default:return this.clone()}},v.endOf=function(w){return this.startOf(w,!1)},v.$set=function(w,b){var C,I=E.p(w),F="set"+(this.$u?"UTC":""),$=(C={},C[u]=F+"Date",C[h]=F+"Date",C[d]=F+"Month",C[p]=F+"FullYear",C[c]=F+"Hours",C[a]=F+"Minutes",C[o]=F+"Seconds",C[s]=F+"Milliseconds",C)[I],z=I===u?this.$D+(b-this.$W):b;if(I===d||I===p){var Y=this.clone().set(h,1);Y.$d[$](z),Y.init(),this.$d=Y.set(h,Math.min(this.$D,Y.daysInMonth())).$d}else $&&this.$d[$](z);return this.init(),this},v.set=function(w,b){return this.clone().$set(w,b)},v.get=function(w){return this[E.p(w)]()},v.add=function(w,b){var C,I=this;w=Number(w);var F=E.p(b),$=function(O){var W=P(I);return E.w(W.date(W.date()+Math.round(O*w)),I)};if(F===d)return this.set(d,this.$M+w);if(F===p)return this.set(p,this.$y+w);if(F===u)return $(1);if(F===l)return $(7);var z=(C={},C[a]=r,C[c]=i,C[o]=1e3,C)[F]||1,Y=this.$d.getTime()+w*z;return E.w(Y,this)},v.subtract=function(w,b){return this.add(-1*w,b)},v.format=function(w){var b=this,C=this.$locale();if(!this.isValid())return C.invalidDate||y;var I=w||"YYYY-MM-DDTHH:mm:ssZ",F=E.z(this),$=this.$H,z=this.$m,Y=this.$M,O=C.weekdays,W=C.months,M=C.meridiem,A=function(re,Z,te,de){return re&&(re[Z]||re(b,I))||te[Z].slice(0,de)},U=function(re){return E.s($%12||12,re,"0")},X=M||function(re,Z,te){var de=re<12?"AM":"PM";return te?de.toLowerCase():de};return I.replace(_,function(re,Z){return Z||(function(te){switch(te){case"YY":return String(b.$y).slice(-2);case"YYYY":return E.s(b.$y,4,"0");case"M":return Y+1;case"MM":return E.s(Y+1,2,"0");case"MMM":return A(C.monthsShort,Y,W,3);case"MMMM":return A(W,Y);case"D":return b.$D;case"DD":return E.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return A(C.weekdaysMin,b.$W,O,2);case"ddd":return A(C.weekdaysShort,b.$W,O,3);case"dddd":return O[b.$W];case"H":return String($);case"HH":return E.s($,2,"0");case"h":return U(1);case"hh":return U(2);case"a":return X($,z,!0);case"A":return X($,z,!1);case"m":return String(z);case"mm":return E.s(z,2,"0");case"s":return String(b.$s);case"ss":return E.s(b.$s,2,"0");case"SSS":return E.s(b.$ms,3,"0");case"Z":return F}return null})(re)||F.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(w,b,C){var I,F=this,$=E.p(b),z=P(w),Y=(z.utcOffset()-this.utcOffset())*r,O=this-z,W=function(){return E.m(F,z)};switch($){case p:I=W()/12;break;case d:I=W();break;case f:I=W()/3;break;case l:I=(O-Y)/6048e5;break;case u:I=(O-Y)/864e5;break;case c:I=O/i;break;case a:I=O/r;break;case o:I=O/1e3;break;default:I=O}return C?I:E.a(I)},v.daysInMonth=function(){return this.endOf(d).$D},v.$locale=function(){return V[this.$L]},v.locale=function(w,b){if(!w)return this.$L;var C=this.clone(),I=j(w,b,!0);return I&&(C.$L=I),C},v.clone=function(){return E.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m})(),D=S.prototype;return P.prototype=D,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",u],["$M",d],["$y",p],["$D",h]].forEach(function(m){D[m[1]]=function(v){return this.$g(v,m[0],m[1])}}),P.extend=function(m,v){return m.$i||(m(v,S,P),m.$i=!0),P},P.locale=j,P.isDayjs=N,P.unix=function(m){return P(1e3*m)},P.en=V[B],P.Ls=V,P.p={},P})},{}],392:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(void 0,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,c={},u=function(g){return(g=+g)+(g>68?1900:2e3)},l=function(g){return function(_){this[g]=+_}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=(function(_){if(!_||_==="Z")return 0;var x=_.match(/([+-]|\d\d)/g),k=60*x[1]+(+x[2]||0);return k===0?0:x[0]==="+"?-k:k})(g)}],f=function(g){var _=c[g];return _&&(_.indexOf?_:_.s.concat(_.f))},p=function(g,_){var x,k=c.meridiem;if(k){for(var L=1;L<=24;L+=1)if(g.indexOf(k(L,0,_))>-1){x=L>12;break}}else x=g===(_?"pm":"PM");return x},h={A:[a,function(g){this.afternoon=p(g,!1)}],a:[a,function(g){this.afternoon=p(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[s,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,l("seconds")],ss:[o,l("seconds")],m:[o,l("minutes")],mm:[o,l("minutes")],H:[o,l("hours")],h:[o,l("hours")],HH:[o,l("hours")],hh:[o,l("hours")],D:[o,l("day")],DD:[s,l("day")],Do:[a,function(g){var _=c.ordinal,x=g.match(/\d+/);if(this.day=x[0],_)for(var k=1;k<=31;k+=1)_(k).replace(/\[|\]/g,"")===g&&(this.day=k)}],M:[o,l("month")],MM:[s,l("month")],MMM:[a,function(g){var _=f("months"),x=(f("monthsShort")||_.map(function(k){return k.slice(0,3)})).indexOf(g)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(g){var _=f("months").indexOf(g)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,l("year")],YY:[s,function(g){this.year=u(g)}],YYYY:[/\d{4}/,l("year")],Z:d,ZZ:d};function y(g){var _,x;_=g,x=c&&c.formats;for(var k=(g=_.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,E,S){var D=S&&S.toUpperCase();return E||x[S]||r[S]||x[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,v,w){return v||w.slice(1)})})).match(i),L=k.length,B=0;B<L;B+=1){var V=k[B],R=h[V],N=R&&R[0],j=R&&R[1];k[B]=j?{regex:N,parser:j}:V.replace(/^\[|\]$/g,"")}return function(P){for(var E={},S=0,D=0;S<L;S+=1){var m=k[S];if(typeof m=="string")D+=m.length;else{var v=m.regex,w=m.parser,b=P.slice(D),C=v.exec(b)[0];w.call(E,C),P=P.replace(C,"")}}return(function(I){var F=I.afternoon;if(F!==void 0){var $=I.hours;F?$<12&&(I.hours+=12):$===12&&(I.hours=0),delete I.afternoon}})(E),E}}return function(g,_,x){x.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(u=g.parseTwoDigitYear);var k=_.prototype,L=k.parse;k.parse=function(B){var V=B.date,R=B.utc,N=B.args;this.$u=R;var j=N[1];if(typeof j=="string"){var P=N[2]===!0,E=N[3]===!0,S=P||E,D=N[2];E&&(D=N[2]),c=this.$locale(),!P&&D&&(c=x.Ls[D]),this.$d=(function(b,C,I){try{if(["x","X"].indexOf(C)>-1)return new Date((C==="X"?1e3:1)*b);var F=y(C)(b),$=F.year,z=F.month,Y=F.day,O=F.hours,W=F.minutes,M=F.seconds,A=F.milliseconds,U=F.zone,X=new Date,re=Y||($||z?1:X.getDate()),Z=$||X.getFullYear(),te=0;$&&!z||(te=z>0?z-1:X.getMonth());var de=O||0,le=W||0,Q=M||0,ce=A||0;return U?new Date(Date.UTC(Z,te,re,de,le,Q,ce+60*U.offset*1e3)):I?new Date(Date.UTC(Z,te,re,de,le,Q,ce)):new Date(Z,te,re,de,le,Q,ce)}catch{return new Date("")}})(V,j,R),this.init(),D&&D!==!0&&(this.$L=this.locale(D).$L),S&&V!=this.format(j)&&(this.$d=new Date("")),c={}}else if(j instanceof Array)for(var m=j.length,v=1;v<=m;v+=1){N[1]=j[v-1];var w=x.apply(this,N);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}v===m&&(this.$d=new Date(""))}else L.call(this,B)}}})},{}],393:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=i()})(void 0,function(){var r="minute",i=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(o,a,c){var u=a.prototype;c.utc=function(g){var _={date:g,utc:!0,args:arguments};return new a(_)},u.utc=function(g){var _=c(this.toDate(),{locale:this.$L,utc:!0});return g?_.add(this.utcOffset(),r):_},u.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var l=u.parse;u.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),l.call(this,g)};var d=u.init;u.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=u.utcOffset;u.utcOffset=function(g,_){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=(function(V){V===void 0&&(V="");var R=V.match(i);if(!R)return null;var N=(""+R[0]).match(s)||["-",0,0],j=N[0],P=60*+N[1]+ +N[2];return P===0?0:j==="+"?P:-P})(g))===null)return this;var k=Math.abs(g)<=16?60*g:g,L=this;if(_)return L.$offset=k,L.$u=g===0,L;if(g!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(L=this.local().add(k+B,r)).$offset=k,L.$x.$localOffset=B}else L=this.utc();return L};var p=u.format;u.format=function(g){var _=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,_)},u.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var h=u.toDate;u.toDate=function(g){return g==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var y=u.diff;u.diff=function(g,_,x){if(g&&this.$u===g.$u)return y.call(this,g,_,x);var k=this.local(),L=c(g).local();return y.call(k,L,_,x)}}})},{}],394:[function(t,e,n){"use strict";n.utils=t("./des/utils"),n.Cipher=t("./des/cipher"),n.DES=t("./des/des"),n.CBC=t("./des/cbc"),n.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),s={};function o(a){r.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=a[c]}n.instantiate=function(a){function c(f){a.call(this,f),this._cbcInit()}i(c,a);for(var u=Object.keys(s),l=0;l<u.length;l++){var d=u[l];c.prototype[d]=s[d]}return c.create=function(f){return new c(f)},c},s._cbcInit=function(){var a=new o(this.options.iv);this._cbcState=a},s._update=function(a,c,u,l){var d=this._cbcState,f=this.constructor.super_.prototype,p=d.iv;if(this.type==="encrypt"){for(var h=0;h<this.blockSize;h++)p[h]^=a[c+h];for(f._update.call(this,p,0,u,l),h=0;h<this.blockSize;h++)p[h]=u[l+h]}else{for(f._update.call(this,a,c,u,l),h=0;h<this.blockSize;h++)u[l+h]^=p[h];for(h=0;h<this.blockSize;h++)p[h]=a[c+h]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,e,n){"use strict";var r=t("minimalistic-assert");function i(s){this.options=s,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=s.padding!==!1}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},i.prototype._buffer=function(s,o){for(var a=Math.min(this.buffer.length-this.bufferOff,s.length-o),c=0;c<a;c++)this.buffer[this.bufferOff+c]=s[o+c];return this.bufferOff+=a,a},i.prototype._flushBuffer=function(s,o){return this._update(this.buffer,0,s,o),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(s){var o=0,a=0,c=(this.bufferOff+s.length)/this.blockSize|0,u=new Array(c*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(s,o),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(u,a)));for(var l=s.length-(s.length-o)%this.blockSize;o<l;o+=this.blockSize)this._update(s,o,u,a),a+=this.blockSize;for(;o<s.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=s[o];return u},i.prototype._updateDecrypt=function(s){for(var o=0,a=0,c=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,u=new Array(c*this.blockSize);c>0;c--)o+=this._buffer(s,o),a+=this._flushBuffer(u,a);return o+=this._buffer(s,o),u},i.prototype.final=function(s){var o,a;return s&&(o=this.update(s)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),o?o.concat(a):a},i.prototype._pad=function(s,o){if(o===0)return!1;for(;o<s.length;)s[o++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},i.prototype._unpad=function(s){return s},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)}},{"minimalistic-assert":453}],397:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),s=t("./utils"),o=t("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function c(l){o.call(this,l);var d=new a;this._desState=d,this.deriveKeys(d,l.key)}i(c,o),e.exports=c,c.create=function(l){return new c(l)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(l,d){l.keys=new Array(32),r.equal(d.length,this.blockSize,"Invalid key length");var f=s.readUInt32BE(d,0),p=s.readUInt32BE(d,4);s.pc1(f,p,l.tmp,0),f=l.tmp[0],p=l.tmp[1];for(var h=0;h<l.keys.length;h+=2){var y=u[h>>>1];f=s.r28shl(f,y),p=s.r28shl(p,y),s.pc2(f,p,l.keys,h)}},c.prototype._update=function(l,d,f,p){var h=this._desState,y=s.readUInt32BE(l,d),g=s.readUInt32BE(l,d+4);s.ip(y,g,h.tmp,0),y=h.tmp[0],g=h.tmp[1],this.type==="encrypt"?this._encrypt(h,y,g,h.tmp,0):this._decrypt(h,y,g,h.tmp,0),y=h.tmp[0],g=h.tmp[1],s.writeUInt32BE(f,y,p),s.writeUInt32BE(f,g,p+4)},c.prototype._pad=function(l,d){if(this.padding===!1)return!1;for(var f=l.length-d,p=d;p<l.length;p++)l[p]=f;return!0},c.prototype._unpad=function(l){if(this.padding===!1)return l;for(var d=l[l.length-1],f=l.length-d;f<l.length;f++)r.equal(l[f],d);return l.slice(0,l.length-d)},c.prototype._encrypt=function(l,d,f,p,h){for(var y=d,g=f,_=0;_<l.keys.length;_+=2){var x=l.keys[_],k=l.keys[_+1];s.expand(g,l.tmp,0),x^=l.tmp[0],k^=l.tmp[1];var L=s.substitute(x,k),B=g;g=(y^s.permute(L))>>>0,y=B}s.rip(g,y,p,h)},c.prototype._decrypt=function(l,d,f,p,h){for(var y=f,g=d,_=l.keys.length-2;_>=0;_-=2){var x=l.keys[_],k=l.keys[_+1];s.expand(y,l.tmp,0),x^=l.tmp[0],k^=l.tmp[1];var L=s.substitute(x,k),B=y;y=(g^s.permute(L))>>>0,g=B}s.rip(y,g,p,h)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),s=t("./cipher"),o=t("./des");function a(u,l){r.equal(l.length,24,"Invalid key length");var d=l.slice(0,8),f=l.slice(8,16),p=l.slice(16,24);this.ciphers=u==="encrypt"?[o.create({type:"encrypt",key:d}),o.create({type:"decrypt",key:f}),o.create({type:"encrypt",key:p})]:[o.create({type:"decrypt",key:p}),o.create({type:"encrypt",key:f}),o.create({type:"decrypt",key:d})]}function c(u){s.call(this,u);var l=new a(this.type,this.options.key);this._edeState=l}i(c,s),e.exports=c,c.create=function(u){return new c(u)},c.prototype._update=function(u,l,d,f){var p=this._edeState;p.ciphers[0]._update(u,l,d,f),p.ciphers[1]._update(d,f,d,f),p.ciphers[2]._update(d,f,d,f)},c.prototype._pad=o.prototype._pad,c.prototype._unpad=o.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,e,n){"use strict";n.readUInt32BE=function(o,a){return(o[0+a]<<24|o[1+a]<<16|o[2+a]<<8|o[3+a])>>>0},n.writeUInt32BE=function(o,a,c){o[0+c]=a>>>24,o[1+c]=a>>>16&255,o[2+c]=a>>>8&255,o[3+c]=255&a},n.ip=function(o,a,c,u){for(var l=0,d=0,f=6;f>=0;f-=2){for(var p=0;p<=24;p+=8)l<<=1,l|=a>>>p+f&1;for(p=0;p<=24;p+=8)l<<=1,l|=o>>>p+f&1}for(f=6;f>=0;f-=2){for(p=1;p<=25;p+=8)d<<=1,d|=a>>>p+f&1;for(p=1;p<=25;p+=8)d<<=1,d|=o>>>p+f&1}c[u+0]=l>>>0,c[u+1]=d>>>0},n.rip=function(o,a,c,u){for(var l=0,d=0,f=0;f<4;f++)for(var p=24;p>=0;p-=8)l<<=1,l|=a>>>p+f&1,l<<=1,l|=o>>>p+f&1;for(f=4;f<8;f++)for(p=24;p>=0;p-=8)d<<=1,d|=a>>>p+f&1,d<<=1,d|=o>>>p+f&1;c[u+0]=l>>>0,c[u+1]=d>>>0},n.pc1=function(o,a,c,u){for(var l=0,d=0,f=7;f>=5;f--){for(var p=0;p<=24;p+=8)l<<=1,l|=a>>p+f&1;for(p=0;p<=24;p+=8)l<<=1,l|=o>>p+f&1}for(p=0;p<=24;p+=8)l<<=1,l|=a>>p+f&1;for(f=1;f<=3;f++){for(p=0;p<=24;p+=8)d<<=1,d|=a>>p+f&1;for(p=0;p<=24;p+=8)d<<=1,d|=o>>p+f&1}for(p=0;p<=24;p+=8)d<<=1,d|=o>>p+f&1;c[u+0]=l>>>0,c[u+1]=d>>>0},n.r28shl=function(o,a){return o<<a&268435455|o>>>28-a};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(o,a,c,u){for(var l=0,d=0,f=r.length>>>1,p=0;p<f;p++)l<<=1,l|=o>>>r[p]&1;for(p=f;p<r.length;p++)d<<=1,d|=a>>>r[p]&1;c[u+0]=l>>>0,c[u+1]=d>>>0},n.expand=function(o,a,c){var u=0,l=0;u=(1&o)<<5|o>>>27;for(var d=23;d>=15;d-=4)u<<=6,u|=o>>>d&63;for(d=11;d>=3;d-=4)l|=o>>>d&63,l<<=6;l|=(31&o)<<1|o>>>31,a[c+0]=u>>>0,a[c+1]=l>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(o,a){for(var c=0,u=0;u<4;u++)c<<=4,c|=i[64*u+(o>>>18-6*u&63)];for(u=0;u<4;u++)c<<=4,c|=i[256+64*u+(a>>>18-6*u&63)];return c>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(o){for(var a=0,c=0;c<s.length;c++)a<<=1,a|=o>>>s[c]&1;return a>>>0},n.padSplit=function(o,a,c){for(var u=o.toString(2);u.length<a;)u="0"+u;for(var l=[],d=0;d<a;d+=c)l.push(u.slice(d,d+c));return l.join(" ")}},{}],400:[function(t,e,n){(function(r){(function(){"use strict";var i=t("./lib/generatePrime"),s=t("./lib/primes.json"),o=t("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(c){var u=new r(s[c].prime,"hex"),l=new r(s[c].gen,"hex");return new o(u,l)},n.createDiffieHellman=n.DiffieHellman=function c(u,l,d,f){return r.isBuffer(l)||a[l]===void 0?c(u,"binary",l,d):(l=l||"binary",f=f||"binary",d=d||new r([2]),r.isBuffer(d)||(d=new r(d,f)),typeof u=="number"?new o(i(u,d),d,!0):(r.isBuffer(u)||(u=new r(u,l)),new o(u,d,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,e,n){(function(r){(function(){"use strict";var i=t("bn.js"),s=new(t("miller-rabin")),o=new i(24),a=new i(11),c=new i(10),u=new i(3),l=new i(7),d=t("./generatePrime"),f=t("randombytes");function p(x,k){return k=k||"utf8",r.isBuffer(x)||(x=new r(x,k)),this._pub=new i(x),this}function h(x,k){return k=k||"utf8",r.isBuffer(x)||(x=new r(x,k)),this._priv=new i(x),this}e.exports=g;var y={};function g(x,k,L){this.setGenerator(k),this.__prime=new i(x),this._prime=i.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=p,this.setPrivateKey=h):this._primeCode=8}function _(x,k){var L=new r(x.toArray());return k?L.toString(k):L}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(x,k){var L=k.toString("hex"),B=[L,x.toString(16)].join("_");if(B in y)return y[B];var V,R=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!s.test(x))return R+=1,R+=L==="02"||L==="05"?8:4,y[B]=R,R;switch(s.test(x.shrn(1))||(R+=2),L){case"02":x.mod(o).cmp(a)&&(R+=8);break;case"05":(V=x.mod(c)).cmp(u)&&V.cmp(l)&&(R+=8);break;default:R+=4}return y[B]=R,R})(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(x){var k=(x=(x=new i(x)).toRed(this._prime)).redPow(this._priv).fromRed(),L=new r(k.toArray()),B=this.getPrime();if(L.length<B.length){var V=new r(B.length-L.length);V.fill(0),L=r.concat([V,L])}return L},g.prototype.getPublicKey=function(x){return _(this._pub,x)},g.prototype.getPrivateKey=function(x){return _(this._priv,x)},g.prototype.getPrime=function(x){return _(this.__prime,x)},g.prototype.getGenerator=function(x){return _(this._gen,x)},g.prototype.setGenerator=function(x,k){return k=k||"utf8",r.isBuffer(x)||(x=new r(x,k)),this.__gen=x,this._gen=new i(x),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,e,n){"use strict";var r=t("randombytes");e.exports=x,x.simpleSieve=g,x.fermatTest=_;var i=t("bn.js"),s=new i(24),o=new(t("miller-rabin")),a=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),d=new i(3),f=(new i(7),new i(11)),p=new i(4),h=(new i(12),null);function y(){if(h!==null)return h;var k=[];k[0]=2;for(var L=1,B=3;B<1048576;B+=2){for(var V=Math.ceil(Math.sqrt(B)),R=0;R<L&&k[R]<=V&&B%k[R]!=0;R++);L!==R&&k[R]<=V||(k[L++]=B)}return h=k,k}function g(k){for(var L=y(),B=0;B<L.length;B++)if(k.modn(L[B])===0)return k.cmpn(L[B])===0;return!0}function _(k){var L=i.mont(k);return c.toRed(L).redPow(k.subn(1)).fromRed().cmpn(1)===0}function x(k,L){if(k<16)return new i(L===2||L===5?[140,123]:[140,39]);var B,V;for(L=new i(L);;){for(B=new i(r(Math.ceil(k/8)));B.bitLength()>k;)B.ishrn(1);if(B.isEven()&&B.iadd(a),B.testn(1)||B.iadd(c),L.cmp(c)){if(!L.cmp(u))for(;B.mod(l).cmp(d);)B.iadd(p)}else for(;B.mod(s).cmp(f);)B.iadd(p);if(g(V=B.shrn(1))&&g(B)&&_(V)&&_(B)&&o.test(V)&&o.test(B))return B}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,e,n){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(t,e,n){"use strict";var r=n;r.version=t("../package.json").version,r.utils=t("./elliptic/utils"),r.rand=t("brorand"),r.curve=t("./elliptic/curve"),r.curves=t("./elliptic/curves"),r.ec=t("./elliptic/ec"),r.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),s=i.getNAF,o=i.getJSF,a=i.assert;function c(l,d){this.type=l,this.p=new r(d.p,16),this.red=d.prime?r.red(d.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=d.n&&new r(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(l,d){this.curve=l,this.type=d,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(l,d){a(l.precomputed);var f=l._getDoubles(),p=s(d,1,this._bitLength),h=(1<<f.step+1)-(f.step%2==0?2:1);h/=3;var y,g,_=[];for(y=0;y<p.length;y+=f.step){g=0;for(var x=y+f.step-1;x>=y;x--)g=(g<<1)+p[x];_.push(g)}for(var k=this.jpoint(null,null,null),L=this.jpoint(null,null,null),B=h;B>0;B--){for(y=0;y<_.length;y++)(g=_[y])===B?L=L.mixedAdd(f.points[y]):g===-B&&(L=L.mixedAdd(f.points[y].neg()));k=k.add(L)}return k.toP()},c.prototype._wnafMul=function(l,d){var f=4,p=l._getNAFPoints(f);f=p.wnd;for(var h=p.points,y=s(d,f,this._bitLength),g=this.jpoint(null,null,null),_=y.length-1;_>=0;_--){for(var x=0;_>=0&&y[_]===0;_--)x++;if(_>=0&&x++,g=g.dblp(x),_<0)break;var k=y[_];a(k!==0),g=l.type==="affine"?k>0?g.mixedAdd(h[k-1>>1]):g.mixedAdd(h[-k-1>>1].neg()):k>0?g.add(h[k-1>>1]):g.add(h[-k-1>>1].neg())}return l.type==="affine"?g.toP():g},c.prototype._wnafMulAdd=function(l,d,f,p,h){var y,g,_,x=this._wnafT1,k=this._wnafT2,L=this._wnafT3,B=0;for(y=0;y<p;y++){var V=(_=d[y])._getNAFPoints(l);x[y]=V.wnd,k[y]=V.points}for(y=p-1;y>=1;y-=2){var R=y-1,N=y;if(x[R]===1&&x[N]===1){var j=[d[R],null,null,d[N]];d[R].y.cmp(d[N].y)===0?(j[1]=d[R].add(d[N]),j[2]=d[R].toJ().mixedAdd(d[N].neg())):d[R].y.cmp(d[N].y.redNeg())===0?(j[1]=d[R].toJ().mixedAdd(d[N]),j[2]=d[R].add(d[N].neg())):(j[1]=d[R].toJ().mixedAdd(d[N]),j[2]=d[R].toJ().mixedAdd(d[N].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],E=o(f[R],f[N]);for(B=Math.max(E[0].length,B),L[R]=new Array(B),L[N]=new Array(B),g=0;g<B;g++){var S=0|E[0][g],D=0|E[1][g];L[R][g]=P[3*(S+1)+(D+1)],L[N][g]=0,k[R]=j}}else L[R]=s(f[R],x[R],this._bitLength),L[N]=s(f[N],x[N],this._bitLength),B=Math.max(L[R].length,B),B=Math.max(L[N].length,B)}var m=this.jpoint(null,null,null),v=this._wnafT4;for(y=B;y>=0;y--){for(var w=0;y>=0;){var b=!0;for(g=0;g<p;g++)v[g]=0|L[g][y],v[g]!==0&&(b=!1);if(!b)break;w++,y--}if(y>=0&&w++,m=m.dblp(w),y<0)break;for(g=0;g<p;g++){var C=v[g];C!==0&&(C>0?_=k[g][C-1>>1]:C<0&&(_=k[g][-C-1>>1].neg()),m=_.type==="affine"?m.mixedAdd(_):m.add(_))}}for(y=0;y<p;y++)k[y]=null;return h?m:m.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(l,d){l=i.toArray(l,d);var f=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1==2*f)return l[0]===6?a(l[l.length-1]%2==0):l[0]===7&&a(l[l.length-1]%2==1),this.point(l.slice(1,1+f),l.slice(1+f,1+2*f));if((l[0]===2||l[0]===3)&&l.length-1===f)return this.pointFromX(l.slice(1,1+f),l[0]===3);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(l){return this.encode(l,!0)},u.prototype._encode=function(l){var d=this.curve.p.byteLength(),f=this.getX().toArray("be",d);return l?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",d))},u.prototype.encode=function(l,d){return i.encode(this._encode(d),l)},u.prototype.precompute=function(l){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,l),d.beta=this._getBeta(),this.precomputed=d,this},u.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((l.bitLength()+1)/d.step)},u.prototype._getDoubles=function(l,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],p=this,h=0;h<d;h+=l){for(var y=0;y<l;y++)p=p.dbl();f.push(p)}return{step:l,points:f}},u.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],f=(1<<l)-1,p=f===1?null:this.dbl(),h=1;h<f;h++)d[h]=d[h-1].add(p);return{wnd:l,points:d}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(l){for(var d=this,f=0;f<l;f++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(t,e,n){"use strict";var r=t("../utils"),i=t("bn.js"),s=t("inherits"),o=t("./base"),a=r.assert;function c(l){this.twisted=(0|l.a)!=1,this.mOneA=this.twisted&&(0|l.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",l),this.a=new i(l.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(l.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(l.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|l.c)==1}function u(l,d,f,p,h){o.BasePoint.call(this,l,"projective"),d===null&&f===null&&p===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(d,16),this.y=new i(f,16),this.z=p?new i(p,16):this.curve.one,this.t=h&&new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},c.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},c.prototype.jpoint=function(l,d,f,p){return this.point(l,d,f,p)},c.prototype.pointFromX=function(l,d){(l=new i(l,16)).red||(l=l.toRed(this.red));var f=l.redSqr(),p=this.c2.redSub(this.a.redMul(f)),h=this.one.redSub(this.c2.redMul(this.d).redMul(f)),y=p.redMul(h.redInvm()),g=y.redSqrt();if(g.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var _=g.fromRed().isOdd();return(d&&!_||!d&&_)&&(g=g.redNeg()),this.point(l,g)},c.prototype.pointFromY=function(l,d){(l=new i(l,16)).red||(l=l.toRed(this.red));var f=l.redSqr(),p=f.redSub(this.c2),h=f.redMul(this.d).redMul(this.c2).redSub(this.a),y=p.redMul(h.redInvm());if(y.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,l)}var g=y.redSqrt();if(g.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==d&&(g=g.redNeg()),this.point(g,l)},c.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var d=l.x.redSqr(),f=l.y.redSqr(),p=d.redMul(this.a).redAdd(f),h=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(f)));return p.cmp(h)===0},s(u,o.BasePoint),c.prototype.pointFromJSON=function(l){return u.fromJSON(this,l)},c.prototype.point=function(l,d,f,p){return new u(this,l,d,f,p)},u.fromJSON=function(l,d){return new u(l,d[0],d[1],d[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var l=this.x.redSqr(),d=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var p=this.curve._mulA(l),h=this.x.redAdd(this.y).redSqr().redISub(l).redISub(d),y=p.redAdd(d),g=y.redSub(f),_=p.redSub(d),x=h.redMul(g),k=y.redMul(_),L=h.redMul(_),B=g.redMul(y);return this.curve.point(x,k,B,L)},u.prototype._projDbl=function(){var l,d,f,p,h,y,g=this.x.redAdd(this.y).redSqr(),_=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var k=(p=this.curve._mulA(_)).redAdd(x);this.zOne?(l=g.redSub(_).redSub(x).redMul(k.redSub(this.curve.two)),d=k.redMul(p.redSub(x)),f=k.redSqr().redSub(k).redSub(k)):(h=this.z.redSqr(),y=k.redSub(h).redISub(h),l=g.redSub(_).redISub(x).redMul(y),d=k.redMul(p.redSub(x)),f=k.redMul(y))}else p=_.redAdd(x),h=this.curve._mulC(this.z).redSqr(),y=p.redSub(h).redSub(h),l=this.curve._mulC(g.redISub(p)).redMul(y),d=this.curve._mulC(p).redMul(_.redISub(x)),f=p.redMul(y);return this.curve.point(l,d,f)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(l){var d=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),f=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),p=this.t.redMul(this.curve.dd).redMul(l.t),h=this.z.redMul(l.z.redAdd(l.z)),y=f.redSub(d),g=h.redSub(p),_=h.redAdd(p),x=f.redAdd(d),k=y.redMul(g),L=_.redMul(x),B=y.redMul(x),V=g.redMul(_);return this.curve.point(k,L,V,B)},u.prototype._projAdd=function(l){var d,f,p=this.z.redMul(l.z),h=p.redSqr(),y=this.x.redMul(l.x),g=this.y.redMul(l.y),_=this.curve.d.redMul(y).redMul(g),x=h.redSub(_),k=h.redAdd(_),L=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(y).redISub(g),B=p.redMul(x).redMul(L);return this.curve.twisted?(d=p.redMul(k).redMul(g.redSub(this.curve._mulA(y))),f=x.redMul(k)):(d=p.redMul(k).redMul(g.redSub(y)),f=this.curve._mulC(x).redMul(k)),this.curve.point(B,d,f)},u.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},u.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},u.prototype.mulAdd=function(l,d,f){return this.curve._wnafMulAdd(1,[this,d],[l,f],2,!1)},u.prototype.jmulAdd=function(l,d,f){return this.curve._wnafMulAdd(1,[this,d],[l,f],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},u.prototype.eqXToP=function(l){var d=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var f=l.clone(),p=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(p),this.x.cmp(d)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,e,n){"use strict";var r=n;r.base=t("./base"),r.short=t("./short"),r.mont=t("./mont"),r.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("inherits"),s=t("./base"),o=t("../utils");function a(u){s.call(this,"mont",u),this.a=new r(u.a,16).toRed(this.red),this.b=new r(u.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(u,l,d){s.BasePoint.call(this,u,"projective"),l===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(l,16),this.z=new r(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),e.exports=a,a.prototype.validate=function(u){var l=u.normalize().x,d=l.redSqr(),f=d.redMul(l).redAdd(d.redMul(this.a)).redAdd(l);return f.redSqrt().redSqr().cmp(f)===0},i(c,s.BasePoint),a.prototype.decodePoint=function(u,l){return this.point(o.toArray(u,l),1)},a.prototype.point=function(u,l){return new c(this,u,l)},a.prototype.pointFromJSON=function(u){return c.fromJSON(this,u)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(u,l){return new c(u,l[0],l[1]||u.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var u=this.x.redAdd(this.z).redSqr(),l=this.x.redSub(this.z).redSqr(),d=u.redSub(l),f=u.redMul(l),p=d.redMul(l.redAdd(this.curve.a24.redMul(d)));return this.curve.point(f,p)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(u,l){var d=this.x.redAdd(this.z),f=this.x.redSub(this.z),p=u.x.redAdd(u.z),h=u.x.redSub(u.z).redMul(d),y=p.redMul(f),g=l.z.redMul(h.redAdd(y).redSqr()),_=l.x.redMul(h.redISub(y).redSqr());return this.curve.point(g,_)},c.prototype.mul=function(u){for(var l=u.clone(),d=this,f=this.curve.point(null,null),p=[];l.cmpn(0)!==0;l.iushrn(1))p.push(l.andln(1));for(var h=p.length-1;h>=0;h--)p[h]===0?(d=d.diffAdd(f,this),f=f.dbl()):(f=d.diffAdd(f,this),d=d.dbl());return f},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,e,n){"use strict";var r=t("../utils"),i=t("bn.js"),s=t("inherits"),o=t("./base"),a=r.assert;function c(d){o.call(this,"short",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(d,f,p,h){o.BasePoint.call(this,d,"affine"),f===null&&p===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(f,16),this.y=new i(p,16),h&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(d,f,p,h){o.BasePoint.call(this,d,"jacobian"),f===null&&p===null&&h===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(f,16),this.y=new i(p,16),this.z=new i(h,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var f,p;if(d.beta)f=new i(d.beta,16).toRed(this.red);else{var h=this._getEndoRoots(this.p);f=(f=h[0].cmp(h[1])<0?h[0]:h[1]).toRed(this.red)}if(d.lambda)p=new i(d.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(f))===0?p=y[0]:(p=y[1],a(this.g.mul(p).x.cmp(this.g.x.redMul(f))===0))}return{beta:f,lambda:p,basis:d.basis?d.basis.map(function(g){return{a:new i(g.a,16),b:new i(g.b,16)}}):this._getEndoBasis(p)}}},c.prototype._getEndoRoots=function(d){var f=d===this.p?this.red:i.mont(d),p=new i(2).toRed(f).redInvm(),h=p.redNeg(),y=new i(3).toRed(f).redNeg().redSqrt().redMul(p);return[h.redAdd(y).fromRed(),h.redSub(y).fromRed()]},c.prototype._getEndoBasis=function(d){for(var f,p,h,y,g,_,x,k,L,B=this.n.ushrn(Math.floor(this.n.bitLength()/2)),V=d,R=this.n.clone(),N=new i(1),j=new i(0),P=new i(0),E=new i(1),S=0;V.cmpn(0)!==0;){var D=R.div(V);k=R.sub(D.mul(V)),L=P.sub(D.mul(N));var m=E.sub(D.mul(j));if(!h&&k.cmp(B)<0)f=x.neg(),p=N,h=k.neg(),y=L;else if(h&&++S==2)break;x=k,R=V,V=k,P=N,N=L,E=j,j=m}g=k.neg(),_=L;var v=h.sqr().add(y.sqr());return g.sqr().add(_.sqr()).cmp(v)>=0&&(g=f,_=p),h.negative&&(h=h.neg(),y=y.neg()),g.negative&&(g=g.neg(),_=_.neg()),[{a:h,b:y},{a:g,b:_}]},c.prototype._endoSplit=function(d){var f=this.endo.basis,p=f[0],h=f[1],y=h.b.mul(d).divRound(this.n),g=p.b.neg().mul(d).divRound(this.n),_=y.mul(p.a),x=g.mul(h.a),k=y.mul(p.b),L=g.mul(h.b);return{k1:d.sub(_).sub(x),k2:k.add(L).neg()}},c.prototype.pointFromX=function(d,f){(d=new i(d,16)).red||(d=d.toRed(this.red));var p=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),h=p.redSqrt();if(h.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var y=h.fromRed().isOdd();return(f&&!y||!f&&y)&&(h=h.redNeg()),this.point(d,h)},c.prototype.validate=function(d){if(d.inf)return!0;var f=d.x,p=d.y,h=this.a.redMul(f),y=f.redSqr().redMul(f).redIAdd(h).redIAdd(this.b);return p.redSqr().redISub(y).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(d,f,p){for(var h=this._endoWnafT1,y=this._endoWnafT2,g=0;g<d.length;g++){var _=this._endoSplit(f[g]),x=d[g],k=x._getBeta();_.k1.negative&&(_.k1.ineg(),x=x.neg(!0)),_.k2.negative&&(_.k2.ineg(),k=k.neg(!0)),h[2*g]=x,h[2*g+1]=k,y[2*g]=_.k1,y[2*g+1]=_.k2}for(var L=this._wnafMulAdd(1,h,y,2*g,p),B=0;B<2*g;B++)h[B]=null,y[B]=null;return L},s(u,o.BasePoint),c.prototype.point=function(d,f,p){return new u(this,d,f,p)},c.prototype.pointFromJSON=function(d,f){return u.fromJSON(this,d,f)},u.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var p=this.curve,h=function(y){return p.point(y.x.redMul(p.endo.beta),y.y)};d.beta=f,f.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(h)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(h)}}}return f}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(d,f,p){typeof f=="string"&&(f=JSON.parse(f));var h=d.point(f[0],f[1],p);if(!f[2])return h;function y(_){return d.point(_[0],_[1],p)}var g=f[2];return h.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[h].concat(g.doubles.points.map(y))},naf:g.naf&&{wnd:g.naf.wnd,points:[h].concat(g.naf.points.map(y))}},h},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var f=this.y.redSub(d.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(d.x).redInvm()));var p=f.redSqr().redISub(this.x).redISub(d.x),h=f.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,h)},u.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,p=this.x.redSqr(),h=d.redInvm(),y=p.redAdd(p).redIAdd(p).redIAdd(f).redMul(h),g=y.redSqr().redISub(this.x.redAdd(this.x)),_=y.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,_)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(d){return d=new i(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},u.prototype.mulAdd=function(d,f,p){var h=[this,f],y=[d,p];return this.curve.endo?this.curve._endoWnafMulAdd(h,y):this.curve._wnafMulAdd(1,h,y,2)},u.prototype.jmulAdd=function(d,f,p){var h=[this,f],y=[d,p];return this.curve.endo?this.curve._endoWnafMulAdd(h,y,!0):this.curve._wnafMulAdd(1,h,y,2,!0)},u.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},u.prototype.neg=function(d){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var p=this.precomputed,h=function(y){return y.neg()};f.precomputed={naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(h)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(h)}}}return f},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,o.BasePoint),c.prototype.jpoint=function(d,f,p){return new l(this,d,f,p)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),f=d.redSqr(),p=this.x.redMul(f),h=this.y.redMul(f).redMul(d);return this.curve.point(p,h)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var f=d.z.redSqr(),p=this.z.redSqr(),h=this.x.redMul(f),y=d.x.redMul(p),g=this.y.redMul(f.redMul(d.z)),_=d.y.redMul(p.redMul(this.z)),x=h.redSub(y),k=g.redSub(_);if(x.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=x.redSqr(),B=L.redMul(x),V=h.redMul(L),R=k.redSqr().redIAdd(B).redISub(V).redISub(V),N=k.redMul(V.redISub(R)).redISub(g.redMul(B)),j=this.z.redMul(d.z).redMul(x);return this.curve.jpoint(R,N,j)},l.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var f=this.z.redSqr(),p=this.x,h=d.x.redMul(f),y=this.y,g=d.y.redMul(f).redMul(this.z),_=p.redSub(h),x=y.redSub(g);if(_.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=_.redSqr(),L=k.redMul(_),B=p.redMul(k),V=x.redSqr().redIAdd(L).redISub(B).redISub(B),R=x.redMul(B.redISub(V)).redISub(y.redMul(L)),N=this.z.redMul(_);return this.curve.jpoint(V,R,N)},l.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var p=this;for(f=0;f<d;f++)p=p.dbl();return p}var h=this.curve.a,y=this.curve.tinv,g=this.x,_=this.y,x=this.z,k=x.redSqr().redSqr(),L=_.redAdd(_);for(f=0;f<d;f++){var B=g.redSqr(),V=L.redSqr(),R=V.redSqr(),N=B.redAdd(B).redIAdd(B).redIAdd(h.redMul(k)),j=g.redMul(V),P=N.redSqr().redISub(j.redAdd(j)),E=j.redISub(P),S=N.redMul(E);S=S.redIAdd(S).redISub(R);var D=L.redMul(x);f+1<d&&(k=k.redMul(R)),g=P,x=D,L=S}return this.curve.jpoint(g,L.redMul(y),x)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var d,f,p;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),g=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(h).redISub(g);_=_.redIAdd(_);var x=h.redAdd(h).redIAdd(h),k=x.redSqr().redISub(_).redISub(_),L=g.redIAdd(g);L=(L=L.redIAdd(L)).redIAdd(L),d=k,f=x.redMul(_.redISub(k)).redISub(L),p=this.y.redAdd(this.y)}else{var B=this.x.redSqr(),V=this.y.redSqr(),R=V.redSqr(),N=this.x.redAdd(V).redSqr().redISub(B).redISub(R);N=N.redIAdd(N);var j=B.redAdd(B).redIAdd(B),P=j.redSqr(),E=R.redIAdd(R);E=(E=E.redIAdd(E)).redIAdd(E),d=P.redISub(N).redISub(N),f=j.redMul(N.redISub(d)).redISub(E),p=(p=this.y.redMul(this.z)).redIAdd(p)}return this.curve.jpoint(d,f,p)},l.prototype._threeDbl=function(){var d,f,p;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),g=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(h).redISub(g);_=_.redIAdd(_);var x=h.redAdd(h).redIAdd(h).redIAdd(this.curve.a),k=x.redSqr().redISub(_).redISub(_);d=k;var L=g.redIAdd(g);L=(L=L.redIAdd(L)).redIAdd(L),f=x.redMul(_.redISub(k)).redISub(L),p=this.y.redAdd(this.y)}else{var B=this.z.redSqr(),V=this.y.redSqr(),R=this.x.redMul(V),N=this.x.redSub(B).redMul(this.x.redAdd(B));N=N.redAdd(N).redIAdd(N);var j=R.redIAdd(R),P=(j=j.redIAdd(j)).redAdd(j);d=N.redSqr().redISub(P),p=this.y.redAdd(this.z).redSqr().redISub(V).redISub(B);var E=V.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),f=N.redMul(j.redISub(d)).redISub(E)}return this.curve.jpoint(d,f,p)},l.prototype._dbl=function(){var d=this.curve.a,f=this.x,p=this.y,h=this.z,y=h.redSqr().redSqr(),g=f.redSqr(),_=p.redSqr(),x=g.redAdd(g).redIAdd(g).redIAdd(d.redMul(y)),k=f.redAdd(f),L=(k=k.redIAdd(k)).redMul(_),B=x.redSqr().redISub(L.redAdd(L)),V=L.redISub(B),R=_.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var N=x.redMul(V).redISub(R),j=p.redAdd(p).redMul(h);return this.curve.jpoint(B,N,j)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),f=this.y.redSqr(),p=this.z.redSqr(),h=f.redSqr(),y=d.redAdd(d).redIAdd(d),g=y.redSqr(),_=this.x.redAdd(f).redSqr().redISub(d).redISub(h),x=(_=(_=(_=_.redIAdd(_)).redAdd(_).redIAdd(_)).redISub(g)).redSqr(),k=h.redIAdd(h);k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k);var L=y.redIAdd(_).redSqr().redISub(g).redISub(x).redISub(k),B=f.redMul(L);B=(B=B.redIAdd(B)).redIAdd(B);var V=this.x.redMul(x).redISub(B);V=(V=V.redIAdd(V)).redIAdd(V);var R=this.y.redMul(L.redMul(k.redISub(L)).redISub(_.redMul(x)));R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var N=this.z.redAdd(_).redSqr().redISub(p).redISub(x);return this.curve.jpoint(V,R,N)},l.prototype.mul=function(d,f){return d=new i(d,f),this.curve._wnafMul(this,d)},l.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var f=this.z.redSqr(),p=d.z.redSqr();if(this.x.redMul(p).redISub(d.x.redMul(f)).cmpn(0)!==0)return!1;var h=f.redMul(this.z),y=p.redMul(d.z);return this.y.redMul(y).redISub(d.y.redMul(h)).cmpn(0)===0},l.prototype.eqXToP=function(d){var f=this.z.redSqr(),p=d.toRed(this.curve.red).redMul(f);if(this.x.cmp(p)===0)return!0;for(var h=d.clone(),y=this.curve.redN.redMul(f);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(y),this.x.cmp(p)===0)return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,e,n){"use strict";var r,i=n,s=t("hash.js"),o=t("./curve"),a=t("./utils").assert;function c(l){l.type==="short"?this.curve=new o.short(l):l.type==="edwards"?this.curve=new o.edwards(l):this.curve=new o.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(l,d){Object.defineProperty(i,l,{configurable:!0,enumerable:!0,get:function(){var f=new c(d);return Object.defineProperty(i,l,{configurable:!0,enumerable:!0,value:f}),f}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=t("./precomputed/secp256k1")}catch{r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("hmac-drbg"),s=t("../utils"),o=t("../curves"),a=t("brorand"),c=s.assert,u=t("./key"),l=t("./signature");function d(f){if(!(this instanceof d))return new d(f);typeof f=="string"&&(c(Object.prototype.hasOwnProperty.call(o,f),"Unknown curve "+f),f=o[f]),f instanceof o.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}e.exports=d,d.prototype.keyPair=function(f){return new u(this,f)},d.prototype.keyFromPrivate=function(f,p){return u.fromPrivate(this,f,p)},d.prototype.keyFromPublic=function(f,p){return u.fromPublic(this,f,p)},d.prototype.genKeyPair=function(f){f||(f={});for(var p=new i({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||a(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),y=this.n.sub(new r(2));;){var g=new r(p.generate(h));if(!(g.cmp(y)>0))return g.iaddn(1),this.keyFromPrivate(g)}},d.prototype._truncateToN=function(f,p){var h=8*f.byteLength()-this.n.bitLength();return h>0&&(f=f.ushrn(h)),!p&&f.cmp(this.n)>=0?f.sub(this.n):f},d.prototype.sign=function(f,p,h,y){typeof h=="object"&&(y=h,h=null),y||(y={}),p=this.keyFromPrivate(p,h),f=this._truncateToN(new r(f,16));for(var g=this.n.byteLength(),_=p.getPrivate().toArray("be",g),x=f.toArray("be",g),k=new i({hash:this.hash,entropy:_,nonce:x,pers:y.pers,persEnc:y.persEnc||"utf8"}),L=this.n.sub(new r(1)),B=0;;B++){var V=y.k?y.k(B):new r(k.generate(this.n.byteLength()));if(!((V=this._truncateToN(V,!0)).cmpn(1)<=0||V.cmp(L)>=0)){var R=this.g.mul(V);if(!R.isInfinity()){var N=R.getX(),j=N.umod(this.n);if(j.cmpn(0)!==0){var P=V.invm(this.n).mul(j.mul(p.getPrivate()).iadd(f));if((P=P.umod(this.n)).cmpn(0)!==0){var E=(R.getY().isOdd()?1:0)|(N.cmp(j)!==0?2:0);return y.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),E^=1),new l({r:j,s:P,recoveryParam:E})}}}}}},d.prototype.verify=function(f,p,h,y){f=this._truncateToN(new r(f,16)),h=this.keyFromPublic(h,y);var g=(p=new l(p,"hex")).r,_=p.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||_.cmpn(1)<0||_.cmp(this.n)>=0)return!1;var x,k=_.invm(this.n),L=k.mul(f).umod(this.n),B=k.mul(g).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(L,h.getPublic(),B)).isInfinity()&&x.eqXToP(g):!(x=this.g.mulAdd(L,h.getPublic(),B)).isInfinity()&&x.getX().umod(this.n).cmp(g)===0},d.prototype.recoverPubKey=function(f,p,h,y){c((3&h)===h,"The recovery param is more than two bits"),p=new l(p,y);var g=this.n,_=new r(f),x=p.r,k=p.s,L=1&h,B=h>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");x=B?this.curve.pointFromX(x.add(this.curve.n),L):this.curve.pointFromX(x,L);var V=p.r.invm(g),R=g.sub(_).mul(V).umod(g),N=k.mul(V).umod(g);return this.g.mulAdd(R,x,N)},d.prototype.getKeyRecoveryParam=function(f,p,h,y){if((p=new l(p,y)).recoveryParam!==null)return p.recoveryParam;for(var g=0;g<4;g++){var _;try{_=this.recoverPubKey(f,p,g)}catch{continue}if(_.eq(h))return g}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils").assert;function s(o,a){this.ec=o,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}e.exports=s,s.fromPublic=function(o,a,c){return a instanceof s?a:new s(o,{pub:a,pubEnc:c})},s.fromPrivate=function(o,a,c){return a instanceof s?a:new s(o,{priv:a,privEnc:c})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,a){this.priv=new r(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,a){if(o.x||o.y)return this.ec.curve.type==="mont"?i(o.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(o.x&&o.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(o.x,o.y));this.pub=this.ec.curve.decodePoint(o,a)},s.prototype.derive=function(o){return o.validate()||i(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,a,c){return this.ec.sign(o,this,a,c)},s.prototype.verify=function(o,a){return this.ec.verify(o,a,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),s=i.assert;function o(d,f){if(d instanceof o)return d;this._importDER(d,f)||(s(d.r&&d.s,"Signature without r or s"),this.r=new r(d.r,16),this.s=new r(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function a(){this.place=0}function c(d,f){var p=d[f.place++];if(!(128&p))return p;var h=15&p;if(h===0||h>4)return!1;for(var y=0,g=0,_=f.place;g<h;g++,_++)y<<=8,y|=d[_],y>>>=0;return!(y<=127)&&(f.place=_,y)}function u(d){for(var f=0,p=d.length-1;!d[f]&&!(128&d[f+1])&&f<p;)f++;return f===0?d:d.slice(f)}function l(d,f){if(f<128)d.push(f);else{var p=1+(Math.log(f)/Math.LN2>>>3);for(d.push(128|p);--p;)d.push(f>>>(p<<3)&255);d.push(f)}}e.exports=o,o.prototype._importDER=function(d,f){d=i.toArray(d,f);var p=new a;if(d[p.place++]!==48)return!1;var h=c(d,p);if(h===!1||h+p.place!==d.length||d[p.place++]!==2)return!1;var y=c(d,p);if(y===!1)return!1;var g=d.slice(p.place,y+p.place);if(p.place+=y,d[p.place++]!==2)return!1;var _=c(d,p);if(_===!1||d.length!==_+p.place)return!1;var x=d.slice(p.place,_+p.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new r(g),this.s=new r(x),this.recoveryParam=null,!0},o.prototype.toDER=function(d){var f=this.r.toArray(),p=this.s.toArray();for(128&f[0]&&(f=[0].concat(f)),128&p[0]&&(p=[0].concat(p)),f=u(f),p=u(p);!(p[0]||128&p[1]);)p=p.slice(1);var h=[2];l(h,f.length),(h=h.concat(f)).push(2),l(h,p.length);var y=h.concat(p),g=[48];return l(g,y.length),g=g.concat(y),i.encode(g,d)}},{"../utils":419,"bn.js":420}],415:[function(t,e,n){"use strict";var r=t("hash.js"),i=t("../curves"),s=t("../utils"),o=s.assert,a=s.parseBytes,c=t("./key"),u=t("./signature");function l(d){if(o(d==="ed25519","only tested with ed25519 so far"),!(this instanceof l))return new l(d);d=i[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(d,f){d=a(d);var p=this.keyFromSecret(f),h=this.hashInt(p.messagePrefix(),d),y=this.g.mul(h),g=this.encodePoint(y),_=this.hashInt(g,p.pubBytes(),d).mul(p.priv()),x=h.add(_).umod(this.curve.n);return this.makeSignature({R:y,S:x,Rencoded:g})},l.prototype.verify=function(d,f,p){d=a(d),f=this.makeSignature(f);var h=this.keyFromPublic(p),y=this.hashInt(f.Rencoded(),h.pubBytes(),d),g=this.g.mul(f.S());return f.R().add(h.pub().mul(y)).eq(g)},l.prototype.hashInt=function(){for(var d=this.hash(),f=0;f<arguments.length;f++)d.update(arguments[f]);return s.intFromLE(d.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(d){return c.fromPublic(this,d)},l.prototype.keyFromSecret=function(d){return c.fromSecret(this,d)},l.prototype.makeSignature=function(d){return d instanceof u?d:new u(this,d)},l.prototype.encodePoint=function(d){var f=d.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=d.getX().isOdd()?128:0,f},l.prototype.decodePoint=function(d){var f=(d=s.parseBytes(d)).length-1,p=d.slice(0,f).concat(-129&d[f]),h=(128&d[f])!=0,y=s.intFromLE(p);return this.curve.pointFromY(y,h)},l.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(d){return s.intFromLE(d)},l.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,e,n){"use strict";var r=t("../utils"),i=r.assert,s=r.parseBytes,o=r.cachedProperty;function a(c,u){this.eddsa=c,this._secret=s(u.secret),c.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=s(u.pub)}a.fromPublic=function(c,u){return u instanceof a?u:new a(c,{pub:u})},a.fromSecret=function(c,u){return u instanceof a?u:new a(c,{secret:u})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var c=this.eddsa,u=this.hash(),l=c.encodingLength-1,d=u.slice(0,c.encodingLength);return d[0]&=248,d[l]&=127,d[l]|=64,d}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(c){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},a.prototype.verify=function(c,u){return this.eddsa.verify(c,u,this)},a.prototype.getSecret=function(c){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),c)},a.prototype.getPublic=function(c){return r.encode(this.pubBytes(),c)},e.exports=a},{"../utils":419}],417:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(u,l){this.eddsa=u,typeof l!="object"&&(l=a(l)),Array.isArray(l)&&(l={R:l.slice(0,u.encodingLength),S:l.slice(u.encodingLength)}),s(l.R&&l.S,"Signature without R or S"),u.isPoint(l.R)&&(this._R=l.R),l.S instanceof r&&(this._S=l.S),this._Rencoded=Array.isArray(l.R)?l.R:l.Rencoded,this._Sencoded=Array.isArray(l.S)?l.S:l.Sencoded}o(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},{"../utils":419,"bn.js":420}],418:[function(t,e,n){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,e,n){"use strict";var r=n,i=t("bn.js"),s=t("minimalistic-assert"),o=t("minimalistic-crypto-utils");r.assert=s,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(a,c,u){var l=new Array(Math.max(a.bitLength(),u)+1);l.fill(0);for(var d=1<<c+1,f=a.clone(),p=0;p<l.length;p++){var h,y=f.andln(d-1);f.isOdd()?(h=y>(d>>1)-1?(d>>1)-y:y,f.isubn(h)):h=0,l[p]=h,f.iushrn(1)}return l},r.getJSF=function(a,c){var u=[[],[]];a=a.clone(),c=c.clone();for(var l,d=0,f=0;a.cmpn(-d)>0||c.cmpn(-f)>0;){var p,h,y=a.andln(3)+d&3,g=c.andln(3)+f&3;y===3&&(y=-1),g===3&&(g=-1),p=(1&y)==0?0:(l=a.andln(7)+d&7)!==3&&l!==5||g!==2?y:-y,u[0].push(p),h=(1&g)==0?0:(l=c.andln(7)+f&7)!==3&&l!==5||y!==2?g:-g,u[1].push(h),2*d===p+1&&(d=1-d),2*f===h+1&&(f=1-f),a.iushrn(1),c.iushrn(1)}return u},r.cachedProperty=function(a,c,u){var l="_"+c;a.prototype[c]=function(){return this[l]!==void 0?this[l]:this[l]=u.call(this)}},r.parseBytes=function(a){return typeof a=="string"?r.toArray(a,"hex"):a},r.intFromLE=function(a){return new i(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(t,e,n){e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,e,n){"use strict";var r=Object.create||function(V){var R=function(){};return R.prototype=V,new R},i=Object.keys||function(V){var R=[];for(var N in V)Object.prototype.hasOwnProperty.call(V,N)&&R.push(N);return N},s=Function.prototype.bind||function(V){var R=this;return function(){return R.apply(V,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var a,c=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),a=u.x===0}catch{a=!1}function l(V){return V._maxListeners===void 0?o.defaultMaxListeners:V._maxListeners}function d(V,R,N){if(R)V.call(N);else for(var j=V.length,P=B(V,j),E=0;E<j;++E)P[E].call(N)}function f(V,R,N,j){if(R)V.call(N,j);else for(var P=V.length,E=B(V,P),S=0;S<P;++S)E[S].call(N,j)}function p(V,R,N,j,P){if(R)V.call(N,j,P);else for(var E=V.length,S=B(V,E),D=0;D<E;++D)S[D].call(N,j,P)}function h(V,R,N,j,P,E){if(R)V.call(N,j,P,E);else for(var S=V.length,D=B(V,S),m=0;m<S;++m)D[m].call(N,j,P,E)}function y(V,R,N,j){if(R)V.apply(N,j);else for(var P=V.length,E=B(V,P),S=0;S<P;++S)E[S].apply(N,j)}function g(V,R,N,j){var P,E,S;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if((E=V._events)?(E.newListener&&(V.emit("newListener",R,N.listener?N.listener:N),E=V._events),S=E[R]):(E=V._events=r(null),V._eventsCount=0),S){if(typeof S=="function"?S=E[R]=j?[N,S]:[S,N]:j?S.unshift(N):S.push(N),!S.warned&&(P=l(V))&&P>0&&S.length>P){S.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+S.length+' "'+String(R)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');D.name="MaxListenersExceededWarning",D.emitter=V,D.type=R,D.count=S.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",D.name,D.message)}}else S=E[R]=N,++V._eventsCount;return V}function _(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var V=new Array(arguments.length),R=0;R<V.length;++R)V[R]=arguments[R];this.listener.apply(this.target,V)}}function x(V,R,N){var j={fired:!1,wrapFn:void 0,target:V,type:R,listener:N},P=s.call(_,j);return P.listener=N,j.wrapFn=P,P}function k(V,R,N){var j=V._events;if(!j)return[];var P=j[R];return P?typeof P=="function"?N?[P.listener||P]:[P]:N?(function(E){for(var S=new Array(E.length),D=0;D<S.length;++D)S[D]=E[D].listener||E[D];return S})(P):B(P,P.length):[]}function L(V){var R=this._events;if(R){var N=R[V];if(typeof N=="function")return 1;if(N)return N.length}return 0}function B(V,R){for(var N=new Array(R),j=0;j<R;++j)N[j]=V[j];return N}a?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(V){if(typeof V!="number"||V<0||V!=V)throw new TypeError('"defaultMaxListeners" must be a positive number');c=V}}):o.defaultMaxListeners=c,o.prototype.setMaxListeners=function(V){if(typeof V!="number"||V<0||isNaN(V))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=V,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(V){var R,N,j,P,E,S,D=V==="error";if(S=this._events)D=D&&S.error==null;else if(!D)return!1;if(D){if(arguments.length>1&&(R=arguments[1]),R instanceof Error)throw R;var m=new Error('Unhandled "error" event. ('+R+")");throw m.context=R,m}if(!(N=S[V]))return!1;var v=typeof N=="function";switch(j=arguments.length){case 1:d(N,v,this);break;case 2:f(N,v,this,arguments[1]);break;case 3:p(N,v,this,arguments[1],arguments[2]);break;case 4:h(N,v,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(j-1),E=1;E<j;E++)P[E-1]=arguments[E];y(N,v,this,P)}return!0},o.prototype.addListener=function(V,R){return g(this,V,R,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(V,R){return g(this,V,R,!0)},o.prototype.once=function(V,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.on(V,x(this,V,R)),this},o.prototype.prependOnceListener=function(V,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(V,x(this,V,R)),this},o.prototype.removeListener=function(V,R){var N,j,P,E,S;if(typeof R!="function")throw new TypeError('"listener" argument must be a function');if(!(j=this._events))return this;if(!(N=j[V]))return this;if(N===R||N.listener===R)--this._eventsCount==0?this._events=r(null):(delete j[V],j.removeListener&&this.emit("removeListener",V,N.listener||R));else if(typeof N!="function"){for(P=-1,E=N.length-1;E>=0;E--)if(N[E]===R||N[E].listener===R){S=N[E].listener,P=E;break}if(P<0)return this;P===0?N.shift():(function(D,m){for(var v=m,w=v+1,b=D.length;w<b;v+=1,w+=1)D[v]=D[w];D.pop()})(N,P),N.length===1&&(j[V]=N[0]),j.removeListener&&this.emit("removeListener",V,S||R)}return this},o.prototype.removeAllListeners=function(V){var R,N,j;if(!(N=this._events))return this;if(!N.removeListener)return arguments.length===0?(this._events=r(null),this._eventsCount=0):N[V]&&(--this._eventsCount==0?this._events=r(null):delete N[V]),this;if(arguments.length===0){var P,E=i(N);for(j=0;j<E.length;++j)(P=E[j])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if(typeof(R=N[V])=="function")this.removeListener(V,R);else if(R)for(j=R.length-1;j>=0;j--)this.removeListener(V,R[j]);return this},o.prototype.listeners=function(V){return k(this,V,!0)},o.prototype.rawListeners=function(V){return k(this,V,!1)},o.listenerCount=function(V,R){return typeof V.listenerCount=="function"?V.listenerCount(R):L.call(V,R)},o.prototype.listenerCount=L,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("md5.js");e.exports=function(s,o,a,c){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var u=a/8,l=r.alloc(u),d=r.alloc(c||0),f=r.alloc(0);u>0||c>0;){var p=new i;p.update(f),p.update(s),o&&p.update(o),f=p.digest();var h=0;if(u>0){var y=l.length-u;h=Math.min(u,f.length),f.copy(l,y,0,h),u-=h}if(h<f.length&&c>0){var g=d.length-c,_=Math.min(c,f.length-h);f.copy(d,g,h,h+_),c-=_}}return f.fill(0),{key:l,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var r=t("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return r.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return r.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return r.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return r.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return r.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return r.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return r.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return r.FormatterOptions}});var i=t("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("readable-stream").Transform;function s(o){i.call(this),this._block=r.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(s,i),s.prototype._transform=function(o,a,c){var u=null;try{this.update(o,a)}catch(l){u=l}c(u)},s.prototype._flush=function(o){var a=null;try{this.push(this.digest())}catch(c){a=c}o(a)},s.prototype.update=function(o,a){if((function(p,h){if(!r.isBuffer(p)&&typeof p!="string")throw new TypeError(h+" must be a string or a buffer")})(o,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(o)||(o=r.from(o,a));for(var c=this._block,u=0;this._blockOffset+o.length-u>=this._blockSize;){for(var l=this._blockOffset;l<this._blockSize;)c[l++]=o[u++];this._update(),this._blockOffset=0}for(;u<o.length;)c[this._blockOffset++]=o[u++];for(var d=0,f=8*o.length;f>0;++d)this._length[d]+=f,(f=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*f);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();o!==void 0&&(a=a.toString(o)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return a},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,e,n){"use strict";var r=n;r.utils=t("./hash/utils"),r.common=t("./hash/common"),r.sha=t("./hash/sha"),r.ripemd=t("./hash/ripemd"),r.hmac=t("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,e,n){"use strict";var r=t("./utils"),i=t("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=s,s.prototype.update=function(o,a){if(o=r.toArray(o,a),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){var c=(o=this.pending).length%this._delta8;this.pending=o.slice(o.length-c,o.length),this.pending.length===0&&(this.pending=null),o=r.join32(o,0,o.length-c,this.endian);for(var u=0;u<o.length;u+=this._delta32)this._update(o,u,u+this._delta32)}return this},s.prototype.digest=function(o){return this.update(this._pad()),i(this.pending===null),this._digest(o)},s.prototype._pad=function(){var o=this.pendingTotal,a=this._delta8,c=a-(o+this.padLength)%a,u=new Array(c+this.padLength);u[0]=128;for(var l=1;l<c;l++)u[l]=0;if(o<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)u[l++]=0;u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=o>>>24&255,u[l++]=o>>>16&255,u[l++]=o>>>8&255,u[l++]=255&o}else for(u[l++]=255&o,u[l++]=o>>>8&255,u[l++]=o>>>16&255,u[l++]=o>>>24&255,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,d=8;d<this.padLength;d++)u[l++]=0;return u}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,e,n){"use strict";var r=t("./utils"),i=t("minimalistic-assert");function s(o,a,c){if(!(this instanceof s))return new s(o,a,c);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,c))}e.exports=s,s.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),i(o.length<=this.blockSize);for(var a=o.length;a<this.blockSize;a++)o.push(0);for(a=0;a<o.length;a++)o[a]^=54;for(this.inner=new this.Hash().update(o),a=0;a<o.length;a++)o[a]^=106;this.outer=new this.Hash().update(o)},s.prototype.update=function(o,a){return this.inner.update(o,a),this},s.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./common"),s=r.rotl32,o=r.sum32,a=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(x,k,L,B){return x<=15?k^L^B:x<=31?k&L|~k&B:x<=47?(k|~L)^B:x<=63?k&B|L&~B:k^(L|~B)}function f(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function p(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}r.inherits(l,u),n.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(x,k){for(var L=this.h[0],B=this.h[1],V=this.h[2],R=this.h[3],N=this.h[4],j=L,P=B,E=V,S=R,D=N,m=0;m<80;m++){var v=o(s(c(L,d(m,B,V,R),x[h[m]+k],f(m)),g[m]),N);L=N,N=R,R=s(V,10),V=B,B=v,v=o(s(c(j,d(79-m,P,E,S),x[y[m]+k],p(m)),_[m]),D),j=D,D=S,S=s(E,10),E=P,P=v}v=a(this.h[1],V,S),this.h[1]=a(this.h[2],R,D),this.h[2]=a(this.h[3],N,j),this.h[3]=a(this.h[4],L,P),this.h[4]=a(this.h[0],B,E),this.h[0]=v},l.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,e,n){"use strict";n.sha1=t("./sha/1"),n.sha224=t("./sha/224"),n.sha256=t("./sha/256"),n.sha384=t("./sha/384"),n.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),s=t("./common"),o=r.rotl32,a=r.sum32,c=r.sum32_5,u=s.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(p,h){for(var y=this.W,g=0;g<16;g++)y[g]=p[h+g];for(;g<y.length;g++)y[g]=o(y[g-3]^y[g-8]^y[g-14]^y[g-16],1);var _=this.h[0],x=this.h[1],k=this.h[2],L=this.h[3],B=this.h[4];for(g=0;g<y.length;g++){var V=~~(g/20),R=c(o(_,5),u(V,x,k,L),B,y[g],d[V]);B=L,L=k,k=o(x,30),x=_,_=R}this.h[0]=a(this.h[0],_),this.h[1]=a(this.h[1],x),this.h[2]=a(this.h[2],k),this.h[3]=a(this.h[3],L),this.h[4]=a(this.h[4],B)},f.prototype._digest=function(p){return p==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./256");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),s=t("./common"),o=t("minimalistic-assert"),a=r.sum32,c=r.sum32_4,u=r.sum32_5,l=s.ch32,d=s.maj32,f=s.s0_256,p=s.s1_256,h=s.g0_256,y=s.g1_256,g=i.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}r.inherits(x,g),e.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(k,L){for(var B=this.W,V=0;V<16;V++)B[V]=k[L+V];for(;V<B.length;V++)B[V]=c(y(B[V-2]),B[V-7],h(B[V-15]),B[V-16]);var R=this.h[0],N=this.h[1],j=this.h[2],P=this.h[3],E=this.h[4],S=this.h[5],D=this.h[6],m=this.h[7];for(o(this.k.length===B.length),V=0;V<B.length;V++){var v=u(m,p(E),l(E,S,D),this.k[V],B[V]),w=a(f(R),d(R,N,j));m=D,D=S,S=E,E=a(P,v),P=j,j=N,N=R,R=a(v,w)}this.h[0]=a(this.h[0],R),this.h[1]=a(this.h[1],N),this.h[2]=a(this.h[2],j),this.h[3]=a(this.h[3],P),this.h[4]=a(this.h[4],E),this.h[5]=a(this.h[5],S),this.h[6]=a(this.h[6],D),this.h[7]=a(this.h[7],m)},x.prototype._digest=function(k){return k==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./512");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),s=t("minimalistic-assert"),o=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,d=r.sum64_hi,f=r.sum64_lo,p=r.sum64_4_hi,h=r.sum64_4_lo,y=r.sum64_5_hi,g=r.sum64_5_lo,_=i.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function k(){if(!(this instanceof k))return new k;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function L(w,b,C,I,F){var $=w&C^~w&F;return $<0&&($+=4294967296),$}function B(w,b,C,I,F,$){var z=b&I^~b&$;return z<0&&(z+=4294967296),z}function V(w,b,C,I,F){var $=w&C^w&F^C&F;return $<0&&($+=4294967296),$}function R(w,b,C,I,F,$){var z=b&I^b&$^I&$;return z<0&&(z+=4294967296),z}function N(w,b){var C=o(w,b,28)^o(b,w,2)^o(b,w,7);return C<0&&(C+=4294967296),C}function j(w,b){var C=a(w,b,28)^a(b,w,2)^a(b,w,7);return C<0&&(C+=4294967296),C}function P(w,b){var C=o(w,b,14)^o(w,b,18)^o(b,w,9);return C<0&&(C+=4294967296),C}function E(w,b){var C=a(w,b,14)^a(w,b,18)^a(b,w,9);return C<0&&(C+=4294967296),C}function S(w,b){var C=o(w,b,1)^o(w,b,8)^c(w,b,7);return C<0&&(C+=4294967296),C}function D(w,b){var C=a(w,b,1)^a(w,b,8)^u(w,b,7);return C<0&&(C+=4294967296),C}function m(w,b){var C=o(w,b,19)^o(b,w,29)^c(w,b,6);return C<0&&(C+=4294967296),C}function v(w,b){var C=a(w,b,19)^a(b,w,29)^u(w,b,6);return C<0&&(C+=4294967296),C}r.inherits(k,_),e.exports=k,k.blockSize=1024,k.outSize=512,k.hmacStrength=192,k.padLength=128,k.prototype._prepareBlock=function(w,b){for(var C=this.W,I=0;I<32;I++)C[I]=w[b+I];for(;I<C.length;I+=2){var F=m(C[I-4],C[I-3]),$=v(C[I-4],C[I-3]),z=C[I-14],Y=C[I-13],O=S(C[I-30],C[I-29]),W=D(C[I-30],C[I-29]),M=C[I-32],A=C[I-31];C[I]=p(F,$,z,Y,O,W,M,A),C[I+1]=h(F,$,z,Y,O,W,M,A)}},k.prototype._update=function(w,b){this._prepareBlock(w,b);var C=this.W,I=this.h[0],F=this.h[1],$=this.h[2],z=this.h[3],Y=this.h[4],O=this.h[5],W=this.h[6],M=this.h[7],A=this.h[8],U=this.h[9],X=this.h[10],re=this.h[11],Z=this.h[12],te=this.h[13],de=this.h[14],le=this.h[15];s(this.k.length===C.length);for(var Q=0;Q<C.length;Q+=2){var ce=de,se=le,ue=P(A,U),pe=E(A,U),fe=L(A,U,X,re,Z),he=B(A,U,X,re,Z,te),Te=this.k[Q],Me=this.k[Q+1],ke=C[Q],it=C[Q+1],Fe=y(ce,se,ue,pe,fe,he,Te,Me,ke,it),He=g(ce,se,ue,pe,fe,he,Te,Me,ke,it);ce=N(I,F),se=j(I,F),ue=V(I,F,$,z,Y),pe=R(I,F,$,z,Y,O);var Ft=d(ce,se,ue,pe),st=f(ce,se,ue,pe);de=Z,le=te,Z=X,te=re,X=A,re=U,A=d(W,M,Fe,He),U=f(M,M,Fe,He),W=Y,M=O,Y=$,O=z,$=I,z=F,I=d(Fe,He,Ft,st),F=f(Fe,He,Ft,st)}l(this.h,0,I,F),l(this.h,2,$,z),l(this.h,4,Y,O),l(this.h,6,W,M),l(this.h,8,A,U),l(this.h,10,X,re),l(this.h,12,Z,te),l(this.h,14,de,le)},k.prototype._digest=function(w){return w==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,e,n){"use strict";var r=t("../utils").rotr32;function i(a,c,u){return a&c^~a&u}function s(a,c,u){return a&c^a&u^c&u}function o(a,c,u){return a^c^u}n.ft_1=function(a,c,u,l){return a===0?i(c,u,l):a===1||a===3?o(c,u,l):a===2?s(c,u,l):void 0},n.ch32=i,n.maj32=s,n.p32=o,n.s0_256=function(a){return r(a,2)^r(a,13)^r(a,22)},n.s1_256=function(a){return r(a,6)^r(a,11)^r(a,25)},n.g0_256=function(a){return r(a,7)^r(a,18)^a>>>3},n.g1_256=function(a){return r(a,17)^r(a,19)^a>>>10}},{"../utils":437}],437:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits");function s(u,l){return(64512&u.charCodeAt(l))==55296&&!(l<0||l+1>=u.length)&&(64512&u.charCodeAt(l+1))==56320}function o(u){return(u>>>24|u>>>8&65280|u<<8&16711680|(255&u)<<24)>>>0}function a(u){return u.length===1?"0"+u:u}function c(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}n.inherits=i,n.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u=="string")if(l){if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),p=0;p<u.length;p+=2)d.push(parseInt(u[p]+u[p+1],16))}else for(var f=0,p=0;p<u.length;p++){var h=u.charCodeAt(p);h<128?d[f++]=h:h<2048?(d[f++]=h>>6|192,d[f++]=63&h|128):s(u,p)?(h=65536+((1023&h)<<10)+(1023&u.charCodeAt(++p)),d[f++]=h>>18|240,d[f++]=h>>12&63|128,d[f++]=h>>6&63|128,d[f++]=63&h|128):(d[f++]=h>>12|224,d[f++]=h>>6&63|128,d[f++]=63&h|128)}else for(p=0;p<u.length;p++)d[p]=0|u[p];return d},n.toHex=function(u){for(var l="",d=0;d<u.length;d++)l+=a(u[d].toString(16));return l},n.htonl=o,n.toHex32=function(u,l){for(var d="",f=0;f<u.length;f++){var p=u[f];l==="little"&&(p=o(p)),d+=c(p.toString(16))}return d},n.zero2=a,n.zero8=c,n.join32=function(u,l,d,f){var p=d-l;r(p%4==0);for(var h=new Array(p/4),y=0,g=l;y<h.length;y++,g+=4){var _;_=f==="big"?u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3]:u[g+3]<<24|u[g+2]<<16|u[g+1]<<8|u[g],h[y]=_>>>0}return h},n.split32=function(u,l){for(var d=new Array(4*u.length),f=0,p=0;f<u.length;f++,p+=4){var h=u[f];l==="big"?(d[p]=h>>>24,d[p+1]=h>>>16&255,d[p+2]=h>>>8&255,d[p+3]=255&h):(d[p+3]=h>>>24,d[p+2]=h>>>16&255,d[p+1]=h>>>8&255,d[p]=255&h)}return d},n.rotr32=function(u,l){return u>>>l|u<<32-l},n.rotl32=function(u,l){return u<<l|u>>>32-l},n.sum32=function(u,l){return u+l>>>0},n.sum32_3=function(u,l,d){return u+l+d>>>0},n.sum32_4=function(u,l,d,f){return u+l+d+f>>>0},n.sum32_5=function(u,l,d,f,p){return u+l+d+f+p>>>0},n.sum64=function(u,l,d,f){var p=u[l],h=f+u[l+1]>>>0,y=(h<f?1:0)+d+p;u[l]=y>>>0,u[l+1]=h},n.sum64_hi=function(u,l,d,f){return(l+f>>>0<l?1:0)+u+d>>>0},n.sum64_lo=function(u,l,d,f){return l+f>>>0},n.sum64_4_hi=function(u,l,d,f,p,h,y,g){var _=0,x=l;return _+=(x=x+f>>>0)<l?1:0,_+=(x=x+h>>>0)<h?1:0,u+d+p+y+(_+=(x=x+g>>>0)<g?1:0)>>>0},n.sum64_4_lo=function(u,l,d,f,p,h,y,g){return l+f+h+g>>>0},n.sum64_5_hi=function(u,l,d,f,p,h,y,g,_,x){var k=0,L=l;return k+=(L=L+f>>>0)<l?1:0,k+=(L=L+h>>>0)<h?1:0,k+=(L=L+g>>>0)<g?1:0,u+d+p+y+_+(k+=(L=L+x>>>0)<x?1:0)>>>0},n.sum64_5_lo=function(u,l,d,f,p,h,y,g,_,x){return l+f+h+g+x>>>0},n.rotr64_hi=function(u,l,d){return(l<<32-d|u>>>d)>>>0},n.rotr64_lo=function(u,l,d){return(u<<32-d|l>>>d)>>>0},n.shr64_hi=function(u,l,d){return u>>>d},n.shr64_lo=function(u,l,d){return(u<<32-d|l>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,e,n){"use strict";var r=t("hash.js"),i=t("minimalistic-crypto-utils"),s=t("minimalistic-assert");function o(a){if(!(this instanceof o))return new o(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=i.toArray(a.entropy,a.entropyEnc||"hex"),u=i.toArray(a.nonce,a.nonceEnc||"hex"),l=i.toArray(a.pers,a.persEnc||"hex");s(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,u,l)}e.exports=o,o.prototype._init=function(a,c,u){var l=a.concat(c).concat(u);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(a){var c=this._hmac().update(this.V).update([0]);a&&(c=c.update(a)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(a,c,u,l){typeof c!="string"&&(l=u,u=c,c=null),a=i.toArray(a,c),u=i.toArray(u,l),s(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(u||[])),this._reseed=1},o.prototype.generate=function(a,c,u,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(l=u,u=c,c=null),u&&(u=i.toArray(u,l||"hex"),this._update(u));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var f=d.slice(0,a);return this._update(u),this._reseed++,i.encode(f,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,e,n){"use strict";n.read=function(r,i,s,o,a){var c,u,l=8*a-o-1,d=(1<<l)-1,f=d>>1,p=-7,h=s?a-1:0,y=s?-1:1,g=r[i+h];for(h+=y,c=g&(1<<-p)-1,g>>=-p,p+=l;p>0;c=256*c+r[i+h],h+=y,p-=8);for(u=c&(1<<-p)-1,c>>=-p,p+=o;p>0;u=256*u+r[i+h],h+=y,p-=8);if(c===0)c=1-f;else{if(c===d)return u?NaN:1/0*(g?-1:1);u+=Math.pow(2,o),c-=f}return(g?-1:1)*u*Math.pow(2,c-o)},n.write=function(r,i,s,o,a,c){var u,l,d,f=8*c-a-1,p=(1<<f)-1,h=p>>1,y=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:c-1,_=o?1:-1,x=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(l=isNaN(i)?1:0,u=p):(u=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-u))<1&&(u--,d*=2),(i+=u+h>=1?y/d:y*Math.pow(2,1-h))*d>=2&&(u++,d/=2),u+h>=p?(l=0,u=p):u+h>=1?(l=(i*d-1)*Math.pow(2,a),u+=h):(l=i*Math.pow(2,h-1)*Math.pow(2,a),u=0));a>=8;r[s+g]=255&l,g+=_,l/=256,a-=8);for(u=u<<a|l,f+=a;f>0;r[s+g]=255&u,g+=_,u/=256,f-=8);r[s+g-_]|=128*x}},{}],440:[function(t,e,n){"use strict";typeof Object.create=="function"?e.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,i){if(i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}}},{}],441:[function(t,e,n){(function(r,i,s,o,a,c,u,l){(function(){"use strict";(function(d){typeof n=="object"&&e!==void 0?e.exports=d():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=d()})(function(){return(function d(f,p,h){function y(x,k){if(!p[x]){if(!f[x]){var L=typeof t=="function"&&t;if(!k&&L)return L(x,!0);if(g)return g(x,!0);var B=new Error("Cannot find module '"+x+"'");throw B.code="MODULE_NOT_FOUND",B}var V=p[x]={exports:{}};f[x][0].call(V.exports,function(R){return y(f[x][1][R]||R)},V,V.exports,d,f,p,h)}return p[x].exports}for(var g=typeof t=="function"&&t,_=0;_<h.length;_++)y(h[_]);return y})({1:[function(d,f,p){var h=d("./utils"),y=d("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";p.encode=function(_){for(var x,k,L,B,V,R,N,j=[],P=0,E=_.length,S=E,D=h.getTypeOf(_)!=="string";P<_.length;)S=E-P,L=D?(x=_[P++],k=P<E?_[P++]:0,P<E?_[P++]:0):(x=_.charCodeAt(P++),k=P<E?_.charCodeAt(P++):0,P<E?_.charCodeAt(P++):0),B=x>>2,V=(3&x)<<4|k>>4,R=1<S?(15&k)<<2|L>>6:64,N=2<S?63&L:64,j.push(g.charAt(B)+g.charAt(V)+g.charAt(R)+g.charAt(N));return j.join("")},p.decode=function(_){var x,k,L,B,V,R,N=0,j=0,P="data:";if(_.substr(0,P.length)===P)throw new Error("Invalid base64 input, it looks like a data url.");var E,S=3*(_=_.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(_.charAt(_.length-1)===g.charAt(64)&&S--,_.charAt(_.length-2)===g.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=y.uint8array?new Uint8Array(0|S):new Array(0|S);N<_.length;)x=g.indexOf(_.charAt(N++))<<2|(B=g.indexOf(_.charAt(N++)))>>4,k=(15&B)<<4|(V=g.indexOf(_.charAt(N++)))>>2,L=(3&V)<<6|(R=g.indexOf(_.charAt(N++))),E[j++]=x,V!==64&&(E[j++]=k),R!==64&&(E[j++]=L);return E}},{"./support":30,"./utils":32}],2:[function(d,f,p){var h=d("./external"),y=d("./stream/DataWorker"),g=d("./stream/Crc32Probe"),_=d("./stream/DataLengthProbe");function x(k,L,B,V,R){this.compressedSize=k,this.uncompressedSize=L,this.crc32=B,this.compression=V,this.compressedContent=R}x.prototype={getContentWorker:function(){var k=new y(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _("data_length")),L=this;return k.on("end",function(){if(this.streamInfo.data_length!==L.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),k},getCompressedWorker:function(){return new y(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(k,L,B){return k.pipe(new g).pipe(new _("uncompressedSize")).pipe(L.compressWorker(B)).pipe(new _("compressedSize")).withStreamInfo("compression",L)},f.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,f,p){var h=d("./stream/GenericWorker");p.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},p.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,f,p){var h=d("./utils"),y=(function(){for(var g,_=[],x=0;x<256;x++){g=x;for(var k=0;k<8;k++)g=1&g?3988292384^g>>>1:g>>>1;_[x]=g}return _})();f.exports=function(g,_){return g!==void 0&&g.length?h.getTypeOf(g)!=="string"?(function(x,k,L,B){var V=y,R=0+L;x^=-1;for(var N=0;N<R;N++)x=x>>>8^V[255&(x^k[N])];return-1^x})(0|_,g,g.length):(function(x,k,L,B){var V=y,R=0+L;x^=-1;for(var N=0;N<R;N++)x=x>>>8^V[255&(x^k.charCodeAt(N))];return-1^x})(0|_,g,g.length):0}},{"./utils":32}],5:[function(d,f,p){p.base64=!1,p.binary=!1,p.dir=!1,p.createFolders=!0,p.date=null,p.compression=null,p.compressionOptions=null,p.comment=null,p.unixPermissions=null,p.dosPermissions=null},{}],6:[function(d,f,p){var h;h=typeof Promise<"u"?Promise:d("lie"),f.exports={Promise:h}},{lie:37}],7:[function(d,f,p){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=d("pako"),g=d("./utils"),_=d("./stream/GenericWorker"),x=h?"uint8array":"array";function k(L,B){_.call(this,"FlateWorker/"+L),this._pako=null,this._pakoAction=L,this._pakoOptions=B,this.meta={}}p.magic="\b\0",g.inherits(k,_),k.prototype.processChunk=function(L){this.meta=L.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(x,L.data),!1)},k.prototype.flush=function(){_.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},k.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this._pako=null},k.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var L=this;this._pako.onData=function(B){L.push({data:B,meta:L.meta})}},p.compressWorker=function(L){return new k("Deflate",L)},p.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,f,p){function h(V,R){var N,j="";for(N=0;N<R;N++)j+=String.fromCharCode(255&V),V>>>=8;return j}function y(V,R,N,j,P,E){var S,D,m=V.file,v=V.compression,w=E!==x.utf8encode,b=g.transformTo("string",E(m.name)),C=g.transformTo("string",x.utf8encode(m.name)),I=m.comment,F=g.transformTo("string",E(I)),$=g.transformTo("string",x.utf8encode(I)),z=C.length!==m.name.length,Y=$.length!==I.length,O="",W="",M="",A=m.dir,U=m.date,X={crc32:0,compressedSize:0,uncompressedSize:0};R&&!N||(X.crc32=V.crc32,X.compressedSize=V.compressedSize,X.uncompressedSize=V.uncompressedSize);var re=0;R&&(re|=8),w||!z&&!Y||(re|=2048);var Z=0,te=0;A&&(Z|=16),P==="UNIX"?(te=798,Z|=(function(le,Q){var ce=le;return le||(ce=Q?16893:33204),(65535&ce)<<16})(m.unixPermissions,A)):(te=20,Z|=(function(le){return 63&(le||0)})(m.dosPermissions)),S=U.getUTCHours(),S<<=6,S|=U.getUTCMinutes(),S<<=5,S|=U.getUTCSeconds()/2,D=U.getUTCFullYear()-1980,D<<=4,D|=U.getUTCMonth()+1,D<<=5,D|=U.getUTCDate(),z&&(W=h(1,1)+h(k(b),4)+C,O+="up"+h(W.length,2)+W),Y&&(M=h(1,1)+h(k(F),4)+$,O+="uc"+h(M.length,2)+M);var de="";return de+=`
\0`,de+=h(re,2),de+=v.magic,de+=h(S,2),de+=h(D,2),de+=h(X.crc32,4),de+=h(X.compressedSize,4),de+=h(X.uncompressedSize,4),de+=h(b.length,2),de+=h(O.length,2),{fileRecord:L.LOCAL_FILE_HEADER+de+b+O,dirRecord:L.CENTRAL_FILE_HEADER+h(te,2)+de+h(F.length,2)+"\0\0\0\0"+h(Z,4)+h(j,4)+b+O+F}}var g=d("../utils"),_=d("../stream/GenericWorker"),x=d("../utf8"),k=d("../crc32"),L=d("../signature");function B(V,R,N,j){_.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=N,this.encodeFileName=j,this.streamFiles=V,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(B,_),B.prototype.push=function(V){var R=V.meta.percent||0,N=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(V):(this.bytesWritten+=V.data.length,_.prototype.push.call(this,{data:V.data,meta:{currentFile:this.currentFile,percent:N?(R+100*(N-j-1))/N:100}}))},B.prototype.openedSource=function(V){this.currentSourceOffset=this.bytesWritten,this.currentFile=V.file.name;var R=this.streamFiles&&!V.file.dir;if(R){var N=y(V,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},B.prototype.closedSource=function(V){this.accumulate=!1;var R=this.streamFiles&&!V.file.dir,N=y(V,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),R)this.push({data:(function(j){return L.DATA_DESCRIPTOR+h(j.crc32,4)+h(j.compressedSize,4)+h(j.uncompressedSize,4)})(V),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},B.prototype.flush=function(){for(var V=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var N=this.bytesWritten-V,j=(function(P,E,S,D,m){var v=g.transformTo("string",m(D));return L.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(P,2)+h(P,2)+h(E,4)+h(S,4)+h(v.length,2)+v})(this.dirRecords.length,N,V,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},B.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},B.prototype.registerPrevious=function(V){this._sources.push(V);var R=this;return V.on("data",function(N){R.processChunk(N)}),V.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),V.on("error",function(N){R.error(N)}),this},B.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},B.prototype.error=function(V){var R=this._sources;if(!_.prototype.error.call(this,V))return!1;for(var N=0;N<R.length;N++)try{R[N].error(V)}catch{}return!0},B.prototype.lock=function(){_.prototype.lock.call(this);for(var V=this._sources,R=0;R<V.length;R++)V[R].lock()},f.exports=B},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,f,p){var h=d("../compressions"),y=d("./ZipFileWorker");p.generateWorker=function(g,_,x){var k=new y(_.streamFiles,x,_.platform,_.encodeFileName),L=0;try{g.forEach(function(B,V){L++;var R=(function(E,S){var D=E||S,m=h[D];if(!m)throw new Error(D+" is not a valid compression method !");return m})(V.options.compression,_.compression),N=V.options.compressionOptions||_.compressionOptions||{},j=V.dir,P=V.date;V._compressWorker(R,N).withStreamInfo("file",{name:B,dir:j,date:P,comment:V.comment||"",unixPermissions:V.unixPermissions,dosPermissions:V.dosPermissions}).pipe(k)}),k.entriesCount=L}catch(B){k.error(B)}return k}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,f,p){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new h;for(var g in this)typeof this[g]!="function"&&(y[g]=this[g]);return y}}(h.prototype=d("./object")).loadAsync=d("./load"),h.support=d("./support"),h.defaults=d("./defaults"),h.version="3.10.1",h.loadAsync=function(y,g){return new h().loadAsync(y,g)},h.external=d("./external"),f.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,f,p){var h=d("./utils"),y=d("./external"),g=d("./utf8"),_=d("./zipEntries"),x=d("./stream/Crc32Probe"),k=d("./nodejsUtils");function L(B){return new y.Promise(function(V,R){var N=B.decompressed.getContentWorker().pipe(new x);N.on("error",function(j){R(j)}).on("end",function(){N.streamInfo.crc32!==B.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):V()}).resume()})}f.exports=function(B,V){var R=this;return V=h.extend(V||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),k.isNode&&k.isStream(B)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",B,!0,V.optimizedBinaryString,V.base64).then(function(N){var j=new _(V);return j.load(N),j}).then(function(N){var j=[y.Promise.resolve(N)],P=N.files;if(V.checkCRC32)for(var E=0;E<P.length;E++)j.push(L(P[E]));return y.Promise.all(j)}).then(function(N){for(var j=N.shift(),P=j.files,E=0;E<P.length;E++){var S=P[E],D=S.fileNameStr,m=h.resolve(S.fileNameStr);R.file(m,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:V.createFolders}),S.dir||(R.file(m).unsafeOriginalName=D)}return j.zipComment.length&&(R.comment=j.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,f,p){var h=d("../utils"),y=d("../stream/GenericWorker");function g(_,x){y.call(this,"Nodejs stream input adapter for "+_),this._upstreamEnded=!1,this._bindStream(x)}h.inherits(g,y),g.prototype._bindStream=function(_){var x=this;(this._stream=_).pause(),_.on("data",function(k){x.push({data:k,meta:{percent:0}})}).on("error",function(k){x.isPaused?this.generatedError=k:x.error(k)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},g.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,f,p){var h=d("readable-stream").Readable;function y(g,_,x){h.call(this,_),this._helper=g;var k=this;g.on("data",function(L,B){k.push(L)||k._helper.pause(),x&&x(B)}).on("error",function(L){k.emit("error",L)}).on("end",function(){k.push(null)})}d("../utils").inherits(y,h),y.prototype._read=function(){this._helper.resume()},f.exports=y},{"../utils":32,"readable-stream":16}],14:[function(d,f,p){f.exports={isNode:s!==void 0,newBufferFrom:function(h,y){if(s.from&&s.from!==Uint8Array.from)return s.from(h,y);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new s(h,y)},allocBuffer:function(h){if(s.alloc)return s.alloc(h);var y=new s(h);return y.fill(0),y},isBuffer:function(h){return s.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(d,f,p){function h(m,v,w){var b,C=g.getTypeOf(v),I=g.extend(w||{},k);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(m=P(m)),I.createFolders&&(b=j(m))&&E.call(this,b,!0);var F=C==="string"&&I.binary===!1&&I.base64===!1;w&&w.binary!==void 0||(I.binary=!F),(v instanceof L&&v.uncompressedSize===0||I.dir||!v||v.length===0)&&(I.base64=!1,I.binary=!0,v="",I.compression="STORE",C="string");var $;$=v instanceof L||v instanceof _?v:R.isNode&&R.isStream(v)?new N(m,v):g.prepareContent(m,v,I.binary,I.optimizedBinaryString,I.base64);var z=new B(m,$,I);this.files[m]=z}var y=d("./utf8"),g=d("./utils"),_=d("./stream/GenericWorker"),x=d("./stream/StreamHelper"),k=d("./defaults"),L=d("./compressedObject"),B=d("./zipObject"),V=d("./generate"),R=d("./nodejsUtils"),N=d("./nodejs/NodejsStreamInputAdapter"),j=function(m){m.slice(-1)==="/"&&(m=m.substring(0,m.length-1));var v=m.lastIndexOf("/");return 0<v?m.substring(0,v):""},P=function(m){return m.slice(-1)!=="/"&&(m+="/"),m},E=function(m,v){return v=v!==void 0?v:k.createFolders,m=P(m),this.files[m]||h.call(this,m,null,{dir:!0,createFolders:v}),this.files[m]};function S(m){return Object.prototype.toString.call(m)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(m){var v,w,b;for(v in this.files)b=this.files[v],(w=v.slice(this.root.length,v.length))&&v.slice(0,this.root.length)===this.root&&m(w,b)},filter:function(m){var v=[];return this.forEach(function(w,b){m(w,b)&&v.push(b)}),v},file:function(m,v,w){if(arguments.length!==1)return m=this.root+m,h.call(this,m,v,w),this;if(S(m)){var b=m;return this.filter(function(I,F){return!F.dir&&b.test(I)})}var C=this.files[this.root+m];return C&&!C.dir?C:null},folder:function(m){if(!m)return this;if(S(m))return this.filter(function(C,I){return I.dir&&m.test(C)});var v=this.root+m,w=E.call(this,v),b=this.clone();return b.root=w.name,b},remove:function(m){m=this.root+m;var v=this.files[m];if(v||(m.slice(-1)!=="/"&&(m+="/"),v=this.files[m]),v&&!v.dir)delete this.files[m];else for(var w=this.filter(function(C,I){return I.name.slice(0,m.length)===m}),b=0;b<w.length;b++)delete this.files[w[b].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(m){var v,w={};try{if((w=g.extend(m||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");g.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var b=w.comment||this.comment||"";v=V.generateWorker(this,w,b)}catch(C){(v=new _("error")).error(C)}return new x(v,w.type||"string",w.mimeType)},generateAsync:function(m,v){return this.generateInternalStream(m).accumulate(v)},generateNodeStream:function(m,v){return(m=m||{}).type||(m.type="nodebuffer"),this.generateInternalStream(m).toNodejsStream(v)}};f.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,f,p){f.exports=d("stream")},{stream:void 0}],17:[function(d,f,p){var h=d("./DataReader");function y(g){h.call(this,g);for(var _=0;_<this.data.length;_++)g[_]=255&g[_]}d("../utils").inherits(y,h),y.prototype.byteAt=function(g){return this.data[this.zero+g]},y.prototype.lastIndexOfSignature=function(g){for(var _=g.charCodeAt(0),x=g.charCodeAt(1),k=g.charCodeAt(2),L=g.charCodeAt(3),B=this.length-4;0<=B;--B)if(this.data[B]===_&&this.data[B+1]===x&&this.data[B+2]===k&&this.data[B+3]===L)return B-this.zero;return-1},y.prototype.readAndCheckSignature=function(g){var _=g.charCodeAt(0),x=g.charCodeAt(1),k=g.charCodeAt(2),L=g.charCodeAt(3),B=this.readData(4);return _===B[0]&&x===B[1]&&k===B[2]&&L===B[3]},y.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var _=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,_},f.exports=y},{"../utils":32,"./DataReader":18}],18:[function(d,f,p){var h=d("../utils");function y(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var _,x=0;for(this.checkOffset(g),_=this.index+g-1;_>=this.index;_--)x=(x<<8)+this.byteAt(_);return this.index+=g,x},readString:function(g){return h.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},f.exports=y},{"../utils":32}],19:[function(d,f,p){var h=d("./Uint8ArrayReader");function y(g){h.call(this,g)}d("../utils").inherits(y,h),y.prototype.readData=function(g){this.checkOffset(g);var _=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,_},f.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,f,p){var h=d("./DataReader");function y(g){h.call(this,g)}d("../utils").inherits(y,h),y.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},y.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},y.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},y.prototype.readData=function(g){this.checkOffset(g);var _=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,_},f.exports=y},{"../utils":32,"./DataReader":18}],21:[function(d,f,p){var h=d("./ArrayReader");function y(g){h.call(this,g)}d("../utils").inherits(y,h),y.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var _=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,_},f.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(d,f,p){var h=d("../utils"),y=d("../support"),g=d("./ArrayReader"),_=d("./StringReader"),x=d("./NodeBufferReader"),k=d("./Uint8ArrayReader");f.exports=function(L){var B=h.getTypeOf(L);return h.checkSupport(B),B!=="string"||y.uint8array?B==="nodebuffer"?new x(L):y.uint8array?new k(h.transformTo("uint8array",L)):new g(h.transformTo("array",L)):new _(L)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,f,p){p.LOCAL_FILE_HEADER="PK",p.CENTRAL_FILE_HEADER="PK",p.CENTRAL_DIRECTORY_END="PK",p.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",p.ZIP64_CENTRAL_DIRECTORY_END="PK",p.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,f,p){var h=d("./GenericWorker"),y=d("../utils");function g(_){h.call(this,"ConvertWorker to "+_),this.destType=_}y.inherits(g,h),g.prototype.processChunk=function(_){this.push({data:y.transformTo(this.destType,_.data),meta:_.meta})},f.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(d,f,p){var h=d("./GenericWorker"),y=d("../crc32");function g(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(g,h),g.prototype.processChunk=function(_){this.streamInfo.crc32=y(_.data,this.streamInfo.crc32||0),this.push(_)},f.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,f,p){var h=d("../utils"),y=d("./GenericWorker");function g(_){y.call(this,"DataLengthProbe for "+_),this.propName=_,this.withStreamInfo(_,0)}h.inherits(g,y),g.prototype.processChunk=function(_){if(_){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+_.data.length}y.prototype.processChunk.call(this,_)},f.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(d,f,p){var h=d("../utils"),y=d("./GenericWorker");function g(_){y.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,_.then(function(k){x.dataIsReady=!0,x.data=k,x.max=k&&k.length||0,x.type=h.getTypeOf(k),x.isPaused||x._tickAndRepeat()},function(k){x.error(k)})}h.inherits(g,y),g.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var _=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":_=this.data.substring(this.index,x);break;case"uint8array":_=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":_=this.data.slice(this.index,x)}return this.index=x,this.push({data:_,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(d,f,p){function h(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,g){return this._listeners[y].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,g){if(this._listeners[y])for(var _=0;_<this._listeners[y].length;_++)this._listeners[y][_].call(this,g)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var g=this;return y.on("data",function(_){g.processChunk(_)}),y.on("end",function(){g.end()}),y.on("error",function(_){g.error(_)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,g){return this.extraStreamInfo[y]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},f.exports=h},{}],29:[function(d,f,p){var h=d("../utils"),y=d("./ConvertWorker"),g=d("./GenericWorker"),_=d("../base64"),x=d("../support"),k=d("../external"),L=null;if(x.nodestream)try{L=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function B(V,R,N){var j=R;switch(R){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=R,this._mimeType=N,h.checkSupport(j),this._worker=V.pipe(new y(j)),V.lock()}catch(P){this._worker=new g("error"),this._worker.error(P)}}B.prototype={accumulate:function(V){return(function(R,N){return new k.Promise(function(j,P){var E=[],S=R._internalType,D=R._outputType,m=R._mimeType;R.on("data",function(v,w){E.push(v),N&&N(w)}).on("error",function(v){E=[],P(v)}).on("end",function(){try{var v=(function(w,b,C){switch(w){case"blob":return h.newBlob(h.transformTo("arraybuffer",b),C);case"base64":return _.encode(b);default:return h.transformTo(w,b)}})(D,(function(w,b){var C,I=0,F=null,$=0;for(C=0;C<b.length;C++)$+=b[C].length;switch(w){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(F=new Uint8Array($),C=0;C<b.length;C++)F.set(b[C],I),I+=b[C].length;return F;case"nodebuffer":return s.concat(b);default:throw new Error("concat : unsupported type '"+w+"'")}})(S,E),m);j(v)}catch(w){P(w)}E=[]}).resume()})})(this,V)},on:function(V,R){var N=this;return V==="data"?this._worker.on(V,function(j){R.call(N,j.data,j.meta)}):this._worker.on(V,function(){h.delay(R,arguments,N)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new L(this,{objectMode:this._outputType!=="nodebuffer"},V)}},f.exports=B},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,f,p){if(p.base64=!0,p.array=!0,p.string=!0,p.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",p.nodebuffer=s!==void 0,p.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")p.blob=!1;else{var h=new ArrayBuffer(0);try{p.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(h),p.blob=y.getBlob("application/zip").size===0}catch{p.blob=!1}}}try{p.nodestream=!!d("readable-stream").Readable}catch{p.nodestream=!1}},{"readable-stream":16}],31:[function(d,f,p){for(var h=d("./utils"),y=d("./support"),g=d("./nodejsUtils"),_=d("./stream/GenericWorker"),x=new Array(256),k=0;k<256;k++)x[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function L(){_.call(this,"utf-8 decode"),this.leftOver=null}function B(){_.call(this,"utf-8 encode")}x[254]=x[254]=1,p.utf8encode=function(V){return y.nodebuffer?g.newBufferFrom(V,"utf-8"):(function(R){var N,j,P,E,S,D=R.length,m=0;for(E=0;E<D;E++)(64512&(j=R.charCodeAt(E)))==55296&&E+1<D&&(64512&(P=R.charCodeAt(E+1)))==56320&&(j=65536+(j-55296<<10)+(P-56320),E++),m+=j<128?1:j<2048?2:j<65536?3:4;for(N=y.uint8array?new Uint8Array(m):new Array(m),E=S=0;S<m;E++)(64512&(j=R.charCodeAt(E)))==55296&&E+1<D&&(64512&(P=R.charCodeAt(E+1)))==56320&&(j=65536+(j-55296<<10)+(P-56320),E++),j<128?N[S++]=j:(j<2048?N[S++]=192|j>>>6:(j<65536?N[S++]=224|j>>>12:(N[S++]=240|j>>>18,N[S++]=128|j>>>12&63),N[S++]=128|j>>>6&63),N[S++]=128|63&j);return N})(V)},p.utf8decode=function(V){return y.nodebuffer?h.transformTo("nodebuffer",V).toString("utf-8"):(function(R){var N,j,P,E,S=R.length,D=new Array(2*S);for(N=j=0;N<S;)if((P=R[N++])<128)D[j++]=P;else if(4<(E=x[P]))D[j++]=65533,N+=E-1;else{for(P&=E===2?31:E===3?15:7;1<E&&N<S;)P=P<<6|63&R[N++],E--;1<E?D[j++]=65533:P<65536?D[j++]=P:(P-=65536,D[j++]=55296|P>>10&1023,D[j++]=56320|1023&P)}return D.length!==j&&(D.subarray?D=D.subarray(0,j):D.length=j),h.applyFromCharCode(D)})(V=h.transformTo(y.uint8array?"uint8array":"array",V))},h.inherits(L,_),L.prototype.processChunk=function(V){var R=h.transformTo(y.uint8array?"uint8array":"array",V.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var N=R;(R=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),R.set(N,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var j=(function(E,S){var D;for((S=S||E.length)>E.length&&(S=E.length),D=S-1;0<=D&&(192&E[D])==128;)D--;return D<0||D===0?S:D+x[E[D]]>S?D:S})(R),P=R;j!==R.length&&(y.uint8array?(P=R.subarray(0,j),this.leftOver=R.subarray(j,R.length)):(P=R.slice(0,j),this.leftOver=R.slice(j,R.length))),this.push({data:p.utf8decode(P),meta:V.meta})},L.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:p.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},p.Utf8DecodeWorker=L,h.inherits(B,_),B.prototype.processChunk=function(V){this.push({data:p.utf8encode(V.data),meta:V.meta})},p.Utf8EncodeWorker=B},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,f,p){var h=d("./support"),y=d("./base64"),g=d("./nodejsUtils"),_=d("./external");function x(N){return N}function k(N,j){for(var P=0;P<N.length;++P)j[P]=255&N.charCodeAt(P);return j}d("setimmediate"),p.newBlob=function(N,j){p.checkSupport("blob");try{return new Blob([N],{type:j})}catch{try{var P=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return P.append(N),P.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var L={stringifyByChunk:function(N,j,P){var E=[],S=0,D=N.length;if(D<=P)return String.fromCharCode.apply(null,N);for(;S<D;)j==="array"||j==="nodebuffer"?E.push(String.fromCharCode.apply(null,N.slice(S,Math.min(S+P,D)))):E.push(String.fromCharCode.apply(null,N.subarray(S,Math.min(S+P,D)))),S+=P;return E.join("")},stringifyByChar:function(N){for(var j="",P=0;P<N.length;P++)j+=String.fromCharCode(N[P]);return j},applyCanBeUsed:{uint8array:(function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}})()}};function B(N){var j=65536,P=p.getTypeOf(N),E=!0;if(P==="uint8array"?E=L.applyCanBeUsed.uint8array:P==="nodebuffer"&&(E=L.applyCanBeUsed.nodebuffer),E)for(;1<j;)try{return L.stringifyByChunk(N,P,j)}catch{j=Math.floor(j/2)}return L.stringifyByChar(N)}function V(N,j){for(var P=0;P<N.length;P++)j[P]=N[P];return j}p.applyFromCharCode=B;var R={};R.string={string:x,array:function(N){return k(N,new Array(N.length))},arraybuffer:function(N){return R.string.uint8array(N).buffer},uint8array:function(N){return k(N,new Uint8Array(N.length))},nodebuffer:function(N){return k(N,g.allocBuffer(N.length))}},R.array={string:B,array:x,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return g.newBufferFrom(N)}},R.arraybuffer={string:function(N){return B(new Uint8Array(N))},array:function(N){return V(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:x,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return g.newBufferFrom(new Uint8Array(N))}},R.uint8array={string:B,array:function(N){return V(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:x,nodebuffer:function(N){return g.newBufferFrom(N)}},R.nodebuffer={string:B,array:function(N){return V(N,new Array(N.length))},arraybuffer:function(N){return R.nodebuffer.uint8array(N).buffer},uint8array:function(N){return V(N,new Uint8Array(N.length))},nodebuffer:x},p.transformTo=function(N,j){if(j=j||"",!N)return j;p.checkSupport(N);var P=p.getTypeOf(j);return R[P][N](j)},p.resolve=function(N){for(var j=N.split("/"),P=[],E=0;E<j.length;E++){var S=j[E];S==="."||S===""&&E!==0&&E!==j.length-1||(S===".."?P.pop():P.push(S))}return P.join("/")},p.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":h.nodebuffer&&g.isBuffer(N)?"nodebuffer":h.uint8array&&N instanceof Uint8Array?"uint8array":h.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},p.checkSupport=function(N){if(!h[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},p.MAX_VALUE_16BITS=65535,p.MAX_VALUE_32BITS=-1,p.pretty=function(N){var j,P,E="";for(P=0;P<(N||"").length;P++)E+="\\x"+((j=N.charCodeAt(P))<16?"0":"")+j.toString(16).toUpperCase();return E},p.delay=function(N,j,P){l(function(){N.apply(P||null,j||[])})},p.inherits=function(N,j){function P(){}P.prototype=j.prototype,N.prototype=new P},p.extend=function(){var N,j,P={};for(N=0;N<arguments.length;N++)for(j in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],j)&&P[j]===void 0&&(P[j]=arguments[N][j]);return P},p.prepareContent=function(N,j,P,E,S){return _.Promise.resolve(j).then(function(D){return h.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new _.Promise(function(m,v){var w=new FileReader;w.onload=function(b){m(b.target.result)},w.onerror=function(b){v(b.target.error)},w.readAsArrayBuffer(D)}):D}).then(function(D){var m=p.getTypeOf(D);return m?(m==="arraybuffer"?D=p.transformTo("uint8array",D):m==="string"&&(S?D=y.decode(D):P&&E!==!0&&(D=(function(v){return k(v,h.uint8array?new Uint8Array(v.length):new Array(v.length))})(D))),D):_.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,f,p){var h=d("./reader/readerFor"),y=d("./utils"),g=d("./signature"),_=d("./zipEntry"),x=d("./support");function k(L){this.files=[],this.loadOptions=L}k.prototype={checkSignature:function(L){if(!this.reader.readAndCheckSignature(L)){this.reader.index-=4;var B=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(B)+", expected "+y.pretty(L)+")")}},isSignature:function(L,B){var V=this.reader.index;this.reader.setIndex(L);var R=this.reader.readString(4)===B;return this.reader.setIndex(V),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var L=this.reader.readData(this.zipCommentLength),B=x.uint8array?"uint8array":"array",V=y.transformTo(B,L);this.zipComment=this.loadOptions.decodeFileName(V)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var L,B,V,R=this.zip64EndOfCentralSize-44;0<R;)L=this.reader.readInt(2),B=this.reader.readInt(4),V=this.reader.readData(B),this.zip64ExtensibleData[L]={id:L,length:B,value:V}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var L,B;for(L=0;L<this.files.length;L++)B=this.files[L],this.reader.setIndex(B.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),B.readLocalPart(this.reader),B.handleUTF8(),B.processAttributes()},readCentralDir:function(){var L;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(L=new _({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(L);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var L=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(L<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(L);var B=L;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(L=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(L),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var V=this.centralDirOffset+this.centralDirSize;this.zip64&&(V+=20,V+=12+this.zip64EndOfCentralSize);var R=B-V;if(0<R)this.isSignature(B,g.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(L){this.reader=h(L)},load:function(L){this.prepareReader(L),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,f,p){var h=d("./reader/readerFor"),y=d("./utils"),g=d("./compressedObject"),_=d("./crc32"),x=d("./utf8"),k=d("./compressions"),L=d("./support");function B(V,R){this.options=V,this.loadOptions=R}B.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(V){var R,N;if(V.skip(22),this.fileNameLength=V.readInt(2),N=V.readInt(2),this.fileName=V.readData(this.fileNameLength),V.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(j){for(var P in k)if(Object.prototype.hasOwnProperty.call(k,P)&&k[P].magic===j)return k[P];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,R,V.readData(this.compressedSize))},readCentralPart:function(V){this.versionMadeBy=V.readInt(2),V.skip(2),this.bitFlag=V.readInt(2),this.compressionMethod=V.readString(2),this.date=V.readDate(),this.crc32=V.readInt(4),this.compressedSize=V.readInt(4),this.uncompressedSize=V.readInt(4);var R=V.readInt(2);if(this.extraFieldsLength=V.readInt(2),this.fileCommentLength=V.readInt(2),this.diskNumberStart=V.readInt(2),this.internalFileAttributes=V.readInt(2),this.externalFileAttributes=V.readInt(4),this.localHeaderOffset=V.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");V.skip(R),this.readExtraFields(V),this.parseZIP64ExtraField(V),this.fileComment=V.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var V=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),V==0&&(this.dosPermissions=63&this.externalFileAttributes),V==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var V=h(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=V.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=V.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=V.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=V.readInt(4))}},readExtraFields:function(V){var R,N,j,P=V.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});V.index+4<P;)R=V.readInt(2),N=V.readInt(2),j=V.readData(N),this.extraFields[R]={id:R,length:N,value:j};V.setIndex(P)},handleUTF8:function(){var V=L.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var N=y.transformTo(V,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var P=y.transformTo(V,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var V=this.extraFields[28789];if(V){var R=h(V.value);return R.readInt(1)!==1||_(this.fileName)!==R.readInt(4)?null:x.utf8decode(R.readData(V.length-5))}return null},findExtraFieldUnicodeComment:function(){var V=this.extraFields[25461];if(V){var R=h(V.value);return R.readInt(1)!==1||_(this.fileComment)!==R.readInt(4)?null:x.utf8decode(R.readData(V.length-5))}return null}},f.exports=B},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,f,p){function h(R,N,j){this.name=R,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=N,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var y=d("./stream/StreamHelper"),g=d("./stream/DataWorker"),_=d("./utf8"),x=d("./compressedObject"),k=d("./stream/GenericWorker");h.prototype={internalStream:function(R){var N=null,j="string";try{if(!R)throw new Error("No output type specified.");var P=(j=R.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),N=this._decompressWorker();var E=!this._dataBinary;E&&!P&&(N=N.pipe(new _.Utf8EncodeWorker)),!E&&P&&(N=N.pipe(new _.Utf8DecodeWorker))}catch(S){(N=new k("error")).error(S)}return new y(N,j,"")},async:function(R,N){return this.internalStream(R).accumulate(N)},nodeStream:function(R,N){return this.internalStream(R||"nodebuffer").toNodejsStream(N)},_compressWorker:function(R,N){if(this._data instanceof x&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new _.Utf8EncodeWorker)),x.createWorkerFrom(j,R,N)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof k?this._data:new g(this._data)}};for(var L=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],B=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},V=0;V<L.length;V++)h.prototype[L[V]]=B;f.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,f,p){(function(h){var y,g,_=h.MutationObserver||h.WebKitMutationObserver;if(_){var x=0,k=new _(R),L=h.document.createTextNode("");k.observe(L,{characterData:!0}),y=function(){L.data=x=++x%2}}else if(h.setImmediate||h.MessageChannel===void 0)y="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var N=h.document.createElement("script");N.onreadystatechange=function(){R(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},h.document.documentElement.appendChild(N)}:function(){setTimeout(R,0)};else{var B=new h.MessageChannel;B.port1.onmessage=R,y=function(){B.port2.postMessage(0)}}var V=[];function R(){var N,j;g=!0;for(var P=V.length;P;){for(j=V,V=[],N=-1;++N<P;)j[N]();P=V.length}g=!1}f.exports=function(N){V.push(N)!==1||g||y()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,f,p){var h=d("immediate");function y(){}var g={},_=["REJECTED"],x=["FULFILLED"],k=["PENDING"];function L(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=k,this.queue=[],this.outcome=void 0,P!==y&&N(this,P)}function B(P,E,S){this.promise=P,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function V(P,E,S){h(function(){var D;try{D=E(S)}catch(m){return g.reject(P,m)}D===P?g.reject(P,new TypeError("Cannot resolve promise with itself")):g.resolve(P,D)})}function R(P){var E=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof E=="function")return function(){E.apply(P,arguments)}}function N(P,E){var S=!1;function D(w){S||(S=!0,g.reject(P,w))}function m(w){S||(S=!0,g.resolve(P,w))}var v=j(function(){E(m,D)});v.status==="error"&&D(v.value)}function j(P,E){var S={};try{S.value=P(E),S.status="success"}catch(D){S.status="error",S.value=D}return S}(f.exports=L).prototype.finally=function(P){if(typeof P!="function")return this;var E=this.constructor;return this.then(function(S){return E.resolve(P()).then(function(){return S})},function(S){return E.resolve(P()).then(function(){throw S})})},L.prototype.catch=function(P){return this.then(null,P)},L.prototype.then=function(P,E){if(typeof P!="function"&&this.state===x||typeof E!="function"&&this.state===_)return this;var S=new this.constructor(y);return this.state!==k?V(S,this.state===x?P:E,this.outcome):this.queue.push(new B(S,P,E)),S},B.prototype.callFulfilled=function(P){g.resolve(this.promise,P)},B.prototype.otherCallFulfilled=function(P){V(this.promise,this.onFulfilled,P)},B.prototype.callRejected=function(P){g.reject(this.promise,P)},B.prototype.otherCallRejected=function(P){V(this.promise,this.onRejected,P)},g.resolve=function(P,E){var S=j(R,E);if(S.status==="error")return g.reject(P,S.value);var D=S.value;if(D)N(P,D);else{P.state=x,P.outcome=E;for(var m=-1,v=P.queue.length;++m<v;)P.queue[m].callFulfilled(E)}return P},g.reject=function(P,E){P.state=_,P.outcome=E;for(var S=-1,D=P.queue.length;++S<D;)P.queue[S].callRejected(E);return P},L.resolve=function(P){return P instanceof this?P:g.resolve(new this(y),P)},L.reject=function(P){var E=new this(y);return g.reject(E,P)},L.all=function(P){var E=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=P.length,D=!1;if(!S)return this.resolve([]);for(var m=new Array(S),v=0,w=-1,b=new this(y);++w<S;)C(P[w],w);return b;function C(I,F){E.resolve(I).then(function($){m[F]=$,++v!==S||D||(D=!0,g.resolve(b,m))},function($){D||(D=!0,g.reject(b,$))})}},L.race=function(P){if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=P.length,S=!1;if(!E)return this.resolve([]);for(var D,m=-1,v=new this(y);++m<E;)D=P[m],this.resolve(D).then(function(w){S||(S=!0,g.resolve(v,w))},function(w){S||(S=!0,g.reject(v,w))});return v}},{immediate:36}],38:[function(d,f,p){var h={};(0,d("./lib/utils/common").assign)(h,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),f.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,f,p){var h=d("./zlib/deflate"),y=d("./utils/common"),g=d("./utils/strings"),_=d("./zlib/messages"),x=d("./zlib/zstream"),k=Object.prototype.toString;function L(V){if(!(this instanceof L))return new L(V);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},V||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var N=h.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(N!==0)throw new Error(_[N]);if(R.header&&h.deflateSetHeader(this.strm,R.header),R.dictionary){var j;if(j=typeof R.dictionary=="string"?g.string2buf(R.dictionary):k.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(N=h.deflateSetDictionary(this.strm,j))!==0)throw new Error(_[N]);this._dict_set=!0}}function B(V,R){var N=new L(R);if(N.push(V,!0),N.err)throw N.msg||_[N.err];return N.result}L.prototype.push=function(V,R){var N,j,P=this.strm,E=this.options.chunkSize;if(this.ended)return!1;j=R===~~R?R:R===!0?4:0,typeof V=="string"?P.input=g.string2buf(V):k.call(V)==="[object ArrayBuffer]"?P.input=new Uint8Array(V):P.input=V,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new y.Buf8(E),P.next_out=0,P.avail_out=E),(N=h.deflate(P,j))!==1&&N!==0)return this.onEnd(N),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(y.shrinkBuf(P.output,P.next_out))):this.onData(y.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&N!==1);return j===4?(N=h.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===0):j!==2||(this.onEnd(0),!(P.avail_out=0))},L.prototype.onData=function(V){this.chunks.push(V)},L.prototype.onEnd=function(V){V===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},p.Deflate=L,p.deflate=B,p.deflateRaw=function(V,R){return(R=R||{}).raw=!0,B(V,R)},p.gzip=function(V,R){return(R=R||{}).gzip=!0,B(V,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,f,p){var h=d("./zlib/inflate"),y=d("./utils/common"),g=d("./utils/strings"),_=d("./zlib/constants"),x=d("./zlib/messages"),k=d("./zlib/zstream"),L=d("./zlib/gzheader"),B=Object.prototype.toString;function V(N){if(!(this instanceof V))return new V(N);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},N||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||N&&N.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var P=h.inflateInit2(this.strm,j.windowBits);if(P!==_.Z_OK)throw new Error(x[P]);this.header=new L,h.inflateGetHeader(this.strm,this.header)}function R(N,j){var P=new V(j);if(P.push(N,!0),P.err)throw P.msg||x[P.err];return P.result}V.prototype.push=function(N,j){var P,E,S,D,m,v,w=this.strm,b=this.options.chunkSize,C=this.options.dictionary,I=!1;if(this.ended)return!1;E=j===~~j?j:j===!0?_.Z_FINISH:_.Z_NO_FLUSH,typeof N=="string"?w.input=g.binstring2buf(N):B.call(N)==="[object ArrayBuffer]"?w.input=new Uint8Array(N):w.input=N,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new y.Buf8(b),w.next_out=0,w.avail_out=b),(P=h.inflate(w,_.Z_NO_FLUSH))===_.Z_NEED_DICT&&C&&(v=typeof C=="string"?g.string2buf(C):B.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,P=h.inflateSetDictionary(this.strm,v)),P===_.Z_BUF_ERROR&&I===!0&&(P=_.Z_OK,I=!1),P!==_.Z_STREAM_END&&P!==_.Z_OK)return this.onEnd(P),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&P!==_.Z_STREAM_END&&(w.avail_in!==0||E!==_.Z_FINISH&&E!==_.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=g.utf8border(w.output,w.next_out),D=w.next_out-S,m=g.buf2string(w.output,S),w.next_out=D,w.avail_out=b-D,D&&y.arraySet(w.output,w.output,S,D,0),this.onData(m)):this.onData(y.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(I=!0)}while((0<w.avail_in||w.avail_out===0)&&P!==_.Z_STREAM_END);return P===_.Z_STREAM_END&&(E=_.Z_FINISH),E===_.Z_FINISH?(P=h.inflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===_.Z_OK):E!==_.Z_SYNC_FLUSH||(this.onEnd(_.Z_OK),!(w.avail_out=0))},V.prototype.onData=function(N){this.chunks.push(N)},V.prototype.onEnd=function(N){N===_.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},p.Inflate=V,p.inflate=R,p.inflateRaw=function(N,j){return(j=j||{}).raw=!0,R(N,j)},p.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,f,p){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";p.assign=function(_){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var k=x.shift();if(k){if(typeof k!="object")throw new TypeError(k+"must be non-object");for(var L in k)k.hasOwnProperty(L)&&(_[L]=k[L])}}return _},p.shrinkBuf=function(_,x){return _.length===x?_:_.subarray?_.subarray(0,x):(_.length=x,_)};var y={arraySet:function(_,x,k,L,B){if(x.subarray&&_.subarray)_.set(x.subarray(k,k+L),B);else for(var V=0;V<L;V++)_[B+V]=x[k+V]},flattenChunks:function(_){var x,k,L,B,V,R;for(x=L=0,k=_.length;x<k;x++)L+=_[x].length;for(R=new Uint8Array(L),x=B=0,k=_.length;x<k;x++)V=_[x],R.set(V,B),B+=V.length;return R}},g={arraySet:function(_,x,k,L,B){for(var V=0;V<L;V++)_[B+V]=x[k+V]},flattenChunks:function(_){return[].concat.apply([],_)}};p.setTyped=function(_){_?(p.Buf8=Uint8Array,p.Buf16=Uint16Array,p.Buf32=Int32Array,p.assign(p,y)):(p.Buf8=Array,p.Buf16=Array,p.Buf32=Array,p.assign(p,g))},p.setTyped(h)},{}],42:[function(d,f,p){var h=d("./common"),y=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var _=new h.Buf8(256),x=0;x<256;x++)_[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function k(L,B){if(B<65537&&(L.subarray&&g||!L.subarray&&y))return String.fromCharCode.apply(null,h.shrinkBuf(L,B));for(var V="",R=0;R<B;R++)V+=String.fromCharCode(L[R]);return V}_[254]=_[254]=1,p.string2buf=function(L){var B,V,R,N,j,P=L.length,E=0;for(N=0;N<P;N++)(64512&(V=L.charCodeAt(N)))==55296&&N+1<P&&(64512&(R=L.charCodeAt(N+1)))==56320&&(V=65536+(V-55296<<10)+(R-56320),N++),E+=V<128?1:V<2048?2:V<65536?3:4;for(B=new h.Buf8(E),N=j=0;j<E;N++)(64512&(V=L.charCodeAt(N)))==55296&&N+1<P&&(64512&(R=L.charCodeAt(N+1)))==56320&&(V=65536+(V-55296<<10)+(R-56320),N++),V<128?B[j++]=V:(V<2048?B[j++]=192|V>>>6:(V<65536?B[j++]=224|V>>>12:(B[j++]=240|V>>>18,B[j++]=128|V>>>12&63),B[j++]=128|V>>>6&63),B[j++]=128|63&V);return B},p.buf2binstring=function(L){return k(L,L.length)},p.binstring2buf=function(L){for(var B=new h.Buf8(L.length),V=0,R=B.length;V<R;V++)B[V]=L.charCodeAt(V);return B},p.buf2string=function(L,B){var V,R,N,j,P=B||L.length,E=new Array(2*P);for(V=R=0;V<P;)if((N=L[V++])<128)E[R++]=N;else if(4<(j=_[N]))E[R++]=65533,V+=j-1;else{for(N&=j===2?31:j===3?15:7;1<j&&V<P;)N=N<<6|63&L[V++],j--;1<j?E[R++]=65533:N<65536?E[R++]=N:(N-=65536,E[R++]=55296|N>>10&1023,E[R++]=56320|1023&N)}return k(E,R)},p.utf8border=function(L,B){var V;for((B=B||L.length)>L.length&&(B=L.length),V=B-1;0<=V&&(192&L[V])==128;)V--;return V<0||V===0?B:V+_[L[V]]>B?V:B}},{"./common":41}],43:[function(d,f,p){f.exports=function(h,y,g,_){for(var x=65535&h|0,k=h>>>16&65535|0,L=0;g!==0;){for(g-=L=2e3<g?2e3:g;k=k+(x=x+y[_++]|0)|0,--L;);x%=65521,k%=65521}return x|k<<16|0}},{}],44:[function(d,f,p){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,f,p){var h=(function(){for(var y,g=[],_=0;_<256;_++){y=_;for(var x=0;x<8;x++)y=1&y?3988292384^y>>>1:y>>>1;g[_]=y}return g})();f.exports=function(y,g,_,x){var k=h,L=x+_;y^=-1;for(var B=x;B<L;B++)y=y>>>8^k[255&(y^g[B])];return-1^y}},{}],46:[function(d,f,p){var h,y=d("../utils/common"),g=d("./trees"),_=d("./adler32"),x=d("./crc32"),k=d("./messages"),L=-2,B=258,V=262,R=113;function N(O,W){return O.msg=k[W],W}function j(O){return(O<<1)-(4<O?9:0)}function P(O){for(var W=O.length;0<=--W;)O[W]=0}function E(O){var W=O.state,M=W.pending;M>O.avail_out&&(M=O.avail_out),M!==0&&(y.arraySet(O.output,W.pending_buf,W.pending_out,M,O.next_out),O.next_out+=M,W.pending_out+=M,O.total_out+=M,O.avail_out-=M,W.pending-=M,W.pending===0&&(W.pending_out=0))}function S(O,W){g._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,W),O.block_start=O.strstart,E(O.strm)}function D(O,W){O.pending_buf[O.pending++]=W}function m(O,W){O.pending_buf[O.pending++]=W>>>8&255,O.pending_buf[O.pending++]=255&W}function v(O,W){var M,A,U=O.max_chain_length,X=O.strstart,re=O.prev_length,Z=O.nice_match,te=O.strstart>O.w_size-V?O.strstart-(O.w_size-V):0,de=O.window,le=O.w_mask,Q=O.prev,ce=O.strstart+B,se=de[X+re-1],ue=de[X+re];O.prev_length>=O.good_match&&(U>>=2),Z>O.lookahead&&(Z=O.lookahead);do if(de[(M=W)+re]===ue&&de[M+re-1]===se&&de[M]===de[X]&&de[++M]===de[X+1]){X+=2,M++;do;while(de[++X]===de[++M]&&de[++X]===de[++M]&&de[++X]===de[++M]&&de[++X]===de[++M]&&de[++X]===de[++M]&&de[++X]===de[++M]&&de[++X]===de[++M]&&de[++X]===de[++M]&&X<ce);if(A=B-(ce-X),X=ce-B,re<A){if(O.match_start=W,Z<=(re=A))break;se=de[X+re-1],ue=de[X+re]}}while((W=Q[W&le])>te&&--U!=0);return re<=O.lookahead?re:O.lookahead}function w(O){var W,M,A,U,X,re,Z,te,de,le,Q=O.w_size;do{if(U=O.window_size-O.lookahead-O.strstart,O.strstart>=Q+(Q-V)){for(y.arraySet(O.window,O.window,Q,Q,0),O.match_start-=Q,O.strstart-=Q,O.block_start-=Q,W=M=O.hash_size;A=O.head[--W],O.head[W]=Q<=A?A-Q:0,--M;);for(W=M=Q;A=O.prev[--W],O.prev[W]=Q<=A?A-Q:0,--M;);U+=Q}if(O.strm.avail_in===0)break;if(re=O.strm,Z=O.window,te=O.strstart+O.lookahead,le=void 0,(de=U)<(le=re.avail_in)&&(le=de),M=le===0?0:(re.avail_in-=le,y.arraySet(Z,re.input,re.next_in,le,te),re.state.wrap===1?re.adler=_(re.adler,Z,le,te):re.state.wrap===2&&(re.adler=x(re.adler,Z,le,te)),re.next_in+=le,re.total_in+=le,le),O.lookahead+=M,O.lookahead+O.insert>=3)for(X=O.strstart-O.insert,O.ins_h=O.window[X],O.ins_h=(O.ins_h<<O.hash_shift^O.window[X+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[X+3-1])&O.hash_mask,O.prev[X&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=X,X++,O.insert--,!(O.lookahead+O.insert<3)););}while(O.lookahead<V&&O.strm.avail_in!==0)}function b(O,W){for(var M,A;;){if(O.lookahead<V){if(w(O),O.lookahead<V&&W===0)return 1;if(O.lookahead===0)break}if(M=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,M=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),M!==0&&O.strstart-M<=O.w_size-V&&(O.match_length=v(O,M)),O.match_length>=3)if(A=g._tr_tally(O,O.strstart-O.match_start,O.match_length-3),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=3){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,M=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else A=g._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(A&&(S(O,!1),O.strm.avail_out===0))return 1}return O.insert=O.strstart<2?O.strstart:2,W===4?(S(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(S(O,!1),O.strm.avail_out===0)?1:2}function C(O,W){for(var M,A,U;;){if(O.lookahead<V){if(w(O),O.lookahead<V&&W===0)return 1;if(O.lookahead===0)break}if(M=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,M=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=2,M!==0&&O.prev_length<O.max_lazy_match&&O.strstart-M<=O.w_size-V&&(O.match_length=v(O,M),O.match_length<=5&&(O.strategy===1||O.match_length===3&&4096<O.strstart-O.match_start)&&(O.match_length=2)),O.prev_length>=3&&O.match_length<=O.prev_length){for(U=O.strstart+O.lookahead-3,A=g._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-3),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=U&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,M=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=2,O.strstart++,A&&(S(O,!1),O.strm.avail_out===0))return 1}else if(O.match_available){if((A=g._tr_tally(O,0,O.window[O.strstart-1]))&&S(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return 1}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(A=g._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<2?O.strstart:2,W===4?(S(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(S(O,!1),O.strm.avail_out===0)?1:2}function I(O,W,M,A,U){this.good_length=O,this.max_lazy=W,this.nice_length=M,this.max_chain=A,this.func=U}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(O){var W;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=2,(W=O.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?42:R,O.adler=W.wrap===2?0:1,W.last_flush=0,g._tr_init(W),0):N(O,L)}function z(O){var W=$(O);return W===0&&(function(M){M.window_size=2*M.w_size,P(M.head),M.max_lazy_match=h[M.level].max_lazy,M.good_match=h[M.level].good_length,M.nice_match=h[M.level].nice_length,M.max_chain_length=h[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=2,M.match_available=0,M.ins_h=0})(O.state),W}function Y(O,W,M,A,U,X){if(!O)return L;var re=1;if(W===-1&&(W=6),A<0?(re=0,A=-A):15<A&&(re=2,A-=16),U<1||9<U||M!==8||A<8||15<A||W<0||9<W||X<0||4<X)return N(O,L);A===8&&(A=9);var Z=new F;return(O.state=Z).strm=O,Z.wrap=re,Z.gzhead=null,Z.w_bits=A,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=U+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new y.Buf8(2*Z.w_size),Z.head=new y.Buf16(Z.hash_size),Z.prev=new y.Buf16(Z.w_size),Z.lit_bufsize=1<<U+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new y.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=W,Z.strategy=X,Z.method=M,z(O)}h=[new I(0,0,0,0,function(O,W){var M=65535;for(M>O.pending_buf_size-5&&(M=O.pending_buf_size-5);;){if(O.lookahead<=1){if(w(O),O.lookahead===0&&W===0)return 1;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var A=O.block_start+M;if((O.strstart===0||O.strstart>=A)&&(O.lookahead=O.strstart-A,O.strstart=A,S(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-V&&(S(O,!1),O.strm.avail_out===0))return 1}return O.insert=0,W===4?(S(O,!0),O.strm.avail_out===0?3:4):(O.strstart>O.block_start&&(S(O,!1),O.strm.avail_out),1)}),new I(4,4,8,4,b),new I(4,5,16,8,b),new I(4,6,32,32,b),new I(4,4,16,16,C),new I(8,16,32,32,C),new I(8,16,128,128,C),new I(8,32,128,256,C),new I(32,128,258,1024,C),new I(32,258,258,4096,C)],p.deflateInit=function(O,W){return Y(O,W,8,15,8,0)},p.deflateInit2=Y,p.deflateReset=z,p.deflateResetKeep=$,p.deflateSetHeader=function(O,W){return O&&O.state?O.state.wrap!==2?L:(O.state.gzhead=W,0):L},p.deflate=function(O,W){var M,A,U,X;if(!O||!O.state||5<W||W<0)return O?N(O,L):L;if(A=O.state,!O.output||!O.input&&O.avail_in!==0||A.status===666&&W!==4)return N(O,O.avail_out===0?-5:L);if(A.strm=O,M=A.last_flush,A.last_flush=W,A.status===42)if(A.wrap===2)O.adler=0,D(A,31),D(A,139),D(A,8),A.gzhead?(D(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),D(A,255&A.gzhead.time),D(A,A.gzhead.time>>8&255),D(A,A.gzhead.time>>16&255),D(A,A.gzhead.time>>24&255),D(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),D(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(D(A,255&A.gzhead.extra.length),D(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(O.adler=x(O.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(D(A,0),D(A,0),D(A,0),D(A,0),D(A,0),D(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),D(A,3),A.status=R);else{var re=8+(A.w_bits-8<<4)<<8;re|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(re|=32),re+=31-re%31,A.status=R,m(A,re),A.strstart!==0&&(m(A,O.adler>>>16),m(A,65535&O.adler)),O.adler=1}if(A.status===69)if(A.gzhead.extra){for(U=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>U&&(O.adler=x(O.adler,A.pending_buf,A.pending-U,U)),E(O),U=A.pending,A.pending!==A.pending_buf_size));)D(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>U&&(O.adler=x(O.adler,A.pending_buf,A.pending-U,U)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){U=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>U&&(O.adler=x(O.adler,A.pending_buf,A.pending-U,U)),E(O),U=A.pending,A.pending===A.pending_buf_size)){X=1;break}X=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,D(A,X)}while(X!==0);A.gzhead.hcrc&&A.pending>U&&(O.adler=x(O.adler,A.pending_buf,A.pending-U,U)),X===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){U=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>U&&(O.adler=x(O.adler,A.pending_buf,A.pending-U,U)),E(O),U=A.pending,A.pending===A.pending_buf_size)){X=1;break}X=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,D(A,X)}while(X!==0);A.gzhead.hcrc&&A.pending>U&&(O.adler=x(O.adler,A.pending_buf,A.pending-U,U)),X===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&E(O),A.pending+2<=A.pending_buf_size&&(D(A,255&O.adler),D(A,O.adler>>8&255),O.adler=0,A.status=R)):A.status=R),A.pending!==0){if(E(O),O.avail_out===0)return A.last_flush=-1,0}else if(O.avail_in===0&&j(W)<=j(M)&&W!==4)return N(O,-5);if(A.status===666&&O.avail_in!==0)return N(O,-5);if(O.avail_in!==0||A.lookahead!==0||W!==0&&A.status!==666){var Z=A.strategy===2?(function(te,de){for(var le;;){if(te.lookahead===0&&(w(te),te.lookahead===0)){if(de===0)return 1;break}if(te.match_length=0,le=g._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,le&&(S(te,!1),te.strm.avail_out===0))return 1}return te.insert=0,de===4?(S(te,!0),te.strm.avail_out===0?3:4):te.last_lit&&(S(te,!1),te.strm.avail_out===0)?1:2})(A,W):A.strategy===3?(function(te,de){for(var le,Q,ce,se,ue=te.window;;){if(te.lookahead<=B){if(w(te),te.lookahead<=B&&de===0)return 1;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=3&&0<te.strstart&&(Q=ue[ce=te.strstart-1])===ue[++ce]&&Q===ue[++ce]&&Q===ue[++ce]){se=te.strstart+B;do;while(Q===ue[++ce]&&Q===ue[++ce]&&Q===ue[++ce]&&Q===ue[++ce]&&Q===ue[++ce]&&Q===ue[++ce]&&Q===ue[++ce]&&Q===ue[++ce]&&ce<se);te.match_length=B-(se-ce),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=3?(le=g._tr_tally(te,1,te.match_length-3),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(le=g._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),le&&(S(te,!1),te.strm.avail_out===0))return 1}return te.insert=0,de===4?(S(te,!0),te.strm.avail_out===0?3:4):te.last_lit&&(S(te,!1),te.strm.avail_out===0)?1:2})(A,W):h[A.level].func(A,W);if(Z!==3&&Z!==4||(A.status=666),Z===1||Z===3)return O.avail_out===0&&(A.last_flush=-1),0;if(Z===2&&(W===1?g._tr_align(A):W!==5&&(g._tr_stored_block(A,0,0,!1),W===3&&(P(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),E(O),O.avail_out===0))return A.last_flush=-1,0}return W!==4?0:A.wrap<=0?1:(A.wrap===2?(D(A,255&O.adler),D(A,O.adler>>8&255),D(A,O.adler>>16&255),D(A,O.adler>>24&255),D(A,255&O.total_in),D(A,O.total_in>>8&255),D(A,O.total_in>>16&255),D(A,O.total_in>>24&255)):(m(A,O.adler>>>16),m(A,65535&O.adler)),E(O),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?0:1)},p.deflateEnd=function(O){var W;return O&&O.state?(W=O.state.status)!==42&&W!==69&&W!==73&&W!==91&&W!==103&&W!==R&&W!==666?N(O,L):(O.state=null,W===R?N(O,-3):0):L},p.deflateSetDictionary=function(O,W){var M,A,U,X,re,Z,te,de,le=W.length;if(!O||!O.state||(X=(M=O.state).wrap)===2||X===1&&M.status!==42||M.lookahead)return L;for(X===1&&(O.adler=_(O.adler,W,le,0)),M.wrap=0,le>=M.w_size&&(X===0&&(P(M.head),M.strstart=0,M.block_start=0,M.insert=0),de=new y.Buf8(M.w_size),y.arraySet(de,W,le-M.w_size,M.w_size,0),W=de,le=M.w_size),re=O.avail_in,Z=O.next_in,te=O.input,O.avail_in=le,O.next_in=0,O.input=W,w(M);M.lookahead>=3;){for(A=M.strstart,U=M.lookahead-2;M.ins_h=(M.ins_h<<M.hash_shift^M.window[A+3-1])&M.hash_mask,M.prev[A&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=A,A++,--U;);M.strstart=A,M.lookahead=2,w(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=2,M.match_available=0,O.next_in=Z,O.input=te,O.avail_in=re,M.wrap=X,0},p.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,f,p){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,f,p){f.exports=function(h,y){var g,_,x,k,L,B,V,R,N,j,P,E,S,D,m,v,w,b,C,I,F,$,z,Y,O;g=h.state,_=h.next_in,Y=h.input,x=_+(h.avail_in-5),k=h.next_out,O=h.output,L=k-(y-h.avail_out),B=k+(h.avail_out-257),V=g.dmax,R=g.wsize,N=g.whave,j=g.wnext,P=g.window,E=g.hold,S=g.bits,D=g.lencode,m=g.distcode,v=(1<<g.lenbits)-1,w=(1<<g.distbits)-1;e:do{S<15&&(E+=Y[_++]<<S,S+=8,E+=Y[_++]<<S,S+=8),b=D[E&v];t:for(;;){if(E>>>=C=b>>>24,S-=C,(C=b>>>16&255)==0)O[k++]=65535&b;else{if(!(16&C)){if((64&C)==0){b=D[(65535&b)+(E&(1<<C)-1)];continue t}if(32&C){g.mode=12;break e}h.msg="invalid literal/length code",g.mode=30;break e}I=65535&b,(C&=15)&&(S<C&&(E+=Y[_++]<<S,S+=8),I+=E&(1<<C)-1,E>>>=C,S-=C),S<15&&(E+=Y[_++]<<S,S+=8,E+=Y[_++]<<S,S+=8),b=m[E&w];n:for(;;){if(E>>>=C=b>>>24,S-=C,!(16&(C=b>>>16&255))){if((64&C)==0){b=m[(65535&b)+(E&(1<<C)-1)];continue n}h.msg="invalid distance code",g.mode=30;break e}if(F=65535&b,S<(C&=15)&&(E+=Y[_++]<<S,(S+=8)<C&&(E+=Y[_++]<<S,S+=8)),V<(F+=E&(1<<C)-1)){h.msg="invalid distance too far back",g.mode=30;break e}if(E>>>=C,S-=C,(C=k-L)<F){if(N<(C=F-C)&&g.sane){h.msg="invalid distance too far back",g.mode=30;break e}if(z=P,($=0)===j){if($+=R-C,C<I){for(I-=C;O[k++]=P[$++],--C;);$=k-F,z=O}}else if(j<C){if($+=R+j-C,(C-=j)<I){for(I-=C;O[k++]=P[$++],--C;);if($=0,j<I){for(I-=C=j;O[k++]=P[$++],--C;);$=k-F,z=O}}}else if($+=j-C,C<I){for(I-=C;O[k++]=P[$++],--C;);$=k-F,z=O}for(;2<I;)O[k++]=z[$++],O[k++]=z[$++],O[k++]=z[$++],I-=3;I&&(O[k++]=z[$++],1<I&&(O[k++]=z[$++]))}else{for($=k-F;O[k++]=O[$++],O[k++]=O[$++],O[k++]=O[$++],2<(I-=3););I&&(O[k++]=O[$++],1<I&&(O[k++]=O[$++]))}break}}break}}while(_<x&&k<B);_-=I=S>>3,E&=(1<<(S-=I<<3))-1,h.next_in=_,h.next_out=k,h.avail_in=_<x?x-_+5:5-(_-x),h.avail_out=k<B?B-k+257:257-(k-B),g.hold=E,g.bits=S}},{}],49:[function(d,f,p){var h=d("../utils/common"),y=d("./adler32"),g=d("./crc32"),_=d("./inffast"),x=d("./inftrees"),k=-2;function L(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function V(v){var w;return v&&v.state?(w=v.state,v.total_in=v.total_out=w.total=0,v.msg="",w.wrap&&(v.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new h.Buf32(852),w.distcode=w.distdyn=new h.Buf32(592),w.sane=1,w.back=-1,0):k}function R(v){var w;return v&&v.state?((w=v.state).wsize=0,w.whave=0,w.wnext=0,V(v)):k}function N(v,w){var b,C;return v&&v.state?(C=v.state,w<0?(b=0,w=-w):(b=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?k:(C.window!==null&&C.wbits!==w&&(C.window=null),C.wrap=b,C.wbits=w,R(v))):k}function j(v,w){var b,C;return v?(C=new B,(v.state=C).window=null,(b=N(v,w))!==0&&(v.state=null),b):k}var P,E,S=!0;function D(v){if(S){var w;for(P=new h.Buf32(512),E=new h.Buf32(32),w=0;w<144;)v.lens[w++]=8;for(;w<256;)v.lens[w++]=9;for(;w<280;)v.lens[w++]=7;for(;w<288;)v.lens[w++]=8;for(x(1,v.lens,0,288,P,0,v.work,{bits:9}),w=0;w<32;)v.lens[w++]=5;x(2,v.lens,0,32,E,0,v.work,{bits:5}),S=!1}v.lencode=P,v.lenbits=9,v.distcode=E,v.distbits=5}function m(v,w,b,C){var I,F=v.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new h.Buf8(F.wsize)),C>=F.wsize?(h.arraySet(F.window,w,b-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(C<(I=F.wsize-F.wnext)&&(I=C),h.arraySet(F.window,w,b-C,I,F.wnext),(C-=I)?(h.arraySet(F.window,w,b-C,C,0),F.wnext=C,F.whave=F.wsize):(F.wnext+=I,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=I))),0}p.inflateReset=R,p.inflateReset2=N,p.inflateResetKeep=V,p.inflateInit=function(v){return j(v,15)},p.inflateInit2=j,p.inflate=function(v,w){var b,C,I,F,$,z,Y,O,W,M,A,U,X,re,Z,te,de,le,Q,ce,se,ue,pe,fe,he=0,Te=new h.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return k;(b=v.state).mode===12&&(b.mode=13),$=v.next_out,I=v.output,Y=v.avail_out,F=v.next_in,C=v.input,z=v.avail_in,O=b.hold,W=b.bits,M=z,A=Y,ue=0;e:for(;;)switch(b.mode){case 1:if(b.wrap===0){b.mode=13;break}for(;W<16;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(2&b.wrap&&O===35615){Te[b.check=0]=255&O,Te[1]=O>>>8&255,b.check=g(b.check,Te,2,0),W=O=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&O)<<8)+(O>>8))%31){v.msg="incorrect header check",b.mode=30;break}if((15&O)!=8){v.msg="unknown compression method",b.mode=30;break}if(W-=4,se=8+(15&(O>>>=4)),b.wbits===0)b.wbits=se;else if(se>b.wbits){v.msg="invalid window size",b.mode=30;break}b.dmax=1<<se,v.adler=b.check=1,b.mode=512&O?10:12,W=O=0;break;case 2:for(;W<16;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(b.flags=O,(255&b.flags)!=8){v.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){v.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=O>>8&1),512&b.flags&&(Te[0]=255&O,Te[1]=O>>>8&255,b.check=g(b.check,Te,2,0)),W=O=0,b.mode=3;case 3:for(;W<32;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}b.head&&(b.head.time=O),512&b.flags&&(Te[0]=255&O,Te[1]=O>>>8&255,Te[2]=O>>>16&255,Te[3]=O>>>24&255,b.check=g(b.check,Te,4,0)),W=O=0,b.mode=4;case 4:for(;W<16;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}b.head&&(b.head.xflags=255&O,b.head.os=O>>8),512&b.flags&&(Te[0]=255&O,Te[1]=O>>>8&255,b.check=g(b.check,Te,2,0)),W=O=0,b.mode=5;case 5:if(1024&b.flags){for(;W<16;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}b.length=O,b.head&&(b.head.extra_len=O),512&b.flags&&(Te[0]=255&O,Te[1]=O>>>8&255,b.check=g(b.check,Te,2,0)),W=O=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(z<(U=b.length)&&(U=z),U&&(b.head&&(se=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),h.arraySet(b.head.extra,C,F,U,se)),512&b.flags&&(b.check=g(b.check,C,U,F)),z-=U,F+=U,b.length-=U),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(z===0)break e;for(U=0;se=C[F+U++],b.head&&se&&b.length<65536&&(b.head.name+=String.fromCharCode(se)),se&&U<z;);if(512&b.flags&&(b.check=g(b.check,C,U,F)),z-=U,F+=U,se)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(z===0)break e;for(U=0;se=C[F+U++],b.head&&se&&b.length<65536&&(b.head.comment+=String.fromCharCode(se)),se&&U<z;);if(512&b.flags&&(b.check=g(b.check,C,U,F)),z-=U,F+=U,se)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;W<16;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(O!==(65535&b.check)){v.msg="header crc mismatch",b.mode=30;break}W=O=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),v.adler=b.check=0,b.mode=12;break;case 10:for(;W<32;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}v.adler=b.check=L(O),W=O=0,b.mode=11;case 11:if(b.havedict===0)return v.next_out=$,v.avail_out=Y,v.next_in=F,v.avail_in=z,b.hold=O,b.bits=W,2;v.adler=b.check=1,b.mode=12;case 12:if(w===5||w===6)break e;case 13:if(b.last){O>>>=7&W,W-=7&W,b.mode=27;break}for(;W<3;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}switch(b.last=1&O,W-=1,3&(O>>>=1)){case 0:b.mode=14;break;case 1:if(D(b),b.mode=20,w!==6)break;O>>>=2,W-=2;break e;case 2:b.mode=17;break;case 3:v.msg="invalid block type",b.mode=30}O>>>=2,W-=2;break;case 14:for(O>>>=7&W,W-=7&W;W<32;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if((65535&O)!=(O>>>16^65535)){v.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&O,W=O=0,b.mode=15,w===6)break e;case 15:b.mode=16;case 16:if(U=b.length){if(z<U&&(U=z),Y<U&&(U=Y),U===0)break e;h.arraySet(I,C,F,U,$),z-=U,F+=U,Y-=U,$+=U,b.length-=U;break}b.mode=12;break;case 17:for(;W<14;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(b.nlen=257+(31&O),O>>>=5,W-=5,b.ndist=1+(31&O),O>>>=5,W-=5,b.ncode=4+(15&O),O>>>=4,W-=4,286<b.nlen||30<b.ndist){v.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;W<3;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}b.lens[Me[b.have++]]=7&O,O>>>=3,W-=3}for(;b.have<19;)b.lens[Me[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,pe={bits:b.lenbits},ue=x(0,b.lens,0,19,b.lencode,0,b.work,pe),b.lenbits=pe.bits,ue){v.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;te=(he=b.lencode[O&(1<<b.lenbits)-1])>>>16&255,de=65535&he,!((Z=he>>>24)<=W);){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(de<16)O>>>=Z,W-=Z,b.lens[b.have++]=de;else{if(de===16){for(fe=Z+2;W<fe;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(O>>>=Z,W-=Z,b.have===0){v.msg="invalid bit length repeat",b.mode=30;break}se=b.lens[b.have-1],U=3+(3&O),O>>>=2,W-=2}else if(de===17){for(fe=Z+3;W<fe;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}W-=Z,se=0,U=3+(7&(O>>>=Z)),O>>>=3,W-=3}else{for(fe=Z+7;W<fe;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}W-=Z,se=0,U=11+(127&(O>>>=Z)),O>>>=7,W-=7}if(b.have+U>b.nlen+b.ndist){v.msg="invalid bit length repeat",b.mode=30;break}for(;U--;)b.lens[b.have++]=se}}if(b.mode===30)break;if(b.lens[256]===0){v.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,pe={bits:b.lenbits},ue=x(1,b.lens,0,b.nlen,b.lencode,0,b.work,pe),b.lenbits=pe.bits,ue){v.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,pe={bits:b.distbits},ue=x(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,pe),b.distbits=pe.bits,ue){v.msg="invalid distances set",b.mode=30;break}if(b.mode=20,w===6)break e;case 20:b.mode=21;case 21:if(6<=z&&258<=Y){v.next_out=$,v.avail_out=Y,v.next_in=F,v.avail_in=z,b.hold=O,b.bits=W,_(v,A),$=v.next_out,I=v.output,Y=v.avail_out,F=v.next_in,C=v.input,z=v.avail_in,O=b.hold,W=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;te=(he=b.lencode[O&(1<<b.lenbits)-1])>>>16&255,de=65535&he,!((Z=he>>>24)<=W);){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(te&&(240&te)==0){for(le=Z,Q=te,ce=de;te=(he=b.lencode[ce+((O&(1<<le+Q)-1)>>le)])>>>16&255,de=65535&he,!(le+(Z=he>>>24)<=W);){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}O>>>=le,W-=le,b.back+=le}if(O>>>=Z,W-=Z,b.back+=Z,b.length=de,te===0){b.mode=26;break}if(32&te){b.back=-1,b.mode=12;break}if(64&te){v.msg="invalid literal/length code",b.mode=30;break}b.extra=15&te,b.mode=22;case 22:if(b.extra){for(fe=b.extra;W<fe;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}b.length+=O&(1<<b.extra)-1,O>>>=b.extra,W-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;te=(he=b.distcode[O&(1<<b.distbits)-1])>>>16&255,de=65535&he,!((Z=he>>>24)<=W);){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if((240&te)==0){for(le=Z,Q=te,ce=de;te=(he=b.distcode[ce+((O&(1<<le+Q)-1)>>le)])>>>16&255,de=65535&he,!(le+(Z=he>>>24)<=W);){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}O>>>=le,W-=le,b.back+=le}if(O>>>=Z,W-=Z,b.back+=Z,64&te){v.msg="invalid distance code",b.mode=30;break}b.offset=de,b.extra=15&te,b.mode=24;case 24:if(b.extra){for(fe=b.extra;W<fe;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}b.offset+=O&(1<<b.extra)-1,O>>>=b.extra,W-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){v.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(Y===0)break e;if(U=A-Y,b.offset>U){if((U=b.offset-U)>b.whave&&b.sane){v.msg="invalid distance too far back",b.mode=30;break}X=U>b.wnext?(U-=b.wnext,b.wsize-U):b.wnext-U,U>b.length&&(U=b.length),re=b.window}else re=I,X=$-b.offset,U=b.length;for(Y<U&&(U=Y),Y-=U,b.length-=U;I[$++]=re[X++],--U;);b.length===0&&(b.mode=21);break;case 26:if(Y===0)break e;I[$++]=b.length,Y--,b.mode=21;break;case 27:if(b.wrap){for(;W<32;){if(z===0)break e;z--,O|=C[F++]<<W,W+=8}if(A-=Y,v.total_out+=A,b.total+=A,A&&(v.adler=b.check=b.flags?g(b.check,I,A,$-A):y(b.check,I,A,$-A)),A=Y,(b.flags?O:L(O))!==b.check){v.msg="incorrect data check",b.mode=30;break}W=O=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;W<32;){if(z===0)break e;z--,O+=C[F++]<<W,W+=8}if(O!==(4294967295&b.total)){v.msg="incorrect length check",b.mode=30;break}W=O=0}b.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return k}return v.next_out=$,v.avail_out=Y,v.next_in=F,v.avail_in=z,b.hold=O,b.bits=W,(b.wsize||A!==v.avail_out&&b.mode<30&&(b.mode<27||w!==4))&&m(v,v.output,v.next_out,A-v.avail_out)?(b.mode=31,-4):(M-=v.avail_in,A-=v.avail_out,v.total_in+=M,v.total_out+=A,b.total+=A,b.wrap&&A&&(v.adler=b.check=b.flags?g(b.check,I,A,v.next_out-A):y(b.check,I,A,v.next_out-A)),v.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(M==0&&A===0||w===4)&&ue===0&&(ue=-5),ue)},p.inflateEnd=function(v){if(!v||!v.state)return k;var w=v.state;return w.window&&(w.window=null),v.state=null,0},p.inflateGetHeader=function(v,w){var b;return v&&v.state?(2&(b=v.state).wrap)==0?k:((b.head=w).done=!1,0):k},p.inflateSetDictionary=function(v,w){var b,C=w.length;return v&&v.state?(b=v.state).wrap!==0&&b.mode!==11?k:b.mode===11&&y(1,w,C,0)!==b.check?-3:m(v,w,C,C)?(b.mode=31,-4):(b.havedict=1,0):k},p.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,f,p){var h=d("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(k,L,B,V,R,N,j,P){var E,S,D,m,v,w,b,C,I,F=P.bits,$=0,z=0,Y=0,O=0,W=0,M=0,A=0,U=0,X=0,re=0,Z=null,te=0,de=new h.Buf16(16),le=new h.Buf16(16),Q=null,ce=0;for($=0;$<=15;$++)de[$]=0;for(z=0;z<V;z++)de[L[B+z]]++;for(W=F,O=15;1<=O&&de[O]===0;O--);if(O<W&&(W=O),O===0)return R[N++]=20971520,R[N++]=20971520,P.bits=1,0;for(Y=1;Y<O&&de[Y]===0;Y++);for(W<Y&&(W=Y),$=U=1;$<=15;$++)if(U<<=1,(U-=de[$])<0)return-1;if(0<U&&(k===0||O!==1))return-1;for(le[1]=0,$=1;$<15;$++)le[$+1]=le[$]+de[$];for(z=0;z<V;z++)L[B+z]!==0&&(j[le[L[B+z]]++]=z);if(w=k===0?(Z=Q=j,19):k===1?(Z=y,te-=257,Q=g,ce-=257,256):(Z=_,Q=x,-1),$=Y,v=N,A=z=re=0,D=-1,m=(X=1<<(M=W))-1,k===1&&852<X||k===2&&592<X)return 1;for(;;){for(b=$-A,I=j[z]<w?(C=0,j[z]):j[z]>w?(C=Q[ce+j[z]],Z[te+j[z]]):(C=96,0),E=1<<$-A,Y=S=1<<M;R[v+(re>>A)+(S-=E)]=b<<24|C<<16|I|0,S!==0;);for(E=1<<$-1;re&E;)E>>=1;if(E!==0?(re&=E-1,re+=E):re=0,z++,--de[$]==0){if($===O)break;$=L[B+j[z]]}if(W<$&&(re&m)!==D){for(A===0&&(A=W),v+=Y,U=1<<(M=$-A);M+A<O&&!((U-=de[M+A])<=0);)M++,U<<=1;if(X+=1<<M,k===1&&852<X||k===2&&592<X)return 1;R[D=re&m]=W<<24|M<<16|v-N|0}}return re!==0&&(R[v+re]=$-A<<24|64<<16|0),P.bits=W,0}},{"../utils/common":41}],51:[function(d,f,p){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,f,p){var h=d("../utils/common");function y(Q){for(var ce=Q.length;0<=--ce;)Q[ce]=0}var g=256,_=286,x=30,k=15,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(576);y(N);var j=new Array(60);y(j);var P=new Array(512);y(P);var E=new Array(256);y(E);var S=new Array(29);y(S);var D,m,v,w=new Array(x);function b(Q,ce,se,ue,pe){this.static_tree=Q,this.extra_bits=ce,this.extra_base=se,this.elems=ue,this.max_length=pe,this.has_stree=Q&&Q.length}function C(Q,ce){this.dyn_tree=Q,this.max_code=0,this.stat_desc=ce}function I(Q){return Q<256?P[Q]:P[256+(Q>>>7)]}function F(Q,ce){Q.pending_buf[Q.pending++]=255&ce,Q.pending_buf[Q.pending++]=ce>>>8&255}function $(Q,ce,se){Q.bi_valid>16-se?(Q.bi_buf|=ce<<Q.bi_valid&65535,F(Q,Q.bi_buf),Q.bi_buf=ce>>16-Q.bi_valid,Q.bi_valid+=se-16):(Q.bi_buf|=ce<<Q.bi_valid&65535,Q.bi_valid+=se)}function z(Q,ce,se){$(Q,se[2*ce],se[2*ce+1])}function Y(Q,ce){for(var se=0;se|=1&Q,Q>>>=1,se<<=1,0<--ce;);return se>>>1}function O(Q,ce,se){var ue,pe,fe=new Array(16),he=0;for(ue=1;ue<=k;ue++)fe[ue]=he=he+se[ue-1]<<1;for(pe=0;pe<=ce;pe++){var Te=Q[2*pe+1];Te!==0&&(Q[2*pe]=Y(fe[Te]++,Te))}}function W(Q){var ce;for(ce=0;ce<_;ce++)Q.dyn_ltree[2*ce]=0;for(ce=0;ce<x;ce++)Q.dyn_dtree[2*ce]=0;for(ce=0;ce<19;ce++)Q.bl_tree[2*ce]=0;Q.dyn_ltree[512]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function M(Q){8<Q.bi_valid?F(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function A(Q,ce,se,ue){var pe=2*ce,fe=2*se;return Q[pe]<Q[fe]||Q[pe]===Q[fe]&&ue[ce]<=ue[se]}function U(Q,ce,se){for(var ue=Q.heap[se],pe=se<<1;pe<=Q.heap_len&&(pe<Q.heap_len&&A(ce,Q.heap[pe+1],Q.heap[pe],Q.depth)&&pe++,!A(ce,ue,Q.heap[pe],Q.depth));)Q.heap[se]=Q.heap[pe],se=pe,pe<<=1;Q.heap[se]=ue}function X(Q,ce,se){var ue,pe,fe,he,Te=0;if(Q.last_lit!==0)for(;ue=Q.pending_buf[Q.d_buf+2*Te]<<8|Q.pending_buf[Q.d_buf+2*Te+1],pe=Q.pending_buf[Q.l_buf+Te],Te++,ue===0?z(Q,pe,ce):(z(Q,(fe=E[pe])+g+1,ce),(he=L[fe])!==0&&$(Q,pe-=S[fe],he),z(Q,fe=I(--ue),se),(he=B[fe])!==0&&$(Q,ue-=w[fe],he)),Te<Q.last_lit;);z(Q,256,ce)}function re(Q,ce){var se,ue,pe,fe=ce.dyn_tree,he=ce.stat_desc.static_tree,Te=ce.stat_desc.has_stree,Me=ce.stat_desc.elems,ke=-1;for(Q.heap_len=0,Q.heap_max=573,se=0;se<Me;se++)fe[2*se]!==0?(Q.heap[++Q.heap_len]=ke=se,Q.depth[se]=0):fe[2*se+1]=0;for(;Q.heap_len<2;)fe[2*(pe=Q.heap[++Q.heap_len]=ke<2?++ke:0)]=1,Q.depth[pe]=0,Q.opt_len--,Te&&(Q.static_len-=he[2*pe+1]);for(ce.max_code=ke,se=Q.heap_len>>1;1<=se;se--)U(Q,fe,se);for(pe=Me;se=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],U(Q,fe,1),ue=Q.heap[1],Q.heap[--Q.heap_max]=se,Q.heap[--Q.heap_max]=ue,fe[2*pe]=fe[2*se]+fe[2*ue],Q.depth[pe]=(Q.depth[se]>=Q.depth[ue]?Q.depth[se]:Q.depth[ue])+1,fe[2*se+1]=fe[2*ue+1]=pe,Q.heap[1]=pe++,U(Q,fe,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],(function(it,Fe){var He,Ft,st,ze,lt,Pe,Ne=Fe.dyn_tree,At=Fe.max_code,Ye=Fe.stat_desc.static_tree,ut=Fe.stat_desc.has_stree,mr=Fe.stat_desc.extra_bits,dt=Fe.stat_desc.extra_base,pt=Fe.stat_desc.max_length,Wn=0;for(ze=0;ze<=k;ze++)it.bl_count[ze]=0;for(Ne[2*it.heap[it.heap_max]+1]=0,He=it.heap_max+1;He<573;He++)pt<(ze=Ne[2*Ne[2*(Ft=it.heap[He])+1]+1]+1)&&(ze=pt,Wn++),Ne[2*Ft+1]=ze,At<Ft||(it.bl_count[ze]++,lt=0,dt<=Ft&&(lt=mr[Ft-dt]),Pe=Ne[2*Ft],it.opt_len+=Pe*(ze+lt),ut&&(it.static_len+=Pe*(Ye[2*Ft+1]+lt)));if(Wn!==0){do{for(ze=pt-1;it.bl_count[ze]===0;)ze--;it.bl_count[ze]--,it.bl_count[ze+1]+=2,it.bl_count[pt]--,Wn-=2}while(0<Wn);for(ze=pt;ze!==0;ze--)for(Ft=it.bl_count[ze];Ft!==0;)At<(st=it.heap[--He])||(Ne[2*st+1]!==ze&&(it.opt_len+=(ze-Ne[2*st+1])*Ne[2*st],Ne[2*st+1]=ze),Ft--)}})(Q,ce),O(fe,ke,Q.bl_count)}function Z(Q,ce,se){var ue,pe,fe=-1,he=ce[1],Te=0,Me=7,ke=4;for(he===0&&(Me=138,ke=3),ce[2*(se+1)+1]=65535,ue=0;ue<=se;ue++)pe=he,he=ce[2*(ue+1)+1],++Te<Me&&pe===he||(Te<ke?Q.bl_tree[2*pe]+=Te:pe!==0?(pe!==fe&&Q.bl_tree[2*pe]++,Q.bl_tree[32]++):Te<=10?Q.bl_tree[34]++:Q.bl_tree[36]++,fe=pe,ke=(Te=0)===he?(Me=138,3):pe===he?(Me=6,3):(Me=7,4))}function te(Q,ce,se){var ue,pe,fe=-1,he=ce[1],Te=0,Me=7,ke=4;for(he===0&&(Me=138,ke=3),ue=0;ue<=se;ue++)if(pe=he,he=ce[2*(ue+1)+1],!(++Te<Me&&pe===he)){if(Te<ke)for(;z(Q,pe,Q.bl_tree),--Te!=0;);else pe!==0?(pe!==fe&&(z(Q,pe,Q.bl_tree),Te--),z(Q,16,Q.bl_tree),$(Q,Te-3,2)):Te<=10?(z(Q,17,Q.bl_tree),$(Q,Te-3,3)):(z(Q,18,Q.bl_tree),$(Q,Te-11,7));fe=pe,ke=(Te=0)===he?(Me=138,3):pe===he?(Me=6,3):(Me=7,4)}}y(w);var de=!1;function le(Q,ce,se,ue){$(Q,0+(ue?1:0),3),(function(pe,fe,he,Te){M(pe),F(pe,he),F(pe,~he),h.arraySet(pe.pending_buf,pe.window,fe,he,pe.pending),pe.pending+=he})(Q,ce,se)}p._tr_init=function(Q){de||((function(){var ce,se,ue,pe,fe,he=new Array(16);for(pe=ue=0;pe<28;pe++)for(S[pe]=ue,ce=0;ce<1<<L[pe];ce++)E[ue++]=pe;for(E[ue-1]=pe,pe=fe=0;pe<16;pe++)for(w[pe]=fe,ce=0;ce<1<<B[pe];ce++)P[fe++]=pe;for(fe>>=7;pe<x;pe++)for(w[pe]=fe<<7,ce=0;ce<1<<B[pe]-7;ce++)P[256+fe++]=pe;for(se=0;se<=k;se++)he[se]=0;for(ce=0;ce<=143;)N[2*ce+1]=8,ce++,he[8]++;for(;ce<=255;)N[2*ce+1]=9,ce++,he[9]++;for(;ce<=279;)N[2*ce+1]=7,ce++,he[7]++;for(;ce<=287;)N[2*ce+1]=8,ce++,he[8]++;for(O(N,287,he),ce=0;ce<x;ce++)j[2*ce+1]=5,j[2*ce]=Y(ce,5);D=new b(N,L,257,_,k),m=new b(j,B,0,x,k),v=new b(new Array(0),V,0,19,7)})(),de=!0),Q.l_desc=new C(Q.dyn_ltree,D),Q.d_desc=new C(Q.dyn_dtree,m),Q.bl_desc=new C(Q.bl_tree,v),Q.bi_buf=0,Q.bi_valid=0,W(Q)},p._tr_stored_block=le,p._tr_flush_block=function(Q,ce,se,ue){var pe,fe,he=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=(function(Te){var Me,ke=4093624447;for(Me=0;Me<=31;Me++,ke>>>=1)if(1&ke&&Te.dyn_ltree[2*Me]!==0)return 0;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return 1;for(Me=32;Me<g;Me++)if(Te.dyn_ltree[2*Me]!==0)return 1;return 0})(Q)),re(Q,Q.l_desc),re(Q,Q.d_desc),he=(function(Te){var Me;for(Z(Te,Te.dyn_ltree,Te.l_desc.max_code),Z(Te,Te.dyn_dtree,Te.d_desc.max_code),re(Te,Te.bl_desc),Me=18;3<=Me&&Te.bl_tree[2*R[Me]+1]===0;Me--);return Te.opt_len+=3*(Me+1)+5+5+4,Me})(Q),pe=Q.opt_len+3+7>>>3,(fe=Q.static_len+3+7>>>3)<=pe&&(pe=fe)):pe=fe=se+5,se+4<=pe&&ce!==-1?le(Q,ce,se,ue):Q.strategy===4||fe===pe?($(Q,2+(ue?1:0),3),X(Q,N,j)):($(Q,4+(ue?1:0),3),(function(Te,Me,ke,it){var Fe;for($(Te,Me-257,5),$(Te,ke-1,5),$(Te,it-4,4),Fe=0;Fe<it;Fe++)$(Te,Te.bl_tree[2*R[Fe]+1],3);te(Te,Te.dyn_ltree,Me-1),te(Te,Te.dyn_dtree,ke-1)})(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,he+1),X(Q,Q.dyn_ltree,Q.dyn_dtree)),W(Q),ue&&M(Q)},p._tr_tally=function(Q,ce,se){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=ce>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&ce,Q.pending_buf[Q.l_buf+Q.last_lit]=255&se,Q.last_lit++,ce===0?Q.dyn_ltree[2*se]++:(Q.matches++,ce--,Q.dyn_ltree[2*(E[se]+g+1)]++,Q.dyn_dtree[2*I(ce)]++),Q.last_lit===Q.lit_bufsize-1},p._tr_align=function(Q){$(Q,2,3),z(Q,256,N),(function(ce){ce.bi_valid===16?(F(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)})(Q)}},{"../utils/common":41}],53:[function(d,f,p){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,f,p){(function(h){(function(y,g){if(!y.setImmediate){var _,x,k,L,B=1,V={},R=!1,N=y.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(y);j=j&&j.setTimeout?j:y,_={}.toString.call(y.process)==="[object process]"?function(D){r.nextTick(function(){E(D)})}:(function(){if(y.postMessage&&!y.importScripts){var D=!0,m=y.onmessage;return y.onmessage=function(){D=!1},y.postMessage("","*"),y.onmessage=m,D}})()?(L="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",S,!1):y.attachEvent("onmessage",S),function(D){y.postMessage(L+D,"*")}):y.MessageChannel?((k=new MessageChannel).port1.onmessage=function(D){E(D.data)},function(D){k.port2.postMessage(D)}):N&&"onreadystatechange"in N.createElement("script")?(x=N.documentElement,function(D){var m=N.createElement("script");m.onreadystatechange=function(){E(D),m.onreadystatechange=null,x.removeChild(m),m=null},x.appendChild(m)}):function(D){setTimeout(E,0,D)},j.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var m=new Array(arguments.length-1),v=0;v<m.length;v++)m[v]=arguments[v+1];var w={callback:D,args:m};return V[B]=w,_(B),B++},j.clearImmediate=P}function P(D){delete V[D]}function E(D){if(R)setTimeout(E,0,D);else{var m=V[D];if(m){R=!0;try{(function(v){var w=v.callback,b=v.args;switch(b.length){case 0:w();break;case 1:w(b[0]);break;case 2:w(b[0],b[1]);break;case 3:w(b[0],b[1],b[2]);break;default:w.apply(void 0,b)}})(m)}finally{P(D),R=!1}}}}function S(D){D.source===y&&typeof D.data=="string"&&D.data.indexOf(L)===0&&E(+D.data.slice(L.length))}})(typeof self>"u"?h===void 0?this:h:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,e,n){(function(r){(function(){"use strict";var i=/[\\^$.*+?()[\]{}|]/g,s=RegExp(i.source),o=typeof r=="object"&&r&&r.Object===Object&&r,a=typeof self=="object"&&self&&self.Object===Object&&self,c=o||a||Function("return this")(),u=Object.prototype.toString,l=c.Symbol,d=l?l.prototype:void 0,f=d?d.toString:void 0;function p(h){if(typeof h=="string")return h;if((function(g){return typeof g=="symbol"||(function(_){return!!_&&typeof _=="object"})(g)&&u.call(g)=="[object Symbol]"})(h))return f?f.call(h):"";var y=h+"";return y=="0"&&1/h==-1/0?"-0":y}e.exports=function(h){var y;return(h=(y=h)==null?"":p(y))&&s.test(h)?h.replace(i,"\\$&"):h}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,e,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,l=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[i]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[s]=y["[object Number]"]=y[o]=y["[object RegExp]"]=y[a]=y["[object String]"]=y["[object WeakMap]"]=!1;var g=typeof r=="object"&&r&&r.Object===Object&&r,_=typeof self=="object"&&self&&self.Object===Object&&self,x=g||_||Function("return this")(),k=typeof n=="object"&&n&&!n.nodeType&&n,L=k&&typeof e=="object"&&e&&!e.nodeType&&e,B=L&&L.exports===k&&g.process,V=(function(){try{return B&&B.binding("util")}catch{}})(),R=V&&V.isTypedArray;function N(ie,ge,Ie,Se){for(var Oe=-1,et=ie?ie.length:0;++Oe<et;){var tt=ie[Oe];ge(Se,tt,Ie(tt),ie)}return Se}function j(ie,ge){for(var Ie=-1,Se=ie?ie.length:0;++Ie<Se;)if(ge(ie[Ie],Ie,ie))return!0;return!1}function P(ie){var ge=!1;if(ie!=null&&typeof ie.toString!="function")try{ge=!!(ie+"")}catch{}return ge}function E(ie){var ge=-1,Ie=Array(ie.size);return ie.forEach(function(Se,Oe){Ie[++ge]=[Oe,Se]}),Ie}function S(ie){var ge=-1,Ie=Array(ie.size);return ie.forEach(function(Se){Ie[++ge]=Se}),Ie}var D,m,v,w=Array.prototype,b=Function.prototype,C=Object.prototype,I=x["__core-js_shared__"],F=(D=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",$=b.toString,z=C.hasOwnProperty,Y=C.toString,O=RegExp("^"+$.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=x.Symbol,M=x.Uint8Array,A=C.propertyIsEnumerable,U=w.splice,X=(m=Object.keys,v=Object,function(ie){return m(v(ie))}),re=ht(x,"DataView"),Z=ht(x,"Map"),te=ht(x,"Promise"),de=ht(x,"Set"),le=ht(x,"WeakMap"),Q=ht(Object,"create"),ce=Ce(re),se=Ce(Z),ue=Ce(te),pe=Ce(de),fe=Ce(le),he=W?W.prototype:void 0,Te=he?he.valueOf:void 0,Me=he?he.toString:void 0;function ke(ie){var ge=-1,Ie=ie?ie.length:0;for(this.clear();++ge<Ie;){var Se=ie[ge];this.set(Se[0],Se[1])}}function it(ie){var ge=-1,Ie=ie?ie.length:0;for(this.clear();++ge<Ie;){var Se=ie[ge];this.set(Se[0],Se[1])}}function Fe(ie){var ge=-1,Ie=ie?ie.length:0;for(this.clear();++ge<Ie;){var Se=ie[ge];this.set(Se[0],Se[1])}}function He(ie){var ge=-1,Ie=ie?ie.length:0;for(this.__data__=new Fe;++ge<Ie;)this.add(ie[ge])}function Ft(ie){this.__data__=new it(ie)}function st(ie,ge){var Ie=We(ie)||ft(ie)?(function(tt,zt){for(var xt=-1,wt=Array(tt);++xt<tt;)wt[xt]=zt(xt);return wt})(ie.length,String):[],Se=Ie.length,Oe=!!Se;for(var et in ie)!ge&&!z.call(ie,et)||Oe&&(et=="length"||Tt(et,Se))||Ie.push(et);return Ie}function ze(ie,ge){for(var Ie=ie.length;Ie--;)if(Jt(ie[Ie][0],ge))return Ie;return-1}function lt(ie,ge,Ie,Se){return At(ie,function(Oe,et,tt){ge(Se,Oe,Ie(Oe),tt)}),Se}ke.prototype.clear=function(){this.__data__=Q?Q(null):{}},ke.prototype.delete=function(ie){return this.has(ie)&&delete this.__data__[ie]},ke.prototype.get=function(ie){var ge=this.__data__;if(Q){var Ie=ge[ie];return Ie==="__lodash_hash_undefined__"?void 0:Ie}return z.call(ge,ie)?ge[ie]:void 0},ke.prototype.has=function(ie){var ge=this.__data__;return Q?ge[ie]!==void 0:z.call(ge,ie)},ke.prototype.set=function(ie,ge){return this.__data__[ie]=Q&&ge===void 0?"__lodash_hash_undefined__":ge,this},it.prototype.clear=function(){this.__data__=[]},it.prototype.delete=function(ie){var ge=this.__data__,Ie=ze(ge,ie);return!(Ie<0)&&(Ie==ge.length-1?ge.pop():U.call(ge,Ie,1),!0)},it.prototype.get=function(ie){var ge=this.__data__,Ie=ze(ge,ie);return Ie<0?void 0:ge[Ie][1]},it.prototype.has=function(ie){return ze(this.__data__,ie)>-1},it.prototype.set=function(ie,ge){var Ie=this.__data__,Se=ze(Ie,ie);return Se<0?Ie.push([ie,ge]):Ie[Se][1]=ge,this},Fe.prototype.clear=function(){this.__data__={hash:new ke,map:new(Z||it),string:new ke}},Fe.prototype.delete=function(ie){return yt(this,ie).delete(ie)},Fe.prototype.get=function(ie){return yt(this,ie).get(ie)},Fe.prototype.has=function(ie){return yt(this,ie).has(ie)},Fe.prototype.set=function(ie,ge){return yt(this,ie).set(ie,ge),this},He.prototype.add=He.prototype.push=function(ie){return this.__data__.set(ie,"__lodash_hash_undefined__"),this},He.prototype.has=function(ie){return this.__data__.has(ie)},Ft.prototype.clear=function(){this.__data__=new it},Ft.prototype.delete=function(ie){return this.__data__.delete(ie)},Ft.prototype.get=function(ie){return this.__data__.get(ie)},Ft.prototype.has=function(ie){return this.__data__.has(ie)},Ft.prototype.set=function(ie,ge){var Ie=this.__data__;if(Ie instanceof it){var Se=Ie.__data__;if(!Z||Se.length<199)return Se.push([ie,ge]),this;Ie=this.__data__=new Fe(Se)}return Ie.set(ie,ge),this};var Pe,Ne,At=(Pe=function(ie,ge){return ie&&Ye(ie,ge,Xn)},function(ie,ge){if(ie==null)return ie;if(!dn(ie))return Pe(ie,ge);for(var Ie=ie.length,Se=Ne?Ie:-1,Oe=Object(ie);(Ne?Se--:++Se<Ie)&&ge(Oe[Se],Se,Oe)!==!1;);return ie}),Ye=(function(ie){return function(ge,Ie,Se){for(var Oe=-1,et=Object(ge),tt=Se(ge),zt=tt.length;zt--;){var xt=tt[ie?zt:++Oe];if(Ie(et[xt],xt,et)===!1)break}return ge}})();function ut(ie,ge){for(var Ie=0,Se=(ge=gt(ge,ie)?[ge]:It(ge)).length;ie!=null&&Ie<Se;)ie=ie[be(ge[Ie++])];return Ie&&Ie==Se?ie:void 0}function mr(ie,ge){return ie!=null&&ge in Object(ie)}function dt(ie,ge,Ie,Se,Oe){return ie===ge||(ie==null||ge==null||!wn(ie)&&!On(ge)?ie!=ie&&ge!=ge:(function(et,tt,zt,xt,wt,kt){var Pn=We(et),Kn=We(tt),Gt="[object Array]",Yt="[object Array]";Pn||(Gt=(Gt=Gn(et))==i?o:Gt),Kn||(Yt=(Yt=Gn(tt))==i?o:Yt);var Qn=Gt==o&&!P(et),Cr=Yt==o&&!P(tt),Ur=Gt==Yt;if(Ur&&!Qn)return kt||(kt=new Ft),Pn||gr(et)?In(et,tt,zt,xt,wt,kt):(function(fn,gn,Nu,co,Xc,ti,ni){switch(Nu){case"[object DataView]":if(fn.byteLength!=gn.byteLength||fn.byteOffset!=gn.byteOffset)return!1;fn=fn.buffer,gn=gn.buffer;case"[object ArrayBuffer]":return!(fn.byteLength!=gn.byteLength||!co(new M(fn),new M(gn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Jt(+fn,+gn);case"[object Error]":return fn.name==gn.name&&fn.message==gn.message;case"[object RegExp]":case"[object String]":return fn==gn+"";case s:var $r=E;case a:var Uo=2&ti;if($r||($r=S),fn.size!=gn.size&&!Uo)return!1;var Va=ni.get(fn);if(Va)return Va==gn;ti|=1,ni.set(fn,gn);var lo=In($r(fn),$r(gn),co,Xc,ti,ni);return ni.delete(fn),lo;case"[object Symbol]":if(Te)return Te.call(fn)==Te.call(gn)}return!1})(et,tt,Gt,zt,xt,wt,kt);if(!(2&wt)){var sn=Qn&&z.call(et,"__wrapped__"),Pi=Cr&&z.call(tt,"__wrapped__");if(sn||Pi){var xs=sn?et.value():et,Fi=Pi?tt.value():tt;return kt||(kt=new Ft),zt(xs,Fi,xt,wt,kt)}}return Ur?(kt||(kt=new Ft),(function(fn,gn,Nu,co,Xc,ti){var ni=2&Xc,$r=Xn(fn),Uo=$r.length,Va=Xn(gn).length;if(Uo!=Va&&!ni)return!1;for(var lo=Uo;lo--;){var Ji=$r[lo];if(!(ni?Ji in gn:z.call(gn,Ji)))return!1}var Ou=ti.get(fn);if(Ou&&ti.get(gn))return Ou==gn;var es=!0;ti.set(fn,gn),ti.set(gn,fn);for(var Pu=ni;++lo<Uo;){Ji=$r[lo];var Qc=fn[Ji],Zc=gn[Ji];if(co)var ts=ni?co(Zc,Qc,Ji,gn,fn,ti):co(Qc,Zc,Ji,fn,gn,ti);if(!(ts===void 0?Qc===Zc||Nu(Qc,Zc,co,Xc,ti):ts)){es=!1;break}Pu||(Pu=Ji=="constructor")}if(es&&!Pu){var Jc=fn.constructor,uo=gn.constructor;Jc==uo||!("constructor"in fn)||!("constructor"in gn)||typeof Jc=="function"&&Jc instanceof Jc&&typeof uo=="function"&&uo instanceof uo||(es=!1)}return ti.delete(fn),ti.delete(gn),es})(et,tt,zt,xt,wt,kt)):!1})(ie,ge,dt,Ie,Se,Oe))}function pt(ie){return!(!wn(ie)||(function(ge){return!!F&&F in ge})(ie))&&(Bt(ie)||P(ie)?O:p).test(Ce(ie))}function Wn(ie){return typeof ie=="function"?ie:ie==null?yr:typeof ie=="object"?We(ie)?(function(Se,Oe){return gt(Se)&&Er(Oe)?Mt(be(Se),Oe):function(et){var tt=(function(zt,xt,wt){var kt=zt==null?void 0:ut(zt,xt);return kt===void 0?wt:kt})(et,Se);return tt===void 0&&tt===Oe?(function(zt,xt){return zt!=null&&(function(wt,kt,Pn){kt=gt(kt,wt)?[kt]:It(kt);for(var Kn,Gt=-1,Yt=kt.length;++Gt<Yt;){var Qn=be(kt[Gt]);if(!(Kn=wt!=null&&Pn(wt,Qn)))break;wt=wt[Qn]}return Kn||!!(Yt=wt?wt.length:0)&&Ht(Yt)&&Tt(Qn,Yt)&&(We(wt)||ft(wt))})(zt,xt,mr)})(et,Se):dt(Oe,tt,void 0,3)}})(ie[0],ie[1]):(function(Se){var Oe=(function(et){for(var tt=Xn(et),zt=tt.length;zt--;){var xt=tt[zt],wt=et[xt];tt[zt]=[xt,wt,Er(wt)]}return tt})(Se);return Oe.length==1&&Oe[0][2]?Mt(Oe[0][0],Oe[0][1]):function(et){return et===Se||(function(tt,zt,xt,wt){var kt=xt.length,Pn=kt,Kn=!wt;if(tt==null)return!Pn;for(tt=Object(tt);kt--;){var Gt=xt[kt];if(Kn&&Gt[2]?Gt[1]!==tt[Gt[0]]:!(Gt[0]in tt))return!1}for(;++kt<Pn;){var Yt=(Gt=xt[kt])[0],Qn=tt[Yt],Cr=Gt[1];if(Kn&&Gt[2]){if(Qn===void 0&&!(Yt in tt))return!1}else{var Ur=new Ft;if(wt)var sn=wt(Qn,Cr,Yt,tt,zt,Ur);if(!(sn===void 0?dt(Cr,Qn,wt,3,Ur):sn))return!1}}return!0})(et,Se,Oe)}})(ie):gt(ge=ie)?(Ie=be(ge),function(Se){return Se?.[Ie]}):(function(Se){return function(Oe){return ut(Oe,Se)}})(ge);var ge,Ie}function _t(ie){if(Ie=(ge=ie)&&ge.constructor,Se=typeof Ie=="function"&&Ie.prototype||C,ge!==Se)return X(ie);var ge,Ie,Se,Oe=[];for(var et in Object(ie))z.call(ie,et)&&et!="constructor"&&Oe.push(et);return Oe}function It(ie){return We(ie)?ie:oe(ie)}function In(ie,ge,Ie,Se,Oe,et){var tt=2&Oe,zt=ie.length,xt=ge.length;if(zt!=xt&&!(tt&&xt>zt))return!1;var wt=et.get(ie);if(wt&&et.get(ge))return wt==ge;var kt=-1,Pn=!0,Kn=1&Oe?new He:void 0;for(et.set(ie,ge),et.set(ge,ie);++kt<zt;){var Gt=ie[kt],Yt=ge[kt];if(Se)var Qn=tt?Se(Yt,Gt,kt,ge,ie,et):Se(Gt,Yt,kt,ie,ge,et);if(Qn!==void 0){if(Qn)continue;Pn=!1;break}if(Kn){if(!j(ge,function(Cr,Ur){if(!Kn.has(Ur)&&(Gt===Cr||Ie(Gt,Cr,Se,Oe,et)))return Kn.add(Ur)})){Pn=!1;break}}else if(Gt!==Yt&&!Ie(Gt,Yt,Se,Oe,et)){Pn=!1;break}}return et.delete(ie),et.delete(ge),Pn}function yt(ie,ge){var Ie,Se,Oe=ie.__data__;return((Se=typeof(Ie=ge))=="string"||Se=="number"||Se=="symbol"||Se=="boolean"?Ie!=="__proto__":Ie===null)?Oe[typeof ge=="string"?"string":"hash"]:Oe.map}function ht(ie,ge){var Ie=(function(Se,Oe){return Se?.[Oe]})(ie,ge);return pt(Ie)?Ie:void 0}var Gn=function(ie){return Y.call(ie)};function Tt(ie,ge){return!!(ge=ge??9007199254740991)&&(typeof ie=="number"||h.test(ie))&&ie>-1&&ie%1==0&&ie<ge}function gt(ie,ge){if(We(ie))return!1;var Ie=typeof ie;return!(Ie!="number"&&Ie!="symbol"&&Ie!="boolean"&&ie!=null&&!or(ie))||u.test(ie)||!c.test(ie)||ge!=null&&ie in Object(ge)}function Er(ie){return ie==ie&&!wn(ie)}function Mt(ie,ge){return function(Ie){return Ie!=null&&Ie[ie]===ge&&(ge!==void 0||ie in Object(Ie))}}(re&&Gn(new re(new ArrayBuffer(1)))!="[object DataView]"||Z&&Gn(new Z)!=s||te&&Gn(te.resolve())!="[object Promise]"||de&&Gn(new de)!=a||le&&Gn(new le)!="[object WeakMap]")&&(Gn=function(ie){var ge=Y.call(ie),Ie=ge==o?ie.constructor:void 0,Se=Ie?Ce(Ie):void 0;if(Se)switch(Se){case ce:return"[object DataView]";case se:return s;case ue:return"[object Promise]";case pe:return a;case fe:return"[object WeakMap]"}return ge});var oe=Ke(function(ie){var ge;ie=(ge=ie)==null?"":(function(Se){if(typeof Se=="string")return Se;if(or(Se))return Me?Me.call(Se):"";var Oe=Se+"";return Oe=="0"&&1/Se==-1/0?"-0":Oe})(ge);var Ie=[];return l.test(ie)&&Ie.push(""),ie.replace(d,function(Se,Oe,et,tt){Ie.push(et?tt.replace(f,"$1"):Oe||Se)}),Ie});function be(ie){if(typeof ie=="string"||or(ie))return ie;var ge=ie+"";return ge=="0"&&1/ie==-1/0?"-0":ge}function Ce(ie){if(ie!=null){try{return $.call(ie)}catch{}try{return ie+""}catch{}}return""}var Ae,Zt,Ve=(Ae=function(ie,ge,Ie){z.call(ie,Ie)?ie[Ie].push(ge):ie[Ie]=[ge]},function(ie,ge){var Ie=We(ie)?N:lt,Se=Zt?Zt():{};return Ie(ie,Ae,Wn(ge),Se)});function Ke(ie,ge){if(typeof ie!="function"||ge&&typeof ge!="function")throw new TypeError("Expected a function");var Ie=function(){var Se=arguments,Oe=ge?ge.apply(this,Se):Se[0],et=Ie.cache;if(et.has(Oe))return et.get(Oe);var tt=ie.apply(this,Se);return Ie.cache=et.set(Oe,tt),tt};return Ie.cache=new(Ke.Cache||Fe),Ie}function Jt(ie,ge){return ie===ge||ie!=ie&&ge!=ge}function ft(ie){return(function(ge){return On(ge)&&dn(ge)})(ie)&&z.call(ie,"callee")&&(!A.call(ie,"callee")||Y.call(ie)==i)}Ke.Cache=Fe;var We=Array.isArray;function dn(ie){return ie!=null&&Ht(ie.length)&&!Bt(ie)}function Bt(ie){var ge=wn(ie)?Y.call(ie):"";return ge=="[object Function]"||ge=="[object GeneratorFunction]"}function Ht(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=9007199254740991}function wn(ie){var ge=typeof ie;return!!ie&&(ge=="object"||ge=="function")}function On(ie){return!!ie&&typeof ie=="object"}function or(ie){return typeof ie=="symbol"||On(ie)&&Y.call(ie)=="[object Symbol]"}var gr=R?(function(ie){return function(ge){return ie(ge)}})(R):function(ie){return On(ie)&&Ht(ie.length)&&!!y[Y.call(ie)]};function Xn(ie){return dn(ie)?st(ie):_t(ie)}function yr(ie){return ie}e.exports=Ve}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(i){return i===!0||i===!1||(function(s){return!!s&&typeof s=="object"})(i)&&r.call(i)=="[object Boolean]"}},{}],445:[function(t,e,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l[s]=l["[object Number]"]=l[o]=l["[object RegExp]"]=l[a]=l["[object String]"]=l["[object WeakMap]"]=!1;var d=typeof r=="object"&&r&&r.Object===Object&&r,f=typeof self=="object"&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),h=typeof n=="object"&&n&&!n.nodeType&&n,y=h&&typeof e=="object"&&e&&!e.nodeType&&e,g=y&&y.exports===h,_=g&&d.process,x=(function(){try{return _&&_.binding&&_.binding("util")}catch{}})(),k=x&&x.isTypedArray;function L(oe,be){for(var Ce=-1,Ae=oe==null?0:oe.length;++Ce<Ae;)if(be(oe[Ce],Ce,oe))return!0;return!1}function B(oe){var be=-1,Ce=Array(oe.size);return oe.forEach(function(Ae,Zt){Ce[++be]=[Zt,Ae]}),Ce}function V(oe){var be=-1,Ce=Array(oe.size);return oe.forEach(function(Ae){Ce[++be]=Ae}),Ce}var R,N,j,P=Array.prototype,E=Function.prototype,S=Object.prototype,D=p["__core-js_shared__"],m=E.toString,v=S.hasOwnProperty,w=(R=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",b=S.toString,C=RegExp("^"+m.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=g?p.Buffer:void 0,F=p.Symbol,$=p.Uint8Array,z=S.propertyIsEnumerable,Y=P.splice,O=F?F.toStringTag:void 0,W=Object.getOwnPropertySymbols,M=I?I.isBuffer:void 0,A=(N=Object.keys,j=Object,function(oe){return N(j(oe))}),U=ut(p,"DataView"),X=ut(p,"Map"),re=ut(p,"Promise"),Z=ut(p,"Set"),te=ut(p,"WeakMap"),de=ut(Object,"create"),le=Wn(U),Q=Wn(X),ce=Wn(re),se=Wn(Z),ue=Wn(te),pe=F?F.prototype:void 0,fe=pe?pe.valueOf:void 0;function he(oe){var be=-1,Ce=oe==null?0:oe.length;for(this.clear();++be<Ce;){var Ae=oe[be];this.set(Ae[0],Ae[1])}}function Te(oe){var be=-1,Ce=oe==null?0:oe.length;for(this.clear();++be<Ce;){var Ae=oe[be];this.set(Ae[0],Ae[1])}}function Me(oe){var be=-1,Ce=oe==null?0:oe.length;for(this.clear();++be<Ce;){var Ae=oe[be];this.set(Ae[0],Ae[1])}}function ke(oe){var be=-1,Ce=oe==null?0:oe.length;for(this.__data__=new Me;++be<Ce;)this.add(oe[be])}function it(oe){var be=this.__data__=new Te(oe);this.size=be.size}function Fe(oe,be){var Ce=In(oe),Ae=!Ce&&It(oe),Zt=!Ce&&!Ae&&yt(oe),Ve=!Ce&&!Ae&&!Zt&&Er(oe),Ke=Ce||Ae||Zt||Ve,Jt=Ke?(function(dn,Bt){for(var Ht=-1,wn=Array(dn);++Ht<dn;)wn[Ht]=Bt(Ht);return wn})(oe.length,String):[],ft=Jt.length;for(var We in oe)!be&&!v.call(oe,We)||Ke&&(We=="length"||Zt&&(We=="offset"||We=="parent")||Ve&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||pt(We,ft))||Jt.push(We);return Jt}function He(oe,be){for(var Ce=oe.length;Ce--;)if(_t(oe[Ce][0],be))return Ce;return-1}function Ft(oe){return oe==null?oe===void 0?"[object Undefined]":"[object Null]":O&&O in Object(oe)?(function(be){var Ce=v.call(be,O),Ae=be[O];try{be[O]=void 0;var Zt=!0}catch{}var Ve=b.call(be);return Zt&&(Ce?be[O]=Ae:delete be[O]),Ve})(oe):(function(be){return b.call(be)})(oe)}function st(oe){return gt(oe)&&Ft(oe)==i}function ze(oe,be,Ce,Ae,Zt){return oe===be||(oe==null||be==null||!gt(oe)&&!gt(be)?oe!=oe&&be!=be:(function(Ve,Ke,Jt,ft,We,dn){var Bt=In(Ve),Ht=In(Ke),wn=Bt?"[object Array]":dt(Ve),On=Ht?"[object Array]":dt(Ke),or=(wn=wn==i?o:wn)==o,gr=(On=On==i?o:On)==o,Xn=wn==On;if(Xn&&yt(Ve)){if(!yt(Ke))return!1;Bt=!0,or=!1}if(Xn&&!or)return dn||(dn=new it),Bt||Er(Ve)?Ne(Ve,Ke,Jt,ft,We,dn):(function(Se,Oe,et,tt,zt,xt,wt){switch(et){case"[object DataView]":if(Se.byteLength!=Oe.byteLength||Se.byteOffset!=Oe.byteOffset)return!1;Se=Se.buffer,Oe=Oe.buffer;case"[object ArrayBuffer]":return!(Se.byteLength!=Oe.byteLength||!xt(new $(Se),new $(Oe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _t(+Se,+Oe);case"[object Error]":return Se.name==Oe.name&&Se.message==Oe.message;case"[object RegExp]":case"[object String]":return Se==Oe+"";case s:var kt=B;case a:var Pn=1&tt;if(kt||(kt=V),Se.size!=Oe.size&&!Pn)return!1;var Kn=wt.get(Se);if(Kn)return Kn==Oe;tt|=2,wt.set(Se,Oe);var Gt=Ne(kt(Se),kt(Oe),tt,zt,xt,wt);return wt.delete(Se),Gt;case"[object Symbol]":if(fe)return fe.call(Se)==fe.call(Oe)}return!1})(Ve,Ke,wn,Jt,ft,We,dn);if(!(1&Jt)){var yr=or&&v.call(Ve,"__wrapped__"),ie=gr&&v.call(Ke,"__wrapped__");if(yr||ie){var ge=yr?Ve.value():Ve,Ie=ie?Ke.value():Ke;return dn||(dn=new it),We(ge,Ie,Jt,ft,dn)}}return Xn?(dn||(dn=new it),(function(Se,Oe,et,tt,zt,xt){var wt=1&et,kt=At(Se),Pn=kt.length,Kn=At(Oe).length;if(Pn!=Kn&&!wt)return!1;for(var Gt=Pn;Gt--;){var Yt=kt[Gt];if(!(wt?Yt in Oe:v.call(Oe,Yt)))return!1}var Qn=xt.get(Se);if(Qn&&xt.get(Oe))return Qn==Oe;var Cr=!0;xt.set(Se,Oe),xt.set(Oe,Se);for(var Ur=wt;++Gt<Pn;){Yt=kt[Gt];var sn=Se[Yt],Pi=Oe[Yt];if(tt)var xs=wt?tt(Pi,sn,Yt,Oe,Se,xt):tt(sn,Pi,Yt,Se,Oe,xt);if(!(xs===void 0?sn===Pi||zt(sn,Pi,et,tt,xt):xs)){Cr=!1;break}Ur||(Ur=Yt=="constructor")}if(Cr&&!Ur){var Fi=Se.constructor,fn=Oe.constructor;Fi==fn||!("constructor"in Se)||!("constructor"in Oe)||typeof Fi=="function"&&Fi instanceof Fi&&typeof fn=="function"&&fn instanceof fn||(Cr=!1)}return xt.delete(Se),xt.delete(Oe),Cr})(Ve,Ke,Jt,ft,We,dn)):!1})(oe,be,Ce,Ae,ze,Zt))}function lt(oe){return!(!Tt(oe)||(function(be){return!!w&&w in be})(oe))&&(ht(oe)?C:c).test(Wn(oe))}function Pe(oe){if(Ce=(be=oe)&&be.constructor,Ae=typeof Ce=="function"&&Ce.prototype||S,be!==Ae)return A(oe);var be,Ce,Ae,Zt=[];for(var Ve in Object(oe))v.call(oe,Ve)&&Ve!="constructor"&&Zt.push(Ve);return Zt}function Ne(oe,be,Ce,Ae,Zt,Ve){var Ke=1&Ce,Jt=oe.length,ft=be.length;if(Jt!=ft&&!(Ke&&ft>Jt))return!1;var We=Ve.get(oe);if(We&&Ve.get(be))return We==be;var dn=-1,Bt=!0,Ht=2&Ce?new ke:void 0;for(Ve.set(oe,be),Ve.set(be,oe);++dn<Jt;){var wn=oe[dn],On=be[dn];if(Ae)var or=Ke?Ae(On,wn,dn,be,oe,Ve):Ae(wn,On,dn,oe,be,Ve);if(or!==void 0){if(or)continue;Bt=!1;break}if(Ht){if(!L(be,function(gr,Xn){if(yr=Xn,!Ht.has(yr)&&(wn===gr||Zt(wn,gr,Ce,Ae,Ve)))return Ht.push(Xn);var yr})){Bt=!1;break}}else if(wn!==On&&!Zt(wn,On,Ce,Ae,Ve)){Bt=!1;break}}return Ve.delete(oe),Ve.delete(be),Bt}function At(oe){return(function(be,Ce,Ae){var Zt=Ce(be);return In(be)?Zt:(function(Ve,Ke){for(var Jt=-1,ft=Ke.length,We=Ve.length;++Jt<ft;)Ve[We+Jt]=Ke[Jt];return Ve})(Zt,Ae(be))})(oe,Mt,mr)}function Ye(oe,be){var Ce,Ae,Zt=oe.__data__;return((Ae=typeof(Ce=be))=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?Ce!=="__proto__":Ce===null)?Zt[typeof be=="string"?"string":"hash"]:Zt.map}function ut(oe,be){var Ce=(function(Ae,Zt){return Ae?.[Zt]})(oe,be);return lt(Ce)?Ce:void 0}he.prototype.clear=function(){this.__data__=de?de(null):{},this.size=0},he.prototype.delete=function(oe){var be=this.has(oe)&&delete this.__data__[oe];return this.size-=be?1:0,be},he.prototype.get=function(oe){var be=this.__data__;if(de){var Ce=be[oe];return Ce==="__lodash_hash_undefined__"?void 0:Ce}return v.call(be,oe)?be[oe]:void 0},he.prototype.has=function(oe){var be=this.__data__;return de?be[oe]!==void 0:v.call(be,oe)},he.prototype.set=function(oe,be){var Ce=this.__data__;return this.size+=this.has(oe)?0:1,Ce[oe]=de&&be===void 0?"__lodash_hash_undefined__":be,this},Te.prototype.clear=function(){this.__data__=[],this.size=0},Te.prototype.delete=function(oe){var be=this.__data__,Ce=He(be,oe);return!(Ce<0)&&(Ce==be.length-1?be.pop():Y.call(be,Ce,1),--this.size,!0)},Te.prototype.get=function(oe){var be=this.__data__,Ce=He(be,oe);return Ce<0?void 0:be[Ce][1]},Te.prototype.has=function(oe){return He(this.__data__,oe)>-1},Te.prototype.set=function(oe,be){var Ce=this.__data__,Ae=He(Ce,oe);return Ae<0?(++this.size,Ce.push([oe,be])):Ce[Ae][1]=be,this},Me.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(X||Te),string:new he}},Me.prototype.delete=function(oe){var be=Ye(this,oe).delete(oe);return this.size-=be?1:0,be},Me.prototype.get=function(oe){return Ye(this,oe).get(oe)},Me.prototype.has=function(oe){return Ye(this,oe).has(oe)},Me.prototype.set=function(oe,be){var Ce=Ye(this,oe),Ae=Ce.size;return Ce.set(oe,be),this.size+=Ce.size==Ae?0:1,this},ke.prototype.add=ke.prototype.push=function(oe){return this.__data__.set(oe,"__lodash_hash_undefined__"),this},ke.prototype.has=function(oe){return this.__data__.has(oe)},it.prototype.clear=function(){this.__data__=new Te,this.size=0},it.prototype.delete=function(oe){var be=this.__data__,Ce=be.delete(oe);return this.size=be.size,Ce},it.prototype.get=function(oe){return this.__data__.get(oe)},it.prototype.has=function(oe){return this.__data__.has(oe)},it.prototype.set=function(oe,be){var Ce=this.__data__;if(Ce instanceof Te){var Ae=Ce.__data__;if(!X||Ae.length<199)return Ae.push([oe,be]),this.size=++Ce.size,this;Ce=this.__data__=new Me(Ae)}return Ce.set(oe,be),this.size=Ce.size,this};var mr=W?function(oe){return oe==null?[]:(oe=Object(oe),(function(be,Ce){for(var Ae=-1,Zt=be==null?0:be.length,Ve=0,Ke=[];++Ae<Zt;){var Jt=be[Ae];Ce(Jt,Ae,be)&&(Ke[Ve++]=Jt)}return Ke})(W(oe),function(be){return z.call(oe,be)}))}:function(){return[]},dt=Ft;function pt(oe,be){return!!(be=be??9007199254740991)&&(typeof oe=="number"||u.test(oe))&&oe>-1&&oe%1==0&&oe<be}function Wn(oe){if(oe!=null){try{return m.call(oe)}catch{}try{return oe+""}catch{}}return""}function _t(oe,be){return oe===be||oe!=oe&&be!=be}(U&&dt(new U(new ArrayBuffer(1)))!="[object DataView]"||X&&dt(new X)!=s||re&&dt(re.resolve())!="[object Promise]"||Z&&dt(new Z)!=a||te&&dt(new te)!="[object WeakMap]")&&(dt=function(oe){var be=Ft(oe),Ce=be==o?oe.constructor:void 0,Ae=Ce?Wn(Ce):"";if(Ae)switch(Ae){case le:return"[object DataView]";case Q:return s;case ce:return"[object Promise]";case se:return a;case ue:return"[object WeakMap]"}return be});var It=st((function(){return arguments})())?st:function(oe){return gt(oe)&&v.call(oe,"callee")&&!z.call(oe,"callee")},In=Array.isArray,yt=M||function(){return!1};function ht(oe){if(!Tt(oe))return!1;var be=Ft(oe);return be=="[object Function]"||be=="[object GeneratorFunction]"||be=="[object AsyncFunction]"||be=="[object Proxy]"}function Gn(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=9007199254740991}function Tt(oe){var be=typeof oe;return oe!=null&&(be=="object"||be=="function")}function gt(oe){return oe!=null&&typeof oe=="object"}var Er=k?(function(oe){return function(be){return oe(be)}})(k):function(oe){return gt(oe)&&Gn(oe.length)&&!!l[Ft(oe)]};function Mt(oe){return(be=oe)!=null&&Gn(be.length)&&!ht(be)?Fe(oe):Pe(oe);var be}e.exports=function(oe,be){return ze(oe,be)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,e,n){(function(r){(function(){"use strict";var i=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,o=i||s||Function("return this")(),a=Object.prototype,c=a.hasOwnProperty,u=a.toString,l=o.Symbol,d=l?l.toStringTag:void 0;function f(p){return p==null?p===void 0?"[object Undefined]":"[object Null]":d&&d in Object(p)?(function(h){var y=c.call(h,d),g=h[d];try{h[d]=void 0;var _=!0}catch{}var x=u.call(h);return _&&(y?h[d]=g:delete h[d]),x})(p):(function(h){return u.call(h)})(p)}e.exports=function(p){if(!(function(y){var g=typeof y;return y!=null&&(g=="object"||g=="function")})(p))return!1;var h=f(p);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,e,n){"use strict";e.exports=function(r){return r==null}},{}],448:[function(t,e,n){"use strict";e.exports=function(r){return r===void 0}},{}],449:[function(t,e,n){(function(r){(function(){"use strict";var i=/^\[object .+?Constructor\]$/,s=typeof r=="object"&&r&&r.Object===Object&&r,o=typeof self=="object"&&self&&self.Object===Object&&self,a=s||o||Function("return this")();function c($,z){return!!($&&$.length)&&(function(Y,O,W){if(O!=O)return(function(U,X,re,Z){for(var te=U.length,de=re+(Z?1:-1);Z?de--:++de<te;)if(X(U[de],de,U))return de;return-1})(Y,l,W);for(var M=W-1,A=Y.length;++M<A;)if(Y[M]===O)return M;return-1})($,z,0)>-1}function u($,z,Y){for(var O=-1,W=$?$.length:0;++O<W;)if(Y(z,$[O]))return!0;return!1}function l($){return $!=$}function d($,z){return $.has(z)}function f($){var z=-1,Y=Array($.size);return $.forEach(function(O){Y[++z]=O}),Y}var p,h=Array.prototype,y=Function.prototype,g=Object.prototype,_=a["__core-js_shared__"],x=(p=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",k=y.toString,L=g.hasOwnProperty,B=g.toString,V=RegExp("^"+k.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=h.splice,N=I(a,"Map"),j=I(a,"Set"),P=I(Object,"create");function E($){var z=-1,Y=$?$.length:0;for(this.clear();++z<Y;){var O=$[z];this.set(O[0],O[1])}}function S($){var z=-1,Y=$?$.length:0;for(this.clear();++z<Y;){var O=$[z];this.set(O[0],O[1])}}function D($){var z=-1,Y=$?$.length:0;for(this.clear();++z<Y;){var O=$[z];this.set(O[0],O[1])}}function m($){var z=-1,Y=$?$.length:0;for(this.__data__=new D;++z<Y;)this.add($[z])}function v($,z){for(var Y,O,W=$.length;W--;)if((Y=$[W][0])===(O=z)||Y!=Y&&O!=O)return W;return-1}function w($){return!(!F($)||(z=$,x&&x in z))&&((function(Y){var O=F(Y)?B.call(Y):"";return O=="[object Function]"||O=="[object GeneratorFunction]"})($)||(function(Y){var O=!1;if(Y!=null&&typeof Y.toString!="function")try{O=!!(Y+"")}catch{}return O})($)?V:i).test((function(Y){if(Y!=null){try{return k.call(Y)}catch{}try{return Y+""}catch{}}return""})($));var z}E.prototype.clear=function(){this.__data__=P?P(null):{}},E.prototype.delete=function($){return this.has($)&&delete this.__data__[$]},E.prototype.get=function($){var z=this.__data__;if(P){var Y=z[$];return Y==="__lodash_hash_undefined__"?void 0:Y}return L.call(z,$)?z[$]:void 0},E.prototype.has=function($){var z=this.__data__;return P?z[$]!==void 0:L.call(z,$)},E.prototype.set=function($,z){return this.__data__[$]=P&&z===void 0?"__lodash_hash_undefined__":z,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function($){var z=this.__data__,Y=v(z,$);return!(Y<0)&&(Y==z.length-1?z.pop():R.call(z,Y,1),!0)},S.prototype.get=function($){var z=this.__data__,Y=v(z,$);return Y<0?void 0:z[Y][1]},S.prototype.has=function($){return v(this.__data__,$)>-1},S.prototype.set=function($,z){var Y=this.__data__,O=v(Y,$);return O<0?Y.push([$,z]):Y[O][1]=z,this},D.prototype.clear=function(){this.__data__={hash:new E,map:new(N||S),string:new E}},D.prototype.delete=function($){return C(this,$).delete($)},D.prototype.get=function($){return C(this,$).get($)},D.prototype.has=function($){return C(this,$).has($)},D.prototype.set=function($,z){return C(this,$).set($,z),this},m.prototype.add=m.prototype.push=function($){return this.__data__.set($,"__lodash_hash_undefined__"),this},m.prototype.has=function($){return this.__data__.has($)};var b=j&&1/f(new j([,-0]))[1]==1/0?function($){return new j($)}:function(){};function C($,z){var Y,O,W=$.__data__;return((O=typeof(Y=z))=="string"||O=="number"||O=="symbol"||O=="boolean"?Y!=="__proto__":Y===null)?W[typeof z=="string"?"string":"hash"]:W.map}function I($,z){var Y=(function(O,W){return O?.[W]})($,z);return w(Y)?Y:void 0}function F($){var z=typeof $;return!!$&&(z=="object"||z=="function")}e.exports=function($){return $&&$.length?(function(z,Y,O){var W=-1,M=c,A=z.length,U=!0,X=[],re=X;if(O)U=!1,M=u;else if(A>=200){var Z=Y?null:b(z);if(Z)return f(Z);U=!1,M=d,re=new m}else re=Y?[]:X;e:for(;++W<A;){var te=z[W],de=Y?Y(te):te;if(te=O||te!==0?te:0,U&&de==de){for(var le=re.length;le--;)if(re[le]===de)continue e;Y&&re.push(de),X.push(te)}else M(re,de,O)||(re!==X&&re.push(de),X.push(te))}return X})($):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,e,n){"use strict";var r=t("inherits"),i=t("hash-base"),s=t("safe-buffer").Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(p,h){return p<<h|p>>>32-h}function u(p,h,y,g,_,x,k){return c(p+(h&y|~h&g)+_+x|0,k)+h|0}function l(p,h,y,g,_,x,k){return c(p+(h&g|y&~g)+_+x|0,k)+h|0}function d(p,h,y,g,_,x,k){return c(p+(h^y^g)+_+x|0,k)+h|0}function f(p,h,y,g,_,x,k){return c(p+(y^(h|~g))+_+x|0,k)+h|0}r(a,i),a.prototype._update=function(){for(var p=o,h=0;h<16;++h)p[h]=this._block.readInt32LE(4*h);var y=this._a,g=this._b,_=this._c,x=this._d;y=u(y,g,_,x,p[0],3614090360,7),x=u(x,y,g,_,p[1],3905402710,12),_=u(_,x,y,g,p[2],606105819,17),g=u(g,_,x,y,p[3],3250441966,22),y=u(y,g,_,x,p[4],4118548399,7),x=u(x,y,g,_,p[5],1200080426,12),_=u(_,x,y,g,p[6],2821735955,17),g=u(g,_,x,y,p[7],4249261313,22),y=u(y,g,_,x,p[8],1770035416,7),x=u(x,y,g,_,p[9],2336552879,12),_=u(_,x,y,g,p[10],4294925233,17),g=u(g,_,x,y,p[11],2304563134,22),y=u(y,g,_,x,p[12],1804603682,7),x=u(x,y,g,_,p[13],4254626195,12),_=u(_,x,y,g,p[14],2792965006,17),y=l(y,g=u(g,_,x,y,p[15],1236535329,22),_,x,p[1],4129170786,5),x=l(x,y,g,_,p[6],3225465664,9),_=l(_,x,y,g,p[11],643717713,14),g=l(g,_,x,y,p[0],3921069994,20),y=l(y,g,_,x,p[5],3593408605,5),x=l(x,y,g,_,p[10],38016083,9),_=l(_,x,y,g,p[15],3634488961,14),g=l(g,_,x,y,p[4],3889429448,20),y=l(y,g,_,x,p[9],568446438,5),x=l(x,y,g,_,p[14],3275163606,9),_=l(_,x,y,g,p[3],4107603335,14),g=l(g,_,x,y,p[8],1163531501,20),y=l(y,g,_,x,p[13],2850285829,5),x=l(x,y,g,_,p[2],4243563512,9),_=l(_,x,y,g,p[7],1735328473,14),y=d(y,g=l(g,_,x,y,p[12],2368359562,20),_,x,p[5],4294588738,4),x=d(x,y,g,_,p[8],2272392833,11),_=d(_,x,y,g,p[11],1839030562,16),g=d(g,_,x,y,p[14],4259657740,23),y=d(y,g,_,x,p[1],2763975236,4),x=d(x,y,g,_,p[4],1272893353,11),_=d(_,x,y,g,p[7],4139469664,16),g=d(g,_,x,y,p[10],3200236656,23),y=d(y,g,_,x,p[13],681279174,4),x=d(x,y,g,_,p[0],3936430074,11),_=d(_,x,y,g,p[3],3572445317,16),g=d(g,_,x,y,p[6],76029189,23),y=d(y,g,_,x,p[9],3654602809,4),x=d(x,y,g,_,p[12],3873151461,11),_=d(_,x,y,g,p[15],530742520,16),y=f(y,g=d(g,_,x,y,p[2],3299628645,23),_,x,p[0],4096336452,6),x=f(x,y,g,_,p[7],1126891415,10),_=f(_,x,y,g,p[14],2878612391,15),g=f(g,_,x,y,p[5],4237533241,21),y=f(y,g,_,x,p[12],1700485571,6),x=f(x,y,g,_,p[3],2399980690,10),_=f(_,x,y,g,p[10],4293915773,15),g=f(g,_,x,y,p[1],2240044497,21),y=f(y,g,_,x,p[8],1873313359,6),x=f(x,y,g,_,p[15],4264355552,10),_=f(_,x,y,g,p[6],2734768916,15),g=f(g,_,x,y,p[13],1309151649,21),y=f(y,g,_,x,p[4],4149444226,6),x=f(x,y,g,_,p[11],3174756917,10),_=f(_,x,y,g,p[2],718787259,15),g=f(g,_,x,y,p[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+g|0,this._c=this._c+_|0,this._d=this._d+x|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=s.allocUnsafe(16);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p},e.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("brorand");function s(o){this.rand=o||new i.Rand}e.exports=s,s.create=function(o){return new s(o)},s.prototype._randbelow=function(o){var a=o.bitLength(),c=Math.ceil(a/8);do var u=new r(this.rand.generate(c));while(u.cmp(o)>=0);return u},s.prototype._randrange=function(o,a){var c=a.sub(o);return o.add(this._randbelow(c))},s.prototype.test=function(o,a,c){var u=o.bitLength(),l=r.mont(o),d=new r(1).toRed(l);a||(a=Math.max(1,u/48|0));for(var f=o.subn(1),p=0;!f.testn(p);p++);for(var h=o.shrn(p),y=f.toRed(l);a>0;a--){var g=this._randrange(new r(2),f);c&&c(g);var _=g.toRed(l).redPow(h);if(_.cmp(d)!==0&&_.cmp(y)!==0){for(var x=1;x<p;x++){if((_=_.redSqr()).cmp(d)===0)return!1;if(_.cmp(y)===0)break}if(x===p)return!1}}return!0},s.prototype.getDivisor=function(o,a){var c=o.bitLength(),u=r.mont(o),l=new r(1).toRed(u);a||(a=Math.max(1,c/48|0));for(var d=o.subn(1),f=0;!d.testn(f);f++);for(var p=o.shrn(f),h=d.toRed(u);a>0;a--){var y=this._randrange(new r(2),d),g=o.gcd(y);if(g.cmpn(1)!==0)return g;var _=y.toRed(u).redPow(p);if(_.cmp(l)!==0&&_.cmp(h)!==0){for(var x=1;x<f;x++){if((_=_.redSqr()).cmp(l)===0)return _.fromRed().subn(1).gcd(o);if(_.cmp(h)===0)break}if(x===f)return(_=_.redSqr()).fromRed().subn(1).gcd(o)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(t,e,n){"use strict";function r(i,s){if(!i)throw new Error(s||"Assertion failed")}e.exports=r,r.equal=function(i,s,o){if(i!=s)throw new Error(o||"Assertion failed: "+i+" != "+s)}},{}],454:[function(t,e,n){"use strict";var r=n;function i(o){return o.length===1?"0"+o:o}function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toArray=function(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)c[u]=0|o[u];return c}if(a==="hex")for((o=o.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(o="0"+o),u=0;u<o.length;u+=2)c.push(parseInt(o[u]+o[u+1],16));else for(u=0;u<o.length;u++){var l=o.charCodeAt(u),d=l>>8,f=255&l;d?c.push(d,f):c.push(f)}return c},r.zero2=i,r.toHex=s,r.encode=function(o,a){return a==="hex"?s(o):o}},{}],455:[function(t,e,n){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,e,n){"use strict";var r=t("asn1.js");n.certificate=t("./certificate");var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=i;var s=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=s;var o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});n.PublicKey=o;var a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});n.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=l,n.DSAparam=r.define("DSAparam",function(){this.int()});var d=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=d;var f=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,e,n){"use strict";var r=t("asn1.js"),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),c=r.define("RelativeDistinguishedName",function(){this.setof(s)}),u=r.define("RDNSequence",function(){this.seqof(c)}),l=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(l),this.key("validity").use(d),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),h=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});e.exports=h},{"asn1.js":170}],458:[function(t,e,n){"use strict";var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=t("evp_bytestokey"),a=t("browserify-aes"),c=t("safe-buffer").Buffer;e.exports=function(u,l){var d,f=u.toString(),p=f.match(r);if(p){var h="aes"+p[1],y=c.from(p[2],"hex"),g=c.from(p[3].replace(/[\r\n]/g,""),"base64"),_=o(l,y.slice(0,8),parseInt(p[1],10)).key,x=[],k=a.createDecipheriv(h,_,y);x.push(k.update(g)),x.push(k.final()),d=c.concat(x)}else{var L=f.match(s);d=c.from(L[2].replace(/[\r\n]/g,""),"base64")}return{tag:f.match(i)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,e,n){"use strict";var r=t("./asn1"),i=t("./aesid.json"),s=t("./fixProc"),o=t("browserify-aes"),a=t("pbkdf2"),c=t("safe-buffer").Buffer;function u(l){var d;typeof l!="object"||c.isBuffer(l)||(d=l.passphrase,l=l.key),typeof l=="string"&&(l=c.from(l));var f,p,h=s(l,d),y=h.tag,g=h.data;switch(y){case"CERTIFICATE":p=r.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=r.PublicKey.decode(g,"der")),f=p.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=r.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+f)}case"ENCRYPTED PRIVATE KEY":g=(function(_,x){var k=_.algorithm.decrypt.kde.kdeparams.salt,L=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),B=i[_.algorithm.decrypt.cipher.algo.join(".")],V=_.algorithm.decrypt.cipher.iv,R=_.subjectPrivateKey,N=parseInt(B.split("-")[1],10)/8,j=a.pbkdf2Sync(x,k,L,N,"sha1"),P=o.createDecipheriv(B,j,V),E=[];return E.push(P.update(R)),E.push(P.final()),c.concat(E)})(g=r.EncryptedPrivateKey.decode(g,"der"),d);case"PRIVATE KEY":switch(f=(p=r.PrivateKey.decode(g,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:r.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=r.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+f)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return{curve:(g=r.ECPrivateKey.decode(g,"der")).parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+y)}}e.exports=u,u.signature=r.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,e,n){"use strict";n.pbkdf2=t("./lib/async"),n.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,e,n){(function(r){(function(){"use strict";var i,s,o=t("safe-buffer").Buffer,a=t("./precondition"),c=t("./default-encoding"),u=t("./sync"),l=t("./to-buffer"),d=r.crypto&&r.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function h(){return s||(s=r.process&&r.process.nextTick?r.process.nextTick:r.queueMicrotask?r.queueMicrotask:r.setImmediate?r.setImmediate:r.setTimeout)}function y(g,_,x,k,L){return d.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(B){return d.deriveBits({name:"PBKDF2",salt:_,iterations:x,hash:{name:L}},B,k<<3)}).then(function(B){return o.from(B)})}e.exports=function(g,_,x,k,L,B){typeof L=="function"&&(B=L,L=void 0);var V=f[(L=L||"sha1").toLowerCase()];if(V&&typeof r.Promise=="function"){if(a(x,k),g=l(g,c,"Password"),_=l(_,c,"Salt"),typeof B!="function")throw new Error("No callback provided to pbkdf2");(function(R,N){R.then(function(j){h()(function(){N(null,j)})},function(j){h()(function(){N(j)})})})((function(R){if(r.process&&!r.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(p[R]!==void 0)return p[R];var N=y(i=i||o.alloc(8),i,10,128,R).then(function(){return!0}).catch(function(){return!1});return p[R]=N,N})(V).then(function(R){return R?y(g,_,x,k,V):u(g,_,x,k,L)}),B)}else h()(function(){var R;try{R=u(g,_,x,k,L)}catch(N){return B(N)}B(null,R)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,e,n){(function(r,i){(function(){"use strict";var s;i.process&&i.process.browser?s="utf-8":i.process&&i.process.version?s=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":s="utf-8",e.exports=s}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,e,n){"use strict";var r=Math.pow(2,30)-1;e.exports=function(i,s){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof s!="number")throw new TypeError("Key length not a number");if(s<0||s>r||s!=s)throw new TypeError("Bad key length")}},{}],464:[function(t,e,n){"use strict";var r=t("create-hash/md5"),i=t("ripemd160"),s=t("sha.js"),o=t("safe-buffer").Buffer,a=t("./precondition"),c=t("./default-encoding"),u=t("./to-buffer"),l=o.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(p,h,y){var g=(function(V){function R(N){return s(V).update(N).digest()}return V==="rmd160"||V==="ripemd160"?function(N){return new i().update(N).digest()}:V==="md5"?r:R})(p),_=p==="sha512"||p==="sha384"?128:64;h.length>_?h=g(h):h.length<_&&(h=o.concat([h,l],_));for(var x=o.allocUnsafe(_+d[p]),k=o.allocUnsafe(_+d[p]),L=0;L<_;L++)x[L]=54^h[L],k[L]=92^h[L];var B=o.allocUnsafe(_+y+4);x.copy(B,0,0,_),this.ipad1=B,this.ipad2=x,this.opad=k,this.alg=p,this.blocksize=_,this.hash=g,this.size=d[p]}f.prototype.run=function(p,h){return p.copy(h,this.blocksize),this.hash(h).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(p,h,y,g,_){a(y,g);var x=new f(_=_||"sha1",p=u(p,c,"Password"),(h=u(h,c,"Salt")).length),k=o.allocUnsafe(g),L=o.allocUnsafe(h.length+4);h.copy(L,0,0,h.length);for(var B=0,V=d[_],R=Math.ceil(g/V),N=1;N<=R;N++){L.writeUInt32BE(N,h.length);for(var j=x.run(L,x.ipad1),P=j,E=1;E<y;E++){P=x.run(P,x.ipad2);for(var S=0;S<V;S++)j[S]^=P[S]}j.copy(k,B),B+=V}return k}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;e.exports=function(i,s,o){if(r.isBuffer(i))return i;if(typeof i=="string")return r.from(i,s);if(ArrayBuffer.isView(i))return r.from(i.buffer);throw new TypeError(o+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,e,n){(function(r){(function(){"use strict";r===void 0||!r.version||r.version.indexOf("v0.")===0||r.version.indexOf("v1.")===0&&r.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(i,s,o,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c,u,l=arguments.length;switch(l){case 0:case 1:return r.nextTick(i);case 2:return r.nextTick(function(){i.call(null,s)});case 3:return r.nextTick(function(){i.call(null,s,o)});case 4:return r.nextTick(function(){i.call(null,s,o,a)});default:for(c=new Array(l-1),u=0;u<c.length;)c[u++]=arguments[u];return r.nextTick(function(){i.apply(null,c)})}}}:e.exports=r}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,e,n){"use strict";var r,i,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(_){if(r===setTimeout)return setTimeout(_,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(_,0);try{return r(_,0)}catch{try{return r.call(null,_,0)}catch{return r.call(this,_,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:o}catch{r=o}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var u,l=[],d=!1,f=-1;function p(){d&&u&&(d=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!d){var _=c(p);d=!0;for(var x=l.length;x;){for(u=l,l=[];++f<x;)u&&u[f].run();f=-1,x=l.length}u=null,d=!1,(function(k){if(i===clearTimeout)return clearTimeout(k);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(k);try{i(k)}catch{try{return i.call(null,k)}catch{return i.call(this,k)}}})(_)}}function y(_,x){this.fun=_,this.array=x}function g(){}s.nextTick=function(_){var x=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)x[k-1]=arguments[k];l.push(new y(_,x)),l.length!==1||d||c(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(_){return[]},s.binding=function(_){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(_){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],468:[function(t,e,n){"use strict";n.publicEncrypt=t("./publicEncrypt"),n.privateDecrypt=t("./privateDecrypt"),n.privateEncrypt=function(r,i){return n.publicEncrypt(r,i,!0)},n.publicDecrypt=function(r,i){return n.privateDecrypt(r,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,e,n){"use strict";var r=t("create-hash"),i=t("safe-buffer").Buffer;function s(o){var a=i.allocUnsafe(4);return a.writeUInt32BE(o,0),a}e.exports=function(o,a){for(var c,u=i.alloc(0),l=0;u.length<a;)c=s(l++),u=i.concat([u,r("sha1").update(o).update(c).digest()]);return u.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(t,e,n){"use strict";var r=t("parse-asn1"),i=t("./mgf"),s=t("./xor"),o=t("bn.js"),a=t("browserify-rsa"),c=t("create-hash"),u=t("./withPublic"),l=t("safe-buffer").Buffer;e.exports=function(d,f,p){var h;h=d.padding?d.padding:p?1:4;var y,g=r(d),_=g.modulus.byteLength();if(f.length>_||new o(f).cmp(g.modulus)>=0)throw new Error("decryption error");y=p?u(new o(f),g):a(f,g);var x=l.alloc(_-y.length);if(y=l.concat([x,y],_),h===4)return(function(k,L){var B=k.modulus.byteLength(),V=c("sha1").update(l.alloc(0)).digest(),R=V.length;if(L[0]!==0)throw new Error("decryption error");var N=L.slice(1,R+1),j=L.slice(R+1),P=s(N,i(j,R)),E=s(j,i(P,B-R-1));if((function(D,m){D=l.from(D),m=l.from(m);var v=0,w=D.length;D.length!==m.length&&(v++,w=Math.min(D.length,m.length));for(var b=-1;++b<w;)v+=D[b]^m[b];return v})(V,E.slice(0,R)))throw new Error("decryption error");for(var S=R;E[S]===0;)S++;if(E[S++]!==1)throw new Error("decryption error");return E.slice(S)})(g,y);if(h===1)return(function(k,L,B){for(var V=L.slice(0,2),R=2,N=0;L[R++]!==0;)if(R>=L.length){N++;break}var j=L.slice(2,R-1);if((V.toString("hex")!=="0002"&&!B||V.toString("hex")!=="0001"&&B)&&N++,j.length<8&&N++,N)throw new Error("decryption error");return L.slice(R)})(0,y,p);if(h===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,e,n){"use strict";var r=t("parse-asn1"),i=t("randombytes"),s=t("create-hash"),o=t("./mgf"),a=t("./xor"),c=t("bn.js"),u=t("./withPublic"),l=t("browserify-rsa"),d=t("safe-buffer").Buffer;e.exports=function(f,p,h){var y;y=f.padding?f.padding:h?1:4;var g,_=r(f);if(y===4)g=(function(x,k){var L=x.modulus.byteLength(),B=k.length,V=s("sha1").update(d.alloc(0)).digest(),R=V.length,N=2*R;if(B>L-N-2)throw new Error("message too long");var j=d.alloc(L-B-N-2),P=L-R-1,E=i(R),S=a(d.concat([V,j,d.alloc(1,1),k],P),o(E,P)),D=a(E,o(S,R));return new c(d.concat([d.alloc(1),D,S],L))})(_,p);else if(y===1)g=(function(x,k,L){var B,V=k.length,R=x.modulus.byteLength();if(V>R-11)throw new Error("message too long");return B=L?d.alloc(R-V-3,255):(function(N){for(var j,P=d.allocUnsafe(N),E=0,S=i(2*N),D=0;E<N;)D===S.length&&(S=i(2*N),D=0),(j=S[D++])&&(P[E++]=j);return P})(R-V-3),new c(d.concat([d.from([0,L?1:2]),B,d.alloc(1),k],R))})(_,p,h);else{if(y!==3)throw new Error("unknown padding");if((g=new c(p)).cmp(_.modulus)>=0)throw new Error("data too long for modulus")}return h?l(g,_):u(g,_)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("safe-buffer").Buffer;e.exports=function(s,o){return i.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,e,n){"use strict";e.exports=function(r,i){for(var s=r.length,o=-1;++o<s;)r[o]^=i[o];return r}},{}],475:[function(t,e,n){(function(r,i){(function(){"use strict";var s=t("safe-buffer").Buffer,o=i.crypto||i.msCrypto;o&&o.getRandomValues?e.exports=function(a,c){if(a>4294967295)throw new RangeError("requested too many random bytes");var u=s.allocUnsafe(a);if(a>0)if(a>65536)for(var l=0;l<a;l+=65536)o.getRandomValues(u.slice(l,l+65536));else o.getRandomValues(u);return typeof c=="function"?r.nextTick(function(){c(null,u)}):u}:e.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,e,n){(function(r,i){(function(){"use strict";function s(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var o=t("safe-buffer"),a=t("randombytes"),c=o.Buffer,u=o.kMaxLength,l=i.crypto||i.msCrypto,d=Math.pow(2,32)-1;function f(y,g){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>d||y<0)throw new TypeError("offset must be a uint32");if(y>u||y>g)throw new RangeError("offset out of range")}function p(y,g,_){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>d||y<0)throw new TypeError("size must be a uint32");if(y+g>_||y>u)throw new RangeError("buffer too small")}function h(y,g,_,x){if(r.browser){var k=y.buffer,L=new Uint8Array(k,g,_);return l.getRandomValues(L),x?void r.nextTick(function(){x(null,y)}):y}if(!x)return a(_).copy(y,g),y;a(_,function(B,V){if(B)return x(B);V.copy(y,g),x(null,y)})}l&&l.getRandomValues||!r.browser?(n.randomFill=function(y,g,_,x){if(!(c.isBuffer(y)||y instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")x=g,g=0,_=y.length;else if(typeof _=="function")x=_,_=y.length-g;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return f(g,y.length),p(_,g,y.length),h(y,g,_,x)},n.randomFillSync=function(y,g,_){if(g===void 0&&(g=0),!(c.isBuffer(y)||y instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(g,y.length),_===void 0&&(_=y.length-g),p(_,g,y.length),h(y,g,_)}):(n.randomFill=s,n.randomFillSync=s)}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,e,n){"use strict";var r={};function i(o,a,c){c||(c=Error);var u=(function(l){var d,f;function p(h,y,g){return l.call(this,(function(_,x,k){return typeof a=="string"?a:a(_,x,k)})(h,y,g))||this}return f=l,(d=p).prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f,p})(c);u.prototype.name=c.name,u.prototype.code=o,r[o]=u}function s(o,a){if(Array.isArray(o)){var c=o.length;return o=o.map(function(u){return String(u)}),c>2?"one of ".concat(a," ").concat(o.slice(0,c-1).join(", "),", or ")+o[c-1]:c===2?"one of ".concat(a," ").concat(o[0]," or ").concat(o[1]):"of ".concat(a," ").concat(o[0])}return"of ".concat(a," ").concat(String(o))}i("ERR_INVALID_OPT_VALUE",function(o,a){return'The value "'+a+'" is invalid for option "'+o+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(o,a,c){var u,l,d,f;if(typeof a=="string"&&(l="not ",a.substr(!d||d<0?0:+d,l.length)===l)?(u="must not be",a=a.replace(/^not /,"")):u="must be",(function(h,y,g){return(g===void 0||g>h.length)&&(g=h.length),h.substring(g-y.length,g)===y})(o," argument"))f="The ".concat(o," ").concat(u," ").concat(s(a,"type"));else{var p=(function(h,y,g){return typeof g!="number"&&(g=0),!(g+y.length>h.length)&&h.indexOf(y,g)!==-1})(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(p," ").concat(u," ").concat(s(a,"type"))}return f+=". Received type ".concat(typeof c)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},{}],478:[function(t,e,n){(function(r){(function(){"use strict";var i=Object.keys||function(p){var h=[];for(var y in p)h.push(y);return h};e.exports=l;var s=t("./_stream_readable"),o=t("./_stream_writable");t("inherits")(l,s);for(var a=i(o.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(p){if(!(this instanceof l))return new l(p);s.call(this,p),o.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(f,this)}function f(p){p.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,e,n){"use strict";e.exports=i;var r=t("./_stream_transform");function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}t("inherits")(i,r),i.prototype._transform=function(s,o,a){a(null,s)}},{"./_stream_transform":481,inherits:440}],480:[function(t,e,n){(function(r,i){(function(){"use strict";var s;e.exports=P,P.ReadableState=j,t("events").EventEmitter;var o=function(M,A){return M.listeners(A).length},a=t("./internal/streams/stream"),c=t("buffer").Buffer,u=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},l,d=t("util");l=d&&d.debuglog?d.debuglog("stream"):function(){};var f,p,h,y=t("./internal/streams/buffer_list"),g=t("./internal/streams/destroy"),_=t("./internal/streams/state").getHighWaterMark,x=t("../errors").codes,k=x.ERR_INVALID_ARG_TYPE,L=x.ERR_STREAM_PUSH_AFTER_EOF,B=x.ERR_METHOD_NOT_IMPLEMENTED,V=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(P,a);var R=g.errorOrDestroy,N=["error","close","destroy","pause","resume"];function j(M,A,U){s=s||t("./_stream_duplex"),M=M||{},typeof U!="boolean"&&(U=A instanceof s),this.objectMode=!!M.objectMode,U&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=_(this,M,"readableHighWaterMark",U),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(f||(f=t("string_decoder/").StringDecoder),this.decoder=new f(M.encoding),this.encoding=M.encoding)}function P(M){if(s=s||t("./_stream_duplex"),!(this instanceof P))return new P(M);var A=this instanceof s;this._readableState=new j(M,this,A),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),a.call(this)}function E(M,A,U,X,re){l("readableAddChunk",A);var Z,te=M._readableState;if(A===null)te.reading=!1,(function(de,le){if(l("onEofChunk"),!le.ended){if(le.decoder){var Q=le.decoder.end();Q&&Q.length&&(le.buffer.push(Q),le.length+=le.objectMode?1:Q.length)}le.ended=!0,le.sync?m(de):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,v(de)))}})(M,te);else if(re||(Z=(function(de,le){var Q;ce=le,c.isBuffer(ce)||ce instanceof u||typeof le=="string"||le===void 0||de.objectMode||(Q=new k("chunk",["string","Buffer","Uint8Array"],le));var ce;return Q})(te,A)),Z)R(M,Z);else if(te.objectMode||A&&A.length>0)if(typeof A=="string"||te.objectMode||Object.getPrototypeOf(A)===c.prototype||(A=(function(de){return c.from(de)})(A)),X)te.endEmitted?R(M,new V):S(M,te,A,!0);else if(te.ended)R(M,new L);else{if(te.destroyed)return!1;te.reading=!1,te.decoder&&!U?(A=te.decoder.write(A),te.objectMode||A.length!==0?S(M,te,A,!1):w(M,te)):S(M,te,A,!1)}else X||(te.reading=!1,w(M,te));return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function S(M,A,U,X){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,M.emit("data",U)):(A.length+=A.objectMode?1:U.length,X?A.buffer.unshift(U):A.buffer.push(U),A.needReadable&&m(M)),w(M,A)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),P.prototype.destroy=g.destroy,P.prototype._undestroy=g.undestroy,P.prototype._destroy=function(M,A){A(M)},P.prototype.push=function(M,A){var U,X=this._readableState;return X.objectMode?U=!0:typeof M=="string"&&((A=A||X.defaultEncoding)!==X.encoding&&(M=c.from(M,A),A=""),U=!0),E(this,M,A,!1,U)},P.prototype.unshift=function(M){return E(this,M,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(M){f||(f=t("string_decoder/").StringDecoder);var A=new f(M);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var U=this._readableState.buffer.head,X="";U!==null;)X+=A.write(U.data),U=U.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};function D(M,A){return M<=0||A.length===0&&A.ended?0:A.objectMode?1:M!=M?A.flowing&&A.length?A.buffer.head.data.length:A.length:(M>A.highWaterMark&&(A.highWaterMark=(function(U){return U>=1073741824?U=1073741824:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U})(M)),M<=A.length?M:A.ended?A.length:(A.needReadable=!0,0))}function m(M){var A=M._readableState;l("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(l("emitReadable",A.flowing),A.emittedReadable=!0,r.nextTick(v,M))}function v(M){var A=M._readableState;l("emitReadable_",A.destroyed,A.length,A.ended),A.destroyed||!A.length&&!A.ended||(M.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,$(M)}function w(M,A){A.readingMore||(A.readingMore=!0,r.nextTick(b,M,A))}function b(M,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var U=A.length;if(l("maybeReadMore read 0"),M.read(0),U===A.length)break}A.readingMore=!1}function C(M){var A=M._readableState;A.readableListening=M.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:M.listenerCount("data")>0&&M.resume()}function I(M){l("readable nexttick read 0"),M.read(0)}function F(M,A){l("resume",A.reading),A.reading||M.read(0),A.resumeScheduled=!1,M.emit("resume"),$(M),A.flowing&&!A.reading&&M.read(0)}function $(M){var A=M._readableState;for(l("flow",A.flowing);A.flowing&&M.read()!==null;);}function z(M,A){return A.length===0?null:(A.objectMode?U=A.buffer.shift():!M||M>=A.length?(U=A.decoder?A.buffer.join(""):A.buffer.length===1?A.buffer.first():A.buffer.concat(A.length),A.buffer.clear()):U=A.buffer.consume(M,A.decoder),U);var U}function Y(M){var A=M._readableState;l("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,r.nextTick(O,A,M))}function O(M,A){if(l("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,A.readable=!1,A.emit("end"),M.autoDestroy)){var U=A._writableState;(!U||U.autoDestroy&&U.finished)&&A.destroy()}}function W(M,A){for(var U=0,X=M.length;U<X;U++)if(M[U]===A)return U;return-1}P.prototype.read=function(M){l("read",M),M=parseInt(M,10);var A=this._readableState,U=M;if(M!==0&&(A.emittedReadable=!1),M===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return l("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?Y(this):m(this),null;if((M=D(M,A))===0&&A.ended)return A.length===0&&Y(this),null;var X,re=A.needReadable;return l("need readable",re),(A.length===0||A.length-M<A.highWaterMark)&&l("length less than watermark",re=!0),A.ended||A.reading?l("reading or ended",re=!1):re&&(l("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(M=D(U,A))),(X=M>0?z(M,A):null)===null?(A.needReadable=A.length<=A.highWaterMark,M=0):(A.length-=M,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),U!==M&&A.ended&&Y(this)),X!==null&&this.emit("data",X),X},P.prototype._read=function(M){R(this,new B("_read()"))},P.prototype.pipe=function(M,A){var U=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=M;break;case 1:X.pipes=[X.pipes,M];break;default:X.pipes.push(M)}X.pipesCount+=1,l("pipe count=%d opts=%j",X.pipesCount,A);var re=(!A||A.end!==!1)&&M!==r.stdout&&M!==r.stderr?te:pe;function Z(fe,he){l("onunpipe"),fe===U&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,l("cleanup"),M.removeListener("close",se),M.removeListener("finish",ue),M.removeListener("drain",de),M.removeListener("error",ce),M.removeListener("unpipe",Z),U.removeListener("end",te),U.removeListener("end",pe),U.removeListener("data",Q),le=!0,!X.awaitDrain||M._writableState&&!M._writableState.needDrain||de())}function te(){l("onend"),M.end()}X.endEmitted?r.nextTick(re):U.once("end",re),M.on("unpipe",Z);var de=(function(fe){return function(){var he=fe._readableState;l("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&o(fe,"data")&&(he.flowing=!0,$(fe))}})(U);M.on("drain",de);var le=!1;function Q(fe){l("ondata");var he=M.write(fe);l("dest.write",he),he===!1&&((X.pipesCount===1&&X.pipes===M||X.pipesCount>1&&W(X.pipes,M)!==-1)&&!le&&(l("false write response, pause",X.awaitDrain),X.awaitDrain++),U.pause())}function ce(fe){l("onerror",fe),pe(),M.removeListener("error",ce),o(M,"error")===0&&R(M,fe)}function se(){M.removeListener("finish",ue),pe()}function ue(){l("onfinish"),M.removeListener("close",se),pe()}function pe(){l("unpipe"),U.unpipe(M)}return U.on("data",Q),(function(fe,he,Te){if(typeof fe.prependListener=="function")return fe.prependListener(he,Te);fe._events&&fe._events[he]?Array.isArray(fe._events[he])?fe._events[he].unshift(Te):fe._events[he]=[Te,fe._events[he]]:fe.on(he,Te)})(M,"error",ce),M.once("close",se),M.once("finish",ue),M.emit("pipe",U),X.flowing||(l("pipe resume"),U.resume()),M},P.prototype.unpipe=function(M){var A=this._readableState,U={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return M&&M!==A.pipes||(M||(M=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,M&&M.emit("unpipe",this,U)),this;if(!M){var X=A.pipes,re=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var Z=0;Z<re;Z++)X[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var te=W(A.pipes,M);return te===-1||(A.pipes.splice(te,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),M.emit("unpipe",this,U)),this},P.prototype.on=function(M,A){var U=a.prototype.on.call(this,M,A),X=this._readableState;return M==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):M==="readable"&&(X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,l("on readable",X.length,X.reading),X.length?m(this):X.reading||r.nextTick(I,this))),U},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(M,A){var U=a.prototype.removeListener.call(this,M,A);return M==="readable"&&r.nextTick(C,this),U},P.prototype.removeAllListeners=function(M){var A=a.prototype.removeAllListeners.apply(this,arguments);return M!=="readable"&&M!==void 0||r.nextTick(C,this),A},P.prototype.resume=function(){var M=this._readableState;return M.flowing||(l("resume"),M.flowing=!M.readableListening,(function(A,U){U.resumeScheduled||(U.resumeScheduled=!0,r.nextTick(F,A,U))})(this,M)),M.paused=!1,this},P.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(M){var A=this,U=this._readableState,X=!1;for(var re in M.on("end",function(){if(l("wrapped end"),U.decoder&&!U.ended){var te=U.decoder.end();te&&te.length&&A.push(te)}A.push(null)}),M.on("data",function(te){l("wrapped data"),U.decoder&&(te=U.decoder.write(te)),U.objectMode&&te==null||(U.objectMode||te&&te.length)&&(A.push(te)||(X=!0,M.pause()))}),M)this[re]===void 0&&typeof M[re]=="function"&&(this[re]=(function(te){return function(){return M[te].apply(M,arguments)}})(re));for(var Z=0;Z<N.length;Z++)M.on(N[Z],this.emit.bind(this,N[Z]));return this._read=function(te){l("wrapped _read",te),X&&(X=!1,M.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return p===void 0&&(p=t("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),P._fromList=z,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(M,A){return h===void 0&&(h=t("./internal/streams/from")),h(P,M,A)})}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,e,n){"use strict";e.exports=l;var r=t("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=t("./_stream_duplex");function u(p,h){var y=this._transformState;y.transforming=!1;var g=y.writecb;if(g===null)return this.emit("error",new s);y.writechunk=null,y.writecb=null,h!=null&&this.push(h),g(p);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);c.call(this,p),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",d)}function d(){var p=this;typeof this._flush!="function"||this._readableState.destroyed?f(this,null,null):this._flush(function(h,y){f(p,h,y)})}function f(p,h,y){if(h)return p.emit("error",h);if(y!=null&&p.push(y),p._writableState.length)throw new a;if(p._transformState.transforming)throw new o;return p.push(null)}t("inherits")(l,c),l.prototype.push=function(p,h){return this._transformState.needTransform=!1,c.prototype.push.call(this,p,h)},l.prototype._transform=function(p,h,y){y(new i("_transform()"))},l.prototype._write=function(p,h,y){var g=this._transformState;if(g.writecb=y,g.writechunk=p,g.writeencoding=h,!g.transforming){var _=this._readableState;(g.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},l.prototype._read=function(p){var h=this._transformState;h.writechunk===null||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},l.prototype._destroy=function(p,h){c.prototype._destroy.call(this,p,function(y){h(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,e,n){(function(r,i){(function(){"use strict";function s(b){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(I,F,$){var z=I.entry;for(I.entry=null;z;){var Y=z.callback;F.pendingcb--,Y($),z=z.next}F.corkedRequestsFree.next=I})(C,b)}}var o;e.exports=P,P.WritableState=j;var a={deprecate:t("util-deprecate")},c=t("./internal/streams/stream"),u=t("buffer").Buffer,l=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,f=t("./internal/streams/destroy"),p=t("./internal/streams/state").getHighWaterMark,h=t("../errors").codes,y=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,x=h.ERR_STREAM_CANNOT_PIPE,k=h.ERR_STREAM_DESTROYED,L=h.ERR_STREAM_NULL_VALUES,B=h.ERR_STREAM_WRITE_AFTER_END,V=h.ERR_UNKNOWN_ENCODING,R=f.errorOrDestroy;function N(){}function j(b,C,I){o=o||t("./_stream_duplex"),b=b||{},typeof I!="boolean"&&(I=C instanceof o),this.objectMode=!!b.objectMode,I&&(this.objectMode=this.objectMode||!!b.writableObjectMode),this.highWaterMark=p(this,b,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=b.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){(function(z,Y){var O=z._writableState,W=O.sync,M=O.writecb;if(typeof M!="function")throw new _;if((function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0})(O),Y)(function(U,X,re,Z,te){--X.pendingcb,re?(r.nextTick(te,Z),r.nextTick(w,U,X),U._writableState.errorEmitted=!0,R(U,Z)):(te(Z),U._writableState.errorEmitted=!0,R(U,Z),w(U,X))})(z,O,W,Y,M);else{var A=m(O)||z.destroyed;A||O.corked||O.bufferProcessing||!O.bufferedRequest||D(z,O),W?r.nextTick(S,z,O,A,M):S(z,O,A,M)}})(C,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=b.emitClose!==!1,this.autoDestroy=!!b.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function P(b){var C=this instanceof(o=o||t("./_stream_duplex"));if(!C&&!d.call(P,this))return new P(b);this._writableState=new j(b,this,C),this.writable=!0,b&&(typeof b.write=="function"&&(this._write=b.write),typeof b.writev=="function"&&(this._writev=b.writev),typeof b.destroy=="function"&&(this._destroy=b.destroy),typeof b.final=="function"&&(this._final=b.final)),c.call(this)}function E(b,C,I,F,$,z,Y){C.writelen=F,C.writecb=Y,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new k("write")):I?b._writev($,C.onwrite):b._write($,z,C.onwrite),C.sync=!1}function S(b,C,I,F){I||(function($,z){z.length===0&&z.needDrain&&(z.needDrain=!1,$.emit("drain"))})(b,C),C.pendingcb--,F(),w(b,C)}function D(b,C){C.bufferProcessing=!0;var I=C.bufferedRequest;if(b._writev&&I&&I.next){var F=C.bufferedRequestCount,$=new Array(F),z=C.corkedRequestsFree;z.entry=I;for(var Y=0,O=!0;I;)$[Y]=I,I.isBuf||(O=!1),I=I.next,Y+=1;$.allBuffers=O,E(b,C,!0,C.length,$,"",z.finish),C.pendingcb++,C.lastBufferedRequest=null,z.next?(C.corkedRequestsFree=z.next,z.next=null):C.corkedRequestsFree=new s(C),C.bufferedRequestCount=0}else{for(;I;){var W=I.chunk,M=I.encoding,A=I.callback;if(E(b,C,!1,C.objectMode?1:W.length,W,M,A),I=I.next,C.bufferedRequestCount--,C.writing)break}I===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=I,C.bufferProcessing=!1}function m(b){return b.ending&&b.length===0&&b.bufferedRequest===null&&!b.finished&&!b.writing}function v(b,C){b._final(function(I){C.pendingcb--,I&&R(b,I),C.prefinished=!0,b.emit("prefinish"),w(b,C)})}function w(b,C){var I=m(C);if(I&&((function($,z){z.prefinished||z.finalCalled||(typeof $._final!="function"||z.destroyed?(z.prefinished=!0,$.emit("prefinish")):(z.pendingcb++,z.finalCalled=!0,r.nextTick(v,$,z)))})(b,C),C.pendingcb===0&&(C.finished=!0,b.emit("finish"),C.autoDestroy))){var F=b._readableState;(!F||F.autoDestroy&&F.endEmitted)&&b.destroy()}return I}t("inherits")(P,c),j.prototype.getBuffer=function(){for(var b=this.bufferedRequest,C=[];b;)C.push(b),b=b.next;return C},(function(){try{Object.defineProperty(j.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(b){return!!d.call(this,b)||this===P&&b&&b._writableState instanceof j}})):d=function(b){return b instanceof this},P.prototype.pipe=function(){R(this,new x)},P.prototype.write=function(b,C,I){var F,$=this._writableState,z=!1,Y=!$.objectMode&&(F=b,u.isBuffer(F)||F instanceof l);return Y&&!u.isBuffer(b)&&(b=(function(O){return u.from(O)})(b)),typeof C=="function"&&(I=C,C=null),Y?C="buffer":C||(C=$.defaultEncoding),typeof I!="function"&&(I=N),$.ending?(function(O,W){var M=new B;R(O,M),r.nextTick(W,M)})(this,I):(Y||(function(O,W,M,A){var U;return M===null?U=new L:typeof M=="string"||W.objectMode||(U=new y("chunk",["string","Buffer"],M)),!U||(R(O,U),r.nextTick(A,U),!1)})(this,$,b,I))&&($.pendingcb++,z=(function(O,W,M,A,U,X){if(!M){var re=(function(le,Q,ce){return le.objectMode||le.decodeStrings===!1||typeof Q!="string"||(Q=u.from(Q,ce)),Q})(W,A,U);A!==re&&(M=!0,U="buffer",A=re)}var Z=W.objectMode?1:A.length;W.length+=Z;var te=W.length<W.highWaterMark;if(te||(W.needDrain=!0),W.writing||W.corked){var de=W.lastBufferedRequest;W.lastBufferedRequest={chunk:A,encoding:U,isBuf:M,callback:X,next:null},de?de.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else E(O,W,!1,Z,A,U,X);return te})(this,$,Y,b,C,I)),z},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.bufferProcessing||!b.bufferedRequest||D(this,b))},P.prototype.setDefaultEncoding=function(b){if(typeof b=="string"&&(b=b.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((b+"").toLowerCase())>-1))throw new V(b);return this._writableState.defaultEncoding=b,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(b,C,I){I(new g("_write()"))},P.prototype._writev=null,P.prototype.end=function(b,C,I){var F=this._writableState;return typeof b=="function"?(I=b,b=null,C=null):typeof C=="function"&&(I=C,C=null),b!=null&&this.write(b,C),F.corked&&(F.corked=1,this.uncork()),F.ending||(function($,z,Y){z.ending=!0,w($,z),Y&&(z.finished?r.nextTick(Y):$.once("finish",Y)),z.ended=!0,$.writable=!1})(this,F,I),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(b,C){C(b)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,e,n){(function(r){(function(){"use strict";var i;function s(k,L,B){return(L=(function(V){var R=(function(N,j){if(typeof N!="object"||N===null)return N;var P=N[Symbol.toPrimitive];if(P!==void 0){var E=P.call(N,j||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(N)})(V,"string");return typeof R=="symbol"?R:String(R)})(L))in k?Object.defineProperty(k,L,{value:B,enumerable:!0,configurable:!0,writable:!0}):k[L]=B,k}var o=t("./end-of-stream"),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(k,L){return{value:k,done:L}}function y(k){var L=k[a];if(L!==null){var B=k[p].read();B!==null&&(k[d]=null,k[a]=null,k[c]=null,L(h(B,!1)))}}function g(k){r.nextTick(y,k)}var _=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((s(i={get stream(){return this[p]},next:function(){var k=this,L=this[u];if(L!==null)return Promise.reject(L);if(this[l])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(N,j){r.nextTick(function(){k[u]?j(k[u]):N(h(void 0,!0))})});var B,V=this[d];if(V)B=new Promise((function(N,j){return function(P,E){N.then(function(){j[l]?P(h(void 0,!0)):j[f](P,E)},E)}})(V,this));else{var R=this[p].read();if(R!==null)return Promise.resolve(h(R,!1));B=new Promise(this[f])}return this[d]=B,B}},Symbol.asyncIterator,function(){return this}),s(i,"return",function(){var k=this;return new Promise(function(L,B){k[p].destroy(null,function(V){V?B(V):L(h(void 0,!0))})})}),i),_);e.exports=function(k){var L,B=Object.create(x,(s(L={},p,{value:k,writable:!0}),s(L,a,{value:null,writable:!0}),s(L,c,{value:null,writable:!0}),s(L,u,{value:null,writable:!0}),s(L,l,{value:k._readableState.endEmitted,writable:!0}),s(L,f,{value:function(V,R){var N=B[p].read();N?(B[d]=null,B[a]=null,B[c]=null,V(h(N,!1))):(B[a]=V,B[c]=R)},writable:!0}),L));return B[d]=null,o(k,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var R=B[c];return R!==null&&(B[d]=null,B[a]=null,B[c]=null,R(V)),void(B[u]=V)}var N=B[a];N!==null&&(B[d]=null,B[a]=null,B[c]=null,N(h(void 0,!0))),B[l]=!0}),k.on("readable",g.bind(null,B)),B}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,e,n){"use strict";function r(d,f){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(d);f&&(h=h.filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable})),p.push.apply(p,h)}return p}function i(d){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?r(Object(p),!0).forEach(function(h){s(d,h,p[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):r(Object(p)).forEach(function(h){Object.defineProperty(d,h,Object.getOwnPropertyDescriptor(p,h))})}return d}function s(d,f,p){return(f=a(f))in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p,d}function o(d,f){for(var p=0;p<f.length;p++){var h=f[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,a(h.key),h)}}function a(d){var f=(function(p,h){if(typeof p!="object"||p===null)return p;var y=p[Symbol.toPrimitive];if(y!==void 0){var g=y.call(p,h||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(p)})(d,"string");return typeof f=="symbol"?f:String(f)}var c=t("buffer").Buffer,u=t("util").inspect,l=u&&u.custom||"inspect";e.exports=(function(){function d(){(function(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var f,p,h;return f=d,(p=[{key:"push",value:function(y){var g={data:y,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(y){var g={data:y,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var g=this.head,_=""+g.data;g=g.next;)_+=y+g.data;return _}},{key:"concat",value:function(y){if(this.length===0)return c.alloc(0);for(var g,_,x,k=c.allocUnsafe(y>>>0),L=this.head,B=0;L;)g=L.data,_=k,x=B,c.prototype.copy.call(g,_,x),B+=L.data.length,L=L.next;return k}},{key:"consume",value:function(y,g){var _;return y<this.head.data.length?(_=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):_=y===this.head.data.length?this.shift():g?this._getString(y):this._getBuffer(y),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var g=this.head,_=1,x=g.data;for(y-=x.length;g=g.next;){var k=g.data,L=y>k.length?k.length:y;if(L===k.length?x+=k:x+=k.slice(0,y),(y-=L)==0){L===k.length?(++_,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=k.slice(L));break}++_}return this.length-=_,x}},{key:"_getBuffer",value:function(y){var g=c.allocUnsafe(y),_=this.head,x=1;for(_.data.copy(g),y-=_.data.length;_=_.next;){var k=_.data,L=y>k.length?k.length:y;if(k.copy(g,g.length-y,0,L),(y-=L)==0){L===k.length?(++x,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=k.slice(L));break}++x}return this.length-=x,g}},{key:l,value:function(y,g){return u(this,i(i({},g),{},{depth:0,customInspect:!1}))}}])&&o(f.prototype,p),h&&o(f,h),Object.defineProperty(f,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(t,e,n){(function(r){(function(){"use strict";function i(a,c){o(a,c),s(a)}function s(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function o(a,c){a.emit("error",c)}e.exports={destroy:function(a,c){var u=this,l=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return l||d?(c?c(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,a)):r.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!c&&f?u._writableState?u._writableState.errorEmitted?r.nextTick(s,u):(u._writableState.errorEmitted=!0,r.nextTick(i,u,f)):r.nextTick(i,u,f):c?(r.nextTick(s,u),c(f)):r.nextTick(s,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,c){var u=a._readableState,l=a._writableState;u&&u.autoDestroy||l&&l.autoDestroy?a.destroy(c):a.emit("error",c)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function s(o,a,c){if(typeof a=="function")return s(o,null,a);a||(a={}),c=(function(k){var L=!1;return function(){if(!L){L=!0;for(var B=arguments.length,V=new Array(B),R=0;R<B;R++)V[R]=arguments[R];k.apply(this,V)}}})(c||i);var u=a.readable||a.readable!==!1&&o.readable,l=a.writable||a.writable!==!1&&o.writable,d=function(){o.writable||p()},f=o._writableState&&o._writableState.finished,p=function(){l=!1,f=!0,u||c.call(o)},h=o._readableState&&o._readableState.endEmitted,y=function(){u=!1,h=!0,l||c.call(o)},g=function(k){c.call(o,k)},_=function(){var k;return u&&!h?(o._readableState&&o._readableState.ended||(k=new r),c.call(o,k)):l&&!f?(o._writableState&&o._writableState.ended||(k=new r),c.call(o,k)):void 0},x=function(){o.req.on("finish",p)};return(function(k){return k.setHeader&&typeof k.abort=="function"})(o)?(o.on("complete",p),o.on("abort",_),o.req?x():o.on("request",x)):l&&!o._writableState&&(o.on("end",d),o.on("close",d)),o.on("end",y),o.on("finish",p),a.error!==!1&&o.on("error",g),o.on("close",_),function(){o.removeListener("complete",p),o.removeListener("abort",_),o.removeListener("request",x),o.req&&o.req.removeListener("finish",p),o.removeListener("end",d),o.removeListener("close",d),o.removeListener("finish",p),o.removeListener("end",y),o.removeListener("error",g),o.removeListener("close",_)}}},{"../../../errors":477}],487:[function(t,e,n){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,e,n){"use strict";var r,i=t("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(f){if(f)throw f}function c(f,p,h,y){y=(function(x){var k=!1;return function(){k||(k=!0,x.apply(void 0,arguments))}})(y);var g=!1;f.on("close",function(){g=!0}),r===void 0&&(r=t("./end-of-stream")),r(f,{readable:p,writable:h},function(x){if(x)return y(x);g=!0,y()});var _=!1;return function(x){if(!g&&!_)return _=!0,(function(k){return k.setHeader&&typeof k.abort=="function"})(f)?f.abort():typeof f.destroy=="function"?f.destroy():void y(x||new o("pipe"))}}function u(f){f()}function l(f,p){return f.pipe(p)}function d(f){return f.length?typeof f[f.length-1]!="function"?a:f.pop():a}e.exports=function(){for(var f=arguments.length,p=new Array(f),h=0;h<f;h++)p[h]=arguments[h];var y,g=d(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new s("streams");var _=p.map(function(x,k){var L=k<p.length-1;return c(x,L,k>0,function(B){y||(y=B),B&&_.forEach(u),L||(_.forEach(u),g(y))})});return p.reduce(l)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(i,s,o,a){var c=(function(u,l,d){return u.highWaterMark!=null?u.highWaterMark:l?u[d]:null})(s,a,o);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new r(a?o:"highWaterMark",c);return Math.floor(c)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,e,n){"use strict";e.exports=t("events").EventEmitter},{events:422}],491:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,e,n){"use strict";var r=(function(i){var s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(w,b,C){w[b]=C.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function f(w,b,C){return Object.defineProperty(w,b,{value:C,enumerable:!0,configurable:!0,writable:!0}),w[b]}try{f({},"")}catch{f=function(b,C,I){return b[C]=I}}function p(w,b,C,I){var F=b&&b.prototype instanceof g?b:g,$=Object.create(F.prototype),z=new D(I||[]);return a($,"_invoke",{value:j(w,C,z)}),$}function h(w,b,C){try{return{type:"normal",arg:w.call(b,C)}}catch(I){return{type:"throw",arg:I}}}i.wrap=p;var y={};function g(){}function _(){}function x(){}var k={};f(k,u,function(){return this});var L=Object.getPrototypeOf,B=L&&L(L(m([])));B&&B!==s&&o.call(B,u)&&(k=B);var V=x.prototype=g.prototype=Object.create(k);function R(w){["next","throw","return"].forEach(function(b){f(w,b,function(C){return this._invoke(b,C)})})}function N(w,b){var C;a(this,"_invoke",{value:function(I,F){function $(){return new b(function(z,Y){(function O(W,M,A,U){var X=h(w[W],w,M);if(X.type!=="throw"){var re=X.arg,Z=re.value;return Z&&typeof Z=="object"&&o.call(Z,"__await")?b.resolve(Z.__await).then(function(te){O("next",te,A,U)},function(te){O("throw",te,A,U)}):b.resolve(Z).then(function(te){re.value=te,A(re)},function(te){return O("throw",te,A,U)})}U(X.arg)})(I,F,z,Y)})}return C=C?C.then($,$):$()}})}function j(w,b,C){var I="suspendedStart";return function(F,$){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(F==="throw")throw $;return v()}for(C.method=F,C.arg=$;;){var z=C.delegate;if(z){var Y=P(z,C);if(Y){if(Y===y)continue;return Y}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(I==="suspendedStart")throw I="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);I="executing";var O=h(w,b,C);if(O.type==="normal"){if(I=C.done?"completed":"suspendedYield",O.arg===y)continue;return{value:O.arg,done:C.done}}O.type==="throw"&&(I="completed",C.method="throw",C.arg=O.arg)}}}function P(w,b){var C=b.method,I=w.iterator[C];if(I===void 0)return b.delegate=null,C==="throw"&&w.iterator.return&&(b.method="return",b.arg=void 0,P(w,b),b.method==="throw")||C!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+C+"' method")),y;var F=h(I,w.iterator,b.arg);if(F.type==="throw")return b.method="throw",b.arg=F.arg,b.delegate=null,y;var $=F.arg;return $?$.done?(b[w.resultName]=$.value,b.next=w.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0),b.delegate=null,y):$:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,y)}function E(w){var b={tryLoc:w[0]};1 in w&&(b.catchLoc=w[1]),2 in w&&(b.finallyLoc=w[2],b.afterLoc=w[3]),this.tryEntries.push(b)}function S(w){var b=w.completion||{};b.type="normal",delete b.arg,w.completion=b}function D(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(E,this),this.reset(!0)}function m(w){if(w){var b=w[u];if(b)return b.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var C=-1,I=function F(){for(;++C<w.length;)if(o.call(w,C))return F.value=w[C],F.done=!1,F;return F.value=void 0,F.done=!0,F};return I.next=I}}return{next:v}}function v(){return{value:void 0,done:!0}}return _.prototype=x,a(V,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:_,configurable:!0}),_.displayName=f(x,d,"GeneratorFunction"),i.isGeneratorFunction=function(w){var b=typeof w=="function"&&w.constructor;return!!b&&(b===_||(b.displayName||b.name)==="GeneratorFunction")},i.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,x):(w.__proto__=x,f(w,d,"GeneratorFunction")),w.prototype=Object.create(V),w},i.awrap=function(w){return{__await:w}},R(N.prototype),f(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(w,b,C,I,F){F===void 0&&(F=Promise);var $=new N(p(w,b,C,I),F);return i.isGeneratorFunction(b)?$:$.next().then(function(z){return z.done?z.value:$.next()})},R(V),f(V,d,"Generator"),f(V,u,function(){return this}),f(V,"toString",function(){return"[object Generator]"}),i.keys=function(w){var b=Object(w),C=[];for(var I in b)C.push(I);return C.reverse(),function F(){for(;C.length;){var $=C.pop();if($ in b)return F.value=$,F.done=!1,F}return F.done=!0,F}},i.values=m,D.prototype={constructor:D,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!w)for(var b in this)b.charAt(0)==="t"&&o.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var b=this;function C(O,W){return $.type="throw",$.arg=w,b.next=O,W&&(b.method="next",b.arg=void 0),!!W}for(var I=this.tryEntries.length-1;I>=0;--I){var F=this.tryEntries[I],$=F.completion;if(F.tryLoc==="root")return C("end");if(F.tryLoc<=this.prev){var z=o.call(F,"catchLoc"),Y=o.call(F,"finallyLoc");if(z&&Y){if(this.prev<F.catchLoc)return C(F.catchLoc,!0);if(this.prev<F.finallyLoc)return C(F.finallyLoc)}else if(z){if(this.prev<F.catchLoc)return C(F.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return C(F.finallyLoc)}}}},abrupt:function(w,b){for(var C=this.tryEntries.length-1;C>=0;--C){var I=this.tryEntries[C];if(I.tryLoc<=this.prev&&o.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var F=I;break}}F&&(w==="break"||w==="continue")&&F.tryLoc<=b&&b<=F.finallyLoc&&(F=null);var $=F?F.completion:{};return $.type=w,$.arg=b,F?(this.method="next",this.next=F.finallyLoc,y):this.complete($)},complete:function(w,b){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&b&&(this.next=b),y},finish:function(w){for(var b=this.tryEntries.length-1;b>=0;--b){var C=this.tryEntries[b];if(C.finallyLoc===w)return this.complete(C.completion,C.afterLoc),S(C),y}},catch:function(w){for(var b=this.tryEntries.length-1;b>=0;--b){var C=this.tryEntries[b];if(C.tryLoc===w){var I=C.completion;if(I.type==="throw"){var F=I.arg;S(C)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(w,b,C){return this.delegate={iterator:m(w),resultName:b,nextLoc:C},this.method==="next"&&(this.arg=void 0),y}},i})(typeof e=="object"?e.exports:{});try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},{}],493:[function(t,e,n){"use strict";var r=t("buffer").Buffer,i=t("inherits"),s=t("hash-base"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function p(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function h(L,B){return L<<B|L>>>32-B}function y(L,B,V,R,N,j,P,E){return h(L+(B^V^R)+j+P|0,E)+N|0}function g(L,B,V,R,N,j,P,E){return h(L+(B&V|~B&R)+j+P|0,E)+N|0}function _(L,B,V,R,N,j,P,E){return h(L+((B|~V)^R)+j+P|0,E)+N|0}function x(L,B,V,R,N,j,P,E){return h(L+(B&R|V&~R)+j+P|0,E)+N|0}function k(L,B,V,R,N,j,P,E){return h(L+(B^(V|~R))+j+P|0,E)+N|0}i(p,s),p.prototype._update=function(){for(var L=o,B=0;B<16;++B)L[B]=this._block.readInt32LE(4*B);for(var V=0|this._a,R=0|this._b,N=0|this._c,j=0|this._d,P=0|this._e,E=0|this._a,S=0|this._b,D=0|this._c,m=0|this._d,v=0|this._e,w=0;w<80;w+=1){var b,C;w<16?(b=y(V,R,N,j,P,L[a[w]],d[0],u[w]),C=k(E,S,D,m,v,L[c[w]],f[0],l[w])):w<32?(b=g(V,R,N,j,P,L[a[w]],d[1],u[w]),C=x(E,S,D,m,v,L[c[w]],f[1],l[w])):w<48?(b=_(V,R,N,j,P,L[a[w]],d[2],u[w]),C=_(E,S,D,m,v,L[c[w]],f[2],l[w])):w<64?(b=x(V,R,N,j,P,L[a[w]],d[3],u[w]),C=g(E,S,D,m,v,L[c[w]],f[3],l[w])):(b=k(V,R,N,j,P,L[a[w]],d[4],u[w]),C=y(E,S,D,m,v,L[c[w]],f[4],l[w])),V=P,P=j,j=h(N,10),N=R,R=b,E=v,v=m,m=h(D,10),D=S,S=C}var I=this._b+N+m|0;this._b=this._c+j+v|0,this._c=this._d+P+E|0,this._d=this._e+V+S|0,this._e=this._a+R+D|0,this._a=I},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var L=r.alloc?r.alloc(20):new r(20);return L.writeInt32LE(this._a,0),L.writeInt32LE(this._b,4),L.writeInt32LE(this._c,8),L.writeInt32LE(this._d,12),L.writeInt32LE(this._e,16),L},e.exports=p},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,e,n){"use strict";var r=t("buffer"),i=r.Buffer;function s(a,c){for(var u in a)c[u]=a[u]}function o(a,c,u){return i(a,c,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,n),n.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(a,c,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,c,u)},o.alloc=function(a,c,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=i(a);return c!==void 0?typeof u=="string"?l.fill(c,u):l.fill(c):l.fill(0),l},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],495:[function(t,e,n){(function(r){(function(){"use strict";var i,s=t("buffer"),o=s.Buffer,a={};for(i in s)s.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(a[i]=s[i]);var c=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(c[i]=o[i]);if(a.Buffer.prototype=o.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(u,l,d){if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof u);if(u&&u.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);return o(u,l,d)}),c.alloc||(c.alloc=function(u,l,d){if(typeof u!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof u);if(u<0||u>=2*(1<<30))throw new RangeError('The value "'+u+'" is invalid for option "size"');var f=o(u);return l&&l.length!==0?typeof d=="string"?f.fill(l,d):f.fill(l):f.fill(0),f}),!a.kStringMaxLength)try{a.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let r=t("xmlchars/xml/1.0/ed5"),i=t("xmlchars/xml/1.1/ed2"),s=t("xmlchars/xmlns/1.0/ed3");var o=r.isS,a=r.isChar,c=r.isNameStartChar,u=r.isNameChar,l=r.S_LIST,d=r.NAME_RE,f=i.isChar,p=s.isNCNameStartChar,h=s.isNCNameChar,y=s.NC_NAME_RE;let g="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:g,xmlns:_},k={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},L=m=>m===34||m===39,B=[34,39],V=[...B,91,62],R=[...B,60,93],N=[61,63,...l],j=[...l,62,38,60];function P(m,v,w){switch(v){case"xml":w!==g&&m.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":w!==_&&m.fail(`xmlns prefix must be bound to ${_}.`)}switch(w){case _:m.fail(v===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case g:switch(v){case"xml":break;case"":m.fail(`the default namespace may not be set to ${w}.`);break;default:m.fail("may not assign the xml namespace to another prefix.")}}}let E=m=>y.test(m),S=m=>d.test(m);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let D={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(m){this.opt=m??{},this.fragmentOpt=!!this.opt.fragment;let v=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,v){this.nameStartCheck=p,this.nameCheck=h,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);let w=this.opt.additionalNamespaces;w!=null&&((function(b,C){for(let I of Object.keys(C))P(b,I,C[I])})(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=c,this.nameCheck=u,this.isName=S,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var m;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:v}=this;this.state=v?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=v,this.xmlDeclPossible=!v,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(k),(m=this.readyHandler)===null||m===void 0||m.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(m,v){this[D[m]]=v}off(m){this[D[m]]=void 0}makeError(m){var v;let w=(v=this.fileName)!==null&&v!==void 0?v:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+m)}fail(m){let v=this.makeError(m),w=this.errorHandler;if(w===void 0)throw v;return w(v),this}write(m){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let v=!1;m===null?(v=!0,m=""):typeof m=="object"&&(m=m.toString()),this.carriedFromPrevious!==void 0&&(m=`${this.carriedFromPrevious}${m}`,this.carriedFromPrevious=void 0);let w=m.length,b=m.charCodeAt(w-1);!v&&(b===13||b>=55296&&b<=56319)&&(this.carriedFromPrevious=m[w-1],w--,m=m.slice(0,w));let{stateTable:C}=this;for(this.chunk=m,this.i=0;this.i<w;)C[this.state].call(this);return this.chunkPosition+=w,v?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:m,i:v}=this;if(this.prevI=v,this.i=v+1,v>=m.length)return-1;let w=m.charCodeAt(v);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return m.charCodeAt(v+1)===10&&(this.i=v+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let b=65536+1024*(w-55296)+(m.charCodeAt(v+1)-56320);return this.i=v+2,b>1114111&&this.fail("disallowed character."),b}getCode11(){let{chunk:m,i:v}=this;if(this.prevI=v,this.i=v+1,v>=m.length)return-1;let w=m.charCodeAt(v);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let C=m.charCodeAt(v+1);C!==10&&C!==133||(this.i=v+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let b=65536+1024*(w-55296)+(m.charCodeAt(v+1)-56320);return this.i=v+2,b>1114111&&this.fail("disallowed character."),b}getCodeNorm(){let m=this.getCode();return m===-2?10:m}unget(){this.i=this.prevI,this.column--}captureTo(m){let{i:v}=this,{chunk:w}=this;for(;;){let b=this.getCode(),C=b===-2,I=C?10:b;if(I===-1||m.includes(I))return this.text+=w.slice(v,this.prevI),I;C&&(this.text+=w.slice(v,this.prevI)+`
`,v=this.i)}}captureToChar(m){let{i:v}=this,{chunk:w}=this;for(;;){let b=this.getCode();switch(b){case-2:this.text+=w.slice(v,this.prevI)+`
`,v=this.i,b=10;break;case-1:return this.text+=w.slice(v),!1}if(b===m)return this.text+=w.slice(v,this.prevI),!0}}captureNameChars(){let{chunk:m,i:v}=this;for(;;){let w=this.getCode();if(w===-1)return this.name+=m.slice(v),-1;if(!u(w))return this.name+=m.slice(v,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){let m=this.getCodeNorm();if(m===-1||!o(m))return m}}setXMLVersion(m){this.currentXMLVersion=m,m==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=f,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let m=this.i,v=this.skipSpaces();switch(this.prevI!==m&&(this.xmlDeclPossible=!1),v){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var m;let v=this.captureTo(V);switch(v){case 62:(m=this.doctypeHandler)===null||m===void 0||m.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(v),v===91?this.state=4:L(v)&&(this.state=3,this.q=v)}}sDoctypeQuote(){let m=this.q;this.captureToChar(m)&&(this.text+=String.fromCodePoint(m),this.q=null,this.state=2)}sDTD(){let m=this.captureTo(R);m!==-1&&(this.text+=String.fromCodePoint(m),m===93?this.state=2:m===60?this.state=6:L(m)&&(this.state=5,this.q=m))}sDTDQuoted(){let m=this.q;this.captureToChar(m)&&(this.text+=String.fromCodePoint(m),this.state=4,this.q=null)}sDTDOpenWaka(){let m=this.getCodeNorm();switch(this.text+=String.fromCodePoint(m),m){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let m=String.fromCodePoint(this.getCodeNorm()),v=this.openWakaBang+=m;this.text+=m,v!=="-"&&(this.state=v==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let m=this.getCodeNorm();this.text+=String.fromCodePoint(m),this.state=m===45?10:8}sDTDCommentEnded(){let m=this.getCodeNorm();this.text+=String.fromCodePoint(m),m===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let m=this.getCodeNorm();this.text+=String.fromCodePoint(m),m===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:m}=this,{chunk:v}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=v.slice(m,this.prevI)+`
`,m=this.i;break;case 59:{let{entityReturnState:w}=this,b=this.entity+v.slice(m,this.prevI),C;this.state=w,b===""?(this.fail("empty entity name."),C="&;"):(C=this.parseEntity(b),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=C);break e}case-1:this.entity+=v.slice(m);break e}}sOpenWaka(){let m=this.getCode();if(c(m))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(m){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var m;let v=this.getCodeNorm();v===45?(this.state=19,(m=this.commentHandler)===null||m===void 0||m.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(v),this.state=17)}sCommentEnded(){let m=this.getCodeNorm();m!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(m),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let m=this.getCodeNorm();m===93?this.state=22:(this.text+="]"+String.fromCodePoint(m),this.state=20)}sCDataEnding2(){var m;let v=this.getCodeNorm();switch(v){case 62:(m=this.cdataHandler)===null||m===void 0||m.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(v),this.state=20}}sPIFirstChar(){let m=this.getCodeNorm();this.nameStartCheck(m)?(this.piTarget+=String.fromCodePoint(m),this.state=24):m===63||o(m)?(this.fail("processing instruction without a target."),this.state=m===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(m),this.state=24)}sPIRest(){let{chunk:m,i:v}=this;for(;;){let w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=m.slice(v));if(!this.nameCheck(w)){this.piTarget+=m.slice(v,this.prevI);let b=w===63;b||o(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=b?33:27):this.state=b?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){let m=this.getCodeNorm();m===63?this.state=26:o(m)||(this.text=String.fromCodePoint(m))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var m;let v=this.getCodeNorm();if(v===62){let{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(m=this.piHandler)===null||m===void 0||m.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else v===63?this.text+="?":(this.text+="?"+String.fromCodePoint(v),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let m=this.skipSpaces();m!==63?m!==-1&&(this.state=28,this.name=String.fromCodePoint(m)):this.state=33}sXMLDeclName(){let m=this.captureTo(N);if(m===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(o(m)||m===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=m===61?30:29}}sXMLDeclEq(){let m=this.getCodeNorm();if(m===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(m)||(m!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let m=this.getCodeNorm();if(m===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(m)||(L(m)?this.q=m:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let m=this.captureTo([this.q,63]);if(m===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(m===-1)return;let v=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let w=v;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(v)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=v;break;case"standalone":v!=="yes"&&v!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=v}this.name="",this.state=32}sXMLDeclSeparator(){let m=this.getCodeNorm();m!==63?(o(m)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var m;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(m=this.xmldeclHandler)===null||m===void 0||m.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var m;let v=this.captureNameChars();if(v===-1)return;let w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(m=this.openTagStartHandler)===null||m===void 0||m.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),v){case 62:this.openTag();break;case 47:this.state=35;break;default:o(v)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let m=this.skipSpaces();m!==-1&&(c(m)?(this.unget(),this.state=37):m===62?this.openTag():m===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let m=this.captureNameChars();m===61?this.state=39:o(m)?this.state=38:m===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):m!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let m=this.skipSpaces();switch(m){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",m===62?this.openTag():c(m)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let m=this.getCodeNorm();L(m)?(this.q=m,this.state=40):o(m)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:m,chunk:v}=this,{i:w}=this;for(;;)switch(this.getCode()){case m:return this.pushAttrib(this.name,this.text+v.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=v.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=v.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=v.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=v.slice(w))}}sAttribValueClosed(){let m=this.getCodeNorm();o(m)?this.state=36:m===62?this.openTag():m===47?this.state=35:c(m)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let m=this.captureTo(j);switch(m){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",m===62?this.openTag():this.state=36}}sCloseTag(){let m=this.captureNameChars();m===62?this.closeTag():o(m)?this.state=44:m!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:m,forbiddenState:v}=this,{chunk:w,textHandler:b}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,b!==void 0){let{text:C}=this,I=w.slice(m,this.prevI);C.length!==0?(b(C+I),this.text=""):I.length!==0&&b(I)}v=0;break e;case 38:this.state=14,this.entityReturnState=13,b!==void 0&&(this.text+=w.slice(m,this.prevI)),v=0;break e;case 93:switch(v){case 0:v=1;break;case 1:v=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:v===2&&this.fail('the string "]]>" is disallowed in char data.'),v=0;break;case-2:b!==void 0&&(this.text+=w.slice(m,this.prevI)+`
`),m=this.i,v=0;break;case-1:b!==void 0&&(this.text+=w.slice(m));break e;default:v=0}this.forbiddenState=v}handleTextOutsideRoot(){let{i:m}=this,{chunk:v,textHandler:w}=this,b=!1;e:for(;;){let C=this.getCode();switch(C){case 60:if(this.state=15,w!==void 0){let{text:I}=this,F=v.slice(m,this.prevI);I.length!==0?(w(I+F),this.text=""):F.length!==0&&w(F)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=v.slice(m,this.prevI)),b=!0;break e;case-2:w!==void 0&&(this.text+=v.slice(m,this.prevI)+`
`),m=this.i;break;case-1:w!==void 0&&(this.text+=v.slice(m));break e;default:o(C)||(b=!0)}}b&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(m,v){var w;let{prefix:b,local:C}=this.qname(m),I={name:m,prefix:b,local:C,value:v};if(this.attribList.push(I),(w=this.attributeHandler)===null||w===void 0||w.call(this,I),b==="xmlns"){let F=v.trim();this.currentXMLVersion==="1.0"&&F===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[C]=F,P(this,C,F)}else if(m==="xmlns"){let F=v.trim();this.topNS[""]=F,P(this,"",F)}}pushAttribPlain(m,v){var w;let b={name:m,value:v};this.attribList.push(b),(w=this.attributeHandler)===null||w===void 0||w.call(this,b)}end(){var m,v;this.sawRoot||this.fail("document must contain a root element.");let{tags:w}=this;for(;w.length>0;){let C=w.pop();this.fail("unclosed tag: "+C.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:b}=this;return b.length!==0&&((m=this.textHandler)===null||m===void 0||m.call(this,b),this.text=""),this._closed=!0,(v=this.endHandler)===null||v===void 0||v.call(this),this._init(),this}resolve(m){var v,w;let b=this.topNS[m];if(b!==void 0)return b;let{tags:C}=this;for(let I=C.length-1;I>=0;I--)if(b=C[I].ns[m],b!==void 0)return b;return b=this.ns[m],b!==void 0?b:(w=(v=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(v,m)}qname(m){let v=m.indexOf(":");if(v===-1)return{prefix:"",local:m};let w=m.slice(v+1),b=m.slice(0,v);return(b===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${m}.`),{prefix:b,local:w}}processAttribsNS(){var m;let{attribList:v}=this,w=this.tag;{let{prefix:I,local:F}=this.qname(w.name);w.prefix=I,w.local=F;let $=w.uri=(m=this.resolve(I))!==null&&m!==void 0?m:"";I!==""&&(I==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),$===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),w.uri=I))}if(v.length===0)return;let{attributes:b}=w,C=new Set;for(let I of v){let{name:F,prefix:$,local:z}=I,Y,O;$===""?(Y=F==="xmlns"?_:"",O=F):(Y=this.resolve($),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify($)}.`),Y=$),O=`{${Y}}${z}`),C.has(O)&&this.fail(`duplicate attribute: ${O}.`),C.add(O),I.uri=Y,b[F]=I}this.attribList=[]}processAttribsPlain(){let{attribList:m}=this,v=this.tag.attributes;for(let{name:w,value:b}of m)v[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),v[w]=b;this.attribList=[]}openTag(){var m;this.processAttribs();let{tags:v}=this,w=this.tag;w.isSelfClosing=!1,(m=this.openTagHandler)===null||m===void 0||m.call(this,w),v.push(w),this.state=13,this.name=""}openSelfClosingTag(){var m,v,w;this.processAttribs();let{tags:b}=this,C=this.tag;C.isSelfClosing=!0,(m=this.openTagHandler)===null||m===void 0||m.call(this,C),(v=this.closeTagHandler)===null||v===void 0||v.call(this,C),(this.tag=(w=b[b.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:m,name:v}=this;if(this.state=13,this.name="",v==="")return this.fail("weird empty close tag."),void(this.text+="</>");let w=this.closeTagHandler,b=m.length;for(;b-- >0;){let C=this.tag=m.pop();if(this.topNS=C.ns,w?.(C),C.name===v)break;this.fail("unexpected close tag.")}b===0?this.closedRoot=!0:b<0&&(this.fail(`unmatched closing tag: ${v}.`),this.text+=`</${v}>`)}parseEntity(m){if(m[0]!=="#"){let w=this.ENTITIES[m];return w!==void 0?w:(this.fail(this.isName(m)?"undefined entity.":"disallowed character in entity name."),`&${m};`)}let v=NaN;return m[1]==="x"&&/^#x[0-9a-f]+$/i.test(m)?v=parseInt(m.slice(2),16):/^#[0-9]+$/.test(m)&&(v=parseInt(m.slice(1),10)),this.isChar(v)?String.fromCodePoint(v):(this.fail("malformed character entity."),`&${m};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(s,o){this._block=r.alloc(s),this._finalSize=o,this._blockSize=s,this._len=0}i.prototype.update=function(s,o){typeof s=="string"&&(o=o||"utf8",s=r.from(s,o));for(var a=this._block,c=this._blockSize,u=s.length,l=this._len,d=0;d<u;){for(var f=l%c,p=Math.min(u-d,c-f),h=0;h<p;h++)a[f+h]=s[d+h];d+=p,(l+=p)%c==0&&this._update(a)}return this._len+=u,this},i.prototype.digest=function(s){var o=this._len%this._blockSize;this._block[o]=128,this._block.fill(0,o+1),o>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var c=(4294967295&a)>>>0,u=(a-c)/4294967296;this._block.writeUInt32BE(u,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var l=this._hash();return s?l.toString(s):l},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},{"safe-buffer":494}],498:[function(t,e,n){"use strict";var r=e.exports=function(i){i=i.toLowerCase();var s=r[i];if(!s)throw new Error(i+" is not supported (we accept pull requests)");return new s};r.sha=t("./sha"),r.sha1=t("./sha1"),r.sha224=t("./sha224"),r.sha256=t("./sha256"),r.sha384=t("./sha384"),r.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(d){return d<<30|d>>>2}function l(d,f,p,h){return d===0?f&p|~f&h:d===2?f&p|f&h|p&h:f^p^h}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(d){for(var f,p=this._w,h=0|this._a,y=0|this._b,g=0|this._c,_=0|this._d,x=0|this._e,k=0;k<16;++k)p[k]=d.readInt32BE(4*k);for(;k<80;++k)p[k]=p[k-3]^p[k-8]^p[k-14]^p[k-16];for(var L=0;L<80;++L){var B=~~(L/20),V=0|((f=h)<<5|f>>>27)+l(B,y,g,_)+x+p[L]+o[B];x=_,_=g,g=u(y),y=h,h=V}this._a=h+this._a|0,this._b=y+this._b|0,this._c=g+this._c|0,this._d=_+this._d|0,this._e=x+this._e|0},c.prototype._hash=function(){var d=s.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(f){return f<<5|f>>>27}function l(f){return f<<30|f>>>2}function d(f,p,h,y){return f===0?p&h|~p&y:f===2?p&h|p&y|h&y:p^h^y}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(f){for(var p,h=this._w,y=0|this._a,g=0|this._b,_=0|this._c,x=0|this._d,k=0|this._e,L=0;L<16;++L)h[L]=f.readInt32BE(4*L);for(;L<80;++L)h[L]=(p=h[L-3]^h[L-8]^h[L-14]^h[L-16])<<1|p>>>31;for(var B=0;B<80;++B){var V=~~(B/20),R=u(y)+d(V,g,_,x)+k+h[B]+o[V]|0;k=x,x=_,_=l(g),g=y,y=R}this._a=y+this._a|0,this._b=g+this._b|0,this._c=_+this._c|0,this._d=x+this._d|0,this._e=k+this._e|0},c.prototype._hash=function(){var f=s.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./sha256"),s=t("./hash"),o=t("safe-buffer").Buffer,a=new Array(64);function c(){this.init(),this._w=a,s.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var u=o.allocUnsafe(28);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u},e.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(h,y,g){return g^h&(y^g)}function l(h,y,g){return h&y|g&(h|y)}function d(h){return(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10)}function f(h){return(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7)}function p(h){return(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(h){for(var y,g=this._w,_=0|this._a,x=0|this._b,k=0|this._c,L=0|this._d,B=0|this._e,V=0|this._f,R=0|this._g,N=0|this._h,j=0;j<16;++j)g[j]=h.readInt32BE(4*j);for(;j<64;++j)g[j]=0|(((y=g[j-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+g[j-7]+p(g[j-15])+g[j-16];for(var P=0;P<64;++P){var E=N+f(B)+u(B,V,R)+o[P]+g[P]|0,S=d(_)+l(_,x,k)|0;N=R,R=V,V=B,B=L+E|0,L=k,k=x,x=_,_=E+S|0}this._a=_+this._a|0,this._b=x+this._b|0,this._c=k+this._c|0,this._d=L+this._d|0,this._e=B+this._e|0,this._f=V+this._f|0,this._g=R+this._g|0,this._h=N+this._h|0},c.prototype._hash=function(){var h=s.allocUnsafe(32);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h.writeInt32BE(this._h,28),h},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./sha512"),s=t("./hash"),o=t("safe-buffer").Buffer,a=new Array(160);function c(){this.init(),this._w=a,s.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var u=o.allocUnsafe(48);function l(d,f,p){u.writeInt32BE(d,p),u.writeInt32BE(f,p+4)}return l(this._ah,this._al,0),l(this._bh,this._bl,8),l(this._ch,this._cl,16),l(this._dh,this._dl,24),l(this._eh,this._el,32),l(this._fh,this._fl,40),u},e.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(x,k,L){return L^x&(k^L)}function l(x,k,L){return x&k|L&(x|k)}function d(x,k){return(x>>>28|k<<4)^(k>>>2|x<<30)^(k>>>7|x<<25)}function f(x,k){return(x>>>14|k<<18)^(x>>>18|k<<14)^(k>>>9|x<<23)}function p(x,k){return(x>>>1|k<<31)^(x>>>8|k<<24)^x>>>7}function h(x,k){return(x>>>1|k<<31)^(x>>>8|k<<24)^(x>>>7|k<<25)}function y(x,k){return(x>>>19|k<<13)^(k>>>29|x<<3)^x>>>6}function g(x,k){return(x>>>19|k<<13)^(k>>>29|x<<3)^(x>>>6|k<<26)}function _(x,k){return x>>>0<k>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(x){for(var k=this._w,L=0|this._ah,B=0|this._bh,V=0|this._ch,R=0|this._dh,N=0|this._eh,j=0|this._fh,P=0|this._gh,E=0|this._hh,S=0|this._al,D=0|this._bl,m=0|this._cl,v=0|this._dl,w=0|this._el,b=0|this._fl,C=0|this._gl,I=0|this._hl,F=0;F<32;F+=2)k[F]=x.readInt32BE(4*F),k[F+1]=x.readInt32BE(4*F+4);for(;F<160;F+=2){var $=k[F-30],z=k[F-30+1],Y=p($,z),O=h(z,$),W=y($=k[F-4],z=k[F-4+1]),M=g(z,$),A=k[F-14],U=k[F-14+1],X=k[F-32],re=k[F-32+1],Z=O+U|0,te=Y+A+_(Z,O)|0;te=(te=te+W+_(Z=Z+M|0,M)|0)+X+_(Z=Z+re|0,re)|0,k[F]=te,k[F+1]=Z}for(var de=0;de<160;de+=2){te=k[de],Z=k[de+1];var le=l(L,B,V),Q=l(S,D,m),ce=d(L,S),se=d(S,L),ue=f(N,w),pe=f(w,N),fe=o[de],he=o[de+1],Te=u(N,j,P),Me=u(w,b,C),ke=I+pe|0,it=E+ue+_(ke,I)|0;it=(it=(it=it+Te+_(ke=ke+Me|0,Me)|0)+fe+_(ke=ke+he|0,he)|0)+te+_(ke=ke+Z|0,Z)|0;var Fe=se+Q|0,He=ce+le+_(Fe,se)|0;E=P,I=C,P=j,C=b,j=N,b=w,N=R+it+_(w=v+ke|0,v)|0,R=V,v=m,V=B,m=D,B=L,D=S,L=it+He+_(S=ke+Fe|0,ke)|0}this._al=this._al+S|0,this._bl=this._bl+D|0,this._cl=this._cl+m|0,this._dl=this._dl+v|0,this._el=this._el+w|0,this._fl=this._fl+b|0,this._gl=this._gl+C|0,this._hl=this._hl+I|0,this._ah=this._ah+L+_(this._al,S)|0,this._bh=this._bh+B+_(this._bl,D)|0,this._ch=this._ch+V+_(this._cl,m)|0,this._dh=this._dh+R+_(this._dl,v)|0,this._eh=this._eh+N+_(this._el,w)|0,this._fh=this._fh+j+_(this._fl,b)|0,this._gh=this._gh+P+_(this._gl,C)|0,this._hh=this._hh+E+_(this._hl,I)|0},c.prototype._hash=function(){var x=s.allocUnsafe(64);function k(L,B,V){x.writeInt32BE(L,V),x.writeInt32BE(B,V+4)}return k(this._ah,this._al,0),k(this._bh,this._bl,8),k(this._ch,this._cl,16),k(this._dh,this._dl,24),k(this._eh,this._el,32),k(this._fh,this._fl,40),k(this._gh,this._gl,48),k(this._hh,this._hl,56),x},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,e,n){"use strict";e.exports=i;var r=t("events").EventEmitter;function i(){r.call(this)}t("inherits")(i,r),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(s,o){var a=this;function c(y){s.writable&&s.write(y)===!1&&a.pause&&a.pause()}function u(){a.readable&&a.resume&&a.resume()}a.on("data",c),s.on("drain",u),s._isStdio||o&&o.end===!1||(a.on("end",d),a.on("close",f));var l=!1;function d(){l||(l=!0,s.end())}function f(){l||(l=!0,typeof s.destroy=="function"&&s.destroy())}function p(y){if(h(),r.listenerCount(this,"error")===0)throw y}function h(){a.removeListener("data",c),s.removeListener("drain",u),a.removeListener("end",d),a.removeListener("close",f),a.removeListener("error",p),s.removeListener("error",p),a.removeListener("end",h),a.removeListener("close",h),s.removeListener("close",h)}return a.on("error",p),s.on("error",p),a.on("end",h),a.on("close",h),s.on("close",h),s.emit("pipe",a),s}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,e,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(i){return r.call(i)=="[object Array]"}},{}],507:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,e,n){"use strict";var r=t("process-nextick-args"),i=Object.keys||function(h){var y=[];for(var g in h)y.push(g);return y};e.exports=d;var s=Object.create(t("core-util-is"));s.inherits=t("inherits");var o=t("./_stream_readable"),a=t("./_stream_writable");s.inherits(d,o);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(h){if(!(this instanceof d))return new d(h);o.call(this,h),a.call(this,h),h&&h.readable===!1&&(this.readable=!1),h&&h.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,h&&h.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(h){h.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),d.prototype._destroy=function(h,y){this.push(null),this.end(),r.nextTick(y,h)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,e,n){"use strict";e.exports=s;var r=t("./_stream_transform"),i=Object.create(t("core-util-is"));function s(o){if(!(this instanceof s))return new s(o);r.call(this,o)}i.inherits=t("inherits"),i.inherits(s,r),s.prototype._transform=function(o,a,c){c(null,o)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,e,n){(function(r,i){(function(){"use strict";var s=t("process-nextick-args");e.exports=L;var o,a=t("isarray");L.ReadableState=k,t("events").EventEmitter;var c=function(I,F){return I.listeners(F).length},u=t("./internal/streams/stream"),l=t("safe-buffer").Buffer,d=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=Object.create(t("core-util-is"));f.inherits=t("inherits");var p=t("util"),h=void 0;h=p&&p.debuglog?p.debuglog("stream"):function(){};var y,g=t("./internal/streams/BufferList"),_=t("./internal/streams/destroy");f.inherits(L,u);var x=["error","close","destroy","pause","resume"];function k(I,F){I=I||{};var $=F instanceof(o=o||t("./_stream_duplex"));this.objectMode=!!I.objectMode,$&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var z=I.highWaterMark,Y=I.readableHighWaterMark,O=this.objectMode?16:16384;this.highWaterMark=z||z===0?z:$&&(Y||Y===0)?Y:O,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(y||(y=t("string_decoder/").StringDecoder),this.decoder=new y(I.encoding),this.encoding=I.encoding)}function L(I){if(o=o||t("./_stream_duplex"),!(this instanceof L))return new L(I);this._readableState=new k(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),u.call(this)}function B(I,F,$,z,Y){var O,W=I._readableState;return F===null?(W.reading=!1,(function(M,A){if(!A.ended){if(A.decoder){var U=A.decoder.end();U&&U.length&&(A.buffer.push(U),A.length+=A.objectMode?1:U.length)}A.ended=!0,N(M)}})(I,W)):(Y||(O=(function(M,A){var U;X=A,l.isBuffer(X)||X instanceof d||typeof A=="string"||A===void 0||M.objectMode||(U=new TypeError("Invalid non-string/buffer chunk"));var X;return U})(W,F)),O?I.emit("error",O):W.objectMode||F&&F.length>0?(typeof F=="string"||W.objectMode||Object.getPrototypeOf(F)===l.prototype||(F=(function(M){return l.from(M)})(F)),z?W.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):V(I,W,F,!0):W.ended?I.emit("error",new Error("stream.push() after EOF")):(W.reading=!1,W.decoder&&!$?(F=W.decoder.write(F),W.objectMode||F.length!==0?V(I,W,F,!1):P(I,W)):V(I,W,F,!1))):z||(W.reading=!1)),(function(M){return!M.ended&&(M.needReadable||M.length<M.highWaterMark||M.length===0)})(W)}function V(I,F,$,z){F.flowing&&F.length===0&&!F.sync?(I.emit("data",$),I.read(0)):(F.length+=F.objectMode?1:$.length,z?F.buffer.unshift($):F.buffer.push($),F.needReadable&&N(I)),P(I,F)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),L.prototype.destroy=_.destroy,L.prototype._undestroy=_.undestroy,L.prototype._destroy=function(I,F){this.push(null),F(I)},L.prototype.push=function(I,F){var $,z=this._readableState;return z.objectMode?$=!0:typeof I=="string"&&((F=F||z.defaultEncoding)!==z.encoding&&(I=l.from(I,F),F=""),$=!0),B(this,I,F,!1,$)},L.prototype.unshift=function(I){return B(this,I,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(I){return y||(y=t("string_decoder/").StringDecoder),this._readableState.decoder=new y(I),this._readableState.encoding=I,this};function R(I,F){return I<=0||F.length===0&&F.ended?0:F.objectMode?1:I!=I?F.flowing&&F.length?F.buffer.head.data.length:F.length:(I>F.highWaterMark&&(F.highWaterMark=(function($){return $>=8388608?$=8388608:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$})(I)),I<=F.length?I:F.ended?F.length:(F.needReadable=!0,0))}function N(I){var F=I._readableState;F.needReadable=!1,F.emittedReadable||(h("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?s.nextTick(j,I):j(I))}function j(I){h("emit readable"),I.emit("readable"),m(I)}function P(I,F){F.readingMore||(F.readingMore=!0,s.nextTick(E,I,F))}function E(I,F){for(var $=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(h("maybeReadMore read 0"),I.read(0),$!==F.length);)$=F.length;F.readingMore=!1}function S(I){h("readable nexttick read 0"),I.read(0)}function D(I,F){F.reading||(h("resume read 0"),I.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,I.emit("resume"),m(I),F.flowing&&!F.reading&&I.read(0)}function m(I){var F=I._readableState;for(h("flow",F.flowing);F.flowing&&I.read()!==null;);}function v(I,F){return F.length===0?null:(F.objectMode?$=F.buffer.shift():!I||I>=F.length?($=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):$=(function(z,Y,O){var W;return z<Y.head.data.length?(W=Y.head.data.slice(0,z),Y.head.data=Y.head.data.slice(z)):W=z===Y.head.data.length?Y.shift():O?(function(M,A){var U=A.head,X=1,re=U.data;for(M-=re.length;U=U.next;){var Z=U.data,te=M>Z.length?Z.length:M;if(te===Z.length?re+=Z:re+=Z.slice(0,M),(M-=te)===0){te===Z.length?(++X,U.next?A.head=U.next:A.head=A.tail=null):(A.head=U,U.data=Z.slice(te));break}++X}return A.length-=X,re})(z,Y):(function(M,A){var U=l.allocUnsafe(M),X=A.head,re=1;for(X.data.copy(U),M-=X.data.length;X=X.next;){var Z=X.data,te=M>Z.length?Z.length:M;if(Z.copy(U,U.length-M,0,te),(M-=te)===0){te===Z.length?(++re,X.next?A.head=X.next:A.head=A.tail=null):(A.head=X,X.data=Z.slice(te));break}++re}return A.length-=re,U})(z,Y),W})(I,F.buffer,F.decoder),$);var $}function w(I){var F=I._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,s.nextTick(b,F,I))}function b(I,F){I.endEmitted||I.length!==0||(I.endEmitted=!0,F.readable=!1,F.emit("end"))}function C(I,F){for(var $=0,z=I.length;$<z;$++)if(I[$]===F)return $;return-1}L.prototype.read=function(I){h("read",I),I=parseInt(I,10);var F=this._readableState,$=I;if(I!==0&&(F.emittedReadable=!1),I===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return h("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?w(this):N(this),null;if((I=R(I,F))===0&&F.ended)return F.length===0&&w(this),null;var z,Y=F.needReadable;return h("need readable",Y),(F.length===0||F.length-I<F.highWaterMark)&&h("length less than watermark",Y=!0),F.ended||F.reading?h("reading or ended",Y=!1):Y&&(h("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(I=R($,F))),(z=I>0?v(I,F):null)===null?(F.needReadable=!0,I=0):F.length-=I,F.length===0&&(F.ended||(F.needReadable=!0),$!==I&&F.ended&&w(this)),z!==null&&this.emit("data",z),z},L.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(I,F){var $=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=I;break;case 1:z.pipes=[z.pipes,I];break;default:z.pipes.push(I)}z.pipesCount+=1,h("pipe count=%d opts=%j",z.pipesCount,F);var Y=(!F||F.end!==!1)&&I!==r.stdout&&I!==r.stderr?W:de;function O(le,Q){h("onunpipe"),le===$&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,h("cleanup"),I.removeListener("close",Z),I.removeListener("finish",te),I.removeListener("drain",M),I.removeListener("error",re),I.removeListener("unpipe",O),$.removeListener("end",W),$.removeListener("end",de),$.removeListener("data",X),A=!0,!z.awaitDrain||I._writableState&&!I._writableState.needDrain||M())}function W(){h("onend"),I.end()}z.endEmitted?s.nextTick(Y):$.once("end",Y),I.on("unpipe",O);var M=(function(le){return function(){var Q=le._readableState;h("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,Q.awaitDrain===0&&c(le,"data")&&(Q.flowing=!0,m(le))}})($);I.on("drain",M);var A=!1,U=!1;function X(le){h("ondata"),U=!1,I.write(le)!==!1||U||((z.pipesCount===1&&z.pipes===I||z.pipesCount>1&&C(z.pipes,I)!==-1)&&!A&&(h("false write response, pause",z.awaitDrain),z.awaitDrain++,U=!0),$.pause())}function re(le){h("onerror",le),de(),I.removeListener("error",re),c(I,"error")===0&&I.emit("error",le)}function Z(){I.removeListener("finish",te),de()}function te(){h("onfinish"),I.removeListener("close",Z),de()}function de(){h("unpipe"),$.unpipe(I)}return $.on("data",X),(function(le,Q,ce){if(typeof le.prependListener=="function")return le.prependListener(Q,ce);le._events&&le._events[Q]?a(le._events[Q])?le._events[Q].unshift(ce):le._events[Q]=[ce,le._events[Q]]:le.on(Q,ce)})(I,"error",re),I.once("close",Z),I.once("finish",te),I.emit("pipe",$),z.flowing||(h("pipe resume"),$.resume()),I},L.prototype.unpipe=function(I){var F=this._readableState,$={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return I&&I!==F.pipes||(I||(I=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,I&&I.emit("unpipe",this,$)),this;if(!I){var z=F.pipes,Y=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var O=0;O<Y;O++)z[O].emit("unpipe",this,{hasUnpiped:!1});return this}var W=C(F.pipes,I);return W===-1||(F.pipes.splice(W,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),I.emit("unpipe",this,$)),this},L.prototype.on=function(I,F){var $=u.prototype.on.call(this,I,F);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var z=this._readableState;z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&N(this):s.nextTick(S,this))}return $},L.prototype.addListener=L.prototype.on,L.prototype.resume=function(){var I=this._readableState;return I.flowing||(h("resume"),I.flowing=!0,(function(F,$){$.resumeScheduled||($.resumeScheduled=!0,s.nextTick(D,F,$))})(this,I)),this},L.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},L.prototype.wrap=function(I){var F=this,$=this._readableState,z=!1;for(var Y in I.on("end",function(){if(h("wrapped end"),$.decoder&&!$.ended){var W=$.decoder.end();W&&W.length&&F.push(W)}F.push(null)}),I.on("data",function(W){h("wrapped data"),$.decoder&&(W=$.decoder.write(W)),$.objectMode&&W==null||($.objectMode||W&&W.length)&&(F.push(W)||(z=!0,I.pause()))}),I)this[Y]===void 0&&typeof I[Y]=="function"&&(this[Y]=(function(W){return function(){return I[W].apply(I,arguments)}})(Y));for(var O=0;O<x.length;O++)I.on(x[O],this.emit.bind(this,x[O]));return this._read=function(W){h("wrapped _read",W),z&&(z=!1,I.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=v}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,e,n){"use strict";e.exports=o;var r=t("./_stream_duplex"),i=Object.create(t("core-util-is"));function s(u,l){var d=this._transformState;d.transforming=!1;var f=d.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,l!=null&&this.push(l),f(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);r.call(this,u),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",a)}function a(){var u=this;typeof this._flush=="function"?this._flush(function(l,d){c(u,l,d)}):c(this,null,null)}function c(u,l,d){if(l)return u.emit("error",l);if(d!=null&&u.push(d),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}i.inherits=t("inherits"),i.inherits(o,r),o.prototype.push=function(u,l){return this._transformState.needTransform=!1,r.prototype.push.call(this,u,l)},o.prototype._transform=function(u,l,d){throw new Error("_transform() is not implemented")},o.prototype._write=function(u,l,d){var f=this._transformState;if(f.writecb=d,f.writechunk=u,f.writeencoding=l,!f.transforming){var p=this._readableState;(f.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},o.prototype._read=function(u){var l=this._transformState;l.writechunk!==null&&l.writecb&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},o.prototype._destroy=function(u,l){var d=this;r.prototype._destroy.call(this,u,function(f){l(f),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,e,n){(function(r,i,s){(function(){"use strict";var o=t("process-nextick-args");function a(P){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(S,D,m){var v=S.entry;for(S.entry=null;v;){var w=v.callback;D.pendingcb--,w(m),v=v.next}D.corkedRequestsFree.next=S})(E,P)}}e.exports=k;var c,u=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?s:o.nextTick;k.WritableState=x;var l=Object.create(t("core-util-is"));l.inherits=t("inherits");var d={deprecate:t("util-deprecate")},f=t("./internal/streams/stream"),p=t("safe-buffer").Buffer,h=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,g=t("./internal/streams/destroy");function _(){}function x(P,E){c=c||t("./_stream_duplex"),P=P||{};var S=E instanceof c;this.objectMode=!!P.objectMode,S&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var D=P.highWaterMark,m=P.writableHighWaterMark,v=this.objectMode?16:16384;this.highWaterMark=D||D===0?D:S&&(m||m===0)?m:v,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=P.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(b){(function(C,I){var F=C._writableState,$=F.sync,z=F.writecb;if((function(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0})(F),I)(function(O,W,M,A,U){--W.pendingcb,M?(o.nextTick(U,A),o.nextTick(j,O,W),O._writableState.errorEmitted=!0,O.emit("error",A)):(U(A),O._writableState.errorEmitted=!0,O.emit("error",A),j(O,W))})(C,F,$,I,z);else{var Y=R(F);Y||F.corked||F.bufferProcessing||!F.bufferedRequest||V(C,F),$?u(B,C,F,Y,z):B(C,F,Y,z)}})(E,b)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function k(P){if(c=c||t("./_stream_duplex"),!(y.call(k,this)||this instanceof c))return new k(P);this._writableState=new x(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),f.call(this)}function L(P,E,S,D,m,v,w){E.writelen=D,E.writecb=w,E.writing=!0,E.sync=!0,S?P._writev(m,E.onwrite):P._write(m,v,E.onwrite),E.sync=!1}function B(P,E,S,D){S||(function(m,v){v.length===0&&v.needDrain&&(v.needDrain=!1,m.emit("drain"))})(P,E),E.pendingcb--,D(),j(P,E)}function V(P,E){E.bufferProcessing=!0;var S=E.bufferedRequest;if(P._writev&&S&&S.next){var D=E.bufferedRequestCount,m=new Array(D),v=E.corkedRequestsFree;v.entry=S;for(var w=0,b=!0;S;)m[w]=S,S.isBuf||(b=!1),S=S.next,w+=1;m.allBuffers=b,L(P,E,!0,E.length,m,"",v.finish),E.pendingcb++,E.lastBufferedRequest=null,v.next?(E.corkedRequestsFree=v.next,v.next=null):E.corkedRequestsFree=new a(E),E.bufferedRequestCount=0}else{for(;S;){var C=S.chunk,I=S.encoding,F=S.callback;if(L(P,E,!1,E.objectMode?1:C.length,C,I,F),S=S.next,E.bufferedRequestCount--,E.writing)break}S===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=S,E.bufferProcessing=!1}function R(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function N(P,E){P._final(function(S){E.pendingcb--,S&&P.emit("error",S),E.prefinished=!0,P.emit("prefinish"),j(P,E)})}function j(P,E){var S=R(E);return S&&((function(D,m){m.prefinished||m.finalCalled||(typeof D._final=="function"?(m.pendingcb++,m.finalCalled=!0,o.nextTick(N,D,m)):(m.prefinished=!0,D.emit("prefinish")))})(P,E),E.pendingcb===0&&(E.finished=!0,P.emit("finish"))),S}l.inherits(k,f),x.prototype.getBuffer=function(){for(var P=this.bufferedRequest,E=[];P;)E.push(P),P=P.next;return E},(function(){try{Object.defineProperty(x.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(P){return!!y.call(this,P)||this===k&&P&&P._writableState instanceof x}})):y=function(P){return P instanceof this},k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},k.prototype.write=function(P,E,S){var D,m=this._writableState,v=!1,w=!m.objectMode&&(D=P,p.isBuffer(D)||D instanceof h);return w&&!p.isBuffer(P)&&(P=(function(b){return p.from(b)})(P)),typeof E=="function"&&(S=E,E=null),w?E="buffer":E||(E=m.defaultEncoding),typeof S!="function"&&(S=_),m.ended?(function(b,C){var I=new Error("write after end");b.emit("error",I),o.nextTick(C,I)})(this,S):(w||(function(b,C,I,F){var $=!0,z=!1;return I===null?z=new TypeError("May not write null values to stream"):typeof I=="string"||I===void 0||C.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(b.emit("error",z),o.nextTick(F,z),$=!1),$})(this,m,P,S))&&(m.pendingcb++,v=(function(b,C,I,F,$,z){if(!I){var Y=(function(A,U,X){return A.objectMode||A.decodeStrings===!1||typeof U!="string"||(U=p.from(U,X)),U})(C,F,$);F!==Y&&(I=!0,$="buffer",F=Y)}var O=C.objectMode?1:F.length;C.length+=O;var W=C.length<C.highWaterMark;if(W||(C.needDrain=!0),C.writing||C.corked){var M=C.lastBufferedRequest;C.lastBufferedRequest={chunk:F,encoding:$,isBuf:I,callback:z,next:null},M?M.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else L(b,C,!1,O,F,$,z);return W})(this,m,w,P,E,S)),v},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||V(this,P))},k.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(P,E,S){S(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(P,E,S){var D=this._writableState;typeof P=="function"?(S=P,P=null,E=null):typeof E=="function"&&(S=E,E=null),P!=null&&this.write(P,E),D.corked&&(D.corked=1,this.uncork()),D.ending||(function(m,v,w){v.ending=!0,j(m,v),w&&(v.finished?o.nextTick(w):m.once("finish",w)),v.ended=!0,m.writable=!1})(this,D,S)},Object.defineProperty(k.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(P,E){this.end(),E(P)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("util");e.exports=(function(){function s(){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(o){var a={data:o,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},s.prototype.unshift=function(o){var a={data:o,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},s.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(o){if(this.length===0)return"";for(var a=this.head,c=""+a.data;a=a.next;)c+=o+a.data;return c},s.prototype.concat=function(o){if(this.length===0)return r.alloc(0);for(var a,c,u,l=r.allocUnsafe(o>>>0),d=this.head,f=0;d;)a=d.data,c=l,u=f,a.copy(c,u),f+=d.data.length,d=d.next;return l},s})(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var s=i.inspect({length:this.length});return this.constructor.name+" "+s})},{"safe-buffer":520,util:188}],514:[function(t,e,n){"use strict";var r=t("process-nextick-args");function i(s,o){s.emit("error",o)}e.exports={destroy:function(s,o){var a=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,s)):r.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(l){!o&&l?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,r.nextTick(i,a,l)):r.nextTick(i,a,l):o&&o(l)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,e,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(t,e,n){"use strict";e.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,e,n){"use strict";e.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,e,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,e,n){(function(r,i){(function(){"use strict";var s=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,c={},u=0;function l(d,f){this._id=d,this._clearFn=f}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(d){d.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(d,f){clearTimeout(d._idleTimeoutId),d._idleTimeout=f},n.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},n._unrefActive=n.active=function(d){clearTimeout(d._idleTimeoutId);var f=d._idleTimeout;f>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},f))},n.setImmediate=typeof r=="function"?r:function(d){var f=u++,p=!(arguments.length<2)&&a.call(arguments,1);return c[f]=!0,s(function(){c[f]&&(p?d.apply(null,p):d.call(null),n.clearImmediate(f))}),f},n.clearImmediate=typeof i=="function"?i:function(d){delete c[d]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,e,n){(function(r){(function(){"use strict";function i(s){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[s];return o!=null&&String(o).toLowerCase()==="true"}e.exports=function(s,o){if(i("noDeprecation"))return s;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(o);i("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return s.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,e,n){"use strict";typeof Object.create=="function"?e.exports=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(r,i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}},{}],526:[function(t,e,n){"use strict";e.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],527:[function(t,e,n){(function(r,i){(function(){"use strict";var s=/%[sdj%]/g;n.format=function(m){if(!x(m)){for(var v=[],w=0;w<arguments.length;w++)v.push(c(arguments[w]));return v.join(" ")}w=1;for(var b=arguments,C=b.length,I=String(m).replace(s,function($){if($==="%%")return"%";if(w>=C)return $;switch($){case"%s":return String(b[w++]);case"%d":return Number(b[w++]);case"%j":try{return JSON.stringify(b[w++])}catch{return"[Circular]"}default:return $}}),F=b[w];w<C;F=b[++w])g(F)||!B(F)?I+=" "+F:I+=" "+c(F);return I},n.deprecate=function(m,v){if(k(i.process))return function(){return n.deprecate(m,v).apply(this,arguments)};if(r.noDeprecation===!0)return m;var w=!1;return function(){if(!w){if(r.throwDeprecation)throw new Error(v);r.traceDeprecation?console.trace(v):console.error(v),w=!0}return m.apply(this,arguments)}};var o,a={};function c(m,v){var w={seen:[],stylize:l};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),y(v)?w.showHidden=v:v&&n._extend(w,v),k(w.showHidden)&&(w.showHidden=!1),k(w.depth)&&(w.depth=2),k(w.colors)&&(w.colors=!1),k(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=u),d(w,m,w.depth)}function u(m,v){var w=c.styles[v];return w?"\x1B["+c.colors[w][0]+"m"+m+"\x1B["+c.colors[w][1]+"m":m}function l(m,v){return m}function d(m,v,w){if(m.customInspect&&v&&N(v.inspect)&&v.inspect!==n.inspect&&(!v.constructor||v.constructor.prototype!==v)){var b=v.inspect(w,m);return x(b)||(b=d(m,b,w)),b}var C=(function(M,A){if(k(A))return M.stylize("undefined","undefined");if(x(A)){var U="'"+JSON.stringify(A).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(U,"string")}if(_(A))return M.stylize(""+A,"number");if(y(A))return M.stylize(""+A,"boolean");if(g(A))return M.stylize("null","null")})(m,v);if(C)return C;var I=Object.keys(v),F=(function(M){var A={};return M.forEach(function(U,X){A[U]=!0}),A})(I);if(m.showHidden&&(I=Object.getOwnPropertyNames(v)),R(v)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return f(v);if(I.length===0){if(N(v)){var $=v.name?": "+v.name:"";return m.stylize("[Function"+$+"]","special")}if(L(v))return m.stylize(RegExp.prototype.toString.call(v),"regexp");if(V(v))return m.stylize(Date.prototype.toString.call(v),"date");if(R(v))return f(v)}var z,Y="",O=!1,W=["{","}"];return h(v)&&(O=!0,W=["[","]"]),N(v)&&(Y=" [Function"+(v.name?": "+v.name:"")+"]"),L(v)&&(Y=" "+RegExp.prototype.toString.call(v)),V(v)&&(Y=" "+Date.prototype.toUTCString.call(v)),R(v)&&(Y=" "+f(v)),I.length!==0||O&&v.length!=0?w<0?L(v)?m.stylize(RegExp.prototype.toString.call(v),"regexp"):m.stylize("[Object]","special"):(m.seen.push(v),z=O?(function(M,A,U,X,re){for(var Z=[],te=0,de=A.length;te<de;++te)D(A,String(te))?Z.push(p(M,A,U,X,String(te),!0)):Z.push("");return re.forEach(function(le){le.match(/^\d+$/)||Z.push(p(M,A,U,X,le,!0))}),Z})(m,v,w,F,I):I.map(function(M){return p(m,v,w,F,M,O)}),m.seen.pop(),(function(M,A,U){return M.reduce(function(X,re){return re.indexOf(`
`)>=0,X+re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?U[0]+(A===""?"":A+`
 `)+" "+M.join(`,
  `)+" "+U[1]:U[0]+A+" "+M.join(", ")+" "+U[1]})(z,Y,W)):W[0]+Y+W[1]}function f(m){return"["+Error.prototype.toString.call(m)+"]"}function p(m,v,w,b,C,I){var F,$,z;if((z=Object.getOwnPropertyDescriptor(v,C)||{value:v[C]}).get?$=z.set?m.stylize("[Getter/Setter]","special"):m.stylize("[Getter]","special"):z.set&&($=m.stylize("[Setter]","special")),D(b,C)||(F="["+C+"]"),$||(m.seen.indexOf(z.value)<0?($=g(w)?d(m,z.value,null):d(m,z.value,w-1)).indexOf(`
`)>-1&&($=I?$.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+$.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):$=m.stylize("[Circular]","special")),k(F)){if(I&&C.match(/^\d+$/))return $;(F=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.substr(1,F.length-2),F=m.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=m.stylize(F,"string"))}return F+": "+$}function h(m){return Array.isArray(m)}function y(m){return typeof m=="boolean"}function g(m){return m===null}function _(m){return typeof m=="number"}function x(m){return typeof m=="string"}function k(m){return m===void 0}function L(m){return B(m)&&j(m)==="[object RegExp]"}function B(m){return typeof m=="object"&&m!==null}function V(m){return B(m)&&j(m)==="[object Date]"}function R(m){return B(m)&&(j(m)==="[object Error]"||m instanceof Error)}function N(m){return typeof m=="function"}function j(m){return Object.prototype.toString.call(m)}function P(m){return m<10?"0"+m.toString(10):m.toString(10)}n.debuglog=function(m){if(k(o)&&(o=r.env.NODE_DEBUG||""),m=m.toUpperCase(),!a[m])if(new RegExp("\\b"+m+"\\b","i").test(o)){var v=r.pid;a[m]=function(){var w=n.format.apply(n,arguments);console.error("%s %d: %s",m,v,w)}}else a[m]=function(){};return a[m]},n.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=y,n.isNull=g,n.isNullOrUndefined=function(m){return m==null},n.isNumber=_,n.isString=x,n.isSymbol=function(m){return typeof m=="symbol"},n.isUndefined=k,n.isRegExp=L,n.isObject=B,n.isDate=V,n.isError=R,n.isFunction=N,n.isPrimitive=function(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"||typeof m=="symbol"||m===void 0},n.isBuffer=t("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var m=new Date,v=[P(m.getHours()),P(m.getMinutes()),P(m.getSeconds())].join(":");return[m.getDate(),E[m.getMonth()],v].join(" ")}function D(m,v){return Object.prototype.hasOwnProperty.call(m,v)}n.log=function(){console.log("%s - %s",S(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(m,v){if(!v||!B(v))return m;for(var w=Object.keys(v),b=w.length;b--;)m[w[b]]=v[w[b]];return m}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}});var r=f(t("./v1.js")),i=f(t("./v3.js")),s=f(t("./v4.js")),o=f(t("./v5.js")),a=f(t("./nil.js")),c=f(t("./version.js")),u=f(t("./validate.js")),l=f(t("./stringify.js")),d=f(t("./parse.js"));function f(p){return p&&p.__esModule?p:{default:p}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,e,n){"use strict";function r(d){return 14+(d+64>>>9<<4)+1}function i(d,f){let p=(65535&d)+(65535&f);return(d>>16)+(f>>16)+(p>>16)<<16|65535&p}function s(d,f,p,h,y,g){return i((_=i(i(f,d),i(h,g)))<<(x=y)|_>>>32-x,p);var _,x}function o(d,f,p,h,y,g,_){return s(f&p|~f&h,d,f,y,g,_)}function a(d,f,p,h,y,g,_){return s(f&h|p&~h,d,f,y,g,_)}function c(d,f,p,h,y,g,_){return s(f^p^h,d,f,y,g,_)}function u(d,f,p,h,y,g,_){return s(p^(f|~h),d,f,y,g,_)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(d){if(typeof d=="string"){let f=unescape(encodeURIComponent(d));d=new Uint8Array(f.length);for(let p=0;p<f.length;++p)d[p]=f.charCodeAt(p)}return(function(f){let p=[],h=32*f.length;for(let y=0;y<h;y+=8){let g=f[y>>5]>>>y%32&255,_=parseInt("0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g),16);p.push(_)}return p})((function(f,p){f[p>>5]|=128<<p%32,f[r(p)-1]=p;let h=1732584193,y=-271733879,g=-1732584194,_=271733878;for(let x=0;x<f.length;x+=16){let k=h,L=y,B=g,V=_;h=o(h,y,g,_,f[x],7,-680876936),_=o(_,h,y,g,f[x+1],12,-389564586),g=o(g,_,h,y,f[x+2],17,606105819),y=o(y,g,_,h,f[x+3],22,-1044525330),h=o(h,y,g,_,f[x+4],7,-176418897),_=o(_,h,y,g,f[x+5],12,1200080426),g=o(g,_,h,y,f[x+6],17,-1473231341),y=o(y,g,_,h,f[x+7],22,-45705983),h=o(h,y,g,_,f[x+8],7,1770035416),_=o(_,h,y,g,f[x+9],12,-1958414417),g=o(g,_,h,y,f[x+10],17,-42063),y=o(y,g,_,h,f[x+11],22,-1990404162),h=o(h,y,g,_,f[x+12],7,1804603682),_=o(_,h,y,g,f[x+13],12,-40341101),g=o(g,_,h,y,f[x+14],17,-1502002290),y=o(y,g,_,h,f[x+15],22,1236535329),h=a(h,y,g,_,f[x+1],5,-165796510),_=a(_,h,y,g,f[x+6],9,-1069501632),g=a(g,_,h,y,f[x+11],14,643717713),y=a(y,g,_,h,f[x],20,-373897302),h=a(h,y,g,_,f[x+5],5,-701558691),_=a(_,h,y,g,f[x+10],9,38016083),g=a(g,_,h,y,f[x+15],14,-660478335),y=a(y,g,_,h,f[x+4],20,-405537848),h=a(h,y,g,_,f[x+9],5,568446438),_=a(_,h,y,g,f[x+14],9,-1019803690),g=a(g,_,h,y,f[x+3],14,-187363961),y=a(y,g,_,h,f[x+8],20,1163531501),h=a(h,y,g,_,f[x+13],5,-1444681467),_=a(_,h,y,g,f[x+2],9,-51403784),g=a(g,_,h,y,f[x+7],14,1735328473),y=a(y,g,_,h,f[x+12],20,-1926607734),h=c(h,y,g,_,f[x+5],4,-378558),_=c(_,h,y,g,f[x+8],11,-2022574463),g=c(g,_,h,y,f[x+11],16,1839030562),y=c(y,g,_,h,f[x+14],23,-35309556),h=c(h,y,g,_,f[x+1],4,-1530992060),_=c(_,h,y,g,f[x+4],11,1272893353),g=c(g,_,h,y,f[x+7],16,-155497632),y=c(y,g,_,h,f[x+10],23,-1094730640),h=c(h,y,g,_,f[x+13],4,681279174),_=c(_,h,y,g,f[x],11,-358537222),g=c(g,_,h,y,f[x+3],16,-722521979),y=c(y,g,_,h,f[x+6],23,76029189),h=c(h,y,g,_,f[x+9],4,-640364487),_=c(_,h,y,g,f[x+12],11,-421815835),g=c(g,_,h,y,f[x+15],16,530742520),y=c(y,g,_,h,f[x+2],23,-995338651),h=u(h,y,g,_,f[x],6,-198630844),_=u(_,h,y,g,f[x+7],10,1126891415),g=u(g,_,h,y,f[x+14],15,-1416354905),y=u(y,g,_,h,f[x+5],21,-57434055),h=u(h,y,g,_,f[x+12],6,1700485571),_=u(_,h,y,g,f[x+3],10,-1894986606),g=u(g,_,h,y,f[x+10],15,-1051523),y=u(y,g,_,h,f[x+1],21,-2054922799),h=u(h,y,g,_,f[x+8],6,1873313359),_=u(_,h,y,g,f[x+15],10,-30611744),g=u(g,_,h,y,f[x+6],15,-1560198380),y=u(y,g,_,h,f[x+13],21,1309151649),h=u(h,y,g,_,f[x+4],6,-145523070),_=u(_,h,y,g,f[x+11],10,-1120210379),g=u(g,_,h,y,f[x+2],15,718787259),y=u(y,g,_,h,f[x+9],21,-343485551),h=i(h,k),y=i(y,L),g=i(g,B),_=i(_,V)}return[h,y,g,_]})((function(f){if(f.length===0)return[];let p=8*f.length,h=new Uint32Array(r(p));for(let y=0;y<p;y+=8)h[y>>5]|=(255&f[y/8])<<y%32;return h})(d),8*d.length))};n.default=l},{}],530:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");let a,c=new Uint8Array(16);return c[0]=(a=parseInt(o.slice(0,8),16))>>>24,c[1]=a>>>16&255,c[2]=a>>>8&255,c[3]=255&a,c[4]=(a=parseInt(o.slice(9,13),16))>>>8,c[5]=255&a,c[6]=(a=parseInt(o.slice(14,18),16))>>>8,c[7]=255&a,c[8]=(a=parseInt(o.slice(19,23),16))>>>8,c[9]=255&a,c[10]=(a=parseInt(o.slice(24,36),16))/1099511627776&255,c[11]=a/4294967296&255,c[12]=a>>>24&255,c[13]=a>>>16&255,c[14]=a>>>8&255,c[15]=255&a,c};n.default=s},{"./validate.js":541}],532:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,e,n){"use strict";let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};let i=new Uint8Array(16)},{}],534:[function(t,e,n){"use strict";function r(o,a,c,u){switch(o){case 0:return a&c^~a&u;case 1:return a^c^u;case 2:return a&c^a&u^c&u;case 3:return a^c^u}}function i(o,a){return o<<a|o>>>32-a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(o){let a=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){let f=unescape(encodeURIComponent(o));o=[];for(let p=0;p<f.length;++p)o.push(f.charCodeAt(p))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);let u=o.length/4+2,l=Math.ceil(u/16),d=new Array(l);for(let f=0;f<l;++f){let p=new Uint32Array(16);for(let h=0;h<16;++h)p[h]=o[64*f+4*h]<<24|o[64*f+4*h+1]<<16|o[64*f+4*h+2]<<8|o[64*f+4*h+3];d[f]=p}d[l-1][14]=8*(o.length-1)/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=8*(o.length-1)&4294967295;for(let f=0;f<l;++f){let p=new Uint32Array(80);for(let k=0;k<16;++k)p[k]=d[f][k];for(let k=16;k<80;++k)p[k]=i(p[k-3]^p[k-8]^p[k-14]^p[k-16],1);let h=c[0],y=c[1],g=c[2],_=c[3],x=c[4];for(let k=0;k<80;++k){let L=Math.floor(k/20),B=i(h,5)+r(L,y,g,_)+x+a[L]+p[k]>>>0;x=_,_=g,g=i(y,30)>>>0,y=h,h=B}c[0]=c[0]+h>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+g>>>0,c[3]=c[3]+_>>>0,c[4]=c[4]+x>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};n.default=s},{}],535:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r};let s=[];for(let a=0;a<256;++a)s.push((a+256).toString(16).substr(1));var o=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(s[a[c+0]]+s[a[c+1]]+s[a[c+2]]+s[a[c+3]]+"-"+s[a[c+4]]+s[a[c+5]]+"-"+s[a[c+6]]+s[a[c+7]]+"-"+s[a[c+8]]+s[a[c+9]]+"-"+s[a[c+10]]+s[a[c+11]]+s[a[c+12]]+s[a[c+13]]+s[a[c+14]]+s[a[c+15]]).toLowerCase();if(!(0,i.default)(u))throw TypeError("Stringified UUID is invalid");return u};n.default=o},{"./validate.js":541}],536:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./rng.js")),i=s(t("./stringify.js"));function s(d){return d&&d.__esModule?d:{default:d}}let o,a,c=0,u=0;var l=function(d,f,p){let h=f&&p||0,y=f||new Array(16),g=(d=d||{}).node||o,_=d.clockseq!==void 0?d.clockseq:a;if(g==null||_==null){let R=d.random||(d.rng||r.default)();g==null&&(g=o=[1|R[0],R[1],R[2],R[3],R[4],R[5]]),_==null&&(_=a=16383&(R[6]<<8|R[7]))}let x=d.msecs!==void 0?d.msecs:Date.now(),k=d.nsecs!==void 0?d.nsecs:u+1,L=x-c+(k-u)/1e4;if(L<0&&d.clockseq===void 0&&(_=_+1&16383),(L<0||x>c)&&d.nsecs===void 0&&(k=0),k>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=x,u=k,a=_,x+=122192928e5;let B=(1e4*(268435455&x)+k)%4294967296;y[h++]=B>>>24&255,y[h++]=B>>>16&255,y[h++]=B>>>8&255,y[h++]=255&B;let V=x/4294967296*1e4&268435455;y[h++]=V>>>8&255,y[h++]=255&V,y[h++]=V>>>24&15|16,y[h++]=V>>>16&255,y[h++]=_>>>8|128,y[h++]=255&_;for(let R=0;R<6;++R)y[h+R]=g[R];return f||(0,i.default)(y)};n.default=l},{"./rng.js":533,"./stringify.js":535}],537:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./v35.js")),i=s(t("./md5.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,i.default);n.default=o},{"./md5.js":529,"./v35.js":538}],538:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(c,u,l){function d(f,p,h,y){if(typeof f=="string"&&(f=(function(_){_=unescape(encodeURIComponent(_));let x=[];for(let k=0;k<_.length;++k)x.push(_.charCodeAt(k));return x})(f)),typeof p=="string"&&(p=(0,i.default)(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+f.length);if(g.set(p),g.set(f,p.length),g=l(g),g[6]=15&g[6]|u,g[8]=63&g[8]|128,h){y=y||0;for(let _=0;_<16;++_)h[y+_]=g[_];return h}return(0,r.default)(g)}try{d.name=c}catch{}return d.DNS=o,d.URL=a,d},n.URL=n.DNS=void 0;var r=s(t("./stringify.js")),i=s(t("./parse.js"));function s(c){return c&&c.__esModule?c:{default:c}}let o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=o;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./rng.js")),i=s(t("./stringify.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=function(a,c,u){let l=(a=a||{}).random||(a.rng||r.default)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,c){u=u||0;for(let d=0;d<16;++d)c[u+d]=l[d];return c}return(0,i.default)(l)};n.default=o},{"./rng.js":533,"./stringify.js":535}],540:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./v35.js")),i=s(t("./sha1.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,i.default);n.default=o},{"./sha1.js":534,"./v35.js":538}],541:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./regex.js"))&&r.__esModule?r:{default:r},s=function(o){return typeof o=="string"&&i.default.test(o)};n.default=s},{"./regex.js":532}],542:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");return parseInt(o.substr(14,1),16)};n.default=s},{"./validate.js":541}],543:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",n.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},n.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(t,e,n){"use strict";function r(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(i){return r(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)})});var bk=VC((hC,pC)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof hC<"u"?e():(e(),t.FileSaver={})})(hC,function(){"use strict";function t(a,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,c,u){var l=new XMLHttpRequest;l.open("GET",a),l.responseType="blob",l.onload=function(){o(l.response,c,u)},l.onerror=function(){console.error("could not download file")},l.send()}function n(a){var c=new XMLHttpRequest;c.open("HEAD",a,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(c)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(a,c,u){var l=i.URL||i.webkitURL,d=document.createElement("a");c=c||a.name||"download",d.download=c,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?r(d):n(d.href)?e(a,c,u):r(d,d.target="_blank")):(d.href=l.createObjectURL(a),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,c,u){if(c=c||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,u),c);else if(n(a))e(a,c,u);else{var l=document.createElement("a");l.href=a,l.target="_blank",setTimeout(function(){r(l)})}}:function(a,c,u,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof a=="string")return e(a,c,u);var d=a.type==="application/octet-stream",f=/constructor/i.test(i.HTMLElement)||i.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&f||s)&&typeof FileReader<"u"){var h=new FileReader;h.onloadend=function(){var _=h.result;_=p?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=_:location=_,l=null},h.readAsDataURL(a)}else{var y=i.URL||i.webkitURL,g=y.createObjectURL(a);l?l.location=g:location.href=g,l=null,setTimeout(function(){y.revokeObjectURL(g)},4e4)}});i.saveAs=o.saveAs=o,typeof pC<"u"&&(pC.exports=o)})});var Hr=null,ph=!1,Ey=1,Ok=null,ri=Symbol("SIGNAL");function qt(t){let e=Hr;return Hr=t,e}function gh(){return Hr}var Uu={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $u(t){if(ph)throw new Error("");if(Hr===null)return;Hr.consumerOnSignalRead(t);let e=Hr.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Hr.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Hr.producers,n!==void 0&&n.producer===t)){Hr.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Hr&&(!r||Fk(i,Hr)))return;let s=tl(Hr),o={producer:t,consumer:Hr,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Hr.producersTail=o,e!==void 0?e.nextProducer=o:Hr.producers=o,s&&HC(t,o)}function BC(){Ey++}function Cy(t){if(!(tl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ey)){if(!t.producerMustRecompute(t)&&!vh(t)){wy(t);return}t.producerRecomputeValue(t),wy(t)}}function xy(t){if(t.consumers===void 0)return;let e=ph;ph=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Pk(r)}}finally{ph=e}}function Sy(){return Hr?.consumerAllowSignalWrites!==!1}function Pk(t){t.dirty=!0,xy(t),t.consumerMarkedDirty?.(t)}function wy(t){t.dirty=!1,t.lastCleanEpoch=Ey}function Hu(t){return t&&UC(t),qt(t)}function UC(t){t.producersTail=void 0,t.recomputing=!0}function yh(t,e){qt(e),t&&$C(t)}function $C(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(tl(t))do n=Iy(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function vh(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Cy(n),r!==n.version))return!0}return!1}function zu(t){if(tl(t)){let e=t.producers;for(;e!==void 0;)e=Iy(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function HC(t,e){let n=t.consumersTail,r=tl(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)HC(i.producer,i)}function Iy(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!tl(e)){let s=e.producers;for(;s!==void 0;)s=Iy(s)}return n}function tl(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ty(t){Ok?.(t)}function Fk(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Dy(t,e){return Object.is(t,e)}function bh(t,e){let n=Object.create(Lk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Cy(n),$u(n),n.value===mh)throw n.error;return n.value};return r[ri]=n,Ty(n),r}var by=Symbol("UNSET"),_y=Symbol("COMPUTING"),mh=Symbol("ERRORED"),Lk=je(ve({},Uu),{value:by,dirty:!0,error:null,equal:Dy,kind:"computed",producerMustRecompute(t){return t.value===by||t.value===_y},producerRecomputeValue(t){if(t.value===_y)throw new Error("");let e=t.value;t.value=_y;let n=Hu(t),r,i=!1;try{r=t.computation(),qt(null),i=e!==by&&e!==mh&&r!==mh&&t.equal(e,r)}catch(s){r=mh,t.error=s}finally{yh(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Vk(){throw new Error}var zC=Vk;function qC(t){zC(t)}function Ay(t){zC=t}var jk=null;function My(t,e){let n=Object.create(_h);n.value=t,e!==void 0&&(n.equal=e);let r=()=>WC(n);return r[ri]=n,Ty(n),[r,o=>qu(n,o),o=>GC(n,o)]}function WC(t){return $u(t),t.value}function qu(t,e){Sy()||qC(t),t.equal(t.value,e)||(t.value=e,Bk(t))}function GC(t,e){Sy()||qC(t),qu(t,e(t.value))}var _h=je(ve({},Uu),{equal:Dy,value:void 0,kind:"signal"});function Bk(t){t.version++,BC(),xy(t),jk?.(t)}function ky(t){let e=qt(null);try{return t()}finally{qt(e)}}function Lt(t){return typeof t=="function"}function nl(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wh=nl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ua(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var br=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Lt(r))try{r()}catch(s){e=s instanceof wh?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{KC(s)}catch(o){e=e??[],o instanceof wh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)KC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ua(n,e)}remove(e){let{_finalizers:n}=this;n&&Ua(n,e),e instanceof t&&e._removeParent(this)}};br.EMPTY=(()=>{let t=new br;return t.closed=!0,t})();var Ry=br.EMPTY;function Eh(t){return t instanceof br||t&&"closed"in t&&Lt(t.remove)&&Lt(t.add)&&Lt(t.unsubscribe)}function KC(t){Lt(t)?t():t.unsubscribe()}var ns={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var rl={setTimeout(t,e,...n){let{delegate:r}=rl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=rl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ch(t){rl.setTimeout(()=>{let{onUnhandledError:e}=ns;if(e)e(t);else throw t})}function Wu(){}var YC=Ny("C",void 0,void 0);function XC(t){return Ny("E",void 0,t)}function QC(t){return Ny("N",t,void 0)}function Ny(t,e,n){return{kind:t,value:e,error:n}}var $a=null;function il(t){if(ns.useDeprecatedSynchronousErrorHandling){let e=!$a;if(e&&($a={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$a;if($a=null,n)throw r}}else t()}function ZC(t){ns.useDeprecatedSynchronousErrorHandling&&$a&&($a.errorThrown=!0,$a.error=t)}var Ha=class extends br{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Eh(e)&&e.add(this)):this.destination=Hk}static create(e,n,r){return new rs(e,n,r)}next(e){this.isStopped?Py(QC(e),this):this._next(e)}error(e){this.isStopped?Py(XC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Py(YC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Uk=Function.prototype.bind;function Oy(t,e){return Uk.call(t,e)}var Fy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xh(r)}else xh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xh(n)}}},rs=class extends Ha{constructor(e,n,r){super();let i;if(Lt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ns.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Oy(e.next,s),error:e.error&&Oy(e.error,s),complete:e.complete&&Oy(e.complete,s)}):i=e}this.destination=new Fy(i)}};function xh(t){ns.useDeprecatedSynchronousErrorHandling?ZC(t):Ch(t)}function $k(t){throw t}function Py(t,e){let{onStoppedNotification:n}=ns;n&&rl.setTimeout(()=>n(t,e))}var Hk={closed:!0,next:Wu,error:$k,complete:Wu};var sl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function is(t){return t}function Sh(...t){return Ly(t)}function Ly(t){return t.length===0?is:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ut=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=qk(n)?n:new rs(n,r,i);return il(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=JC(r),new r((i,s)=>{let o=new rs({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[sl](){return this}pipe(...n){return Ly(n)(this)}toPromise(n){return n=JC(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function JC(t){var e;return(e=t??ns.Promise)!==null&&e!==void 0?e:Promise}function zk(t){return t&&Lt(t.next)&&Lt(t.error)&&Lt(t.complete)}function qk(t){return t&&t instanceof Ha||zk(t)&&Eh(t)}function Wk(t){return Lt(t?.lift)}function yn(t){return e=>{if(Wk(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function En(t,e,n,r,i){return new Vy(t,e,n,r,i)}var Vy=class extends Ha{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ex=nl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Bn=(()=>{class t extends Ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ih(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ex}next(n){il(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){il(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){il(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ry:(this.currentObservers=null,s.push(n),new br(()=>{this.currentObservers=null,Ua(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Ut;return n.source=this,n}}return t.create=(e,n)=>new Ih(e,n),t})(),Ih=class extends Bn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ry}};var Dn=class extends Bn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gu={now(){return(Gu.delegate||Date).now()},delegate:void 0};var Ku=class extends Bn{constructor(e=1/0,n=1/0,r=Gu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Th=class extends br{constructor(e,n){super()}schedule(e,n=0){return this}};var Yu={setInterval(t,e,...n){let{delegate:r}=Yu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Yu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ol=class extends Th{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Yu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ua(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var al=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};al.now=Gu.now;var cl=class extends al{constructor(e,n=al.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var jy=new cl(ol);var Dh=class extends ol{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ah=class extends cl{};var By=new Ah(Dh);var fi=new Ut(t=>t.complete());function tx(t){return t&&Lt(t.schedule)}function nx(t){return t[t.length-1]}function Mh(t){return Lt(nx(t))?t.pop():void 0}function qo(t){return tx(nx(t))?t.pop():void 0}function ix(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function rx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function za(t){return this instanceof za?(this.v=t,this):new za(t)}function sx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(h){return Promise.resolve(h).then(p,d)}}function a(p,h){r[p]&&(i[p]=function(y){return new Promise(function(g,_){s.push([p,y,g,_])>1||c(p,y)})},h&&(i[p]=h(i[p])))}function c(p,h){try{u(r[p](h))}catch(y){f(s[0][3],y)}}function u(p){p.value instanceof za?Promise.resolve(p.value.v).then(l,d):f(s[0][2],p)}function l(p){c("next",p)}function d(p){c("throw",p)}function f(p,h){p(h),s.shift(),s.length&&c(s[0][0],s[0][1])}}function ox(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rx=="function"?rx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var kh=t=>t&&typeof t.length=="number"&&typeof t!="function";function Rh(t){return Lt(t?.then)}function Nh(t){return Lt(t[sl])}function Oh(t){return Symbol.asyncIterator&&Lt(t?.[Symbol.asyncIterator])}function Ph(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Gk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fh=Gk();function Lh(t){return Lt(t?.[Fh])}function Vh(t){return sx(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield za(n.read());if(i)return yield za(void 0);yield yield za(r)}}finally{n.releaseLock()}})}function jh(t){return Lt(t?.getReader)}function Yn(t){if(t instanceof Ut)return t;if(t!=null){if(Nh(t))return Kk(t);if(kh(t))return Yk(t);if(Rh(t))return Xk(t);if(Oh(t))return ax(t);if(Lh(t))return Qk(t);if(jh(t))return Zk(t)}throw Ph(t)}function Kk(t){return new Ut(e=>{let n=t[sl]();if(Lt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yk(t){return new Ut(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Xk(t){return new Ut(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ch)})}function Qk(t){return new Ut(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ax(t){return new Ut(e=>{Jk(t,e).catch(n=>e.error(n))})}function Zk(t){return ax(Vh(t))}function Jk(t,e){var n,r,i,s;return ix(this,void 0,void 0,function*(){try{for(n=ox(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function hi(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Wo(t,e=0){return yn((n,r)=>{n.subscribe(En(r,i=>hi(r,t,()=>r.next(i),e),()=>hi(r,t,()=>r.complete(),e),i=>hi(r,t,()=>r.error(i),e)))})}function Go(t,e=0){return yn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cx(t,e){return Yn(t).pipe(Go(e),Wo(e))}function lx(t,e){return Yn(t).pipe(Go(e),Wo(e))}function ux(t,e){return new Ut(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function dx(t,e){return new Ut(n=>{let r;return hi(n,e,()=>{r=t[Fh](),hi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Lt(r?.return)&&r.return()})}function Bh(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ut(n=>{hi(n,e,()=>{let r=t[Symbol.asyncIterator]();hi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fx(t,e){return Bh(Vh(t),e)}function hx(t,e){if(t!=null){if(Nh(t))return cx(t,e);if(kh(t))return ux(t,e);if(Rh(t))return lx(t,e);if(Oh(t))return Bh(t,e);if(Lh(t))return dx(t,e);if(jh(t))return fx(t,e)}throw Ph(t)}function kn(t,e){return e?hx(t,e):Yn(t)}function Le(...t){let e=qo(t);return kn(t,e)}function Uy(t,e){let n=Lt(t)?t:()=>t,r=i=>i.error(n());return new Ut(e?i=>e.schedule(r,0,i):r)}function Uh(t){return!!t&&(t instanceof Ut||Lt(t.lift)&&Lt(t.subscribe))}var fo=nl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function An(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=new rs({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new fo)}});t.subscribe(s)})}function Be(t,e){return yn((n,r)=>{let i=0;n.subscribe(En(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:eR}=Array;function tR(t,e){return eR(e)?t(...e):t(e)}function $h(t){return Be(e=>tR(t,e))}var{isArray:nR}=Array,{getPrototypeOf:rR,prototype:iR,keys:sR}=Object;function Hh(t){if(t.length===1){let e=t[0];if(nR(e))return{args:e,keys:null};if(oR(e)){let n=sR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function oR(t){return t&&typeof t=="object"&&rR(t)===iR}function zh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fn(...t){let e=qo(t),n=Mh(t),{args:r,keys:i}=Hh(t);if(r.length===0)return kn([],e);let s=new Ut(aR(r,e,i?o=>zh(i,o):is));return n?s.pipe($h(n)):s}function aR(t,e,n=is){return r=>{px(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)px(e,()=>{let u=kn(t[c],e),l=!1;u.subscribe(En(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function px(t,e,n){t?hi(n,t,e):e()}function mx(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,f=()=>{d&&!c.length&&!u&&e.complete()},p=y=>u<r?h(y):c.push(y),h=y=>{s&&e.next(y),u++;let g=!1;Yn(n(y,l++)).subscribe(En(e,_=>{i?.(_),s?p(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;c.length&&u<r;){let _=c.shift();o?hi(e,o,()=>h(_)):h(_)}f()}catch(_){e.error(_)}}))};return t.subscribe(En(e,p,()=>{d=!0,f()})),()=>{a?.()}}function zr(t,e,n=1/0){return Lt(e)?zr((r,i)=>Be((s,o)=>e(r,s,i,o))(Yn(t(r,i))),n):(typeof e=="number"&&(n=e),yn((r,i)=>mx(r,i,t,n)))}function ll(t=1/0){return zr(is,t)}function gx(){return ll(1)}function ul(...t){return gx()(kn(t,qo(t)))}function Xu(t){return new Ut(e=>{Yn(t()).subscribe(e)})}function $y(...t){let e=Mh(t),{args:n,keys:r}=Hh(t),i=new Ut(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Yn(n[l]).subscribe(En(s,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?zh(r,a):a),s.complete())}))}});return e?i.pipe($h(e)):i}function Li(t,e){return yn((n,r)=>{let i=0;n.subscribe(En(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cn(t){return yn((e,n)=>{let r=null,i=!1,s;r=e.subscribe(En(n,void 0,void 0,o=>{s=Yn(t(o,cn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Qu(t,e){return Lt(e)?zr(t,e,1):zr(t,1)}function Hy(t){return yn((e,n)=>{let r=!1;e.subscribe(En(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Vi(t){return t<=0?()=>fi:yn((e,n)=>{let r=0;e.subscribe(En(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yx(t=cR){return yn((e,n)=>{let r=!1;e.subscribe(En(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cR(){return new fo}function zy(t){return yn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ho(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Li((i,s)=>t(i,s,r)):is,Vi(1),n?Hy(e):yx(()=>new fo))}function qh(t){return t<=0?()=>fi:yn((e,n)=>{let r=[];e.subscribe(En(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vx(t={}){let{connector:e=()=>new Bn,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),o=c=void 0,l=d=!1},h=()=>{let y=o;p(),y?.unsubscribe()};return yn((y,g)=>{u++,!d&&!l&&f();let _=c=c??e();g.add(()=>{u--,u===0&&!d&&!l&&(a=qy(h,i))}),_.subscribe(g),!o&&u>0&&(o=new rs({next:x=>_.next(x),error:x=>{d=!0,f(),a=qy(p,n,x),_.error(x)},complete:()=>{l=!0,f(),a=qy(p,r),_.complete()}}),Yn(y).subscribe(o))})(s)}}function qy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new rs({next:()=>{r.unsubscribe(),t()}});return Yn(e(...n)).subscribe(r)}function Wh(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,vx({connector:()=>new Ku(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function po(...t){let e=qo(t);return yn((n,r)=>{(e?ul(t,n,e):ul(t,n)).subscribe(r)})}function Wt(t,e){return yn((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(En(r,c=>{i?.unsubscribe();let u=0,l=s++;Yn(t(c,l)).subscribe(i=En(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zu(t){return yn((e,n)=>{Yn(t).subscribe(En(n,()=>n.complete(),Wu)),!n.closed&&e.subscribe(n)})}function vn(t,e,n){let r=Lt(t)||e||n?{next:t,error:e,complete:n}:t;return r?yn((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(En(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):is}var Wy;function Gh(){return Wy}function Is(t){let e=Wy;return Wy=t,e}var bx=Symbol("NotFound");function dl(t){return t===bx||t?.name==="\u0275NotFound"}var Ko=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},cv=new Ko("21.0.6");var Zh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Qe=class extends Error{code;constructor(e,n){super(Ya(e,n)),this.code=e}};function dR(t){return`NG0${Math.abs(t)}`}function Ya(t,e){return`${dR(t)}${e?": "+e:""}`}var yo=globalThis;function Cn(t){for(let e in t)if(t[e]===Cn)return e;throw Error("")}function xx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function go(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(go).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function lv(t,e){return t?e?`${t} ${e}`:t:e||""}var fR=Cn({__forward_ref__:Cn});function pi(t){return t.__forward_ref__=pi,t.toString=function(){return go(this())},t}function Pr(t){return uv(t)?t():t}function uv(t){return typeof t=="function"&&t.hasOwnProperty(fR)&&t.__forward_ref__===pi}function Ge(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ss(t){return{providers:t.providers||[],imports:t.imports||[]}}function id(t){return hR(t,Jh)}function dv(t){return id(t)!==null}function hR(t,e){return t.hasOwnProperty(e)&&t[e]||null}function pR(t){let e=t?.[Jh]??null;return e||null}function Ky(t){return t&&t.hasOwnProperty(Yh)?t[Yh]:null}var Jh=Cn({\u0275prov:Cn}),Yh=Cn({\u0275inj:Cn}),ot=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fv(t){return t&&!!t.\u0275providers}var hv=Cn({\u0275cmp:Cn}),pv=Cn({\u0275dir:Cn}),mv=Cn({\u0275pipe:Cn}),gv=Cn({\u0275mod:Cn}),ed=Cn({\u0275fac:Cn}),Xa=Cn({__NG_ELEMENT_ID__:Cn}),_x=Cn({__NG_ENV_ID__:Cn});function yv(t){return ep(t,"@NgModule"),t[gv]||null}function Zo(t){return ep(t,"@Component"),t[hv]||null}function vv(t){return ep(t,"@Directive"),t[pv]||null}function Sx(t){return ep(t,"@Pipe"),t[mv]||null}function ep(t,e){if(t==null)throw new Qe(-919,!1)}function Ds(t){return typeof t=="string"?t:t==null?"":String(t)}function Ix(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ds(t)}var Tx=Cn({ngErrorCode:Cn}),mR=Cn({ngErrorMessage:Cn}),gR=Cn({ngTokenPath:Cn});function bv(t,e){return Dx("",-200,e)}function tp(t,e){throw new Qe(-201,!1)}function Dx(t,e,n){let r=new Qe(e,t);return r[Tx]=e,r[mR]=t,n&&(r[gR]=n),r}function yR(t){return t[Tx]}var Yy;function Ax(){return Yy}function ii(t){let e=Yy;return Yy=t,e}function _v(t,e,n){let r=id(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;tp(t,"")}var vR={},qa=vR,Xy="__NG_DI_FLAG__",Qy=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Wa(n)||0;try{return this.injector.get(e,r&8?null:qa,r)}catch(i){if(dl(i))return i;throw i}}};function bR(t,e=0){let n=Gh();if(n===void 0)throw new Qe(-203,!1);if(n===null)return _v(t,void 0,e);{let r=_R(e),i=n.retrieve(t,r);if(dl(i)){if(r.optional)return null;throw i}return i}}function Rt(t,e=0){return(Ax()||bR)(Pr(t),e)}function me(t,e){return Rt(t,Wa(e))}function Wa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _R(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Zy(t){let e=[];for(let n=0;n<t.length;n++){let r=Pr(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Qe(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=wR(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Rt(i,s))}else e.push(Rt(r))}return e}function Mx(t,e){return t[Xy]=e,t.prototype[Xy]=e,t}function wR(t){return t[Xy]}function Yo(t,e){let n=t.hasOwnProperty(ed);return n?t[ed]:null}function kx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Rx(t){return t.flat(Number.POSITIVE_INFINITY)}function np(t,e){t.forEach(n=>Array.isArray(n)?np(n,e):e(n))}function wv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Ox(t,e,n){let r=hl(t,e);return r>=0?t[r|1]=n:(r=~r,Nx(t,r,e,n)),r}function rp(t,e){let n=hl(t,e);if(n>=0)return t[n|1]}function hl(t,e){return ER(t,e,1)}function ER(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Jo={},wi=[],pl=new ot(""),Ev=new ot("",-1),Cv=new ot(""),td=class{get(e,n=qa){if(n===qa){let i=Dx("",-201);throw i.name="\u0275NotFound",i}return n}};function os(t){return{\u0275providers:t}}function Px(...t){return{\u0275providers:xv(!0,t),\u0275fromNgModule:!0}}function xv(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return np(e,o=>{let a=o;Xh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Fx(i,s),n}function Fx(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sv(i,s=>{e(s,r)})}}function Xh(t,e,n,r){if(t=Pr(t),!t)return!1;let i=null,s=Ky(t),o=!s&&Zo(t);if(!s&&!o){let c=t.ngModule;if(s=Ky(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Xh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{np(s.imports,l=>{Xh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Fx(u,e)}if(!a){let u=Yo(i)||(()=>new i);e({provide:i,useFactory:u,deps:wi},i),e({provide:Cv,useValue:i,multi:!0},i),e({provide:pl,useValue:()=>Rt(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Sv(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Sv(t,e){for(let n of t)fv(n)&&(n=n.\u0275providers),Array.isArray(n)?Sv(n,e):e(n)}var CR=Cn({provide:String,useValue:Cn});function Lx(t){return t!==null&&typeof t=="object"&&CR in t}function xR(t){return!!(t&&t.useExisting)}function SR(t){return!!(t&&t.useFactory)}function Ga(t){return typeof t=="function"}function Vx(t){return!!t.useClass}var od=new ot(""),Kh={},wx={},Gy;function ad(){return Gy===void 0&&(Gy=new td),Gy}var ar=class{},Ka=class extends ar{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ev(e,o=>this.processProvider(o)),this.records.set(Ev,fl(void 0,this)),i.has("environment")&&this.records.set(ar,fl(void 0,this));let s=this.records.get(od);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Cv,wi,{self:!0}))}retrieve(e,n){let r=Wa(n)||0;try{return this.get(e,qa,r)}catch(i){if(dl(i))return i;throw i}}destroy(){Ju(this),this._destroyed=!0;let e=qt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qt(e)}}onDestroy(e){return Ju(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ju(this);let n=Is(this),r=ii(void 0),i;try{return e()}finally{Is(n),ii(r)}}get(e,n=qa,r){if(Ju(this),e.hasOwnProperty(_x))return e[_x](this);let i=Wa(r),s,o=Is(this),a=ii(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let l=MR(e)&&id(e);l&&this.injectableDefInScope(l)?u=fl(Jy(e),Kh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?ad():this.parent;return n=i&8&&n===qa?null:n,c.get(e,n)}catch(c){let u=yR(c);throw u===-200||u===-201?new Qe(u,null):c}finally{ii(a),Is(o)}}resolveInjectorInitializers(){let e=qt(null),n=Is(this),r=ii(void 0),i;try{let s=this.get(pl,wi,{self:!0});for(let o of s)o()}finally{Is(n),ii(r),qt(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(go(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pr(e);let n=Ga(e)?e:Pr(e&&e.provide),r=TR(e);if(!Ga(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fl(void 0,Kh,!0),i.factory=()=>Zy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=qt(null);try{if(n.value===wx)throw bv(go(e));return n.value===Kh&&(n.value=wx,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&AR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{qt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pr(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Jy(t){let e=id(t),n=e!==null?e.factory:Yo(t);if(n!==null)return n;if(t instanceof ot)throw new Qe(204,!1);if(t instanceof Function)return IR(t);throw new Qe(204,!1)}function IR(t){if(t.length>0)throw new Qe(204,!1);let n=pR(t);return n!==null?()=>n.factory(t):()=>new t}function TR(t){if(Lx(t))return fl(void 0,t.useValue);{let e=Iv(t);return fl(e,Kh)}}function Iv(t,e,n){let r;if(Ga(t)){let i=Pr(t);return Yo(i)||Jy(i)}else if(Lx(t))r=()=>Pr(t.useValue);else if(SR(t))r=()=>t.useFactory(...Zy(t.deps||[]));else if(xR(t))r=(i,s)=>Rt(Pr(t.useExisting),s!==void 0&&s&8?8:void 0);else{let i=Pr(t&&(t.useClass||t.provide));if(DR(t))r=()=>new i(...Zy(t.deps));else return Yo(i)||Jy(i)}return r}function Ju(t){if(t.destroyed)throw new Qe(205,!1)}function fl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function DR(t){return!!t.deps}function AR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function MR(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ev(t,e){for(let n of t)Array.isArray(n)?ev(n,e):n&&fv(n)?ev(n.\u0275providers,e):e(n)}function _r(t,e){let n;t instanceof Ka?(Ju(t),n=t):n=new Qy(t);let r,i=Is(n),s=ii(void 0);try{return e()}finally{Is(i),ii(s)}}function jx(){return Ax()!==void 0||Gh()!=null}var as=0,Dt=1,Nt=2,Sr=3,ji=4,Bi=5,cd=6,ml=7,qr=8,ea=9,As=10,$n=11,gl=12,Tv=13,Qa=14,Ui=15,ta=16,Za=17,Ms=18,ld=19,Dv=20,mo=21,ip=22,ud=23,Ei=24,Ja=25,dd=26,cr=27,Bx=1;var na=7,fd=8,ec=9,si=10;function ks(t){return Array.isArray(t)&&typeof t[Bx]=="object"}function cs(t){return Array.isArray(t)&&t[Bx]===!0}function Av(t){return(t.flags&4)!==0}function ra(t){return t.componentOffset>-1}function yl(t){return(t.flags&1)===1}function Rs(t){return!!t.template}function vl(t){return(t[Nt]&512)!==0}function tc(t){return(t[Nt]&256)===256}var Mv="svg",Ux="math";function $i(t){for(;Array.isArray(t);)t=t[as];return t}function kv(t,e){return $i(e[t])}function ls(t,e){return $i(e[t.index])}function sp(t,e){return t.data[e]}function hd(t,e){return t[e]}function Rv(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Hi(t,e){let n=e[t];return ks(n)?n:n[as]}function $x(t){return(t[Nt]&4)===4}function op(t){return(t[Nt]&128)===128}function Hx(t){return cs(t[Sr])}function nc(t,e){return e==null?null:t[e]}function Nv(t){t[Za]=0}function Ov(t){t[Nt]&1024||(t[Nt]|=1024,op(t)&&bl(t))}function zx(t,e){for(;t>0;)e=e[Qa],t--;return e}function pd(t){return!!(t[Nt]&9216||t[Ei]?.dirty)}function ap(t){t[As].changeDetectionScheduler?.notify(8),t[Nt]&64&&(t[Nt]|=1024),pd(t)&&bl(t)}function bl(t){t[As].changeDetectionScheduler?.notify(0);let e=Xo(t);for(;e!==null&&!(e[Nt]&8192||(e[Nt]|=8192,!op(e)));)e=Xo(e)}function Pv(t,e){if(tc(t))throw new Qe(911,!1);t[mo]===null&&(t[mo]=[]),t[mo].push(e)}function qx(t,e){if(t[mo]===null)return;let n=t[mo].indexOf(e);n!==-1&&t[mo].splice(n,1)}function Xo(t){let e=t[Sr];return cs(e)?e[Sr]:e}function Fv(t){return t[ml]??=[]}function Lv(t){return t.cleanup??=[]}function Wx(t,e,n,r){let i=Fv(e);i.push(n),t.firstCreatePass&&Lv(t).push(r,i.length-1)}var $t={lFrame:sS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tv=!1;function Gx(){return $t.lFrame.elementDepthCount}function Kx(){$t.lFrame.elementDepthCount++}function Vv(){$t.lFrame.elementDepthCount--}function cp(){return $t.bindingsEnabled}function Yx(){return $t.skipHydrationRootTNode!==null}function jv(t){return $t.skipHydrationRootTNode===t}function Bv(){$t.skipHydrationRootTNode=null}function Vt(){return $t.lFrame.lView}function Ir(){return $t.lFrame.tView}function nt(t){return $t.lFrame.contextLView=t,t[qr]}function rt(t){return $t.lFrame.contextLView=null,t}function wr(){let t=Uv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Uv(){return $t.lFrame.currentTNode}function Xx(){let t=$t.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _l(t,e){let n=$t.lFrame;n.currentTNode=t,n.isParent=e}function $v(){return $t.lFrame.isParent}function Qx(){$t.lFrame.isParent=!1}function Zx(){return $t.lFrame.contextLView}function Hv(){return tv}function zv(t){let e=tv;return tv=t,e}function ia(){let t=$t.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qv(){return $t.lFrame.bindingIndex}function Jx(t){return $t.lFrame.bindingIndex=t}function md(){return $t.lFrame.bindingIndex++}function lp(t){let e=$t.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function eS(){return $t.lFrame.inI18n}function tS(t,e){let n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=t,up(e)}function nS(){return $t.lFrame.currentDirectiveIndex}function up(t){$t.lFrame.currentDirectiveIndex=t}function rS(t){let e=$t.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Wv(){return $t.lFrame.currentQueryIndex}function dp(t){$t.lFrame.currentQueryIndex=t}function kR(t){let e=t[Dt];return e.type===2?e.declTNode:e.type===1?t[Bi]:null}function Gv(t,e,n){if(n&4){let i=e,s=t;for(;i=i.parent,i===null&&!(n&1);)if(i=kR(s),i===null||(s=s[Qa],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=$t.lFrame=iS();return r.currentTNode=e,r.lView=t,!0}function fp(t){let e=iS(),n=t[Dt];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function iS(){let t=$t.lFrame,e=t===null?null:t.child;return e===null?sS(t):e}function sS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function oS(){let t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Kv=oS;function hp(){let t=oS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aS(t){return($t.lFrame.contextLView=zx(t,$t.lFrame.contextLView))[qr]}function vo(){return $t.lFrame.selectedIndex}function sa(t){$t.lFrame.selectedIndex=t}function pp(){let t=$t.lFrame;return sp(t.tView,t.selectedIndex)}function Ns(){$t.lFrame.currentNamespace=Mv}function mp(){RR()}function RR(){$t.lFrame.currentNamespace=null}function cS(){return $t.lFrame.currentNamespace}var lS=!0;function gp(){return lS}function gd(t){lS=t}function nv(t,e=null,n=null,r){let i=Yv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Yv(t,e=null,n=null,r,i=new Set){let s=[n||wi,Px(t)];return r=r||(typeof t=="object"?void 0:go(t)),new Ka(s,e||ad(),r||null,i)}var rr=class t{static THROW_IF_NOT_FOUND=qa;static NULL=new td;static create(e,n){if(Array.isArray(e))return nv({name:""},n,e,"");{let r=e.name??"";return nv({name:r},e.parent,e.providers,r)}}static \u0275prov=Ge({token:t,providedIn:"any",factory:()=>Rt(Ev)});static __NG_ELEMENT_ID__=-1},ir=new ot(""),us=(()=>{class t{static __NG_ELEMENT_ID__=NR;static __NG_ENV_ID__=n=>n}return t})(),rv=class extends us{_lView;constructor(e){super(),this._lView=e}get destroyed(){return tc(this._lView)}onDestroy(e){let n=this._lView;return Pv(n,e),()=>qx(n,e)}};function NR(){return new rv(Vt())}var uS=!1,bo=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Dn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ut(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ge({token:t,providedIn:"root",factory:()=>new t})}return t})(),iv=class extends Bn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jx()&&(this.destroyRef=me(us,{optional:!0})??void 0,this.pendingTasks=me(bo,{optional:!0})??void 0)}emit(e){let n=qt(null);try{super.next(e)}finally{qt(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof br&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Nn=iv;function Qh(...t){}function Xv(t){let e,n;function r(){t=Qh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Qv(t){return queueMicrotask(()=>t()),()=>{t=Qh}}var Zv="isAngularZone",nd=Zv+"_ID",OR=0,Un=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Nn(!1);onMicrotaskEmpty=new Nn(!1);onStable=new Nn(!1);onError=new Nn(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=uS}=e;if(typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,LR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Qe(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,PR,Qh,Qh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},PR={};function Jv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function FR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Xv(()=>{t.callbackScheduled=!1,sv(t),t.isCheckStableRunning=!0,Jv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),sv(t)}function LR(t){let e=()=>{FR(t)},n=OR++;t._inner=t._inner.fork({name:"angular",properties:{[Zv]:!0,[nd]:n,[nd+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(VR(c))return r.invokeTask(s,o,a,c);try{return Ex(t),r.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Cx(t)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return Ex(t),r.invoke(s,o,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!jR(c)&&e(),Cx(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,sv(t),Jv(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function sv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ex(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cx(t){t._nesting--,Jv(t)}var rd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Nn;onMicrotaskEmpty=new Nn;onStable=new Nn;onError=new Nn;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function VR(t){return dS(t,"__ignore_ng_zone__")}function jR(t){return dS(t,"__scheduler_tick__")}function dS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ts=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ci=new ot("",{factory:()=>{let t=me(Un),e=me(ar),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Ts),n.handleError(r))})}}}),fS={provide:pl,useValue:()=>{let t=me(Ts,{optional:!0})},multi:!0};function xi(t,e){let[n,r,i]=My(t,e?.equal),s=n,o=s[ri];return s.set=r,s.update=i,s.asReadonly=hS.bind(s),s}function hS(){let t=this[ri];if(t.readonlyFn===void 0){let e=()=>this();e[ri]=t,t.readonlyFn=e}return t.readonlyFn}var yp=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=BR}return t})();function BR(){return new yp(Vt(),wr())}var Qo=class{},yd=new ot("",{factory:()=>!0});var eb=new ot(""),wl=(()=>{class t{internalPendingTasks=me(bo);scheduler=me(Qo);errorHandler=me(Ci);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Ge({token:t,providedIn:"root",factory:()=>new t})}return t})(),tb=(()=>{class t{static \u0275prov=Ge({token:t,providedIn:"root",factory:()=>new ov})}return t})(),ov=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},av=class{[ri];constructor(e){this[ri]=e}destroy(){this[ri].destroy()}};function Jn(t){return ky(t)}function Al(t){return{toString:t}.toString()}var vp="__parameters__";function WR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function GR(t,e,n){return Al(()=>{let r=WR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(vp)?c[vp]:Object.defineProperty(c,vp,{value:[]})[vp];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Si=Mx(GR("Optional"),8);function KR(t){return typeof t=="function"}function HS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ip=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},mi=(()=>{let t=()=>zS;return t.ngInherit=!0,t})();function zS(t){return t.type.prototype.ngOnChanges&&(t.setInput=XR),YR}function YR(){let t=WS(this),e=t?.current;if(e){let n=t.previous;if(n===Jo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function XR(t,e,n,r,i){let s=this.declaredInputs[r],o=WS(t)||QR(t,{previous:Jo,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Ip(u&&u.currentValue,n,c===Jo),HS(t,e,i,n)}var qS="__ngSimpleChanges__";function WS(t){return t[qS]||null}function QR(t,e){return t[qS]=e}var pS=[];var xn=function(t,e=null,n){for(let r=0;r<pS.length;r++){let i=pS[r];i(t,e,n)}},mn=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(mn||{});function ZR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=zS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function GS(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function wp(t,e,n){KS(t,e,3,n)}function Ep(t,e,n,r){(t[Nt]&3)===n&&KS(t,e,n,r)}function nb(t,e){let n=t[Nt];(n&3)===e&&(n&=16383,n+=1,t[Nt]=n)}function KS(t,e,n,r){let i=r!==void 0?t[Za]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Za]+=65536),(a<s||s==-1)&&(JR(t,n,e,c),t[Za]=(t[Za]&4294901760)+c+2),c++}function mS(t,e){xn(mn.LifecycleHookStart,t,e);let n=qt(null);try{e.call(t)}finally{qt(n),xn(mn.LifecycleHookEnd,t,e)}}function JR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Nt]>>14<t[Za]>>16&&(t[Nt]&3)===e&&(t[Nt]+=16384,mS(a,s)):mS(a,s)}var Cl=-1,ic=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function e5(t){return(t.flags&8)!==0}function t5(t){return(t.flags&16)!==0}function n5(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];r5(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function YS(t){return t===3||t===4||t===6}function r5(t){return t.charCodeAt(0)===64}function xl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gS(t,n,i,null,e[++r]):gS(t,n,i,null,null))}}return t}function gS(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function XS(t){return t!==Cl}function Tp(t){return t&32767}function i5(t){return t>>16}function Dp(t,e){let n=i5(t),r=e;for(;n>0;)r=r[Qa],n--;return r}var db=!0;function Ap(t){let e=db;return db=t,e}var s5=256,QS=s5-1,ZS=5,o5=0,Os={};function a5(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xa)&&(r=n[Xa]),r==null&&(r=n[Xa]=o5++);let i=r&QS,s=1<<i;e.data[t+(i>>ZS)]|=s}function Mp(t,e){let n=JS(t,e);if(n!==-1)return n;let r=e[Dt];r.firstCreatePass&&(t.injectorIndex=e.length,rb(r.data,t),rb(e,null),rb(r.blueprint,null));let i=Rb(t,e),s=t.injectorIndex;if(XS(i)){let o=Tp(i),a=Dp(i,e),c=a[Dt].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function rb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function JS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rb(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=iI(i),r===null)return Cl;if(n++,i=i[Qa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Cl}function fb(t,e,n){a5(t,e,n)}function c5(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(YS(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function eI(t,e,n){if(n&8||t!==void 0)return t;tp(e,"NodeInjector")}function tI(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[ea],s=ii(void 0);try{return i?i.get(e,r,n&8):_v(e,r,n&8)}finally{ii(s)}}return eI(r,e,n)}function nI(t,e,n,r=0,i){if(t!==null){if(e[Nt]&2048&&!(r&2)){let o=f5(t,e,n,r,Os);if(o!==Os)return o}let s=rI(t,e,n,r,Os);if(s!==Os)return s}return tI(e,n,r,i)}function rI(t,e,n,r,i){let s=u5(n);if(typeof s=="function"){if(!Gv(e,t,r))return r&1?eI(i,n,r):tI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&8))tp(n);else return o}finally{Kv()}}else if(typeof s=="number"){let o=null,a=JS(t,e),c=Cl,u=r&1?e[Ui][Bi]:null;for((a===-1||r&4)&&(c=a===-1?Rb(t,e):e[a+8],c===Cl||!vS(r,!1)?a=-1:(o=e[Dt],a=Tp(c),e=Dp(c,e)));a!==-1;){let l=e[Dt];if(yS(s,a,l.data)){let d=l5(a,e,n,o,r,u);if(d!==Os)return d}c=e[a+8],c!==Cl&&vS(r,e[Dt].data[a+8]===u)&&yS(s,a,e)?(o=l,a=Tp(c),e=Dp(c,e)):a=-1}}return i}function l5(t,e,n,r,i,s){let o=e[Dt],a=o.data[t+8],c=r==null?ra(a)&&db:r!=o&&(a.type&3)!==0,u=i&1&&s===a,l=Cp(a,o,n,c,u);return l!==null?Ed(e,o,l,a,i):Os}function Cp(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,f=i?a+l:u;for(let p=d;p<f;p++){let h=o[p];if(p<c&&n===h||p>=c&&h.type===n)return p}if(i){let p=o[c];if(p&&Rs(p)&&p.type===n)return c}return null}function Ed(t,e,n,r,i){let s=t[n],o=e.data;if(s instanceof ic){let a=s;if(a.resolving){let p=Ix(o[n]);throw bv(p)}let c=Ap(a.canSeeViewProviders);a.resolving=!0;let u=o[n].type||o[n],l,d=a.injectImpl?ii(a.injectImpl):null,f=Gv(t,r,0);try{s=t[n]=a.factory(void 0,i,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ZR(n,o[n],e)}finally{d!==null&&ii(d),Ap(c),a.resolving=!1,Kv()}}return s}function u5(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xa)?t[Xa]:void 0;return typeof e=="number"?e>=0?e&QS:d5:e}function yS(t,e,n){let r=1<<t;return!!(n[e+(t>>ZS)]&r)}function vS(t,e){return!(t&2)&&!(t&1&&e)}var rc=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nI(this._tNode,this._lView,e,Wa(r),n)}};function d5(){return new rc(wr(),Vt())}function Ii(t){return Al(()=>{let e=t.prototype.constructor,n=e[ed]||hb(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ed]||hb(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hb(t){return uv(t)?()=>{let e=hb(Pr(t));return e&&e()}:Yo(t)}function f5(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Nt]&2048&&!vl(o);){let a=rI(s,o,n,r|2,Os);if(a!==Os)return a;let c=s.parent;if(!c){let u=o[Dv];if(u){let l=u.get(n,Os,r);if(l!==Os)return l}c=iI(o),o=o[Qa]}s=c}return i}function iI(t){let e=t[Dt],n=e.type;return n===2?e.declTNode:n===1?t[Bi]:null}function Td(t){return c5(wr(),t)}function h5(){return Ml(wr(),Vt())}function Ml(t,e){return new Wr(ls(t,e))}var Wr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=h5}return t})();function p5(t){return t instanceof Wr?t.nativeElement:t}function m5(){return this._results[Symbol.iterator]()}var kp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Bn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Rx(e);(this._changesDetected=!kx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=m5};function sI(t){return(t.flags&128)===128}var Nb=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Nb||{}),oI=new Map,g5=0;function y5(){return g5++}function v5(t){oI.set(t[ld],t)}function pb(t){oI.delete(t[ld])}var bS="__ngContext__";function Sl(t,e){ks(e)?(t[bS]=e[ld],v5(e)):t[bS]=e}function aI(t){return lI(t[gl])}function cI(t){return lI(t[ji])}function lI(t){for(;t!==null&&!cs(t);)t=t[ji];return t}var b5;function Ob(t){b5=t}var $p=new ot("",{factory:()=>_5}),_5="ng";var Hp=new ot(""),cc=new ot("",{providedIn:"platform",factory:()=>"unknown"});var zp=new ot("",{factory:()=>me(ir).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uI=!1,dI=new ot("",{factory:()=>uI});var w5=(t,e,n,r)=>{};function E5(t,e,n,r){w5(t,e,n,r)}function Pb(t){return(t.flags&32)===32}var C5=()=>null;function fI(t,e,n=!1){return C5(t,e,n)}function hI(t,e){let n=t.contentQueries;if(n!==null){let r=qt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];dp(s),a.contentQueries(2,e[o],o)}}}finally{qt(r)}}}function mb(t,e,n){dp(0);let r=qt(null);try{e(t,n)}finally{qt(r)}}function Fb(t,e,n){if(Av(e)){let r=qt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{qt(r)}}}var fs=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(fs||{});var bp;function x5(){if(bp===void 0&&(bp=null,yo.trustedTypes))try{bp=yo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bp}function _S(t){return x5()?.createScriptURL(t)||t}var Rp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zh})`}};function Dd(t){return t instanceof Rp?t.changingThisBreaksApplicationSecurity:t}function Lb(t,e){let n=pI(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Zh})`)}return n===e}function pI(t){return t instanceof Rp&&t.getTypeName()||null}var S5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mI(t){return t=String(t),t.match(S5)?t:"unsafe:"+t}var I5=/^>|^->|<!--|-->|--!>|<!-$/g,T5=/(<|>)/g,D5="\u200B$1\u200B";function A5(t){return t.replace(I5,e=>e.replace(T5,D5))}function M5(t,e){return t.createText(e)}function k5(t,e,n){t.setValue(e,n)}function R5(t,e){return t.createComment(A5(e))}function gI(t,e,n){return t.createElement(e,n)}function Np(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yI(t,e,n){t.appendChild(e,n)}function wS(t,e,n,r,i){r!==null?Np(t,e,n,r,i):yI(t,e,n)}function N5(t,e,n,r){t.removeChild(null,e,n,r)}function O5(t,e,n){t.setAttribute(e,"style",n)}function P5(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&n5(t,e,r),i!==null&&P5(t,e,i),s!==null&&O5(t,e,s)}var qp=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(qp||{});function bI(t){let e=wI();return e?e.sanitize(qp.URL,t)||"":Lb(t,"URL")?Dd(t):mI(Ds(t))}function _I(t){let e=wI();if(e)return _S(e.sanitize(qp.RESOURCE_URL,t)||"");if(Lb(t,"ResourceURL"))return _S(Dd(t));throw new Qe(904,!1)}function F5(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?_I:bI}function Vb(t,e,n){return F5(e,n)(t)}function wI(){let t=Vt();return t&&t[As].sanitizer}function EI(t){return t instanceof Function?t():t}function L5(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var CI="ng-template";function V5(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&L5(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jb(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function jb(t){return t.type===4&&t.value!==CI}function j5(t,e,n){let r=t.type===4&&!n?CI:t.value;return e===r}function B5(t,e,n){let r=4,i=t.attrs,s=i!==null?H5(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ds(r)&&!ds(c))return!1;if(o&&ds(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!j5(t,c,n)||c===""&&e.length===1){if(ds(r))return!1;o=!0}}else if(r&8){if(i===null||!V5(t,i,c,n)){if(ds(r))return!1;o=!0}}else{let u=e[++a],l=U5(c,i,jb(t),n);if(l===-1){if(ds(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(ds(r))return!1;o=!0}}}}return ds(r)||o}function ds(t){return(t&1)===0}function U5(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return z5(e,t)}function $5(t,e,n=!1){for(let r=0;r<e.length;r++)if(B5(t,e[r],n))return!0;return!1}function H5(t){for(let e=0;e<t.length;e++){let n=t[e];if(YS(n))return e}return t.length}function z5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ES(t,e){return t?":not("+e.trim()+")":e}function q5(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ds(o)&&(e+=ES(s,i),i=""),r=o,s=s||!ds(r);n++}return i!==""&&(e+=ES(s,i)),e}function W5(t){return t.map(q5).join(",")}function G5(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!ds(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var Ti={};function Bb(t,e,n,r,i,s,o,a,c,u,l){let d=cr+r,f=d+i,p=K5(d,f),h=typeof u=="function"?u():u;return p[Dt]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:l}}function K5(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ti);return n}function Y5(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Bb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ub(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[as]=i,d[Nt]=r|4|128|8|64|1024,(u!==null||t&&t[Nt]&2048)&&(d[Nt]|=2048),Nv(d),d[Sr]=d[Qa]=t,d[qr]=n,d[As]=o||t&&t[As],d[$n]=a||t&&t[$n],d[ea]=c||t&&t[ea]||null,d[Bi]=s,d[ld]=y5(),d[cd]=l,d[Dv]=u,d[Ui]=e.type==2?t[Ui]:d,d}function X5(t,e,n){let r=ls(e,t),i=Y5(n),s=t[As].rendererFactory,o=$b(t,Ub(t,i,null,xI(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function xI(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function SI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $b(t,e){return t[gl]?t[Tv][ji]=e:t[gl]=e,t[Tv]=e,e}function ee(t=1){II(Ir(),Vt(),vo()+t,!1)}function II(t,e,n,r){if(!r)if((e[Nt]&3)===3){let s=t.preOrderCheckHooks;s!==null&&wp(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ep(e,s,0,n)}sa(n)}var Wp=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Wp||{});function gb(t,e,n,r){let i=qt(null);try{let[s,o,a]=t.inputs[n],c=null;(o&Wp.SignalBased)!==0&&(c=e[s][ri]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,s):HS(e,c,s,r)}finally{qt(i)}}var Ps=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Ps||{}),Q5;function Hb(t,e){return Q5(t,e)}var Il=new Set,Gp=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Gp||{}),lc=new ot(""),CS=new Set;function Ad(t){CS.has(t)||(CS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var zb=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ge({token:t,providedIn:"root",factory:()=>new t})}return t})(),TI=[0,1,2,3],DI=(()=>{class t{ngZone=me(Un);scheduler=me(Qo);errorHandler=me(Ts,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){me(lc,{optional:!0})}execute(){let n=this.sequences.size>0;n&&xn(mn.AfterRenderHooksStart),this.executing=!0;for(let r of TI)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&xn(mn.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Ja]??=[]).push(n),bl(r),r[Nt]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Gp.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Ge({token:t,providedIn:"root",factory:()=>new t})}return t})(),Op=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,s,o=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ja];e&&(this.view[Ja]=e.filter(n=>n!==this))}};function Kp(t,e){let n=e?.injector??me(rr);return Ad("NgAfterNextRender"),J5(t,n,e,!0)}function Z5(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function J5(t,e,n,r){let i=e.get(zb);i.impl??=e.get(DI);let s=e.get(lc,null,{optional:!0}),o=n?.manualCleanup!==!0?e.get(us):null,a=e.get(yp,null,{optional:!0}),c=new Op(i.impl,Z5(t),a?.view,r,o,s?.snapshot(null));return i.impl.register(c),c}var eN=new ot("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:me(ar)})});function AI(t,e,n){let r=t.get(eN);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function tN(t,e){for(let[n,r]of e)AI(t,r.animateFns)}function xS(t,e,n,r){let i=t?.[dd]?.enter;e!==null&&i&&i.has(n.index)&&tN(r,i)}function El(t,e,n,r,i,s,o,a){if(i!=null){let c,u=!1;cs(i)?c=i:ks(i)&&(u=!0,i=i[as]);let l=$i(i);t===0&&r!==null?(xS(a,r,s,n),o==null?yI(e,r,l):Np(e,r,l,o||null,!0)):t===1&&r!==null?(xS(a,r,s,n),Np(e,r,l,o||null,!0)):t===2?SS(a,s,n,d=>{N5(e,l,u,d)}):t===3&&SS(a,s,n,()=>{e.destroyNode(l)}),c!=null&&pN(e,t,n,c,s,r,o)}}function nN(t,e){MI(t,e),e[as]=null,e[Bi]=null}function rN(t,e,n,r,i,s){r[as]=i,r[Bi]=e,Yp(t,r,n,1,i,s)}function MI(t,e){e[As].changeDetectionScheduler?.notify(9),Yp(t,e,e[$n],2,null,null)}function iN(t){let e=t[gl];if(!e)return ib(t[Dt],t);for(;e;){let n=null;if(ks(e))n=e[gl];else{let r=e[si];r&&(n=r)}if(!n){for(;e&&!e[ji]&&e!==t;)ks(e)&&ib(e[Dt],e),e=e[Sr];e===null&&(e=t),ks(e)&&ib(e[Dt],e),n=e&&e[ji]}e=n}}function qb(t,e){let n=t[ec],r=n.indexOf(e);n.splice(r,1)}function kI(t,e){if(tc(e))return;let n=e[$n];n.destroyNode&&Yp(t,e,n,3,null,null),iN(e)}function ib(t,e){if(tc(e))return;let n=qt(null);try{e[Nt]&=-129,e[Nt]|=256,e[Ei]&&zu(e[Ei]),aN(t,e),oN(t,e),e[Dt].type===1&&e[$n].destroy();let r=e[ta];if(r!==null&&cs(e[Sr])){r!==e[Sr]&&qb(r,e);let i=e[Ms];i!==null&&i.detachView(t)}pb(e)}finally{qt(n)}}function SS(t,e,n,r){let i=t?.[dd];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Il.add(t),AI(n,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let u=o.animateFns[c],{promise:l}=u();a.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),sN(t,r)}else t&&Il.delete(t),r(!1)},i)}function sN(t,e){let n=t[dd]?.running;if(n){n.then(()=>{t[dd].running=void 0,Il.delete(t),e(!0)});return}e(!1)}function oN(t,e){let n=t.cleanup,r=e[ml];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[ml]=null);let i=e[mo];if(i!==null){e[mo]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[ud];if(s!==null){e[ud]=null;for(let o of s)o.destroy()}}function aN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ic)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];xn(mn.LifecycleHookStart,a,c);try{c.call(a)}finally{xn(mn.LifecycleHookEnd,a,c)}}else{xn(mn.LifecycleHookStart,i,s);try{s.call(i)}finally{xn(mn.LifecycleHookEnd,i,s)}}}}}function cN(t,e,n){return lN(t,e.parent,n)}function lN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[as];if(ra(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===fs.None||i===fs.Emulated)return null}return ls(r,n)}function uN(t,e,n){return fN(t,e,n)}function dN(t,e,n){return t.type&40?ls(t,n):null}var fN=dN,IS;function Wb(t,e,n,r){let i=cN(t,r,e),s=e[$n],o=r.parent||e[Bi],a=uN(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)wS(s,i,n[c],a,!1);else wS(s,i,n,a,!1);IS!==void 0&&IS(s,r,e,n,i)}function bd(t,e){if(e!==null){let n=e.type;if(n&3)return ls(e,t);if(n&4)return yb(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return bd(t,r);{let i=t[e.index];return cs(i)?yb(-1,i):$i(i)}}else{if(n&128)return bd(t,e.next);if(n&32)return Hb(e,t)()||$i(t[e.index]);{let r=RI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xo(t[Ui]);return bd(i,r)}else return bd(t,e.next)}}}return null}function RI(t,e){if(e!==null){let r=t[Ui][Bi],i=e.projection;return r.projection[i]}return null}function yb(t,e){let n=si+t+1;if(n<e.length){let r=e[n],i=r[Dt].firstChild;if(i!==null)return bd(r,i)}return e[na]}function Gb(t,e,n,r,i,s,o){for(;n!=null;){let a=r[ea];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Sl($i(c),r),n.flags|=2),!Pb(n))if(u&8)Gb(t,e,n.child,r,i,s,!1),El(e,t,a,i,c,n,s,r);else if(u&32){let l=Hb(n,r),d;for(;d=l();)El(e,t,a,i,d,n,s,r);El(e,t,a,i,c,n,s,r)}else u&16?hN(t,e,r,n,i,s):El(e,t,a,i,c,n,s,r);n=o?n.projectionNext:n.next}}function Yp(t,e,n,r,i,s){Gb(n,r,t.firstChild,e,i,s,!1)}function hN(t,e,n,r,i,s){let o=n[Ui],c=o[Bi].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];El(e,t,n[ea],i,l,r,s,n)}else{let u=c,l=o[Sr];sI(r)&&(u.flags|=128),Gb(t,e,u,l,i,s,!0)}}function pN(t,e,n,r,i,s,o){let a=r[na],c=$i(r);a!==c&&El(e,t,n,s,a,i,o);for(let u=si;u<r.length;u++){let l=r[u];Yp(l[Dt],l,t,e,s,a)}}function mN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Ps.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ps.Important),t.setStyle(n,r,i,s))}}function NI(t,e,n,r,i){let s=vo(),o=r&2;try{sa(-1),o&&e.length>cr&&II(t,e,cr,!1);let a=o?mn.TemplateUpdateStart:mn.TemplateCreateStart;xn(a,i,n),n(r,i)}finally{sa(s);let a=o?mn.TemplateUpdateEnd:mn.TemplateCreateEnd;xn(a,i,n)}}function Xp(t,e,n){EN(t,e,n),(n.flags&64)===64&&CN(t,e,n)}function Qp(t,e,n=ls){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function gN(t,e,n,r){let s=r.get(dI,uI)||n===fs.ShadowDom||n===fs.ExperimentalIsolatedShadowDom,o=t.selectRootElement(e,s);return yN(o),o}function yN(t){vN(t)}var vN=()=>null;function bN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function OI(t,e,n,r,i,s){let o=e[Dt];if(Qb(t,o,e,n,r)){ra(t)&&wN(e,t.index);return}t.type&3&&(n=bN(n)),_N(t,e,n,r,i,s)}function _N(t,e,n,r,i,s){if(t.type&3){let o=ls(t,e);r=s!=null?s(r,t.value||"",n):r,i.setProperty(o,n,r)}else t.type&12}function wN(t,e){let n=Hi(e,t);n[Nt]&16||(n[Nt]|=64)}function EN(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ra(n)&&X5(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Mp(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],c=Ed(e,t,o,n);if(Sl(c,e),s!==null&&TN(e,o-r,c,a,n,s),Rs(a)){let u=Hi(n.index,e);u[qr]=Ed(e,t,o,n)}}}function CN(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=nS();try{sa(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];up(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&xN(c,u)}}finally{sa(-1),up(o)}}function xN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Kb(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];$5(e,s.selectors,!1)&&(r??=[],Rs(s)?r.unshift(s):r.push(s))}return r}function SN(t,e,n,r,i,s){let o=ls(t,e);IN(e[$n],o,s,t.value,n,r,i)}function IN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ds(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function TN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],u=o[a+1];gb(r,n,c,u)}}function Yb(t,e,n,r,i){let s=cr+n,o=e[Dt],a=i(o,e,t,r,n);e[s]=a,_l(t,!0);let c=t.type===2;return c?(vI(e[$n],a,t),(Gx()===0||yl(t))&&Sl(a,e),Kx()):Sl(a,e),gp()&&(!c||!Pb(t))&&Wb(o,e,a,t),t}function Xb(t){let e=t;return $v()?Qx():(e=e.parent,_l(e,!1)),e}function DN(t,e){let n=t[ea];if(!n)return;let r;try{r=n.get(Ci,null)}catch{r=null}r?.(e)}function Qb(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let u=o[c],l=o[c+1],d=e.data[u];gb(d,n[u],l,i),a=!0}if(s)for(let c of s){let u=n[c],l=e.data[c];gb(l,u,r,i),a=!0}return a}function AN(t,e){let n=Hi(e,t),r=n[Dt];MN(r,n);let i=n[as];i!==null&&n[cd]===null&&(n[cd]=fI(i,n[ea])),xn(mn.ComponentStart);try{Zb(r,n,n[qr])}finally{xn(mn.ComponentEnd,n[qr])}}function MN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zb(t,e,n){fp(e);try{let r=t.viewQuery;r!==null&&mb(1,r,n);let i=t.template;i!==null&&NI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ms]?.finishViewCreation(t),t.staticContentQueries&&hI(t,e),t.staticViewQueries&&mb(2,t.viewQuery,n);let s=t.components;s!==null&&kN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Nt]&=-5,hp()}}function kN(t,e){for(let n=0;n<e.length;n++)AN(t,e[n])}function RN(t,e,n,r){let i=qt(null);try{let s=e.tView,a=t[Nt]&4096?4096:16,c=Ub(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[ta]=u;let l=t[Ms];return l!==null&&(c[Ms]=l.createEmbeddedView(s)),Zb(s,c,n),c}finally{qt(i)}}function TS(t,e){return!e||e.firstChild===null||sI(t)}function Cd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push($i(s)),cs(s)&&PI(s,r);let o=n.type;if(o&8)Cd(t,e,n.child,r);else if(o&32){let a=Hb(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=RI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Xo(e[Ui]);Cd(c[Dt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PI(t,e){for(let n=si;n<t.length;n++){let r=t[n],i=r[Dt].firstChild;i!==null&&Cd(r[Dt],r,i,e)}t[na]!==t[as]&&e.push(t[na])}function FI(t){if(t[Ja]!==null){for(let e of t[Ja])e.impl.addSequence(e);t[Ja].length=0}}var LI=[];function NN(t){return t[Ei]??ON(t)}function ON(t){let e=LI.pop()??Object.create(FN);return e.lView=t,e}function PN(t){t.lView[Ei]!==t&&(t.lView=null,LI.push(t))}var FN=je(ve({},Uu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{bl(t.lView)},consumerOnSignalRead(){this.lView[Ei]=this}});function LN(t){let e=t[Ei]??Object.create(VN);return e.lView=t,e}var VN=je(ve({},Uu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Xo(t.lView);for(;e&&!VI(e[Dt]);)e=Xo(e);e&&Ov(e)},consumerOnSignalRead(){this.lView[Ei]=this}});function VI(t){return t.type!==2}function jI(t){if(t[ud]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ud])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Nt]&8192)}}var jN=100;function BI(t,e=0){let r=t[As].rendererFactory,i=!1;i||r.begin?.();try{BN(t,e)}finally{i||r.end?.()}}function BN(t,e){let n=Hv();try{zv(!0),vb(t,e);let r=0;for(;pd(t);){if(r===jN)throw new Qe(103,!1);r++,vb(t,1)}}finally{zv(n)}}function UN(t,e,n,r){if(tc(e))return;let i=e[Nt],s=!1,o=!1;fp(e);let a=!0,c=null,u=null;s||(VI(t)?(u=NN(e),c=Hu(u)):gh()===null?(a=!1,u=LN(e),c=Hu(u)):e[Ei]&&(zu(e[Ei]),e[Ei]=null));try{Nv(e),Jx(t.bindingStartIndex),n!==null&&NI(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let p=t.preOrderCheckHooks;p!==null&&wp(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Ep(e,p,0,null),nb(e,0)}if(o||$N(e),jI(e),UI(e,0),t.contentQueries!==null&&hI(t,e),!s)if(l){let p=t.contentCheckHooks;p!==null&&wp(e,p)}else{let p=t.contentHooks;p!==null&&Ep(e,p,1),nb(e,1)}zN(t,e);let d=t.components;d!==null&&HI(e,d,0);let f=t.viewQuery;if(f!==null&&mb(2,f,r),!s)if(l){let p=t.viewCheckHooks;p!==null&&wp(e,p)}else{let p=t.viewHooks;p!==null&&Ep(e,p,2),nb(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ip]){for(let p of e[ip])p();e[ip]=null}s||(FI(e),e[Nt]&=-73)}catch(l){throw s||bl(e),l}finally{u!==null&&(yh(u,c),a&&PN(u)),hp()}}function UI(t,e){for(let n=aI(t);n!==null;n=cI(n))for(let r=si;r<n.length;r++){let i=n[r];$I(i,e)}}function $N(t){for(let e=aI(t);e!==null;e=cI(e)){if(!(e[Nt]&2))continue;let n=e[ec];for(let r=0;r<n.length;r++){let i=n[r];Ov(i)}}}function HN(t,e,n){xn(mn.ComponentStart);let r=Hi(e,t);try{$I(r,n)}finally{xn(mn.ComponentEnd,r[qr])}}function $I(t,e){op(t)&&vb(t,e)}function vb(t,e){let r=t[Dt],i=t[Nt],s=t[Ei],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&vh(s)),o||=!1,s&&(s.dirty=!1),t[Nt]&=-9217,o)UN(r,t,r.template,t[qr]);else if(i&8192){let a=qt(null);try{jI(t),UI(t,1);let c=r.components;c!==null&&HI(t,c,1),FI(t)}finally{qt(a)}}}function HI(t,e,n){for(let r=0;r<e.length;r++)HN(t,e[r],n)}function zN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)sa(~i);else{let s=i,o=n[++r],a=n[++r];tS(o,s);let c=e[s];xn(mn.HostBindingsUpdateStart,c);try{a(2,c)}finally{xn(mn.HostBindingsUpdateEnd,c)}}}}finally{sa(-1)}}function Jb(t,e){let n=Hv()?64:1088;for(t[As].changeDetectionScheduler?.notify(e);t;){t[Nt]|=n;let r=Xo(t);if(vl(t)&&!r)return t;t=r}return null}function zI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function qN(t,e,n,r=!0){let i=e[Dt];if(WN(i,e,t,n),r){let o=yb(n,t),a=e[$n],c=a.parentNode(t[na]);c!==null&&rN(i,t[Bi],a,e,c,o)}let s=e[cd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function bb(t,e){if(t.length<=si)return;let n=si+e,r=t[n];if(r){let i=r[ta];i!==null&&i!==t&&qb(i,r),e>0&&(t[n-1][ji]=r[ji]);let s=sd(t,si+e);nN(r[Dt],r);let o=s[Ms];o!==null&&o.detachView(s[Dt]),r[Sr]=null,r[ji]=null,r[Nt]&=-129}return r}function WN(t,e,n,r){let i=si+r,s=n.length;r>0&&(n[i-1][ji]=e),r<s-si?(e[ji]=n[i],wv(n,si+r,e)):(n.push(e),e[ji]=null),e[Sr]=n;let o=e[ta];o!==null&&n!==o&&qI(o,e);let a=e[Ms];a!==null&&a.insertView(t),ap(e),e[Nt]|=128}function qI(t,e){let n=t[ec],r=e[Sr];if(ks(r))t[Nt]|=2;else{let i=r[Sr][Ui];e[Ui]!==i&&(t[Nt]|=2)}n===null?t[ec]=[e]:n.push(e)}var oa=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Dt];return Cd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[qr]}set context(e){this._lView[qr]=e}get destroyed(){return tc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Sr];if(cs(e)){let n=e[fd],r=n?n.indexOf(this):-1;r>-1&&(bb(e,r),sd(n,r))}this._attachedToViewContainer=!1}kI(this._lView[Dt],this._lView)}onDestroy(e){Pv(this._lView,e)}markForCheck(){Jb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Nt]&=-129}reattach(){ap(this._lView),this._lView[Nt]|=128}detectChanges(){this._lView[Nt]|=1024,BI(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vl(this._lView),n=this._lView[ta];n!==null&&!e&&qb(n,this._lView),MI(this._lView[Dt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=e;let n=vl(this._lView),r=this._lView[ta];r!==null&&!n&&qI(r,this._lView),ap(this._lView)}};var aa=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=GN;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let s=RN(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new oa(s)}}return t})();function GN(){return Zp(wr(),Vt())}function Zp(t,e){return t.type&4?new aa(e,t,Ml(t,e)):null}function Jp(t,e,n,r,i){let s=t.data[e];if(s===null)s=KN(t,e,n,r,i),eS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Xx();s.injectorIndex=o===null?-1:o.injectorIndex}return _l(s,!0),s}function KN(t,e,n,r,i){let s=Uv(),o=$v(),a=o?s:s&&s.parent,c=t.data[e]=XN(t,a,n,e,r,i);return YN(t,c,s,o),c}function YN(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function XN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Yx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QN=()=>null;function DS(t,e){return QN(t,e)}var WI=class{},em=class{},_b=class{resolveComponentFactory(e){throw new Qe(917,!1)}},Md=class{static NULL=new _b},sc=class{},zi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>ZN()}return t})();function ZN(){let t=Vt(),e=wr(),n=Hi(e.index,t);return(ks(n)?n:t)[$n]}var GI=(()=>{class t{static \u0275prov=Ge({token:t,providedIn:"root",factory:()=>null})}return t})();var xp={},wb=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,xp,r);return i!==xp||n===xp?i:this.parentInjector.get(e,n,r)}};function Pp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=lv(i,a);else if(s==2){let c=a,u=e[++o];r=lv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function mt(t,e=0){let n=Vt();if(n===null)return Rt(t,e);let r=wr();return nI(r,n,Pr(t),e)}function KI(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let a=o,c=null,u=null;for(let l of o)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(o);break}t8(t,e,n,a,s,c,u)}s!==null&&r!==null&&JN(n,r,s)}function JN(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Qe(-301,!1);r.push(e[i],s)}}function e8(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function t8(t,e,n,r,i,s,o){let a=r.length,c=null;for(let f=0;f<a;f++){let p=r[f];c===null&&Rs(p)&&(c=p,e8(t,n,f)),fb(Mp(n,e),t,p.type)}a8(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let f=0;f<a;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let u=!1,l=!1,d=SI(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=r[f];if(n.mergedAttrs=xl(n.mergedAttrs,p.hostAttrs),r8(t,n,e,d,p),o8(d,p,i),o!==null&&o.has(p)){let[y,g]=o.get(p);n.directiveToIndex.set(p.type,[d,y+n.directiveStart,g+n.directiveStart])}else(s===null||!s.has(p))&&n.directiveToIndex.set(p.type,d);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let h=p.type.prototype;!u&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}n8(t,n,s)}function n8(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))AS(0,e,i,r),AS(1,e,i,r),kS(e,r,!1);else{let s=n.get(i);MS(0,e,s,r),MS(1,e,s,r),kS(e,r,!0)}}}function AS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),YI(e,s)}}function MS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),YI(e,o)}}function YI(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function kS(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||jb(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===e){o??=[],o.push(c,r[a+1]);break}}else if(n&&s.hasOwnProperty(c)){let u=s[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){o??=[],o.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function r8(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Yo(i.type,!0)),o=new ic(s,Rs(i),mt,null);t.blueprint[r]=o,n[r]=o,i8(t,e,r,SI(t,n,i.hostVars,Ti),i)}function i8(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;s8(o)!=a&&o.push(a),o.push(n,r,s)}}function s8(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function o8(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Rs(e)&&(n[""]=t)}}function a8(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function e1(t,e,n,r,i,s,o,a){let c=e[Dt],u=c.consts,l=nc(u,o),d=Jp(c,t,n,r,l);return s&&KI(c,e,d,nc(u,a),i),d.mergedAttrs=xl(d.mergedAttrs,d.attrs),d.attrs!==null&&Pp(d,d.attrs,!1),d.mergedAttrs!==null&&Pp(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function t1(t,e){GS(t,e),Av(e)&&t.queries.elementEnd(e)}function c8(t,e,n,r,i,s){let o=e.consts,a=nc(o,i),c=Jp(e,t,n,r,a);if(c.mergedAttrs=xl(c.mergedAttrs,c.attrs),s!=null){let u=nc(o,s);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Pp(c,c.attrs,!1),c.mergedAttrs!==null&&Pp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function n1(t){return QI(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function XI(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function QI(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function kd(t,e,n){return t[e]=n}function Fs(t,e,n){if(n===Ti)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function xd(t,e,n,r){let i=Fs(t,e,n);return Fs(t,e+1,r)||i}function ZI(t,e,n,r,i){let s=xd(t,e,n,r);return Fs(t,e+2,i)||s}function l8(t,e,n,r,i,s){let o=xd(t,e,n,r);return xd(t,e+2,i,s)||o}function Sp(t,e,n){return function r(i){let s=ra(t)?Hi(t.index,e):e;Jb(s,5);let o=e[qr],a=RS(e,o,n,i),c=r.__ngNextListenerFn__;for(;c;)a=RS(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function RS(t,e,n,r){let i=qt(null);try{return xn(mn.OutputStart,e,n),n(r)!==!1}catch(s){return DN(t,s),!1}finally{xn(mn.OutputEnd,e,n),qt(i)}}function JI(t,e,n,r,i,s,o,a){let c=yl(t),u=!1,l=null;if(!r&&c&&(l=d8(e,n,s,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=o,l.__ngLastListenerFn__=o,u=!0}else{let d=ls(t,n),f=r?r(d):d;E5(n,f,s,a);let p=i.listen(f,s,a);if(!u8(s)){let h=r?y=>r($i(y[t.index])):t.index;eT(h,e,n,s,a,p,!1)}}return u}function u8(t){return t.startsWith("animation")||t.startsWith("transition")}function d8(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ml],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function eT(t,e,n,r,i,s,o){let a=e.firstCreatePass?Lv(e):null,c=Fv(n),u=c.length;c.push(i,s),a&&a.push(r,t,u,(u+1)*(o?-1:1))}function NS(t,e,n,r,i,s){let o=e[n],a=e[Dt],u=a.data[n].outputs[r],d=o[u].subscribe(s);eT(t.index,a,e,i,s,d,!0)}var Eb=Symbol("BINDING");var Fp=class extends Md{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Zo(e);return new Tl(n,this.ngModule)}};function f8(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&Wp.SignalBased)!==0};return i&&(s.transform=i),s})}function h8(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function p8(t,e,n){let r=e instanceof ar?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new wb(n,r):n}function m8(t){let e=t.get(sc,null);if(e===null)throw new Qe(407,!1);let n=t.get(GI,null),r=t.get(Qo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function g8(t,e){let n=tT(t);return gI(e,n,n==="svg"?Mv:n==="math"?Ux:null)}function tT(t){return(t.selectors[0][0]||"div").toLowerCase()}var Tl=class extends em{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=f8(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=h8(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=W5(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,s,o){xn(mn.DynamicComponentStart);let a=qt(null);try{let c=this.componentDef,u=y8(r,c,o,s),l=p8(c,i||this.ngModule,e),d=m8(l),f=d.rendererFactory.createRenderer(null,c),p=r?gN(f,r,c.encapsulation,l):g8(c,f),h=o?.some(OS)||s?.some(_=>typeof _!="function"&&_.bindings.some(OS)),y=Ub(null,u,null,512|xI(c),null,null,d,f,l,null,fI(p,l,!0));y[cr]=p,fp(y);let g=null;try{let _=e1(cr,y,2,"#host",()=>u.directiveRegistry,!0,0);vI(f,p,_),Sl(p,y),Xp(u,y,_),Fb(u,_,y),t1(u,_),n!==void 0&&b8(_,this.ngContentSelectors,n),g=Hi(_.index,y),y[qr]=g[qr],Zb(u,y,null)}catch(_){throw g!==null&&pb(g),pb(y),_}finally{xn(mn.DynamicComponentEnd),hp()}return new Lp(this.componentType,y,!!h)}finally{qt(a)}}};function y8(t,e,n,r){let i=t?["ng-version","21.0.6"]:G5(e.selectors[0]),s=null,o=null,a=0;if(n)for(let l of n)a+=l[Eb].requiredVars,l.create&&(l.targetIdx=0,(s??=[]).push(l)),l.update&&(l.targetIdx=0,(o??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let f of d.bindings){a+=f[Eb].requiredVars;let p=l+1;f.create&&(f.targetIdx=p,(s??=[]).push(f)),f.update&&(f.targetIdx=p,(o??=[]).push(f))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,f=vv(d);c.push(f)}return Bb(0,null,v8(s,o),1,a,c,null,null,null,[i],null)}function v8(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function OS(t){let e=t[Eb].kind;return e==="input"||e==="twoWay"}var Lp=class extends WI{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=sp(n[Dt],cr),this.location=Ml(this._tNode,n),this.instance=Hi(this._tNode.index,n)[qr],this.hostView=this.changeDetectorRef=new oa(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=Qb(r,i[Dt],i,e,n);this.previousInputValues.set(e,n);let o=Hi(r.index,i);Jb(o,1)}get injector(){return new rc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function b8(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var _o=(()=>{class t{static __NG_ELEMENT_ID__=_8}return t})();function _8(){let t=wr();return rT(t,Vt())}var w8=_o,nT=class extends w8{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new rc(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rb(this._hostTNode,this._hostLView);if(XS(e)){let n=Dp(e,this._hostLView),r=Tp(e),i=n[Dt].data[r+8];return new rc(i,n)}else return new rc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=PS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-si}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=DS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,TS(this._hostTNode,o)),a}createComponent(e,n,r,i,s,o,a){let c=e&&!KR(e),u;if(c)u=n;else{let g=n||{};u=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef,o=g.directives,a=g.bindings}let l=c?e:new Tl(Zo(e)),d=r||this.parentInjector;if(!s&&l.ngModule==null){let _=(c?d:this.parentInjector).get(ar,null);_&&(s=_)}let f=Zo(l.componentType??{}),p=DS(this._lContainer,f?.id??null),h=p?.firstChild??null,y=l.create(d,i,h,s,o,a);return this.insertImpl(y.hostView,u,TS(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Hx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Sr],u=new nT(c,c[Bi],c[Sr]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return qN(o,i,s,r),e.attachToViewContainerRef(),wv(sb(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=PS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bb(this._lContainer,n);r&&(sd(sb(this._lContainer),n),kI(r[Dt],r))}detach(e){let n=this._adjustIndex(e,-1),r=bb(this._lContainer,n);return r&&sd(sb(this._lContainer),n)!=null?new oa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function PS(t){return t[fd]}function sb(t){return t[fd]||(t[fd]=[])}function rT(t,e){let n,r=e[t.index];return cs(r)?n=r:(n=zI(r,e,null,t),e[t.index]=n,$b(e,n)),C8(n,e,t,r),new nT(n,t,e)}function E8(t,e){let n=t[$n],r=n.createComment(""),i=ls(e,t),s=n.parentNode(i);return Np(n,s,r,n.nextSibling(i),!1),r}var C8=I8,x8=()=>!1;function S8(t,e,n){return x8(t,e,n)}function I8(t,e,n,r){if(t[na])return;let i;n.type&8?i=$i(r):i=E8(e,n),t[na]=i}var Cb=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},xb=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)r1(e,n).matches!==null&&this.queries[n].setDirty()}},Sb=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=O8(e):this.predicate=e}},Ib=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Tb=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,T8(n,s)),this.matchTNodeWithReadOption(e,n,Cp(n,e,s,!1,!1))}else r===aa?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Wr||i===_o||i===aa&&n.type&4)this.addMatch(n.index,-2);else{let s=Cp(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function T8(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function D8(t,e){return t.type&11?Ml(t,e):t.type&4?Zp(t,e):null}function A8(t,e,n,r){return n===-1?D8(e,t):n===-2?M8(t,e,r):Ed(t,t[Dt],n,e)}function M8(t,e,n){if(n===Wr)return Ml(e,t);if(n===aa)return Zp(e,t);if(n===_o)return rT(e,t)}function iT(t,e,n,r){let i=e[Ms].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(A8(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Db(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=iT(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=si;d<l.length;d++){let f=l[d];f[ta]===f[Sr]&&Db(f[Dt],f,u,r)}if(l[ec]!==null){let d=l[ec];for(let f=0;f<d.length;f++){let p=d[f];Db(p[Dt],p,u,r)}}}}}return r}function k8(t,e){return t[Ms].queries[e].queryList}function R8(t,e,n){let r=new kp((n&4)===4);return Wx(t,e,r,r.destroy),(e[Ms]??=new xb).queries.push(new Cb(r))-1}function N8(t,e,n,r){let i=Ir();if(i.firstCreatePass){let s=wr();P8(i,new Sb(e,n,r),s.index),F8(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return R8(i,Vt(),n)}function O8(t){return t.split(",").map(e=>e.trim())}function P8(t,e,n){t.queries===null&&(t.queries=new Ib),t.queries.track(new Tb(e,n))}function F8(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function r1(t,e){return t.queries.getByIndex(e)}function L8(t,e){let n=t[Dt],r=r1(n,e);return r.crossesNgTemplate?Db(n,t,e,[]):iT(n,t,r,e)}var oc=class{},tm=class{};var Vp=class extends oc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fp(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=yv(e);this._bootstrapComponents=EI(s.bootstrap),this._r3Injector=Yv(e,n,[{provide:oc,useValue:this},{provide:Md,useValue:this.componentFactoryResolver},...r],go(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jp=class extends tm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vp(this.moduleType,e,[])}};var Sd=class extends oc{injector;componentFactoryResolver=new Fp(this);instance=null;constructor(e){super();let n=new Ka([...e.providers,{provide:oc,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],e.parent||ad(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Rd(t,e,n=null){return new Sd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var V8=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=xv(!1,n.type),i=r.length>0?Rd([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ge({token:t,providedIn:"environment",factory:()=>new t(Rt(ar))})}return t})();function en(t){return Al(()=>{let e=sT(t),n=je(ve({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(V8).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fs.Emulated,styles:t.styles||wi,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ad("NgStandalone"),oT(n);let r=t.dependencies;return n.directiveDefs=FS(r,j8),n.pipeDefs=FS(r,Sx),n.id=$8(n),n})}function j8(t){return Zo(t)||vv(t)}function Vs(t){return Al(()=>({type:t.type,bootstrap:t.bootstrap||wi,declarations:t.declarations||wi,imports:t.imports||wi,exports:t.exports||wi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function B8(t,e){if(t==null)return Jo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=Wp.None,c=null),n[s]=[r,a,c],e[s]=o}return n}function U8(t){if(t==null)return Jo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Tn(t){return Al(()=>{let e=sT(t);return oT(e),e})}function Nd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function sT(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Jo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||wi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:B8(t.inputs,e),outputs:U8(t.outputs),debugInfo:null}}function oT(t){t.features?.forEach(e=>e(t))}function FS(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let s=e(i);s!==null&&r.push(s)}return r}:null}function $8(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function H8(t){return Object.getPrototypeOf(t.prototype).constructor}function Gr(t){let e=H8(t.type),n=!0,r=[t];for(;e;){let i;if(Rs(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Qe(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ob(t.inputs),o.declaredInputs=ob(t.declaredInputs),o.outputs=ob(t.outputs);let a=i.hostBindings;a&&K8(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&W8(t,c),u&&G8(t,u),z8(t,i),xx(t.outputs,i.outputs),Rs(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Gr&&(n=!1)}}e=Object.getPrototypeOf(e)}q8(r)}function z8(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function q8(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xl(i.hostAttrs,n=xl(n,i.hostAttrs))}}function ob(t){return t===Jo?{}:t===wi?[]:t}function W8(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function G8(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function K8(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Y8(t,e,n,r,i,s,o,a){if(n.firstCreatePass){t.mergedAttrs=xl(t.mergedAttrs,t.attrs);let l=t.tView=Bb(2,t,i,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),_l(t,!1);let c=Q8(n,e,t,r);gp()&&Wb(n,e,c,t),Sl(c,e);let u=zI(c,e,c,t);e[r+cr]=u,$b(e,u),S8(u,t,e)}function X8(t,e,n,r,i,s,o,a,c,u,l){let d=n+cr,f;return e.firstCreatePass?(f=Jp(e,d,4,o||null,a||null),cp()&&KI(e,t,f,nc(e.consts,u),Kb),GS(e,f)):f=e.data[d],Y8(f,t,e,n,r,i,s,c),yl(f)&&Xp(e,t,f),u!=null&&Qp(t,f,l),f}function _e(t,e,n,r,i,s,o,a){let c=Vt(),u=Ir(),l=nc(u.consts,s);return X8(c,u,t,e,n,r,i,l,void 0,o,a),_e}var Q8=Z8;function Z8(t,e,n,r){return gd(!0),e[$n].createComment("")}var i1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function aT(t){return typeof t=="function"&&t[ri]!==void 0}function s1(t){return aT(t)&&typeof t.set=="function"}var o1=new ot("");function wo(t){return!!t&&typeof t.then=="function"}function nm(t){return!!t&&typeof t.subscribe=="function"}var cT=new ot("");var a1=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=me(cT,{optional:!0})??[];injector=me(rr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=_r(this.injector,i);if(wo(s))n.push(s);else if(nm(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rm=new ot("");function lT(){Ay(()=>{let t="";throw new Qe(600,t)})}function uT(t){return t.isBoundToModule}var J8=10;var ca=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=me(Ci);afterRenderManager=me(zb);zonelessEnabled=me(yd);rootEffectScheduler=me(tb);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Bn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=me(bo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Be(n=>!n))}constructor(){me(lc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=me(ar);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=rr.NULL){return this._injector.get(Un).run(()=>{xn(mn.BootstrapComponentStart);let o=n instanceof em;if(!this._injector.get(a1).done){let h="";throw new Qe(405,h)}let c;o?c=n:c=this._injector.get(Md).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=uT(c)?void 0:this._injector.get(oc),l=r||c.selector,d=c.create(i,[],l,u),f=d.location.nativeElement,p=d.injector.get(o1,null);return p?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),_d(this.components,d),p?.unregisterApplication(f)}),this._loadComponent(d),xn(mn.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xn(mn.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Gp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw xn(mn.ChangeDetectionEnd),new Qe(101,!1);let n=qt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,qt(n),this.afterTick.next(),xn(mn.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(sc,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<J8;){xn(mn.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{xn(mn.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!pd(i))continue;let s=r&&!this.zonelessEnabled?0:1;BI(i,s),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_d(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(rm,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_d(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Qe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _d(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ln(t,e,n,r){let i=Vt(),s=md();if(Fs(i,s,e)){let o=Ir(),a=pp();SN(a,i,t,e,n,r)}return Ln}var GJ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ae(t,e,n){let r=Vt(),i=md();if(Fs(r,i,e)){let s=Ir(),o=pp();OI(o,r,t,e,r[$n],n)}return ae}function LS(t,e,n,r,i){Qb(e,t,n,i?"class":"style",r)}function G(t,e,n,r){let i=Vt(),s=i[Dt],o=t+cr,a=s.firstCreatePass?e1(o,i,2,e,Kb,cp(),n,r):s.data[o];if(Yb(a,i,t,e,dT),yl(a)){let c=i[Dt];Xp(c,i,a),Fb(c,a,i)}return r!=null&&Qp(i,a),G}function q(){let t=Ir(),e=wr(),n=Xb(e);return t.firstCreatePass&&t1(t,n),jv(n)&&Bv(),Vv(),n.classesWithoutHost!=null&&e5(n)&&LS(t,n,Vt(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&t5(n)&&LS(t,n,Vt(),n.stylesWithoutHost,!1),q}function xe(t,e,n,r){return G(t,e,n,r),q(),xe}function js(t,e,n,r){let i=Vt(),s=i[Dt],o=t+cr,a=s.firstCreatePass?c8(o,s,2,e,n,r):s.data[o];return Yb(a,i,t,e,dT),r!=null&&Qp(i,a),js}function Bs(){let t=wr(),e=Xb(t);return jv(e)&&Bv(),Vv(),Bs}function im(t,e,n,r){return js(t,e,n,r),Bs(),im}var dT=(t,e,n,r,i)=>(gd(!0),gI(e[$n],r,cS()));function Et(t,e,n){let r=Vt(),i=r[Dt],s=t+cr,o=i.firstCreatePass?e1(s,r,8,"ng-container",Kb,cp(),e,n):i.data[s];if(Yb(o,r,t,"ng-container",eO),yl(o)){let a=r[Dt];Xp(a,r,o),Fb(a,o,r)}return n!=null&&Qp(r,o),Et}function Ct(){let t=Ir(),e=wr(),n=Xb(e);return t.firstCreatePass&&t1(t,n),Ct}var eO=(t,e,n,r,i)=>(gd(!0),R5(e[$n],""));function ln(){return Vt()}var vd=void 0;function tO(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var nO=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",vd,vd,vd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tO],wd={};function c1(t,e,n){typeof e!="string"&&(n=e,e=t[Ls.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),wd[e]=t,n&&(wd[e][Ls.ExtraData]=n)}function Od(t){let e=rO(t),n=VS(e);if(n)return n;let r=e.split("-")[0];if(n=VS(r),n)return n;if(r==="en")return nO;throw new Qe(701,!1)}function VS(t){return t in wd||(wd[t]=yo.ng&&yo.ng.common&&yo.ng.common.locales&&yo.ng.common.locales[t]),wd[t]}var Ls=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Ls||{});function rO(t){return t.toLowerCase().replace(/_/g,"-")}var Pd="en-US",iO="USD";var sO=Pd;function fT(t){typeof t=="string"&&(sO=t.toLowerCase().replace(/_/g,"-"))}function Ue(t,e,n){let r=Vt(),i=Ir(),s=wr();return hT(i,r,r[$n],s,t,e,n),Ue}function Fd(t,e,n){let r=Vt(),i=Ir(),s=wr();return(s.type&3||n)&&JI(s,i,r,n,r[$n],t,e,Sp(s,r,e)),Fd}function hT(t,e,n,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=Sp(r,e,s),JI(r,t,e,o,n,i,s,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let d=0;d<l.length;d+=2){let f=l[d],p=l[d+1];c??=Sp(r,e,s),NS(r,e,f,p,i,c)}if(u&&u.length)for(let d of u)c??=Sp(r,e,s),NS(r,e,d,i,i,c)}}function Ee(t=1){return aS(t)}function sm(t,e,n,r){return N8(t,e,n,r),sm}function l1(t){let e=Vt(),n=Ir(),r=Wv();dp(r+1);let i=r1(n,r);if(t.dirty&&$x(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=L8(e,r);t.reset(s,p5),t.notifyOnChanges()}return!0}return!1}function u1(){return k8(Vt(),Wv())}function tn(t){let e=Zx();return hd(e,cr+t)}function _p(t,e){return t<<17|e<<2}function ac(t){return t>>17&32767}function oO(t){return(t&2)==2}function aO(t,e){return t&131071|e<<17}function Ab(t){return t|2}function Dl(t){return(t&131068)>>2}function ab(t,e){return t&-131069|e<<2}function cO(t){return(t&1)===1}function Mb(t){return t|1}function lO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ac(o),c=Dl(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||hl(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let f=ac(t[a+1]);t[r+1]=_p(f,a),f!==0&&(t[f+1]=ab(t[f+1],r)),t[a+1]=aO(t[a+1],r)}else t[r+1]=_p(a,0),a!==0&&(t[a+1]=ab(t[a+1],r)),a=r;else t[r+1]=_p(c,0),a===0?a=r:t[c+1]=ab(t[c+1],r),c=r;u&&(t[r+1]=Ab(t[r+1])),jS(t,l,r,!0),jS(t,l,r,!1),uO(e,l,t,r,s),o=_p(a,c),s?e.classBindings=o:e.styleBindings=o}function uO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&hl(s,e)>=0&&(n[r+1]=Mb(n[r+1]))}function jS(t,e,n,r){let i=t[n+1],s=e===null,o=r?ac(i):Dl(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];dO(c,e)&&(a=!0,t[o+1]=r?Mb(u):Ab(u)),o=r?ac(u):Dl(u)}a&&(t[n+1]=r?Ab(i):Mb(i))}function dO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?hl(t,e)>=0:!1}function Us(t,e,n){return pT(t,e,n,!1),Us}function Tr(t,e){return pT(t,e,null,!0),Tr}function pT(t,e,n,r){let i=Vt(),s=Ir(),o=lp(2);if(s.firstUpdatePass&&hO(s,t,o,r),e!==Ti&&Fs(i,o,e)){let a=s.data[vo()];vO(s,a,i,i[$n],t,i[o+1]=bO(e,n),r,o)}}function fO(t,e){return e>=t.expandoStartIndex}function hO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[vo()],o=fO(t,n);_O(s,r)&&e===null&&!o&&(e=!1),e=pO(i,s,e,r),lO(i,s,e,n,o,r)}}function pO(t,e,n,r){let i=rS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cb(null,t,e,n,r),n=Id(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=cb(i,t,e,n,r),s===null){let c=mO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=cb(null,t,e,c[1],r),c=Id(c,e.attrs,r),gO(t,e,r,c))}else s=yO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function mO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Dl(r)!==0)return t[ac(r)]}function gO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ac(i)]=r}function yO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Id(r,o,n)}return Id(r,e.attrs,n)}function cb(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Id(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Id(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ox(t,o,n?!0:e[++s]))}return t===void 0?null:t}function vO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=cO(u)?BS(c,e,n,i,Dl(u),o):void 0;if(!Bp(l)){Bp(s)||oO(u)&&(s=BS(c,null,n,i,a,o));let d=kv(vo(),n);mN(r,o,d,i,s)}}function BS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,f=n[i+1];f===Ti&&(f=d?wi:void 0);let p=d?rp(f,r):l===r?f:void 0;if(u&&!Bp(p)&&(p=rp(c,r)),Bp(p)&&(a=p,o))return a;let h=t[i+1];i=o?ac(h):Dl(h)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=rp(c,r))}return a}function Bp(t){return t!==void 0}function bO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=go(Dd(t)))),t}function _O(t,e){return(t.flags&(e?8:16))!==0}function J(t,e=""){let n=Vt(),r=Ir(),i=t+cr,s=r.firstCreatePass?Jp(r,i,1,e,null):r.data[i],o=wO(r,n,s,e,t);n[i]=o,gp()&&Wb(r,n,o,s),_l(s,!1)}var wO=(t,e,n,r,i)=>(gd(!0),M5(e[$n],r));function EO(t,e,n,r=""){return Fs(t,md(),n)?e+Ds(n)+r:Ti}function CO(t,e,n,r,i,s=""){let o=qv(),a=xd(t,o,n,i);return lp(2),a?e+Ds(n)+r+Ds(i)+s:Ti}function xO(t,e,n,r,i,s,o,a=""){let c=qv(),u=ZI(t,c,n,i,o);return lp(3),u?e+Ds(n)+r+Ds(i)+s+Ds(o)+a:Ti}function Ze(t){return at("",t),Ze}function at(t,e,n){let r=Vt(),i=EO(r,t,e,n);return i!==Ti&&d1(r,vo(),i),at}function qi(t,e,n,r,i){let s=Vt(),o=CO(s,t,e,n,r,i);return o!==Ti&&d1(s,vo(),o),qi}function om(t,e,n,r,i,s,o){let a=Vt(),c=xO(a,t,e,n,r,i,s,o);return c!==Ti&&d1(a,vo(),c),om}function d1(t,e,n){let r=kv(e,t);k5(t[$n],r,n)}function Eo(t,e,n){s1(e)&&(e=e());let r=Vt(),i=md();if(Fs(r,i,e)){let s=Ir(),o=pp();OI(o,r,t,e,r[$n],n)}return Eo}function la(t,e){let n=s1(t);return n&&t.set(e),n}function Co(t,e){let n=Vt(),r=Ir(),i=wr();return hT(r,n,n[$n],i,t,e),Co}function US(t,e,n){let r=Ir();r.firstCreatePass&&mT(e,r.data,r.blueprint,Rs(t),n)}function mT(t,e,n,r,i){if(t=Pr(t),Array.isArray(t))for(let s=0;s<t.length;s++)mT(t[s],e,n,r,i);else{let s=Ir(),o=Vt(),a=wr(),c=Ga(t)?t:Pr(t.provide),u=Iv(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ga(t)||!t.multi){let p=new ic(u,i,mt,null),h=ub(c,e,i?l:l+f,d);h===-1?(fb(Mp(a,o),s,c),lb(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[h]=p,o[h]=p)}else{let p=ub(c,e,l+f,d),h=ub(c,e,l,l+f),y=p>=0&&n[p],g=h>=0&&n[h];if(i&&!g||!i&&!y){fb(Mp(a,o),s,c);let _=TO(i?IO:SO,n.length,i,r,u,t);!i&&g&&(n[h].providerFactory=_),lb(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else{let _=gT(n[i?h:p],u,!i&&r);lb(s,t,p>-1?p:h,_)}!i&&r&&g&&n[h].componentProviders++}}}function lb(t,e,n,r){let i=Ga(e),s=Vx(e);if(i||s){let c=(s?Pr(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function gT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ub(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SO(t,e,n,r,i){return kb(this.multi,[])}function IO(t,e,n,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ed(r,r[Dt],this.providerFactory.index,i);o=c.slice(0,a),kb(s,o);for(let u=a;u<c.length;u++)o.push(c[u])}else o=[],kb(s,o);return o}function kb(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function TO(t,e,n,r,i,s){let o=new ic(t,n,mt,null);return o.multi=[],o.index=e,o.componentProviders=0,gT(o,i,r&&!n),o}function hs(t,e){return n=>{n.providersResolver=(r,i)=>US(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>US(r,i?i(e):e,!0))}}function Xt(t,e,n,r){return yT(Vt(),ia(),t,e,n,r)}function Ld(t,e,n,r,i){return vT(Vt(),ia(),t,e,n,r,i)}function uc(t,e,n,r,i,s){return DO(Vt(),ia(),t,e,n,r,i,s)}function f1(t,e,n,r,i,s,o){return AO(Vt(),ia(),t,e,n,r,i,s,o)}function Vd(t,e){let n=t[e];return n===Ti?void 0:n}function yT(t,e,n,r,i,s){let o=e+n;return Fs(t,o,i)?kd(t,o+1,s?r.call(s,i):r(i)):Vd(t,o+1)}function vT(t,e,n,r,i,s,o){let a=e+n;return xd(t,a,i,s)?kd(t,a+2,o?r.call(o,i,s):r(i,s)):Vd(t,a+2)}function DO(t,e,n,r,i,s,o,a){let c=e+n;return ZI(t,c,i,s,o)?kd(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Vd(t,c+3)}function AO(t,e,n,r,i,s,o,a,c){let u=e+n;return l8(t,u,i,s,o,a)?kd(t,u+4,c?r.call(c,i,s,o,a):r(i,s,o,a)):Vd(t,u+4)}function MO(t,e,n,r,i,s){let o=e+n,a=!1;for(let c=0;c<i.length;c++)Fs(t,o++,i[c])&&(a=!0);return a?kd(t,o,r.apply(s,i)):Vd(t,o)}function Xe(t,e){let n=Ir(),r,i=t+cr;n.firstCreatePass?(r=kO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Yo(r.type,!0)),o,a=ii(mt);try{let c=Ap(!1),u=s();return Ap(c),Rv(n,Vt(),i,u),u}finally{ii(a)}}function kO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function hn(t,e,n){let r=t+cr,i=Vt(),s=hd(i,r);return h1(i,r)?yT(i,ia(),e,s.transform,n,s):s.transform(n)}function am(t,e,n,r){let i=t+cr,s=Vt(),o=hd(s,i);return h1(s,i)?vT(s,ia(),e,o.transform,n,r,o):o.transform(n,r)}function Qt(t,e,n){let r=t+cr,i=Vt(),s=hd(i,r);return h1(i,r)?MO(i,ia(),e,s.transform,n,s):s.transform.apply(s,n)}function h1(t,e){return t[Dt].data[e].pure}function nn(t,e){return Zp(t,e)}var Up=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},p1=(()=>{class t{compileModuleSync(n){return new jp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=yv(n),s=EI(i.declarations).reduce((o,a)=>{let c=Zo(a);return c&&o.push(new Tl(c)),o},[]);return new Up(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bT=(()=>{class t{applicationErrorHandler=me(Ci);appRef=me(ca);taskService=me(bo);ngZone=me(Un);zonelessEnabled=me(yd);tracing=me(lc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new br;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(nd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(me(eb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Qv:Xv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(nd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _T(){return[{provide:Qo,useExisting:bT},{provide:Un,useClass:rd},{provide:yd,useValue:!0}]}function RO(){return typeof $localize<"u"&&$localize.locale||Pd}var ua=new ot("",{factory:()=>me(ua,{optional:!0,skipSelf:!0})||RO()}),m1=new ot("",{factory:()=>iO});function kl(t,e){return bh(t,e?.equal)}var ST=Symbol("InputSignalNode#UNSET"),qO=je(ve({},_h),{transformFn:void 0,applyValueToInputSignal(t,e){qu(t,e)}});function IT(t,e){let n=Object.create(qO);n.value=t,n.transformFn=e?.transform;function r(){if($u(n),n.value===ST){let i=null;throw new Qe(-950,i)}return n.value}return r[ri]=n,r}var lm=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Td(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function wT(t,e){return IT(t,e)}function WO(t){return IT(ST,t)}var TT=(wT.required=WO,wT);var g1=new ot(""),GO=new ot("");function jd(t){return!t.moduleRef}function KO(t){let e=jd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Un);return n.run(()=>{jd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ci),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),jd(t)){let s=()=>e.destroy(),o=t.platformInjector.get(g1);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(g1);o.add(s),t.moduleRef.onDestroy(()=>{_d(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return XO(r,n,()=>{let s=e.get(bo),o=s.add(),a=e.get(a1);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(ua,Pd);if(fT(c||Pd),!e.get(GO,!0))return jd(t)?e.get(ca):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(jd(t)){let l=e.get(ca);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return YO?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void s.remove(o))})})}var YO;function XO(t,e,n){try{let r=n();return wo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var cm=null;function QO(t=[],e){return rr.create({name:e,providers:[{provide:od,useValue:"platform"},{provide:g1,useValue:new Set([()=>cm=null])},...t]})}function ZO(t=[]){if(cm)return cm;let e=QO(t);return cm=e,lT(),JO(e),e}function JO(t){let e=t.get(Hp,null);_r(t,()=>{e?.forEach(n=>n())})}function w1(){return!1}var $s=(()=>{class t{static __NG_ELEMENT_ID__=eP}return t})();function eP(t){return tP(wr(),Vt(),(t&16)===16)}function tP(t,e,n){if(ra(t)&&!n){let r=Hi(t.index,e);return new oa(r,r)}else if(t.type&175){let r=e[Ui];return new oa(r,e)}return null}var y1=class{constructor(){}supports(e){return n1(e)}create(e){return new v1(e)}},nP=(t,e)=>e,v1=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||nP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<ET(r,i,s)?n:r,a=ET(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){let p=f<s.length?s[f]:s[f]=0,h=p+f;l<=h&&h<u&&(s[f]=p+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!n1(e))throw new Qe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,XI(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new b1(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new um),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new um),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},b1=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},_1=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},um=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new _1,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ET(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function CT(){return new E1([new y1])}var E1=(()=>{class t{factories;static \u0275prov=Ge({token:t,providedIn:"root",factory:CT});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=me(t,{optional:!0,skipSelf:!0});return t.create(n,r||CT())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Qe(901,!1)}}return t})();function DT(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;xn(mn.BootstrapApplicationStart);try{let s=i?.injector??ZO(r),o=[_T(),fS,...n||[]],a=new Sd({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return KO({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{xn(mn.BootstrapApplicationEnd)}}function da(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var AT=null;function Wi(){return AT}function C1(t){AT??=t}var Bd=class{},dm=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>me(MT),providedIn:"platform"})}return t})();var MT=(()=>{class t extends dm{_location;_history;_doc=me(ir);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wi().getBaseHref(this._doc)}onPopState(n){let r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function NT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function kT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function fa(t){return t&&t[0]!=="?"?`?${t}`:t}var Rl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>me(iP),providedIn:"root"})}return t})(),rP=new ot(""),iP=(()=>{class t extends Rl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??me(ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return NT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+fa(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+fa(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+fa(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Rt(dm),Rt(rP,8))};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nl=(()=>{class t{_subject=new Bn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=aP(kT(RT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+fa(r))}normalize(n){return t.stripTrailingSlash(oP(this._basePath,RT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fa(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fa(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=fa;static joinWithSlash=NT;static stripTrailingSlash=kT;static \u0275fac=function(r){return new(r||t)(Rt(Rl))};static \u0275prov=Ge({token:t,factory:()=>sP(),providedIn:"root"})}return t})();function sP(){return new Nl(Rt(Rl))}function oP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function RT(t){return t.replace(/\/index.html$/,"")}function aP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var jT={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},mm=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(mm||{});var Di={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function dc(t,e){let n=Od(t),r=n[Ls.NumberSymbols][e];if(typeof r>"u"){if(e===Di.CurrencyDecimal)return n[Ls.NumberSymbols][Di.Decimal];if(e===Di.CurrencyGroup)return n[Ls.NumberSymbols][Di.Group]}return r}function A1(t,e){return Od(t)[Ls.NumberFormats][e]}function cP(t){return Od(t)[Ls.Currencies]}function BT(t,e,n="en"){let r=cP(n)[t]||jT[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var lP=2;function UT(t){let e,n=jT[t];return n&&(e=n[2]),typeof e=="number"?e:lP}var uP=/^(\d+)?\.((\d+)(-(\d+))?)?$/,OT=22,fm=".",Ud="0",dP=";",fP=",",x1="#",PT="\xA4";function $T(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=dc(n,Di.Infinity);else{let u=pP(t);o&&(u=hP(u));let l=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){let x=s.match(uP);if(x===null)throw new Qe(2306,!1);let k=x[1],L=x[3],B=x[5];k!=null&&(l=S1(k)),L!=null&&(d=S1(L)),B!=null?f=S1(B):L!=null&&d>f&&(f=d)}mP(u,d,f);let p=u.digits,h=u.integerLen,y=u.exponent,g=[];for(c=p.every(x=>!x);h<l;h++)p.unshift(0);for(;h<0;h++)p.unshift(0);h>0?g=p.splice(h,p.length):(g=p,p=[0]);let _=[];for(p.length>=e.lgSize&&_.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)_.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&_.unshift(p.join("")),a=_.join(dc(n,r)),g.length&&(a+=dc(n,i)+g.join("")),y&&(a+=dc(n,Di.Exponential)+"+"+y)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function HT(t,e,n,r,i){let s=A1(e,mm.Currency),o=qT(s,dc(e,Di.MinusSign));return o.minFrac=UT(r),o.maxFrac=o.minFrac,$T(t,o,e,Di.CurrencyGroup,Di.CurrencyDecimal,i).replace(PT,n).replace(PT,"").trim()}function zT(t,e,n){let r=A1(e,mm.Decimal),i=qT(r,dc(e,Di.MinusSign));return $T(t,i,e,Di.Group,Di.Decimal,n)}function qT(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(dP),i=r[0],s=r[1],o=i.indexOf(fm)!==-1?i.split(fm):[i.substring(0,i.lastIndexOf(Ud)+1),i.substring(i.lastIndexOf(Ud)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(x1));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===Ud?n.minFrac=n.maxFrac=l+1:d===x1?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(fP);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(x1);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function hP(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function pP(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(fm))>-1&&(e=e.replace(fm,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Ud;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Ud;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>OT&&(r=r.splice(0,OT-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function mP(t,e,n){if(e>n)throw new Qe(2307,!1);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,u=e+t.integerLen,l=r.reduceRight(function(d,f,p,h){return f=f+d,h[p]=f<10?f:f-10,c&&(h[p]===0&&p>=u?h.pop():c=!1),f>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}function S1(t){let e=parseInt(t);if(isNaN(e))throw new Qe(2305,!1);return e}var I1=/\s+/,FT=[],sr=(()=>{class t{_ngEl;_renderer;initialClasses=FT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(I1):FT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(I1):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(I1).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(mt(Wr),mt(zi))};static \u0275dir=Tn({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var hm=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},er=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hm(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),LT(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);LT(s,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(mt(_o),mt(aa),mt(E1))};static \u0275dir=Tn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function LT(t,e){t.context.$implicit=e.item}var Rn=(()=>{class t{_viewContainer;_context=new pm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(mt(_o),mt(aa))};static \u0275dir=Tn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),pm=class{$implicit=null;ngIf=null};function VT(t,e){if(t&&!t.createEmbeddedView)throw new Qe(2020,!1)}function M1(t,e){return new Qe(2100,!1)}var T1=class{createSubscription(e,n,r){return Jn(()=>e.subscribe({next:n,error:r}))}dispose(e){Jn(()=>e.unsubscribe())}},D1=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},gP=new D1,yP=new T1,Lr=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=me(Ci);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(wo(n))return gP;if(nm(n))return yP;throw M1(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(mt($s,16))};static \u0275pipe=Nd({name:"async",type:t,pure:!1})}return t})();var k1=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!WT(n))return null;i||=this._locale;try{let s=GT(n);return zT(s,i,r)}catch(s){throw M1(t,s.message)}}static \u0275fac=function(r){return new(r||t)(mt(ua,16))};static \u0275pipe=Nd({name:"number",type:t,pure:!0})}return t})();var Ai=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!WT(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=BT(a,i==="symbol"?"wide":"narrow",o):a=i);try{let c=GT(n);return HT(c,o,a,r,s)}catch(c){throw M1(t,c.message)}}static \u0275fac=function(r){return new(r||t)(mt(ua,16),mt(m1,16))};static \u0275pipe=Nd({name:"currency",type:t,pure:!0})}return t})();function WT(t){return!(t==null||t===""||t!==t)}function GT(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Qe(2309,!1);return t}var bn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vs({type:t});static \u0275inj=ss({})}return t})();function R1(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var $d=class{};function KT(t,e,n){return c1(t,e,n)}var YT="browser";function vP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return n===Math.floor(n)&&n>=0&&n<=1?1:i===0&&n!==0&&n%1e6===0&&r===0||!(i>=0&&i<=5)?4:5}var XT=["pt",[["AM","PM"]],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",vP];var Hd=class{_doc;constructor(e){this._doc=e}manager},gm=(()=>{class t extends Hd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(Rt(ir))};static \u0275prov=Ge({token:t,factory:t.\u0275fac})}return t})(),bm=new ot(""),F1=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this});let i=n.filter(o=>!(o instanceof gm));this._plugins=i.slice().reverse();let s=n.find(o=>o instanceof gm);s&&this._plugins.push(s)}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Qe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Rt(bm),Rt(Un))};static \u0275prov=Ge({token:t,factory:t.\u0275fac})}return t})(),N1="ng-app-id";function QT(t){for(let e of t)e.remove()}function ZT(t,e){let n=e.createElement("style");return n.textContent=t,n}function bP(t,e,n,r){let i=t.head?.querySelectorAll(`style[${N1}="${e}"],link[${N1}="${e}"]`);if(i)for(let s of i)s.removeAttribute(N1),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function P1(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var L1=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,bP(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,ZT);r?.forEach(i=>this.addUsage(i,this.external,P1))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(QT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])QT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,ZT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,P1(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Rt(ir),Rt($p),Rt(zp,8),Rt(cc))};static \u0275prov=Ge({token:t,factory:t.\u0275fac})}return t})(),O1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},V1=/%COMP%/g;var eD="%COMP%",_P=`_nghost-${eD}`,wP=`_ngcontent-${eD}`,EP=!0,CP=new ot("",{factory:()=>EP});function xP(t){return wP.replace(V1,t)}function SP(t){return _P.replace(V1,t)}function tD(t,e){return e.map(n=>n.replace(V1,t))}var j1=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,s,o,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new zd(n,o,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof vm?i.applyToHost(n):i instanceof qd&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case fs.Emulated:s=new vm(c,u,r,this.appId,l,o,a,d);break;case fs.ShadowDom:return new ym(c,n,r,o,a,this.nonce,d,u);case fs.ExperimentalIsolatedShadowDom:return new ym(c,n,r,o,a,this.nonce,d);default:s=new qd(c,u,r,l,o,a,d);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Rt(F1),Rt(L1),Rt($p),Rt(CP),Rt(ir),Rt(Un),Rt(zp),Rt(lc,8))};static \u0275prov=Ge({token:t,factory:t.\u0275fac})}return t})(),zd=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(O1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(JT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(JT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Qe(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=O1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=O1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ps.DashCase|Ps.Important)?e.style.setProperty(n,r,i&Ps.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ps.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Wi().getGlobalEventTarget(this.doc,e),!e))throw new Qe(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function JT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ym=class extends zd{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,s,o,a,c){super(e,i,s,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=tD(r.id,u);for(let d of u){let f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=d,this.shadowRoot.appendChild(f)}let l=r.getExternalStyles?.();if(l)for(let d of l){let f=P1(d,i);o&&f.setAttribute("nonce",o),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},qd=class extends zd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?tD(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Il.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vm=class extends qd{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=xP(u),this.hostAttr=SP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var _m=class t extends Bd{supportsDOMEvents=!0;static makeCurrent(){C1(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=IP();return n==null?null:TP(n)}resetBaseElement(){Wd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return R1(document.cookie,e)}},Wd=null;function IP(){return Wd=Wd||document.head.querySelector("base"),Wd?Wd.getAttribute("href"):null}function TP(t){return new URL(t,document.baseURI).pathname}var DP=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac})}return t})(),nD=["alt","control","meta","shift"],AP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rD=(()=>{class t extends Hd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wi().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),nD.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=AP[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),nD.forEach(o=>{if(o!==i){let a=MP[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Rt(ir))};static \u0275prov=Ge({token:t,factory:t.\u0275fac})}return t})();function B1(t,e,n){let r=ve({rootComponent:t,platformRef:n?.platformRef},kP(e));return DT(r)}function kP(t){return{appProviders:[...FP,...t?.providers??[]],platformProviders:PP}}function RP(){_m.makeCurrent()}function NP(){return new Ts}function OP(){return Ob(document),document}var PP=[{provide:cc,useValue:YT},{provide:Hp,useValue:RP,multi:!0},{provide:ir,useFactory:OP}];var FP=[{provide:od,useValue:"root"},{provide:Ts,useFactory:NP},{provide:bm,useClass:gm,multi:!0},{provide:bm,useClass:rD,multi:!0},j1,L1,F1,{provide:sc,useExisting:j1},{provide:$d,useClass:DP},[]];var iD=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Rt(ir))};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ot="primary",of=Symbol("RouteTitle"),q1=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function mc(t){return new q1(t)}function hD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Im(t){return new Promise((e,n)=>{t.pipe(ho()).subscribe({next:r=>e(r),error:r=>n(r)})})}function jP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hs(t[n],e[n]))return!1;return!0}function Hs(t,e){let n=t?W1(t):void 0,r=e?W1(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!pD(t[i],e[i]))return!1;return!0}function W1(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function mD(t){return t.length>0?t[t.length-1]:null}function yc(t){return Uh(t)?t:wo(t)?kn(Promise.resolve(t)):Le(t)}function gD(t){return Uh(t)?Im(t):Promise.resolve(t)}var BP={exact:vD,subset:bD},yD={exact:UP,subset:$P,ignored:()=>!0};function sD(t,e,n){return BP[n.paths](t.root,e.root,n.matrixParams)&&yD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function UP(t,e){return Hs(t,e)}function vD(t,e,n){if(!hc(t.segments,e.segments)||!Cm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vD(t.children[r],e.children[r],n))return!1;return!0}function $P(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pD(t[n],e[n]))}function bD(t,e,n){return _D(t,e,e.segments,n)}function _D(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hc(i,n)||e.hasChildren()||!Cm(i,n,r))}else if(t.segments.length===n.length){if(!hc(t.segments,n)||!Cm(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!bD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!hc(t.segments,i)||!Cm(t.segments,i,r)||!t.children[Ot]?!1:_D(t.children[Ot],e,s,r)}}function Cm(t,e,n){return e.every((r,i)=>yD[n](t[i].parameters,r.parameters))}var ms=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _n([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mc(this.queryParams),this._queryParamMap}toString(){return qP.serialize(this)}},_n=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xm(this)}},ha=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=mc(this.parameters),this._parameterMap}toString(){return ED(this)}};function HP(t,e){return hc(t,e)&&t.every((n,r)=>Hs(n.parameters,e[r].parameters))}function hc(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ot&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ot&&(n=n.concat(e(i,r)))}),n}var af=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>new pa,providedIn:"root"})}return t})(),pa=class{parse(e){let n=new K1(e);return new ms(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Gd(e.root,!0)}`,r=KP(e.queryParams),i=typeof e.fragment=="string"?`#${WP(e.fragment)}`:"";return`${n}${r}${i}`}},qP=new pa;function xm(t){return t.segments.map(e=>ED(e)).join("/")}function Gd(t,e){if(!t.hasChildren())return xm(t);if(e){let n=t.children[Ot]?Gd(t.children[Ot],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ot&&r.push(`${i}:${Gd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zP(t,(r,i)=>i===Ot?[Gd(t.children[Ot],!1)]:[`${i}:${Gd(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ot]!=null?`${xm(t)}/${n[0]}`:`${xm(t)}/(${n.join("//")})`}}function wD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wm(t){return wD(t).replace(/%3B/gi,";")}function WP(t){return encodeURI(t)}function G1(t){return wD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sm(t){return decodeURIComponent(t)}function oD(t){return Sm(t.replace(/\+/g,"%20"))}function ED(t){return`${G1(t.path)}${GP(t.parameters)}`}function GP(t){return Object.entries(t).map(([e,n])=>`;${G1(e)}=${G1(n)}`).join("")}function KP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wm(n)}=${wm(i)}`).join("&"):`${wm(n)}=${wm(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var YP=/^[^\/()?;#]+/;function U1(t){let e=t.match(YP);return e?e[0]:""}var XP=/^[^\/()?;=#]+/;function QP(t){let e=t.match(XP);return e?e[0]:""}var ZP=/^[^=?&#]+/;function JP(t){let e=t.match(ZP);return e?e[0]:""}var e9=/^[^&#]+/;function t9(t){let e=t.match(e9);return e?e[0]:""}var K1=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ot]=new _n(e,n)),r}parseSegment(){let e=U1(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Qe(4009,!1);return this.capture(e),new ha(Sm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=U1(this.remaining);i&&(r=i,this.capture(r))}e[Sm(n)]=Sm(r)}parseQueryParam(e){let n=JP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=t9(this.remaining);o&&(r=o,this.capture(r))}let i=oD(n),s=oD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=U1(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Qe(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ot);let o=this.parseChildren();n[s??Ot]=Object.keys(o).length===1&&o[Ot]?o[Ot]:new _n([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Qe(4011,!1)}};function CD(t){return t.segments.length>0?new _n([],{[Ot]:t}):t}function xD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=xD(i);if(r===Ot&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new _n(t.segments,e);return n9(n)}function n9(t){if(t.numberOfChildren===1&&t.children[Ot]){let e=t.children[Ot];return new _n(t.segments.concat(e.segments),e.children)}return t}function ma(t){return t instanceof ms}function SD(t,e,n=null,r=null,i=new pa){let s=ID(t);return TD(s,e,n,r,i)}function ID(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new _n(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=CD(r);return e??i}function TD(t,e,n,r,i){let s=t;for(;s.parent;)s=s.parent;if(e.length===0)return $1(s,s,s,n,r,i);let o=r9(e);if(o.toRoot())return $1(s,s,new _n([],{}),n,r,i);let a=i9(o,s,t),c=a.processChildren?Yd(a.segmentGroup,a.index,o.commands):AD(a.segmentGroup,a.index,o.commands);return $1(s,a.segmentGroup,c,n,r,i)}function Tm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zd(t){return typeof t=="object"&&t!=null&&t.outlets}function aD(t,e,n){t||="\u0275";let r=new ms;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function $1(t,e,n,r,i,s){let o={};for(let[u,l]of Object.entries(r??{}))o[u]=Array.isArray(l)?l.map(d=>aD(u,d,s)):aD(u,l,s);let a;t===e?a=n:a=DD(t,e,n);let c=CD(xD(a));return new ms(c,o,i)}function DD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=DD(s,e,n)}),new _n(t.segments,r)}var Dm=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Tm(r[0]))throw new Qe(4003,!1);let i=r.find(Zd);if(i&&i!==mD(r))throw new Qe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r9(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Dm(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Dm(n,e,r)}var Pl=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function i9(t,e,n){if(t.isAbsolute)return new Pl(e,!0,0);if(!n)return new Pl(e,!1,NaN);if(n.parent===null)return new Pl(n,!0,0);let r=Tm(t.commands[0])?0:1,i=n.segments.length-1+r;return s9(n,i,t.numberOfDoubleDots)}function s9(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Qe(4005,!1);i=r.segments.length}return new Pl(r,!1,i-s)}function o9(t){return Zd(t[0])?t[0].outlets:{[Ot]:t}}function AD(t,e,n){if(t??=new _n([],{}),t.segments.length===0&&t.hasChildren())return Yd(t,e,n);let r=a9(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new _n(t.segments.slice(0,r.pathIndex),{});return s.children[Ot]=new _n(t.segments.slice(r.pathIndex),t.children),Yd(s,0,i)}else return r.match&&i.length===0?new _n(t.segments,{}):r.match&&!t.hasChildren()?Y1(t,e,n):r.match?Yd(t,0,i):Y1(t,e,n)}function Yd(t,e,n){if(n.length===0)return new _n(t.segments,{});{let r=o9(n),i={};if(Object.keys(r).some(s=>s!==Ot)&&t.children[Ot]&&t.numberOfChildren===1&&t.children[Ot].segments.length===0){let s=Yd(t.children[Ot],e,n);return new _n(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=AD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new _n(t.segments,i)}}function a9(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Zd(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!lD(c,u,o))return s;r+=2}else{if(!lD(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Y1(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Zd(s)){let c=c9(s.outlets);return new _n(r,c)}if(i===0&&Tm(n[0])){let c=t.segments[e];r.push(new ha(c.path,cD(n[0]))),i++;continue}let o=Zd(s)?s.outlets[Ot]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Tm(a)?(r.push(new ha(o,cD(a))),i+=2):(r.push(new ha(o,{})),i++)}return new _n(r,{})}function c9(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Y1(new _n([],{}),0,r))}),e}function cD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lD(t,e,n){return t==n.path&&Hs(e,n.parameters)}var Xd="imperative",Dr=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Dr||{}),ki=class{id;url;constructor(e,n){this.id=e,this.url=n}},gc=class extends ki{type=Dr.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gs=class extends ki{urlAfterRedirects;type=Dr.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ai=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(ai||{}),Jd=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Jd||{}),zs=class extends ki{reason;code;type=Dr.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xo=class extends ki{reason;code;type=Dr.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ll=class extends ki{error;target;type=Dr.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ef=class extends ki{urlAfterRedirects;state;type=Dr.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class extends ki{urlAfterRedirects;state;type=Dr.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mm=class extends ki{urlAfterRedirects;state;shouldActivate;type=Dr.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},km=class extends ki{urlAfterRedirects;state;type=Dr.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class extends ki{urlAfterRedirects;state;type=Dr.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nm=class{route;type=Dr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Om=class{route;type=Dr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pm=class{snapshot;type=Dr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fm=class{snapshot;type=Dr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lm=class{snapshot;type=Dr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vm=class{snapshot;type=Dr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var tf=class{},Vl=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function l9(t){return!(t instanceof tf)&&!(t instanceof Vl)}function u9(t,e){return t.providers&&!t._injector&&(t._injector=Rd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ps(t){return t.outlet||Ot}function d9(t,e){let n=t.filter(r=>ps(r)===e);return n.push(...t.filter(r=>ps(r)!==e)),n}function Ul(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ul(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $l(this.rootInjector)}},$l=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new jm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Rt(ar))};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=X1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=X1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Q1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Q1(e,this._root).map(n=>n.value)}};function X1(t,e){if(t===e.value)return e;for(let n of e.children){let r=X1(t,n);if(r)return r}return null}function Q1(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Q1(t,n);if(r.length)return r.unshift(e),r}return[]}var Mi=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ol(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var nf=class extends Bm{snapshot;constructor(e,n){super(e),this.snapshot=n,r_(this,e)}toString(){return this.snapshot.toString()}};function MD(t){let e=f9(t),n=new Dn([new ha("",{})]),r=new Dn({}),i=new Dn({}),s=new Dn({}),o=new Dn(""),a=new So(n,r,s,o,i,Ot,t,e.root);return a.snapshot=e.root,new nf(new Mi(a,[]),e)}function f9(t){let e={},n={},r={},s=new pc([],e,r,"",n,Ot,t,null,{});return new rf("",new Mi(s,[]))}var So=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Be(u=>u[of]))??Le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Be(e=>mc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Be(e=>mc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Um(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:ve(ve({},e.params),t.params),data:ve(ve({},e.data),t.data),resolve:ve(ve(ve(ve({},t.data),e.data),i?.data),t._resolvedData)}:r={params:ve({},t.params),data:ve({},t.data),resolve:ve(ve({},t.data),t._resolvedData??{})},i&&RD(i)&&(r.resolve[of]=i.title),r}var pc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[of]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rf=class extends Bm{url;constructor(e,n){super(n),this.url=e,r_(this,n)}toString(){return kD(this._root)}};function r_(t,e){e.value._routerState=t,e.children.forEach(n=>r_(t,n))}function kD(t){let e=t.children.length>0?` { ${t.children.map(kD).join(", ")} } `:"";return`${t.value}${e}`}function H1(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hs(e.params,n.params)||t.paramsSubject.next(n.params),jP(e.url,n.url)||t.urlSubject.next(n.url),Hs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Z1(t,e){let n=Hs(t.params,e.params)&&HP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Z1(t.parent,e.parent))}function RD(t){return typeof t.title=="string"||t.title===null}var ND=new ot(""),vc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ot;activateEvents=new Nn;deactivateEvents=new Nn;attachEvents=new Nn;detachEvents=new Nn;routerOutletData=TT();parentContexts=me($l);location=me(_o);changeDetector=me($s);inputBinder=me(qm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Qe(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new J1(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Tn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mi]})}return t})(),J1=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===So?this.route:e===$l?this.childContexts:e===ND?this.outletData:this.parent.get(e,n)}},qm=new ot("");var i_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=en({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&xe(0,"router-outlet")},dependencies:[vc],encapsulation:2})}return t})();function s_(t){let e=t.children&&t.children.map(s_),n=e?je(ve({},t),{children:e}):ve({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ot&&(n.component=i_),n}function h9(t,e,n){let r=sf(t,e._root,n?n._root:void 0);return new nf(r,e)}function sf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=p9(t,e,n);return new Mi(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sf(t,a)),o}}let r=m9(e.value),i=e.children.map(s=>sf(t,s));return new Mi(r,i)}}function p9(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sf(t,r,i);return sf(t,r)})}function m9(t){return new So(new Dn(t.url),new Dn(t.params),new Dn(t.queryParams),new Dn(t.fragment),new Dn(t.data),t.outlet,t.component,t)}var jl=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},OD="ngNavigationCancelingError";function $m(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ma(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PD(!1,ai.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[OD]=!0,n.cancellationCode=e,n}function g9(t){return FD(t)&&ma(t.url)}function FD(t){return!!t&&t[OD]}var y9=(t,e,n,r)=>Be(i=>(new e_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),e_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),H1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ol(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ol(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ol(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ol(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Vm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(H1(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),H1(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Hm=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fl=class{component;route;constructor(e,n){this.component=e,this.route=n}};function v9(t,e,n){let r=t._root,i=e?e._root:null;return Kd(r,i,n,[r.value])}function b9(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Hl(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!dv(t)?t:e.get(t):r}function Kd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ol(e);return t.children.forEach(o=>{_9(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Qd(a,n.getContext(o),i)),i}function _9(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=w9(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Hm(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Kd(t,e,a?a.children:null,r,i):Kd(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fl(a.outlet.component,o))}else o&&Qd(e,a,i),i.canActivateChecks.push(new Hm(r)),s.component?Kd(t,null,a?a.children:null,r,i):Kd(t,null,n,r,i);return i}function w9(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hc(t.url,e.url)||!Hs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z1(t,e)||!Hs(t.queryParams,e.queryParams);case"paramsChange":default:return!Z1(t,e)}}function Qd(t,e,n){let r=Ol(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Qd(o,e.children.getContext(s),n):Qd(o,null,n):Qd(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fl(e.outlet.component,i)):n.canDeactivateChecks.push(new Fl(null,i)):n.canDeactivateChecks.push(new Fl(null,i))}function cf(t){return typeof t=="function"}function E9(t){return typeof t=="boolean"}function C9(t){return t&&cf(t.canLoad)}function x9(t){return t&&cf(t.canActivate)}function S9(t){return t&&cf(t.canActivateChild)}function I9(t){return t&&cf(t.canDeactivate)}function T9(t){return t&&cf(t.canMatch)}function LD(t){return t instanceof fo||t?.name==="EmptyError"}var Em=Symbol("INITIAL_VALUE");function Bl(){return Wt(t=>Fn(t.map(e=>e.pipe(Vi(1),po(Em)))).pipe(Be(e=>{for(let n of e)if(n!==!0){if(n===Em)return Em;if(n===!1||D9(n))return n}return!0}),Li(e=>e!==Em),Vi(1)))}function D9(t){return ma(t)||t instanceof jl}function VD(t){return t.aborted?Le(void 0).pipe(Vi(1)):new Ut(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function jD(t){return Zu(VD(t))}function A9(t,e){return zr(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Le(je(ve({},n),{guardsResult:!0})):M9(o,r,i,t).pipe(zr(a=>a&&E9(a)?k9(r,s,t,e):Le(a)),Be(a=>je(ve({},n),{guardsResult:a})))})}function M9(t,e,n,r){return kn(t).pipe(zr(i=>F9(i.component,i.route,n,e,r)),ho(i=>i!==!0,!0))}function k9(t,e,n,r){return kn(e).pipe(Qu(i=>ul(N9(i.route.parent,r),R9(i.route,r),P9(t,i.path,n),O9(t,i.route,n))),ho(i=>i!==!0,!0))}function R9(t,e){return t!==null&&e&&e(new Lm(t)),Le(!0)}function N9(t,e){return t!==null&&e&&e(new Pm(t)),Le(!0)}function O9(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Le(!0);let i=r.map(s=>Xu(()=>{let o=Ul(e)??n,a=Hl(s,o),c=x9(a)?a.canActivate(e,t):_r(o,()=>a(e,t));return yc(c).pipe(ho())}));return Le(i).pipe(Bl())}function P9(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>b9(o)).filter(o=>o!==null).map(o=>Xu(()=>{let a=o.guards.map(c=>{let u=Ul(o.node)??n,l=Hl(c,u),d=S9(l)?l.canActivateChild(r,t):_r(u,()=>l(r,t));return yc(d).pipe(ho())});return Le(a).pipe(Bl())}));return Le(s).pipe(Bl())}function F9(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Le(!0);let o=s.map(a=>{let c=Ul(e)??i,u=Hl(a,c),l=I9(u)?u.canDeactivate(t,e,n,r):_r(c,()=>u(t,e,n,r));return yc(l).pipe(ho())});return Le(o).pipe(Bl())}function L9(t,e,n,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return Le(!0);let o=s.map(a=>{let c=Hl(a,t),u=C9(c)?c.canLoad(e,n):_r(t,()=>c(e,n)),l=yc(u);return i?l.pipe(jD(i)):l});return Le(o).pipe(Bl(),BD(r))}function BD(t){return Sh(vn(e=>{if(typeof e!="boolean")throw $m(t,e)}),Be(e=>e===!0))}function V9(t,e,n,r,i){let s=e.canMatch;if(!s||s.length===0)return Le(!0);let o=s.map(a=>{let c=Hl(a,t),u=T9(c)?c.canMatch(e,n):_r(t,()=>c(e,n)),l=yc(u);return i?l.pipe(jD(i)):l});return Le(o).pipe(Bl(),BD(r))}var fc=class UD extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,UD.prototype)}},t_=class $D extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,$D.prototype)}};function j9(t){throw new Qe(4e3,!1)}function B9(t){throw PD(!1,ai.GuardRejected)}var U9=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Ot])throw j9(`${e.redirectTo}`);i=i.children[Ot]}}async applyRedirectCommands(e,n,r,i,s){let o=await $9(n,i,s);if(o instanceof ms)throw new t_(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new t_(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ms(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new _n(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Qe(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function $9(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:l,title:d}=e;return Im(yc(_r(n,()=>r({params:u,data:l,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:d}))))}var n_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H9(t,e,n,r,i,s){let o=HD(t,e,n);return o.matched?(r=u9(e,r),V9(r,e,n,i,s).pipe(Be(a=>a===!0?o:ve({},n_)))):Le(o)}function HD(t,e,n){if(e.path==="**")return z9(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?ve({},n_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hD)(n,t,e);if(!i)return ve({},n_);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?ve(ve({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function z9(t){return{matched:!0,parameters:t.length>0?mD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function uD(t,e,n,r){return n.length>0&&G9(t,n,r)?{segmentGroup:new _n(e,W9(r,new _n(n,t.children))),slicedSegments:[]}:n.length===0&&K9(t,n,r)?{segmentGroup:new _n(t.segments,q9(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _n(t.segments,t.children),slicedSegments:n}}function q9(t,e,n,r){let i={};for(let s of n)if(Wm(t,e,s)&&!r[ps(s)]){let o=new _n([],{});i[ps(s)]=o}return ve(ve({},r),i)}function W9(t,e){let n={};n[Ot]=e;for(let r of t)if(r.path===""&&ps(r)!==Ot){let i=new _n([],{});n[ps(r)]=i}return n}function G9(t,e,n){return n.some(r=>Wm(t,e,r)&&ps(r)!==Ot)}function K9(t,e,n){return n.some(r=>Wm(t,e,r))}function Wm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Y9(t,e,n){return e.length===0&&!t.children[n]}var X9=class{};async function Q9(t,e,n,r,i,s,o="emptyOnly",a){return new J9(t,e,n,r,i,o,s,a).recognize()}var Z9=31,J9=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new U9(this.urlSerializer,this.urlTree)}noMatchError(e){return new Qe(4002,`'${e.segmentGroup}'`)}async recognize(){let e=uD(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Mi(r,n),s=new rf("",i),o=SD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let n=new pc([],Object.freeze({}),Object.freeze(ve({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ot,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Ot,n),rootSnapshot:n}}catch(r){if(r instanceof t_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fc?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,s);let o=await this.processSegment(e,n,r,r.segments,i,!0,s);return o instanceof Mi?[o]:[]}async processChildren(e,n,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let u=r.children[c],l=d9(n,c),d=await this.processSegmentGroup(e,l,u,c,i);o.push(...d)}let a=zD(o);return e7(a),a}async processSegment(e,n,r,i,s,o,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a)}catch(u){if(u instanceof fc||LD(u))continue;throw u}if(Y9(r,i,s))return new X9;throw new fc(r)}async processSegmentAgainstRoute(e,n,r,i,s,o,a,c){if(ps(r)!==o&&(o===Ot||!Wm(i,s,r)))throw new fc(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c);throw new fc(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=HD(n,i,s);if(!c)throw new fc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Z9&&(this.allowRedirects=!1));let p=new pc(s,u,Object.freeze(ve({},this.urlTree.queryParams)),this.urlTree.fragment,dD(i),ps(i),i.component??i._loadedComponent??null,i,fD(i)),h=Um(p,a,this.paramsInheritanceStrategy);if(p.params=Object.freeze(h.params),p.data=Object.freeze(h.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let y=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,p,e),g=await this.applyRedirects.lineralizeSegments(i,y);return this.processSegment(e,r,n,g.concat(f),o,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Im(H9(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new fc(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:l,consumedSegments:d,remainingSegments:f}=a,p=new pc(d,l,Object.freeze(ve({},this.urlTree.queryParams)),this.urlTree.fragment,dD(r),ps(r),r.component??r._loadedComponent??null,r,fD(r)),h=Um(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(h.params),p.data=Object.freeze(h.data);let{segmentGroup:y,slicedSegments:g}=uD(n,d,f,c);if(g.length===0&&y.hasChildren()){let k=await this.processChildren(u,c,y,p);return new Mi(p,k)}if(c.length===0&&g.length===0)return new Mi(p,[]);let _=ps(r)===s,x=await this.processSegment(u,c,y,g,_?Ot:s,!0,p);return new Mi(p,x instanceof Mi?[x]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Im(L9(e,n,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=s.routes,n._loadedInjector=s.injector,s}throw B9(n)}return{routes:[],injector:e}}};function e7(t){t.sort((e,n)=>e.value.outlet===Ot?-1:n.value.outlet===Ot?1:e.value.outlet.localeCompare(n.value.outlet))}function t7(t){let e=t.value.routeConfig;return e&&e.path===""}function zD(t){let e=[],n=new Set;for(let r of t){if(!t7(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=zD(r.children);e.push(new Mi(r.value,i))}return e.filter(r=>!n.has(r))}function dD(t){return t.data||{}}function fD(t){return t.resolve||{}}var n7=new ot("",{factory:()=>Q9});function r7(t,e,n,r,i,s,o){let a=t.get(n7);return zr(c=>Le(c).pipe(Wt(u=>a(t,e,n,r,u.extractedUrl,i,s,o)),Be(({state:u,tree:l})=>je(ve({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function i7(t,e){return zr(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Le(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of qD(c))o.add(u);let a=0;return kn(o).pipe(Qu(c=>s.has(c)?s7(c,r,t,e):(c.data=Um(c,c.parent,t).resolve,Le(void 0))),vn(()=>a++),qh(1),zr(c=>a===o.size?Le(n):fi))})}function qD(t){let e=t.children.map(n=>qD(n)).flat();return[t,...e]}function s7(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!RD(i)&&(s[of]=i.title),Xu(()=>(t.data=Um(t,t.parent,n).resolve,o7(s,t,e,r).pipe(Be(o=>(t._resolvedData=o,t.data=ve(ve({},t.data),o),null)))))}function o7(t,e,n,r){let i=W1(t);if(i.length===0)return Le({});let s={};return kn(i).pipe(zr(o=>a7(t[o],e,n,r).pipe(ho(),vn(a=>{if(a instanceof jl)throw $m(new pa,a);s[o]=a}))),qh(1),Be(()=>s),cn(o=>LD(o)?fi:Uy(o)))}function a7(t,e,n,r){let i=Ul(e)??r,s=Hl(t,i),o=s.resolve?s.resolve(e,n):_r(i,()=>s(e,n));return yc(o)}function z1(t){return Wt(e=>{let n=t(e);return n?kn(n).pipe(Be(()=>e)):Le(e)})}var o_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ot);return r}getResolvedTitleForRoute(n){return n.data[of]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>me(WD),providedIn:"root"})}return t})(),WD=(()=>{class t extends o_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Rt(iD))};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zl=new ot("",{factory:()=>({})}),lf=new ot(""),GD=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=me(p1);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await gD(_r(n,()=>r.loadComponent())),o=await XD(YD(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await KD(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function KD(t,e,n,r){let i=await gD(_r(n,()=>t.loadChildren())),s=await XD(YD(i)),o;s instanceof tm||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(t);let a,c,u=!1;return Array.isArray(o)?(c=o,u=!0):(a=o.create(n).injector,c=a.get(lf,[],{optional:!0,self:!0}).flat()),{routes:c.map(s_),injector:a}}function c7(t){return t&&typeof t=="object"&&"default"in t}function YD(t){return c7(t)?t.default:t}async function XD(t){return t}var Gm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>me(l7),providedIn:"root"})}return t})(),l7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QD=new ot("");var u7=()=>{},ZD=new ot(""),JD=(()=>{class t{currentNavigation=xi(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=xi(null);events=new Bn;transitionAbortWithErrorSubject=new Bn;configLoader=me(GD);environmentInjector=me(ar);destroyRef=me(us);urlSerializer=me(af);rootContexts=me($l);location=me(Nl);inputBindingEnabled=me(qm,{optional:!0})!==null;titleStrategy=me(o_);options=me(zl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=me(Gm);createViewTransition=me(QD,{optional:!0});navigationErrorHandler=me(ZD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Le(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Nm(i)),r=i=>this.events.next(new Om(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Jn(()=>{this.transitions?.next(je(ve({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Dn(null),this.transitions.pipe(Li(r=>r!==null),Wt(r=>{let i=!1,s=new AbortController;return Le(r).pipe(Wt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ai.SupersededByNewNavigation),fi;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?je(ve({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new xo(o.id,this.urlSerializer.serialize(o.rawUrl),"",Jd.IgnoredSameUrlNavigation)),o.resolve(!1),fi;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Le(o).pipe(Wt(l=>(this.events.next(new gc(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?fi:Promise.resolve(l))),r7(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),vn(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=l.urlAfterRedirects,f));let d=new ef(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:d,source:f,restoredState:p,extras:h}=o,y=new gc(l,this.urlSerializer.serialize(d),f,p);this.events.next(y);let g=MD(this.rootComponentType).snapshot;return this.currentTransition=r=je(ve({},o),{targetSnapshot:g,urlAfterRedirects:d,extras:je(ve({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=d,_)),Le(r)}else return this.events.next(new xo(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Jd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),fi}),vn(o=>{let a=new Am(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Be(o=>(this.currentTransition=r=je(ve({},o),{guards:v9(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),A9(this.environmentInjector,o=>this.events.next(o)),vn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw $m(this.urlSerializer,o.guardsResult);let a=new Mm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Li(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ai.GuardRejected),!1)),z1(o=>{if(o.guards.canActivateChecks.length!==0)return Le(o).pipe(vn(a=>{let c=new km(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Wt(a=>{let c=!1;return Le(a).pipe(i7(this.paramsInheritanceStrategy,this.environmentInjector),vn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",ai.NoDataFromResolver)}}))}),vn(a=>{let c=new Rm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),z1(o=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let d=Ul(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,u.routeConfig).then(f=>{u.component=f}))}for(let d of u.children)l.push(...a(d));return l},c=a(o.targetSnapshot.root);return c.length===0?Le(o):kn(Promise.all(c).then(()=>o))}),z1(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?kn(c).pipe(Be(()=>r)):Le(r)}),Be(o=>{let a=h9(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=je(ve({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),vn(()=>{this.events.next(new tf)}),y9(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Vi(1),Zu(VD(s.signal).pipe(Li(()=>!i&&!r.targetRouterState),vn(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",ai.Aborted)}))),vn({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=u7,a)),this.lastSuccessfulNavigation.set(Jn(this.currentNavigation)),this.events.next(new gs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Zu(this.transitionAbortWithErrorSubject.pipe(vn(o=>{throw o}))),zy(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",ai.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),cn(o=>{if(this.destroyed)return r.resolve(!1),fi;if(i=!0,FD(o))this.events.next(new zs(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),g9(o)?this.events.next(new Vl(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ll(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=_r(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof jl){let{message:u,cancellationCode:l}=$m(this.urlSerializer,c);this.events.next(new zs(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Vl(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return fi}))}))}cancelNavigationTransition(n,r,i){let s=new zs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Jn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d7(t){return t!==Xd}var eA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>me(f7),providedIn:"root"})}return t})(),zm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},f7=(()=>{class t extends zm{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a_=(()=>{class t{urlSerializer=me(af);options=me(zl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=me(Nl);urlHandlingStrategy=me(Gm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ms;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let s=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,o=i??s;return o instanceof ms?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=MD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:()=>me(tA),providedIn:"root"})}return t})(),tA=(()=>{class t extends a_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof gc?this.updateStateMemento():n instanceof xo?this.commitTransition(r):n instanceof ef?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof tf?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof zs&&n.code!==ai.SupersededByNewNavigation&&n.code!==ai.Redirect?this.restoreHistory(r):n instanceof Ll?this.restoreHistory(r,!0):n instanceof gs&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(n)||s){let a=this.browserPageId,c=ve(ve({},o),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=ve(ve({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===n.finalUrl&&s===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function c_(t,e){t.events.pipe(Li(n=>n instanceof gs||n instanceof zs||n instanceof Ll||n instanceof xo),Be(n=>n instanceof gs||n instanceof xo?0:(n instanceof zs?n.code===ai.Redirect||n.code===ai.SupersededByNewNavigation:!1)?2:1),Li(n=>n!==2),Vi(1)).subscribe(()=>{e()})}var h7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ci=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=me(i1);stateManager=me(a_);options=me(zl,{optional:!0})||{};pendingTasks=me(bo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=me(JD);urlSerializer=me(af);location=me(Nl);urlHandlingStrategy=me(Gm);injector=me(ar);_events=new Bn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=me(eA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=me(lf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!me(qm,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new br;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=Jn(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof zs&&r.code!==ai.Redirect&&r.code!==ai.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof gs)this.navigated=!0;else if(r instanceof Vl){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=ve({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d7(i.source)},o);this.scheduleNavigation(a,Xd,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}l9(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=ve({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Ci)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Jn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(s_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=ve(ve({},this.currentUrlTree.queryParams),s);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=ID(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return TD(d,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ma(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xd,null,r)}navigate(n,r={skipLocationChange:!1}){return m7(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Ya(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=ve({},h7):r===!1?i=ve({},p7):i=r,ma(n))return sD(this.currentUrlTree,n,i);let s=this.parseUrl(n);return sD(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,f)=>{a=d,c=f});let l=this.pendingTasks.add();return c_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function m7(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Qe(4008,!1)}var gi=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=xi(null);get href(){return Jn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Bn;applicationErrorHandler=me(Ci);options=me(zl,{optional:!0});constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(me(new lm("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof gs&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ma(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:ma(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(mt(ci),mt(So),Td("tabindex"),mt(zi),mt(Wr),mt(Rl))};static \u0275dir=Tn({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ue("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Ln("href",i.reactiveHref(),Vb)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",da],skipLocationChange:[2,"skipLocationChange","skipLocationChange",da],replaceUrl:[2,"replaceUrl","replaceUrl",da],routerLink:"routerLink"},features:[mi]})}return t})(),l_=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Nn;link=me(gi,{optional:!0});constructor(n,r,i,s){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=n.events.subscribe(o=>{o instanceof gs&&this.update()})}ngAfterContentInit(){Le(this.links.changes,Le(null)).pipe(ll()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=kn(n).pipe(ll()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=y7(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(mt(ci),mt(Wr),mt(zi),mt($s))};static \u0275dir=Tn({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&sm(s,gi,5),r&2){let o;l1(o=u1())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[mi]})}return t})();function y7(t){return!!t.paths}var v7=new ot("");function u_(t,...e){return os([{provide:lf,multi:!0,useValue:t},[],{provide:So,useFactory:b7},{provide:rm,multi:!0,useFactory:_7},e.map(n=>n.\u0275providers)])}function b7(){return me(ci).routerState.root}function _7(){let t=me(rr);return e=>{let n=t.get(ca);if(e!==n.components[0])return;let r=t.get(ci),i=t.get(w7);t.get(E7)===1&&r.initialNavigation(),t.get(C7,null,{optional:!0})?.setUpPreloading(),t.get(v7,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var w7=new ot("",{factory:()=>new Bn}),E7=new ot("",{factory:()=>1});var C7=new ot("");var nA=()=>{};var sA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x7=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Km={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),r.push(n[l],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new f_;let f=s<<2|a>>4;if(r.push(f),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let h=u<<6&192|d;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},f_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},S7=function(t){let e=sA(t);return Km.encodeByteArray(e,!0)},df=function(t){return S7(t).replace(/\./g,"")},Ym=function(t){try{return Km.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var I7=()=>p_().__FIREBASE_DEFAULTS__,T7=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ym(t[1]);return e&&JSON.parse(e)},Xm=()=>{try{return nA()||I7()||T7()||D7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m_=t=>Xm()?.emulatorHosts?.[t],oA=t=>{let e=m_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g_=()=>Xm()?.config,y_=t=>Xm()?.[`_${t}`];var bc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ga(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qm(t){return(await fetch(t,{credentials:"include"})).ok}function aA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=ve({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[df(JSON.stringify(n)),df(JSON.stringify(o)),""].join(".")}var uf={};function A7(){let t={prod:[],emulator:[]};for(let e of Object.keys(uf))uf[e]?t.emulator.push(e):t.prod.push(e);return t}function M7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var rA=!1;function Zm(t,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||uf[t]===e||uf[t]||rA)return;uf[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",s=A7().prod.length>0;function o(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{rA=!0,o()},f}function l(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=M7(r),p=n("text"),h=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),g=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let k=f.element;a(k),l(g,y);let L=u();c(x,_),k.append(x,h,g,L),document.body.appendChild(k)}s?(h.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,h.innerText="Preview backend running in this workspace."),h.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function k7(){let t=Xm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){let t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hA(){return!k7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ff(){try{return typeof indexedDB=="object"}catch{return!1}}function pA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var R7="FirebaseError",Ri=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R7,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ys.prototype.create)}},ys=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?N7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ri(i,a,r)}};function N7(t,e){return t.replace(O7,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var O7=/\{\$([^}]+)}/g;function mA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(iA(s)&&iA(o)){if(!qs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function iA(t){return t!==null&&typeof t=="object"}function hf(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wl(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gA(t,e){let n=new h_(t,e);return n.subscribe.bind(n)}var h_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=d_),i.error===void 0&&(i.error=d_),i.complete===void 0&&(i.complete=d_);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function P7(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function d_(){}var hle=14400*1e3;function Vn(t){return t&&t._delegate?t._delegate:t}var li=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _c="[DEFAULT]";var v_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new bc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L7(e))try{this.getOrInitializeService({instanceIdentifier:_c})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_c){return this.instances.has(e)}getOptions(e=_c){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_c){return this.component?this.component.multipleInstances?e:_c:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function F7(t){return t===_c?void 0:t}function L7(t){return t.instantiationMode==="EAGER"}var Jm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new v_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var V7=[],rn=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(rn||{}),j7={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},B7=rn.INFO,U7={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},$7=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=U7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ws=class{constructor(e){this.name=e,this._logLevel=B7,this._logHandler=$7,this._userLogHandler=null,V7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...e),this._logHandler(this,rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...e),this._logHandler(this,rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...e),this._logHandler(this,rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...e),this._logHandler(this,rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...e),this._logHandler(this,rn.ERROR,...e)}};var H7=(t,e)=>e.some(n=>t instanceof n),yA,vA;function z7(){return yA||(yA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q7(){return vA||(vA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bA=new WeakMap,__=new WeakMap,_A=new WeakMap,b_=new WeakMap,E_=new WeakMap;function W7(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bA.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function G7(t){if(__.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});__.set(t,e)}var w_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return __.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_A.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wA(t){w_=t(w_)}function K7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(eg(this),e,...n);return _A.set(r,e.sort?e.sort():[e]),Gs(r)}:q7().includes(t)?function(...e){return t.apply(eg(this),e),Gs(bA.get(this))}:function(...e){return Gs(t.apply(eg(this),e))}}function Y7(t){return typeof t=="function"?K7(t):(t instanceof IDBTransaction&&G7(t),H7(t,z7())?new Proxy(t,w_):t)}function Gs(t){if(t instanceof IDBRequest)return W7(t);if(b_.has(t))return b_.get(t);let e=Y7(t);return e!==t&&(b_.set(t,e),E_.set(e,t)),e}var eg=t=>E_.get(t);function CA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gs(o.result),c.oldVersion,c.newVersion,Gs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var X7=["get","getKey","getAll","getAllKeys","count"],Q7=["put","add","delete","clear"],C_=new Map;function EA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(C_.get(e))return C_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Q7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X7.includes(n)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return C_.set(e,s),s}wA(t=>je(ve({},t),{get:(e,n,r)=>EA(e,n)||t.get(e,n,r),has:(e,n)=>!!EA(e,n)||t.has(e,n)}));var S_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z7(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Z7(t){return t.getComponent()?.type==="VERSION"}var I_="@firebase/app",xA="0.14.6";var Io=new Ws("@firebase/app"),J7="@firebase/app-compat",eF="@firebase/analytics-compat",tF="@firebase/analytics",nF="@firebase/app-check-compat",rF="@firebase/app-check",iF="@firebase/auth",sF="@firebase/auth-compat",oF="@firebase/database",aF="@firebase/data-connect",cF="@firebase/database-compat",lF="@firebase/functions",uF="@firebase/functions-compat",dF="@firebase/installations",fF="@firebase/installations-compat",hF="@firebase/messaging",pF="@firebase/messaging-compat",mF="@firebase/performance",gF="@firebase/performance-compat",yF="@firebase/remote-config",vF="@firebase/remote-config-compat",bF="@firebase/storage",_F="@firebase/storage-compat",wF="@firebase/firestore",EF="@firebase/ai",CF="@firebase/firestore-compat",xF="firebase",SF="12.6.0";var T_="[DEFAULT]",IF={[I_]:"fire-core",[J7]:"fire-core-compat",[tF]:"fire-analytics",[eF]:"fire-analytics-compat",[rF]:"fire-app-check",[nF]:"fire-app-check-compat",[iF]:"fire-auth",[sF]:"fire-auth-compat",[oF]:"fire-rtdb",[aF]:"fire-data-connect",[cF]:"fire-rtdb-compat",[lF]:"fire-fn",[uF]:"fire-fn-compat",[dF]:"fire-iid",[fF]:"fire-iid-compat",[hF]:"fire-fcm",[pF]:"fire-fcm-compat",[mF]:"fire-perf",[gF]:"fire-perf-compat",[yF]:"fire-rc",[vF]:"fire-rc-compat",[bF]:"fire-gcs",[_F]:"fire-gcs-compat",[wF]:"fire-fst",[CF]:"fire-fst-compat",[EF]:"fire-vertex","fire-js":"fire-js",[xF]:"fire-js-all"};var pf=new Map,TF=new Map,D_=new Map;function SA(t,e){try{t.container.addComponent(e)}catch(n){Io.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){let e=t.name;if(D_.has(e))return Io.debug(`There were multiple attempts to register component ${e}.`),!1;D_.set(e,t);for(let n of pf.values())SA(n,t);for(let n of TF.values())SA(n,t);return!0}function Gl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t==null?!1:t.settings!==void 0}var DF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new ys("app","Firebase",DF);var A_=class{constructor(e,n,r){this._isDeleted=!1,this._options=ve({},e),this._config=ve({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}};var va=SF;function R_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=ve({name:T_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ya.create("bad-app-name",{appName:String(i)});if(n||(n=g_()),!n)throw ya.create("no-options");let s=pf.get(i);if(s){if(qs(n,s.options)&&qs(r,s.config))return s;throw ya.create("duplicate-app",{appName:i})}let o=new Jm(i);for(let c of D_.values())o.addComponent(c);let a=new A_(n,r,o);return pf.set(i,a),a}function wc(t=T_){let e=pf.get(t);if(!e&&t===T_&&g_())return R_();if(!e)throw ya.create("no-app",{appName:t});return e}function tg(){return Array.from(pf.values())}function tr(t,e,n){let r=IF[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Io.warn(o.join(" "));return}vs(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var AF="firebase-heartbeat-database",MF=1,mf="firebase-heartbeat-store",x_=null;function AA(){return x_||(x_=CA(AF,MF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ya.create("idb-open",{originalErrorMessage:t.message})})),x_}async function kF(t){try{let n=(await AA()).transaction(mf),r=await n.objectStore(mf).get(MA(t));return await n.done,r}catch(e){if(e instanceof Ri)Io.warn(e.message);else{let n=ya.create("idb-get",{originalErrorMessage:e?.message});Io.warn(n.message)}}}async function IA(t,e){try{let r=(await AA()).transaction(mf,"readwrite");await r.objectStore(mf).put(e,MA(t)),await r.done}catch(n){if(n instanceof Ri)Io.warn(n.message);else{let r=ya.create("idb-set",{originalErrorMessage:n?.message});Io.warn(r.message)}}}function MA(t){return`${t.name}!${t.options.appId}`}var RF=1024,NF=30,M_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new k_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=TA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>NF){let i=PF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Io.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=TA(),{heartbeatsToSend:n,unsentEntries:r}=OF(this._heartbeatsCache.heartbeats),i=df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Io.warn(e),""}}};function TA(){return new Date().toISOString().substring(0,10)}function OF(t,e=RF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),DA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var k_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ff()?pA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await kF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return IA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return IA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function DA(t){return df(JSON.stringify({version:2,heartbeats:t})).length}function PF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function FF(t){vs(new li("platform-logger",e=>new S_(e),"PRIVATE")),vs(new li("heartbeat",e=>new M_(e),"PRIVATE")),tr(I_,xA,t),tr(I_,xA,"esm2020"),tr("fire-js","")}FF("");var LF="firebase",VF="12.7.0";tr(LF,VF,"app");function kA(t){t===void 0&&(t=me(rr));let e=t.get(wl);return n=>new Ut(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=n.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var ba=new Ko("ANGULARFIRE2_VERSION");function gf(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Yl=(t,e)=>{let n=e?[e]:tg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Kl=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Kl||{}),RA=w1()&&typeof Zone<"u"?Kl.WARN:Kl.SILENT;var ng=class{zone;delegate;constructor(e,n=By){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},_a=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=me(Un);this.outsideAngular=n.runOutsideAngular(()=>new ng(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new ng(typeof Zone>"u"?void 0:Zone.current,jy))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NA=!1;function jF(t,e){!NA&&(RA>Kl.SILENT||w1())&&(NA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),RA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function BF(t){let e=me(Un,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ec(t){let e=me(Un,{optional:!0});return e?e.run(()=>t()):t()}var UF=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),_r(n,()=>Ec(()=>t.apply(void 0,r)))),Hn=(t,e,n)=>(n||=e?Kl.WARN:Kl.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=me(_a),o=me(wl),a=me(ar)}catch{return jF(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Ec(()=>o.add())),i[u]=UF(i[u],r,a));let c=BF(()=>t.apply(this,i));return e?c instanceof Ut?c.pipe(Go(s.outsideAngular),Wo(s.insideAngular),kA(a)):c instanceof Promise?Ec(()=>{let u=o.add();return new Promise((l,d)=>{c.then(f=>_r(a,()=>Ec(()=>l(f))),f=>_r(a,()=>Ec(()=>d(f)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ec(()=>c):c instanceof Ut?c.pipe(Go(s.outsideAngular),Wo(s.insideAngular)):Ec(()=>c)});var To=class{constructor(e){return e}},Cc=class{constructor(){return tg()}};function $F(t){return t&&t.length===1?t[0]:new To(wc())}var N_=new ot("angularfire2._apps"),HF={provide:To,useFactory:$F,deps:[[new Si,N_]]},zF={provide:Cc,deps:[[new Si,N_]]};function qF(t){return(e,n)=>{let r=n.get(cc);tr("angularfire",ba.full,"core"),tr("angularfire",ba.full,"app"),tr("angular",cv.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new To(i)}}function OA(t,...e){return os([HF,zF,{provide:N_,useFactory:qF(t),multi:!0,deps:[Un,rr,_a,...e]}])}var PA=Hn(R_,!0);var WF=new Map,GF={activated:!1,tokenObservers:[]},KF={initialized:!1,enabled:!1};function bs(t){return WF.get(t)||ve({},GF)}function jA(){return KF}var YF="https://content-firebaseappcheck.googleapis.com/v1";var XF="exchangeDebugToken",FA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},pue=1440*60*1e3;var F_=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new bc,this.pending.promise.catch(n=>{}),await QF(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new bc,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function QF(t){return new Promise(e=>{setTimeout(e,t)})}var ZF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},wa=new ys("appCheck","AppCheck",ZF);function BA(t){if(!bs(t).activated)throw wa.create("use-before-activation",{appName:t.name})}async function UA({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(t,s)}catch(d){throw wa.create("fetch-network-error",{originalErrorMessage:d?.message})}if(o.status!==200)throw wa.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw wa.create("fetch-parse-error",{originalErrorMessage:d?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw wa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let u=Number(c[1])*1e3,l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}function $A(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${YF}/projects/${n}/apps/${r}:${XF}?key=${i}`,body:{debug_token:e}}}var JF="firebase-app-check-database",eL=1,L_="firebase-app-check-store";var rg=null;function tL(){return rg||(rg=new Promise((t,e)=>{try{let n=indexedDB.open(JF,eL);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{e(wa.create("storage-open",{originalErrorMessage:r.target.error?.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(L_,{keyPath:"compositeKey"})}}}catch(n){e(wa.create("storage-open",{originalErrorMessage:n?.message}))}}),rg)}function nL(t,e){return rL(iL(t),e)}async function rL(t,e){let r=(await tL()).transaction(L_,"readwrite"),s=r.objectStore(L_).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{a(wa.create("storage-set",{originalErrorMessage:c.target.error?.message}))}})}function iL(t){return`${t.options.appId}-${t.name}`}var yf=new Ws("@firebase/app-check");function O_(t,e){return ff()?nL(t,e).catch(n=>{yf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function HA(){return jA().enabled}async function zA(){let t=jA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var sL={error:"UNKNOWN_ERROR"};function oL(t){return Km.encodeString(JSON.stringify(t),!1)}async function V_(t,e=!1,n=!1){let r=t.app;BA(r);let i=bs(r),s=i.token,o;if(s&&!vf(s)&&(i.token=void 0,s=void 0),!s){let u=await i.cachedTokenPromise;u&&(vf(u)?s=u:await O_(r,void 0))}if(!e&&s&&vf(s))return{token:s.token};let a=!1;if(HA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=UA($A(r,await zA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=await i.exchangeTokenPromise;return await O_(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?yf.warn(u.message):n&&yf.error(u),P_(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await bs(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?yf.warn(u.message):n&&yf.error(u),o=u}let c;return s?o?vf(s)?c={token:s.token,internalError:o}:c=P_(o):(c={token:s.token},i.token=s,await O_(r,s)):c=P_(o),a&&uL(r,c),c}async function aL(t){let e=t.app;BA(e);let{provider:n}=bs(e);if(HA()){let r=await zA(),{token:i}=await UA($A(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function cL(t,e,n,r){let{app:i}=t,s=bs(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&vf(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),LA(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LA(t))}function qA(t,e){let n=bs(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LA(t){let{app:e}=t,n=bs(e),r=n.tokenRefresher;r||(r=lL(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function lL(t){let{app:e}=t;return new F_(async()=>{let n=bs(e),r;if(n.token?r=await V_(t,!0):r=await V_(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=bs(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},FA.RETRIAL_MIN_WAIT,FA.RETRIAL_MAX_WAIT)}function uL(t,e){let n=bs(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vf(t){return t.expireTimeMillis-Date.now()>0}function P_(t){return{token:oL(sL),error:t}}var j_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=bs(this.app);for(let n of e)qA(this.app,n.next);return Promise.resolve()}};function dL(t,e){return new j_(t,e)}function fL(t){return{getToken:e=>V_(t,e),getLimitedUseToken:()=>aL(t),addTokenListener:e=>cL(t,"INTERNAL",e),removeTokenListener:e=>qA(t.app,e)}}var hL="@firebase/app-check",pL="0.11.0";var mL="app-check",VA="app-check-internal";function gL(){vs(new li(mL,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return dL(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(VA).initialize()})),vs(new li(VA,t=>{let e=t.getProvider("app-check").getImmediate();return fL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),tr(hL,pL)}gL();var yL="app-check";var Xl=class{constructor(){return Yl(yL)}};var vL=["localhost","0.0.0.0","127.0.0.1"],Tue=typeof window<"u"&&vL.includes(window.location.hostname);function a3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var c3=a3,l3=new ys("auth","Firebase",a3());var lg=new Ws("@firebase/auth");function bL(t,...e){lg.logLevel<=rn.WARN&&lg.warn(`Auth (${va}): ${t}`,...e)}function sg(t,...e){lg.logLevel<=rn.ERROR&&lg.error(`Auth (${va}): ${t}`,...e)}function Ys(t,...e){throw uw(t,...e)}function xc(t,...e){return uw(t,...e)}function u3(t,e,n){let r=je(ve({},c3()),{[e]:n});return new ys("auth","Firebase",r).create(e,{appName:t.name})}function Mo(t){return u3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l3.create(t,...e)}function vt(t,e,...n){if(!t)throw uw(e,...n)}function Do(t){let e="INTERNAL ASSERTION FAILED: "+t;throw sg(e),new Error(e)}function xa(t,e){t||Do(e)}function H_(){return typeof self<"u"&&self.location?.href||""}function _L(){return WA()==="http:"||WA()==="https:"}function WA(){return typeof self<"u"&&self.location?.protocol||null}function wL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_L()||uA()||"connection"in navigator)?navigator.onLine:!0}function EL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Sc=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,xa(n>e,"Short delay should be less than long delay!"),this.isMobile=cA()||dA()}get(){return wL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dw(t,e){xa(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ug=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Do("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Do("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Do("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var CL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var xL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SL=new Sc(3e4,6e4);function ko(t,e){return t.tenantId&&!e.tenantId?je(ve({},e),{tenantId:t.tenantId}):e}async function Xs(t,e,n,r,i={}){return d3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=hf(ve({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let u=ve({method:e,headers:c},s);return lA()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ga(t.emulatorConfig.host)&&(u.credentials="include"),ug.fetch()(await f3(t,t.config.apiHost,n,a),u)})}async function d3(t,e,n){t._canInitEmulator=!1;let r=ve(ve({},CL),e);try{let i=new z_(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw ig(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ig(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ig(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ig(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw u3(t,l,u);Ys(t,l)}}catch(i){if(i instanceof Ri)throw i;Ys(t,"network-request-failed",{message:String(i)})}}async function If(t,e,n,r,i={}){let s=await Xs(t,e,n,r,i);return"mfaPendingCredential"in s&&Ys(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function f3(t,e,n,r){let i=`${e}${n}?${r}`,s=t,o=s.config.emulator?dw(t.config,i):`${t.config.apiScheme}://${i}`;return xL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function IL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var z_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xc(this.auth,"network-request-failed")),SL.get())})}};function ig(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=xc(t,e,r);return i.customData._tokenResponse=n,i}function GA(t){return t!==void 0&&t.enterprise!==void 0}var q_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function TL(t,e){return Xs(t,"GET","/v2/recaptchaConfig",ko(t,e))}async function DL(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function dg(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}function _f(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fw(t,e=!1){let n=Vn(t),r=await n.getIdToken(e),i=hw(r);vt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_f(B_(i.auth_time)),issuedAtTime:_f(B_(i.iat)),expirationTime:_f(B_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function B_(t){return Number(t)*1e3}function hw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ym(n);return i?JSON.parse(i):(sg("Failed to decode base64 JWT payload"),null)}catch(i){return sg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KA(t){let e=hw(t);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&AL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var W_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ef=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_f(this.lastLoginAt),this.creationTime=_f(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function fg(t){let e=t.auth,n=await t.getIdToken(),r=await Ql(t,dg(e,{idToken:n}));vt(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let s=i.providerUserInfo?.length?h3(i.providerUserInfo):[],o=ML(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,u=a?c:!1,l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ef(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,l)}async function pw(t){let e=Vn(t);await fg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ML(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function h3(t){return t.map(r=>{var i=r,{providerId:e}=i,n=vy(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function kL(t,e){let n=await d3(t,{},async()=>{let r=hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await f3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&ga(t.emulatorConfig.host)&&(c.credentials="include"),ug.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RL(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",ko(t,e))}var wf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){vt(e.length!==0,"internal-error");let n=KA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:s}=await kL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(vt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(vt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(vt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Do("not implemented")}};function Ea(t,e){vt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ca=class t{constructor(s){var o=s,{uid:e,auth:n,stsTokenManager:r}=o,i=vy(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ef(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fw(this,e)}reload(){return pw(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>ve({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(je(ve({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Mo(this.auth));let e=await this.getIdToken();return await Ql(this,DL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return je(ve({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>ve({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,l=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:h,stsTokenManager:y}=n;vt(d&&y,e,"internal-error");let g=wf.fromJSON(this.name,y);vt(typeof d=="string",e,"internal-error"),Ea(r,e.name),Ea(i,e.name),vt(typeof f=="boolean",e,"internal-error"),vt(typeof p=="boolean",e,"internal-error"),Ea(s,e.name),Ea(o,e.name),Ea(a,e.name),Ea(c,e.name),Ea(u,e.name),Ea(l,e.name);let _=new t({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:g,createdAt:u,lastLoginAt:l});return h&&Array.isArray(h)&&(_.providerData=h.map(x=>ve({},x))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){let i=new wf;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fg(s),s}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];vt(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?h3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new wf;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ef(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}};var YA=new Map;function Ao(t){xa(t instanceof Function,"Expected a class definition");let e=YA.get(t);return e?(xa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YA.set(t,e),e)}var NL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),G_=NL;function og(t,e,n){return`firebase:${t}:${e}:${n}`}var hg=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=og(this.userKey,i.apiKey,s),this.fullPersistenceKey=og("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await dg(this.auth,{idToken:e}).catch(()=>{});return n?Ca._fromGetAccountInfoResponse(this.auth,n,e):null}return Ca._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Ao(G_),e,r);let i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),s=i[0]||Ao(G_),o=og(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=await u._get(o);if(l){let d;if(typeof l=="string"){let f=await dg(e,{idToken:l}).catch(()=>{});if(!f)break;d=await Ca._fromGetAccountInfoResponse(e,f,l)}else d=Ca._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new t(s,e,r))}};function XA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b3(e))return"Blackberry";if(_3(e))return"Webos";if(m3(e))return"Safari";if((e.includes("chrome/")||g3(e))&&!e.includes("edge/"))return"Chrome";if(v3(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function p3(t=Ar()){return/firefox\//i.test(t)}function m3(t=Ar()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g3(t=Ar()){return/crios\//i.test(t)}function y3(t=Ar()){return/iemobile/i.test(t)}function v3(t=Ar()){return/android/i.test(t)}function b3(t=Ar()){return/blackberry/i.test(t)}function _3(t=Ar()){return/webos/i.test(t)}function mw(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OL(t=Ar()){return mw(t)&&!!window.navigator?.standalone}function PL(){return fA()&&document.documentMode===10}function w3(t=Ar()){return mw(t)||v3(t)||_3(t)||b3(t)||/windows phone/i.test(t)||y3(t)}function E3(t,e=[]){let n;switch(t){case"Browser":n=XA(Ar());break;case"Worker":n=`${XA(Ar())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}var K_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function FL(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",ko(t,e))}var LL=6,Y_=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var X_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pg(this),this.idTokenSubscription=new pg(this),this.beforeStateQueue=new K_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ao(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hg.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await dg(this,{idToken:e}),r=await Ca._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Mo(this));let n=e?Vn(e):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await FL(this),n=new Y_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ys("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Ao(e)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await hg.create(this,[Ao(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bL(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Tc(t){return Vn(t)}var pg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gA(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VL(t){wg=t}function C3(t){return wg.loadJS(t)}function jL(){return wg.recaptchaEnterpriseScript}function BL(){return wg.gapiScript}function x3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Q_=class{constructor(){this.enterprise=new Z_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Z_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var UL="recaptcha-enterprise",S3="NO_RECAPTCHA",J_=class{constructor(e){this.type=UL,this.auth=Tc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{TL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new q_(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){let c=window.grecaptcha;GA(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(S3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Q_().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=jL();c.length!==0&&(c+=a),C3(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}};async function bf(t,e,n,r=!1,i=!1){let s=new J_(t),o;if(i)o=S3;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}let a=ve({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ew(t,e,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await bf(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await bf(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await bf(t,e,n);return r(t,s).catch(async o=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=await bf(t,e,n,!1,!0);return r(t,a)}return Promise.reject(o)})}else{let s=await bf(t,e,n,!1,!0);return r(t,s)}else return Promise.reject(i+" provider is not supported.")}function gw(t,e){let n=Gl(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(qs(s,e??{}))return i;Ys(i,"already-initialized")}return n.initialize({options:e})}function $L(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ao);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function yw(t,e,n){let r=Tc(t);vt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=I3(e),{host:o,port:a}=HL(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},l=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(qs(u,r.config.emulator)&&qs(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,ga(o)?(Qm(`${s}//${o}${c}`),Zm("Auth",!0)):i||zL()}function I3(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HL(t){let e=I3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:QA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:QA(o)}}}function QA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function zL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Cf=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Do("not implemented")}_getIdTokenResponse(e){return Do("not implemented")}_linkToIdToken(e,n){return Do("not implemented")}_getReauthenticationResolver(e){return Do("not implemented")}};async function qL(t,e){return Xs(t,"POST","/v1/accounts:update",e)}async function WL(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}async function GL(t,e){return If(t,"POST","/v1/accounts:signInWithPassword",ko(t,e))}async function KL(t,e){return Xs(t,"POST","/v1/accounts:sendOobCode",ko(t,e))}async function YL(t,e){return KL(t,e)}async function XL(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}async function QL(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}var xf=class t extends Cf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ew(e,n,"signInWithPassword",GL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XL(e,{email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ew(e,r,"signUpPassword",WL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return QL(e,{idToken:n,email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function U_(t,e){return If(t,"POST","/v1/accounts:signInWithIdp",ko(t,e))}function ZL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JL(t){let e=ql(Wl(t)).link,n=e?ql(Wl(e)).deep_link_id:null,r=ql(Wl(t)).deep_link_id;return(r?ql(Wl(r)).link:null)||r||n||e||t}var mg=class t{constructor(e){let n=ql(Wl(e)),r=n.apiKey??null,i=n.oobCode??null,s=ZL(n.mode??null);vt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){let n=JL(e);try{return new t(n)}catch{return null}}};var Eg=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return xf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=mg.parseLink(r);return vt(i,"argument-error"),xf._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),gg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var tw=class extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function eV(t,e){return If(t,"POST","/v1/accounts:signUp",ko(t,e))}var Zl=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let s=await Ca._fromIdTokenResponse(e,r,i),o=ZA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=ZA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function ZA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var nw=class t extends Ri{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function T3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nw._fromErrorAndOperation(t,s,e,r):s})}async function tV(t,e,n=!1){let r=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zl._forOperation(t,"link",r)}async function D3(t,e,n=!1){let{auth:r}=t;if(yi(r.app))return Promise.reject(Mo(r));let i="reauthenticate";try{let s=await Ql(t,T3(r,i,e,t),n);vt(s.idToken,r,"internal-error");let o=hw(s.idToken);vt(o,r,"internal-error");let{sub:a}=o;return vt(t.uid===a,r,"user-mismatch"),Zl._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ys(r,"user-mismatch"),s}}async function A3(t,e,n=!1){if(yi(t.app))return Promise.reject(Mo(t));let r="signIn",i=await T3(t,r,e),s=await Zl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function vw(t,e){return A3(Tc(t),e)}async function Cg(t,e){return D3(Vn(t),e)}function nV(t,e,n){vt(n.url?.length>0,t,"invalid-continue-uri"),vt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),vt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(vt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(vt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function M3(t){let e=Tc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bw(t,e,n){if(yi(t.app))return Promise.reject(Mo(t));let r=Tc(t),o=await ew(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eV,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&M3(t),c}),a=await Zl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _w(t,e,n){return yi(t.app)?Promise.reject(Mo(t)):vw(Vn(t),Eg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M3(t),r})}async function xg(t,e,n){let r=Vn(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&nV(r.auth,s,n);let{email:o}=await YL(r.auth,s);o!==t.email&&await t.reload()}function Sg(t,e){return rV(Vn(t),null,e)}async function rV(t,e,n){let{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);let o=await Ql(t,qL(r,s));await t._updateTokensIfNecessary(o,!0)}function Ig(t,e,n,r){return Vn(t).onIdTokenChanged(e,n,r)}function ww(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}function Tg(t,e,n,r){return Vn(t).onAuthStateChanged(e,n,r)}function Ew(t){return Vn(t).signOut()}var yg="__sak";var vg=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yg,"1"),this.storage.removeItem(yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var iV=1e3,sV=10,oV=(()=>{class t extends vg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w3(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);PL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,sV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),k3=oV;var aV=(()=>{class t extends vg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Cw=aV;function cV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var lV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async l=>l(r.origin,o)),u=await cV(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function R3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var rw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=R3("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Ks(){return window}function uV(t){Ks().location.href=t}function N3(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function dV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fV(){return navigator?.serviceWorker?.controller||null}function hV(){return N3()?self:null}var O3="firebaseLocalStorageDb",pV=1,bg="firebaseLocalStorage",P3="fbase_key",Ic=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Dg(t,e){return t.transaction([bg],e?"readwrite":"readonly").objectStore(bg)}function mV(){let t=indexedDB.deleteDatabase(O3);return new Ic(t).toPromise()}function iw(){let t=indexedDB.open(O3,pV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(bg,{keyPath:P3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(bg)?e(r):(r.close(),await mV(),e(await iw()))})})}async function JA(t,e,n){let r=Dg(t,!0).put({[P3]:e,value:n});return new Ic(r).toPromise()}async function gV(t,e){let n=Dg(t,!1).get(e),r=await new Ic(n).toPromise();return r===void 0?null:r.value}function e3(t,e){let n=Dg(t,!0).delete(e);return new Ic(n).toPromise()}var yV=800,vV=3,bV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iw(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>vV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lV._getInstance(hV()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dV(),!this.activeServiceWorker)return;this.sender=new rw(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||fV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await iw();return await JA(n,yg,"1"),await e3(n,yg),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>JA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>gV(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e3(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(s=>{let o=Dg(s,!1).getAll();return new Ic(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),F3=bV;var Oue=x3("rcb"),Pue=new Sc(3e4,6e4);function _V(t,e){return e?Ao(e):(vt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Sf=class extends Cf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return U_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return U_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return U_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function wV(t){return A3(t.auth,new Sf(t),t.bypassAuthState)}function EV(t){let{auth:e,user:n}=t;return vt(n,e,"internal-error"),D3(n,new Sf(t),t.bypassAuthState)}async function CV(t){let{auth:e,user:n}=t;return vt(n,e,"internal-error"),tV(n,new Sf(t),t.bypassAuthState)}var sw=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wV;case"linkViaPopup":case"linkViaRedirect":return CV;case"reauthViaPopup":case"reauthViaRedirect":return EV;default:Ys(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Fue=new Sc(2e3,1e4);var xV="pendingRedirect",ag=new Map,ow=class extends sw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ag.get(this.auth._key());if(!e){try{let r=await SV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ag.set(this.auth._key(),e)}return this.bypassAuthState||ag.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function SV(t,e){let n=DV(e),r=TV(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function IV(t,e){ag.set(t._key(),e)}function TV(t){return Ao(t._redirectPersistence)}function DV(t){return og(xV,t.config.apiKey,t.name)}async function AV(t,e,n=!1){if(yi(t.app))return Promise.reject(Mo(t));let r=Tc(t),i=_V(r,e),o=await new ow(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var MV=600*1e3,aw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!L3(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xc(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MV&&this.cachedEventUids.clear(),this.cachedEventUids.has(t3(e))}saveEventToCache(e){this.cachedEventUids.add(t3(e)),this.lastProcessedEventTime=Date.now()}};function t3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L3(t);default:return!1}}async function RV(t,e={}){return Xs(t,"GET","/v1/projects",e)}var NV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OV=/^https?/;async function PV(t){if(t.config.emulator)return;let{authorizedDomains:e}=await RV(t);for(let n of e)try{if(FV(n))return}catch{}Ys(t,"unauthorized-domain")}function FV(t){let e=H_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!OV.test(n))return!1;if(NV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var LV=new Sc(3e4,6e4);function n3(){let t=Ks().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VV(t){return new Promise((e,n)=>{function r(){n3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n3(),n(xc(t,"network-request-failed"))},timeout:LV.get()})}if(Ks().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ks().gapi?.load)r();else{let i=x3("iframefcb");return Ks()[i]=()=>{gapi.load?r():n(xc(t,"network-request-failed"))},C3(`${BL()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw cg=null,e})}var cg=null;function jV(t){return cg=cg||VV(t),cg}var BV=new Sc(5e3,15e3),UV="__/auth/iframe",$V="emulator/auth/iframe",HV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qV(t){let e=t.config;vt(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?dw(e,$V):`https://${t.config.authDomain}/${UV}`,r={apiKey:e.apiKey,appName:t.name,v:va},i=zV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hf(r).slice(1)}`}async function WV(t){let e=await jV(t),n=Ks().gapi;return vt(n,t,"internal-error"),e.open({where:document.body,url:qV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=xc(t,"network-request-failed"),a=Ks().setTimeout(()=>{s(o)},BV.get());function c(){Ks().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var GV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KV=500,YV=600,XV="_blank",QV="http://localhost",_g=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ZV(t,e,n,r=KV,i=YV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=je(ve({},GV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ar().toLowerCase();n&&(a=g3(u)?XV:n),p3(u)&&(e=e||QV,c.scrollbars="yes");let l=Object.entries(c).reduce((f,[p,h])=>`${f}${p}=${h},`,"");if(OL(u)&&a!=="_self")return JV(e||"",a),new _g(null);let d=window.open(e||"",a,l);vt(d,t,"popup-blocked");try{d.focus()}catch{}return new _g(d)}function JV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ej="__/auth/handler",tj="emulator/auth/handler",nj=encodeURIComponent("fac");async function r3(t,e,n,r,i,s){vt(t.config.authDomain,t,"auth-domain-config-required"),vt(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:i};if(e instanceof gg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof tw){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=await t._getAppCheckToken(),u=c?`#${nj}=${encodeURIComponent(c)}`:"";return`${rj(t)}?${hf(a).slice(1)}${u}`}function rj({config:t}){return t.emulator?dw(t,tj):`https://${t.authDomain}/${ej}`}var $_="webStorageSupport",cw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cw,this._completeRedirectFn=AV,this._overrideRedirectResult=IV}async _openPopup(e,n,r,i){xa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let s=await r3(e,n,r,H_(),i);return ZV(e,s,R3())}async _openRedirect(e,n,r,i){await this._originValidation(e);let s=await r3(e,n,r,H_(),i);return uV(s),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xa(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await WV(e),r=new aw(e);return n.register("authEvent",i=>(vt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($_,{type:$_},i=>{let s=i?.[0]?.[$_];s!==void 0&&n(!!s),Ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w3()||m3()||mw()}},V3=cw;var i3="@firebase/auth",s3="1.12.0";var lw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ij(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sj(t){vs(new li("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;vt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E3(t)},u=new X_(r,i,s,c);return $L(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vs(new li("auth-internal",e=>{let n=Tc(e.getProvider("auth").getImmediate());return(r=>new lw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(i3,s3,ij(t)),tr(i3,s3,"esm2020")}var oj=300,aj=y_("authIdTokenMaxAge")||oj,o3=null,cj=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aj)return;let i=n?.token;o3!==i&&(o3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xw(t=wc()){let e=Gl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gw(t,{popupRedirectResolver:V3,persistence:[F3,k3,Cw]}),r=y_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=cj(s.toString());ww(n,o,()=>o(n.currentUser)),Ig(n,a=>o(a))}}let i=m_("auth");return i&&yw(n,`http://${i}`),n}function lj(){return document.getElementsByTagName("head")?.[0]??document}VL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=xc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sj("Browser");function B3(t){return new Ut(function(e){var n=Tg(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var U3="auth",Dc=class{constructor(e){return e}},Tf=class{constructor(){return Yl(U3)}};var Sw=new ot("angularfire2.auth-instances");function Gj(t,e){let n=gf(U3,t,e);return n&&new Dc(n)}function Kj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Dc(r)}}var Yj={provide:Tf,deps:[[new Si,Sw]]},Xj={provide:Dc,useFactory:Gj,deps:[[new Si,Sw],To]};function $3(t,...e){return tr("angularfire",ba.full,"auth"),os([Xj,Yj,{provide:Sw,useFactory:Kj(t),multi:!0,deps:[Un,rr,_a,Cc,[new Si,Xl],...e]}])}var H3=Hn(B3,!0);var z3=Hn(bw,!0,2);var q3=Hn(xw,!0);var W3=Hn(_w,!0,2);var G3=Hn(Ew,!0,2);var K3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y3={};var Ro,Iw;(function(){var t;function e(R,N){function j(){}j.prototype=N.prototype,R.F=N.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(P,E,S){for(var D=Array(arguments.length-2),m=2;m<arguments.length;m++)D[m-2]=arguments[m];return N.prototype[E].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,N,j){j||(j=0);let P=Array(16);if(typeof N=="string")for(var E=0;E<16;++E)P[E]=N.charCodeAt(j++)|N.charCodeAt(j++)<<8|N.charCodeAt(j++)<<16|N.charCodeAt(j++)<<24;else for(E=0;E<16;++E)P[E]=N[j++]|N[j++]<<8|N[j++]<<16|N[j++]<<24;N=R.g[0],j=R.g[1],E=R.g[2];let S=R.g[3],D;D=N+(S^j&(E^S))+P[0]+3614090360&4294967295,N=j+(D<<7&4294967295|D>>>25),D=S+(E^N&(j^E))+P[1]+3905402710&4294967295,S=N+(D<<12&4294967295|D>>>20),D=E+(j^S&(N^j))+P[2]+606105819&4294967295,E=S+(D<<17&4294967295|D>>>15),D=j+(N^E&(S^N))+P[3]+3250441966&4294967295,j=E+(D<<22&4294967295|D>>>10),D=N+(S^j&(E^S))+P[4]+4118548399&4294967295,N=j+(D<<7&4294967295|D>>>25),D=S+(E^N&(j^E))+P[5]+1200080426&4294967295,S=N+(D<<12&4294967295|D>>>20),D=E+(j^S&(N^j))+P[6]+2821735955&4294967295,E=S+(D<<17&4294967295|D>>>15),D=j+(N^E&(S^N))+P[7]+4249261313&4294967295,j=E+(D<<22&4294967295|D>>>10),D=N+(S^j&(E^S))+P[8]+1770035416&4294967295,N=j+(D<<7&4294967295|D>>>25),D=S+(E^N&(j^E))+P[9]+2336552879&4294967295,S=N+(D<<12&4294967295|D>>>20),D=E+(j^S&(N^j))+P[10]+4294925233&4294967295,E=S+(D<<17&4294967295|D>>>15),D=j+(N^E&(S^N))+P[11]+2304563134&4294967295,j=E+(D<<22&4294967295|D>>>10),D=N+(S^j&(E^S))+P[12]+1804603682&4294967295,N=j+(D<<7&4294967295|D>>>25),D=S+(E^N&(j^E))+P[13]+4254626195&4294967295,S=N+(D<<12&4294967295|D>>>20),D=E+(j^S&(N^j))+P[14]+2792965006&4294967295,E=S+(D<<17&4294967295|D>>>15),D=j+(N^E&(S^N))+P[15]+1236535329&4294967295,j=E+(D<<22&4294967295|D>>>10),D=N+(E^S&(j^E))+P[1]+4129170786&4294967295,N=j+(D<<5&4294967295|D>>>27),D=S+(j^E&(N^j))+P[6]+3225465664&4294967295,S=N+(D<<9&4294967295|D>>>23),D=E+(N^j&(S^N))+P[11]+643717713&4294967295,E=S+(D<<14&4294967295|D>>>18),D=j+(S^N&(E^S))+P[0]+3921069994&4294967295,j=E+(D<<20&4294967295|D>>>12),D=N+(E^S&(j^E))+P[5]+3593408605&4294967295,N=j+(D<<5&4294967295|D>>>27),D=S+(j^E&(N^j))+P[10]+38016083&4294967295,S=N+(D<<9&4294967295|D>>>23),D=E+(N^j&(S^N))+P[15]+3634488961&4294967295,E=S+(D<<14&4294967295|D>>>18),D=j+(S^N&(E^S))+P[4]+3889429448&4294967295,j=E+(D<<20&4294967295|D>>>12),D=N+(E^S&(j^E))+P[9]+568446438&4294967295,N=j+(D<<5&4294967295|D>>>27),D=S+(j^E&(N^j))+P[14]+3275163606&4294967295,S=N+(D<<9&4294967295|D>>>23),D=E+(N^j&(S^N))+P[3]+4107603335&4294967295,E=S+(D<<14&4294967295|D>>>18),D=j+(S^N&(E^S))+P[8]+1163531501&4294967295,j=E+(D<<20&4294967295|D>>>12),D=N+(E^S&(j^E))+P[13]+2850285829&4294967295,N=j+(D<<5&4294967295|D>>>27),D=S+(j^E&(N^j))+P[2]+4243563512&4294967295,S=N+(D<<9&4294967295|D>>>23),D=E+(N^j&(S^N))+P[7]+1735328473&4294967295,E=S+(D<<14&4294967295|D>>>18),D=j+(S^N&(E^S))+P[12]+2368359562&4294967295,j=E+(D<<20&4294967295|D>>>12),D=N+(j^E^S)+P[5]+4294588738&4294967295,N=j+(D<<4&4294967295|D>>>28),D=S+(N^j^E)+P[8]+2272392833&4294967295,S=N+(D<<11&4294967295|D>>>21),D=E+(S^N^j)+P[11]+1839030562&4294967295,E=S+(D<<16&4294967295|D>>>16),D=j+(E^S^N)+P[14]+4259657740&4294967295,j=E+(D<<23&4294967295|D>>>9),D=N+(j^E^S)+P[1]+2763975236&4294967295,N=j+(D<<4&4294967295|D>>>28),D=S+(N^j^E)+P[4]+1272893353&4294967295,S=N+(D<<11&4294967295|D>>>21),D=E+(S^N^j)+P[7]+4139469664&4294967295,E=S+(D<<16&4294967295|D>>>16),D=j+(E^S^N)+P[10]+3200236656&4294967295,j=E+(D<<23&4294967295|D>>>9),D=N+(j^E^S)+P[13]+681279174&4294967295,N=j+(D<<4&4294967295|D>>>28),D=S+(N^j^E)+P[0]+3936430074&4294967295,S=N+(D<<11&4294967295|D>>>21),D=E+(S^N^j)+P[3]+3572445317&4294967295,E=S+(D<<16&4294967295|D>>>16),D=j+(E^S^N)+P[6]+76029189&4294967295,j=E+(D<<23&4294967295|D>>>9),D=N+(j^E^S)+P[9]+3654602809&4294967295,N=j+(D<<4&4294967295|D>>>28),D=S+(N^j^E)+P[12]+3873151461&4294967295,S=N+(D<<11&4294967295|D>>>21),D=E+(S^N^j)+P[15]+530742520&4294967295,E=S+(D<<16&4294967295|D>>>16),D=j+(E^S^N)+P[2]+3299628645&4294967295,j=E+(D<<23&4294967295|D>>>9),D=N+(E^(j|~S))+P[0]+4096336452&4294967295,N=j+(D<<6&4294967295|D>>>26),D=S+(j^(N|~E))+P[7]+1126891415&4294967295,S=N+(D<<10&4294967295|D>>>22),D=E+(N^(S|~j))+P[14]+2878612391&4294967295,E=S+(D<<15&4294967295|D>>>17),D=j+(S^(E|~N))+P[5]+4237533241&4294967295,j=E+(D<<21&4294967295|D>>>11),D=N+(E^(j|~S))+P[12]+1700485571&4294967295,N=j+(D<<6&4294967295|D>>>26),D=S+(j^(N|~E))+P[3]+2399980690&4294967295,S=N+(D<<10&4294967295|D>>>22),D=E+(N^(S|~j))+P[10]+4293915773&4294967295,E=S+(D<<15&4294967295|D>>>17),D=j+(S^(E|~N))+P[1]+2240044497&4294967295,j=E+(D<<21&4294967295|D>>>11),D=N+(E^(j|~S))+P[8]+1873313359&4294967295,N=j+(D<<6&4294967295|D>>>26),D=S+(j^(N|~E))+P[15]+4264355552&4294967295,S=N+(D<<10&4294967295|D>>>22),D=E+(N^(S|~j))+P[6]+2734768916&4294967295,E=S+(D<<15&4294967295|D>>>17),D=j+(S^(E|~N))+P[13]+1309151649&4294967295,j=E+(D<<21&4294967295|D>>>11),D=N+(E^(j|~S))+P[4]+4149444226&4294967295,N=j+(D<<6&4294967295|D>>>26),D=S+(j^(N|~E))+P[11]+3174756917&4294967295,S=N+(D<<10&4294967295|D>>>22),D=E+(N^(S|~j))+P[2]+718787259&4294967295,E=S+(D<<15&4294967295|D>>>17),D=j+(S^(E|~N))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(E+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+E&4294967295,R.g[3]=R.g[3]+S&4294967295}r.prototype.v=function(R,N){N===void 0&&(N=R.length);let j=N-this.blockSize,P=this.C,E=this.h,S=0;for(;S<N;){if(E==0)for(;S<=j;)i(this,R,S),S+=this.blockSize;if(typeof R=="string"){for(;S<N;)if(P[E++]=R.charCodeAt(S++),E==this.blockSize){i(this,P),E=0;break}}else for(;S<N;)if(P[E++]=R[S++],E==this.blockSize){i(this,P),E=0;break}}this.h=E,this.o+=N},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;N=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=N&255,N/=256;for(this.v(R),R=Array(16),N=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)R[N++]=this.g[j]>>>P&255;return R};function s(R,N){var j=a;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=N(R)}function o(R,N){this.h=N;let j=[],P=!0;for(let E=R.length-1;E>=0;E--){let S=R[E]|0;P&&S==N||(j[E]=S,P=!1)}this.g=j}var a={};function c(R){return-128<=R&&R<128?s(R,function(N){return new o([N|0],N<0?-1:0)}):new o([R|0],R<0?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return d;if(R<0)return g(u(-R));let N=[],j=1;for(let P=0;R>=j;P++)N[P]=R/j|0,j*=4294967296;return new o(N,0)}function l(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return g(l(R.substring(1),N));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');let j=u(Math.pow(N,8)),P=d;for(let S=0;S<R.length;S+=8){var E=Math.min(8,R.length-S);let D=parseInt(R.substring(S,S+E),N);E<8?(E=u(Math.pow(N,E)),P=P.j(E).add(u(D))):(P=P.j(j),P=P.add(u(D)))}return P}var d=c(0),f=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-g(this).m();let R=0,N=1;for(let j=0;j<this.g.length;j++){let P=this.i(j);R+=(P>=0?P:4294967296+P)*N,N*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(h(this))return"0";if(y(this))return"-"+g(this).toString(R);let N=u(Math.pow(R,6));var j=this;let P="";for(;;){let E=L(j,N).g;j=_(j,E.j(N));let S=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=E,h(j))return S+P;for(;S.length<6;)S="0"+S;P=S+P}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function h(R){if(R.h!=0)return!1;for(let N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function y(R){return R.h==-1}t.l=function(R){return R=_(this,R),y(R)?-1:h(R)?0:1};function g(R){let N=R.g.length,j=[];for(let P=0;P<N;P++)j[P]=~R.g[P];return new o(j,~R.h).add(f)}t.abs=function(){return y(this)?g(this):this},t.add=function(R){let N=Math.max(this.g.length,R.g.length),j=[],P=0;for(let E=0;E<=N;E++){let S=P+(this.i(E)&65535)+(R.i(E)&65535),D=(S>>>16)+(this.i(E)>>>16)+(R.i(E)>>>16);P=D>>>16,S&=65535,D&=65535,j[E]=D<<16|S}return new o(j,j[j.length-1]&-2147483648?-1:0)};function _(R,N){return R.add(g(N))}t.j=function(R){if(h(this)||h(R))return d;if(y(this))return y(R)?g(this).j(g(R)):g(g(this).j(R));if(y(R))return g(this.j(g(R)));if(this.l(p)<0&&R.l(p)<0)return u(this.m()*R.m());let N=this.g.length+R.g.length,j=[];for(var P=0;P<2*N;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let E=0;E<R.g.length;E++){let S=this.i(P)>>>16,D=this.i(P)&65535,m=R.i(E)>>>16,v=R.i(E)&65535;j[2*P+2*E]+=D*v,x(j,2*P+2*E),j[2*P+2*E+1]+=S*v,x(j,2*P+2*E+1),j[2*P+2*E+1]+=D*m,x(j,2*P+2*E+1),j[2*P+2*E+2]+=S*m,x(j,2*P+2*E+2)}for(R=0;R<N;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=N;R<2*N;R++)j[R]=0;return new o(j,0)};function x(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function k(R,N){this.g=R,this.h=N}function L(R,N){if(h(N))throw Error("division by zero");if(h(R))return new k(d,d);if(y(R))return N=L(g(R),N),new k(g(N.g),g(N.h));if(y(N))return N=L(R,g(N)),new k(g(N.g),N.h);if(R.g.length>30){if(y(R)||y(N))throw Error("slowDivide_ only works with positive integers.");for(var j=f,P=N;P.l(R)<=0;)j=B(j),P=B(P);var E=V(j,1),S=V(P,1);for(P=V(P,2),j=V(j,2);!h(P);){var D=S.add(P);D.l(R)<=0&&(E=E.add(j),S=D),P=V(P,1),j=V(j,1)}return N=_(R,E.j(N)),new k(E,N)}for(E=d;R.l(N)>=0;){for(j=Math.max(1,Math.floor(R.m()/N.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),S=u(j),D=S.j(N);y(D)||D.l(R)>0;)j-=P,S=u(j),D=S.j(N);h(S)&&(S=f),E=E.add(S),R=_(R,D)}return new k(E,R)}t.B=function(R){return L(this,R).h},t.and=function(R){let N=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<N;P++)j[P]=this.i(P)&R.i(P);return new o(j,this.h&R.h)},t.or=function(R){let N=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<N;P++)j[P]=this.i(P)|R.i(P);return new o(j,this.h|R.h)},t.xor=function(R){let N=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<N;P++)j[P]=this.i(P)^R.i(P);return new o(j,this.h^R.h)};function B(R){let N=R.g.length+1,j=[];for(let P=0;P<N;P++)j[P]=R.i(P)<<1|R.i(P-1)>>>31;return new o(j,R.h)}function V(R,N){let j=N>>5;N%=32;let P=R.g.length-j,E=[];for(let S=0;S<P;S++)E[S]=N>0?R.i(S+j)>>>N|R.i(S+j+1)<<32-N:R.i(S+j);return new o(E,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Iw=Y3.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=l,Ro=Y3.Integer=o}).apply(typeof K3<"u"?K3:typeof self<"u"?self:typeof window<"u"?window:{});var Ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},No={};var Tw,Zj,Jl,Dw,Df,Mg,Aw,Mw,kw;(function(){var t,e=Object.defineProperty;function n(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ag=="object"&&Ag];for(var H=0;H<T.length;++H){var K=T[H];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}var r=n(this);function i(T,H){if(H)e:{var K=r;T=T.split(".");for(var ne=0;ne<T.length-1;ne++){var ye=T[ne];if(!(ye in K))break e;K=K[ye]}T=T[T.length-1],ne=K[T],H=H(ne),H!=ne&&H!=null&&e(K,T,{configurable:!0,writable:!0,value:H})}}i("Symbol.dispose",function(T){return T||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(T){return T||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(T){return T||function(H){var K=[],ne;for(ne in H)Object.prototype.hasOwnProperty.call(H,ne)&&K.push([ne,H[ne]]);return K}});var s=s||{},o=this||self;function a(T){var H=typeof T;return H=="object"&&T!=null||H=="function"}function c(T,H,K){return T.call.apply(T.bind,arguments)}function u(T,H,K){return u=c,u.apply(null,arguments)}function l(T,H){var K=Array.prototype.slice.call(arguments,1);return function(){var ne=K.slice();return ne.push.apply(ne,arguments),T.apply(this,ne)}}function d(T,H){function K(){}K.prototype=H.prototype,T.Z=H.prototype,T.prototype=new K,T.prototype.constructor=T,T.Ob=function(ne,ye,we){for(var $e=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)$e[Kt-2]=arguments[Kt];return H.prototype[ye].apply(ne,$e)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?T=>T&&AsyncContext.Snapshot.wrap(T):T=>T;function p(T){let H=T.length;if(H>0){let K=Array(H);for(let ne=0;ne<H;ne++)K[ne]=T[ne];return K}return[]}function h(T,H){for(let ne=1;ne<arguments.length;ne++){let ye=arguments[ne];var K=typeof ye;if(K=K!="object"?K:ye?Array.isArray(ye)?"array":K:"null",K=="array"||K=="object"&&typeof ye.length=="number"){K=T.length||0;let we=ye.length||0;T.length=K+we;for(let $e=0;$e<we;$e++)T[K+$e]=ye[$e]}else T.push(ye)}}class y{constructor(H,K){this.i=H,this.j=K,this.h=0,this.g=null}get(){let H;return this.h>0?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function g(T){o.setTimeout(()=>{throw T},0)}function _(){var T=R;let H=null;return T.g&&(H=T.g,T.g=T.g.next,T.g||(T.h=null),H.next=null),H}class x{constructor(){this.h=this.g=null}add(H,K){let ne=k.get();ne.set(H,K),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var k=new y(()=>new L,T=>T.reset());class L{constructor(){this.next=this.g=this.h=null}set(H,K){this.h=H,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let B,V=!1,R=new x,N=()=>{let T=Promise.resolve(void 0);B=()=>{T.then(j)}};function j(){for(var T;T=_();){try{T.h.call(T.g)}catch(K){g(K)}var H=k;H.j(T),H.h<100&&(H.h++,T.next=H.g,H.g=T)}V=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(T,H){this.type=T,this.g=this.target=H,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var T=!1,H=Object.defineProperty({},"passive",{get:function(){T=!0}});try{let K=()=>{};o.addEventListener("test",K,H),o.removeEventListener("test",K,H)}catch{}return T})();function D(T){return/^[\s\xa0]*$/.test(T)}function m(T,H){E.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T&&this.init(T,H)}d(m,E),m.prototype.init=function(T,H){let K=this.type=T.type,ne=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;this.target=T.target||T.srcElement,this.g=H,H=T.relatedTarget,H||(K=="mouseover"?H=T.fromElement:K=="mouseout"&&(H=T.toElement)),this.relatedTarget=H,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=T.pointerType,this.state=T.state,this.i=T,T.defaultPrevented&&m.Z.h.call(this)},m.prototype.h=function(){m.Z.h.call(this);let T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var v="closure_listenable_"+(Math.random()*1e6|0),w=0;function b(T,H,K,ne,ye){this.listener=T,this.proxy=null,this.src=H,this.type=K,this.capture=!!ne,this.ha=ye,this.key=++w,this.da=this.fa=!1}function C(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function I(T,H,K){for(let ne in T)H.call(K,T[ne],ne,T)}function F(T,H){for(let K in T)H.call(void 0,T[K],K,T)}function $(T){let H={};for(let K in T)H[K]=T[K];return H}let z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(T,H){let K,ne;for(let ye=1;ye<arguments.length;ye++){ne=arguments[ye];for(K in ne)T[K]=ne[K];for(let we=0;we<z.length;we++)K=z[we],Object.prototype.hasOwnProperty.call(ne,K)&&(T[K]=ne[K])}}function O(T){this.src=T,this.g={},this.h=0}O.prototype.add=function(T,H,K,ne,ye){let we=T.toString();T=this.g[we],T||(T=this.g[we]=[],this.h++);let $e=M(T,H,ne,ye);return $e>-1?(H=T[$e],K||(H.fa=!1)):(H=new b(H,this.src,we,!!ne,ye),H.fa=K,T.push(H)),H};function W(T,H){let K=H.type;if(K in T.g){var ne=T.g[K],ye=Array.prototype.indexOf.call(ne,H,void 0),we;(we=ye>=0)&&Array.prototype.splice.call(ne,ye,1),we&&(C(H),T.g[K].length==0&&(delete T.g[K],T.h--))}}function M(T,H,K,ne){for(let ye=0;ye<T.length;++ye){let we=T[ye];if(!we.da&&we.listener==H&&we.capture==!!K&&we.ha==ne)return ye}return-1}var A="closure_lm_"+(Math.random()*1e6|0),U={};function X(T,H,K,ne,ye){if(ne&&ne.once)return te(T,H,K,ne,ye);if(Array.isArray(H)){for(let we=0;we<H.length;we++)X(T,H[we],K,ne,ye);return null}return K=pe(K),T&&T[v]?T.J(H,K,a(ne)?!!ne.capture:!!ne,ye):re(T,H,K,!1,ne,ye)}function re(T,H,K,ne,ye,we){if(!H)throw Error("Invalid event type");let $e=a(ye)?!!ye.capture:!!ye,Kt=se(T);if(Kt||(T[A]=Kt=new O(T)),K=Kt.add(H,K,ne,$e,we),K.proxy)return K;if(ne=Z(),K.proxy=ne,ne.src=T,ne.listener=K,T.addEventListener)S||(ye=$e),ye===void 0&&(ye=!1),T.addEventListener(H.toString(),ne,ye);else if(T.attachEvent)T.attachEvent(Q(H.toString()),ne);else if(T.addListener&&T.removeListener)T.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return K}function Z(){function T(K){return H.call(T.src,T.listener,K)}let H=ce;return T}function te(T,H,K,ne,ye){if(Array.isArray(H)){for(let we=0;we<H.length;we++)te(T,H[we],K,ne,ye);return null}return K=pe(K),T&&T[v]?T.K(H,K,a(ne)?!!ne.capture:!!ne,ye):re(T,H,K,!0,ne,ye)}function de(T,H,K,ne,ye){if(Array.isArray(H))for(var we=0;we<H.length;we++)de(T,H[we],K,ne,ye);else ne=a(ne)?!!ne.capture:!!ne,K=pe(K),T&&T[v]?(T=T.i,we=String(H).toString(),we in T.g&&(H=T.g[we],K=M(H,K,ne,ye),K>-1&&(C(H[K]),Array.prototype.splice.call(H,K,1),H.length==0&&(delete T.g[we],T.h--)))):T&&(T=se(T))&&(H=T.g[H.toString()],T=-1,H&&(T=M(H,K,ne,ye)),(K=T>-1?H[T]:null)&&le(K))}function le(T){if(typeof T!="number"&&T&&!T.da){var H=T.src;if(H&&H[v])W(H.i,T);else{var K=T.type,ne=T.proxy;H.removeEventListener?H.removeEventListener(K,ne,T.capture):H.detachEvent?H.detachEvent(Q(K),ne):H.addListener&&H.removeListener&&H.removeListener(ne),(K=se(H))?(W(K,T),K.h==0&&(K.src=null,H[A]=null)):C(T)}}}function Q(T){return T in U?U[T]:U[T]="on"+T}function ce(T,H){if(T.da)T=!0;else{H=new m(H,this);let K=T.listener,ne=T.ha||T.src;T.fa&&le(T),T=K.call(ne,H)}return T}function se(T){return T=T[A],T instanceof O?T:null}var ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function pe(T){return typeof T=="function"?T:(T[ue]||(T[ue]=function(H){return T.handleEvent(H)}),T[ue])}function fe(){P.call(this),this.i=new O(this),this.M=this,this.G=null}d(fe,P),fe.prototype[v]=!0,fe.prototype.removeEventListener=function(T,H,K,ne){de(this,T,H,K,ne)};function he(T,H){var K,ne=T.G;if(ne)for(K=[];ne;ne=ne.G)K.push(ne);if(T=T.M,ne=H.type||H,typeof H=="string")H=new E(H,T);else if(H instanceof E)H.target=H.target||T;else{var ye=H;H=new E(ne,T),Y(H,ye)}ye=!0;let we,$e;if(K)for($e=K.length-1;$e>=0;$e--)we=H.g=K[$e],ye=Te(we,ne,!0,H)&&ye;if(we=H.g=T,ye=Te(we,ne,!0,H)&&ye,ye=Te(we,ne,!1,H)&&ye,K)for($e=0;$e<K.length;$e++)we=H.g=K[$e],ye=Te(we,ne,!1,H)&&ye}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var T=this.i;for(let H in T.g){let K=T.g[H];for(let ne=0;ne<K.length;ne++)C(K[ne]);delete T.g[H],T.h--}}this.G=null},fe.prototype.J=function(T,H,K,ne){return this.i.add(String(T),H,!1,K,ne)},fe.prototype.K=function(T,H,K,ne){return this.i.add(String(T),H,!0,K,ne)};function Te(T,H,K,ne){if(H=T.i.g[String(H)],!H)return!0;H=H.concat();let ye=!0;for(let we=0;we<H.length;++we){let $e=H[we];if($e&&!$e.da&&$e.capture==K){let Kt=$e.listener,vr=$e.ha||$e.src;$e.fa&&W(T.i,$e),ye=Kt.call(vr,ne)!==!1&&ye}}return ye&&!ne.defaultPrevented}function Me(T,H){if(typeof T!="function")if(T&&typeof T.handleEvent=="function")T=u(T.handleEvent,T);else throw Error("Invalid listener argument");return Number(H)>2147483647?-1:o.setTimeout(T,H||0)}function ke(T){T.g=Me(()=>{T.g=null,T.i&&(T.i=!1,ke(T))},T.l);let H=T.h;T.h=null,T.m.apply(null,H)}class it extends P{constructor(H,K){super(),this.m=H,this.l=K,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(T){P.call(this),this.h=T,this.g={}}d(Fe,P);var He=[];function Ft(T){I(T.g,function(H,K){this.g.hasOwnProperty(K)&&le(H)},T),T.g={}}Fe.prototype.N=function(){Fe.Z.N.call(this),Ft(this)},Fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=o.JSON.stringify,ze=o.JSON.parse,lt=class{stringify(T){return o.JSON.stringify(T,void 0)}parse(T){return o.JSON.parse(T,void 0)}};function Pe(){}function Ne(){}var At={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){E.call(this,"d")}d(Ye,E);function ut(){E.call(this,"c")}d(ut,E);var mr={},dt=null;function pt(){return dt=dt||new fe}mr.Ia="serverreachability";function Wn(T){E.call(this,mr.Ia,T)}d(Wn,E);function _t(T){let H=pt();he(H,new Wn(H))}mr.STAT_EVENT="statevent";function It(T,H){E.call(this,mr.STAT_EVENT,T),this.stat=H}d(It,E);function In(T){let H=pt();he(H,new It(H,T))}mr.Ja="timingevent";function yt(T,H){E.call(this,mr.Ja,T),this.size=H}d(yt,E);function ht(T,H){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){T()},H)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Tt(T,H,K,ne,ye,we){T.info(function(){if(T.g)if(we){var $e="",Kt=we.split("&");for(let Mn=0;Mn<Kt.length;Mn++){var vr=Kt[Mn].split("=");if(vr.length>1){let xr=vr[0];vr=vr[1];let Ss=xr.split("_");$e=Ss.length>=2&&Ss[1]=="type"?$e+(xr+"="+vr+"&"):$e+(xr+"=redacted&")}}}else $e=null;else $e=we;return"XMLHTTP REQ ("+ne+") [attempt "+ye+"]: "+H+`
`+K+`
`+$e})}function gt(T,H,K,ne,ye,we,$e){T.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+ye+"]: "+H+`
`+K+`
`+we+" "+$e})}function Er(T,H,K,ne){T.info(function(){return"XMLHTTP TEXT ("+H+"): "+oe(T,K)+(ne?" "+ne:"")})}function Mt(T,H){T.info(function(){return"TIMEOUT: "+H})}Gn.prototype.info=function(){};function oe(T,H){if(!T.g)return H;if(!H)return null;try{let we=JSON.parse(H);if(we){for(T=0;T<we.length;T++)if(Array.isArray(we[T])){var K=we[T];if(!(K.length<2)){var ne=K[1];if(Array.isArray(ne)&&!(ne.length<1)){var ye=ne[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(let $e=1;$e<ne.length;$e++)ne[$e]=""}}}}return st(we)}catch{return H}}var be={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ae;function Zt(){}d(Zt,Pe),Zt.prototype.g=function(){return new XMLHttpRequest},Ae=new Zt;function Ve(T){return encodeURIComponent(String(T))}function Ke(T){var H=1;T=T.split(":");let K=[];for(;H>0&&T.length;)K.push(T.shift()),H--;return T.length&&K.push(T.join(":")),K}function Jt(T,H,K,ne){this.j=T,this.i=H,this.l=K,this.S=ne||1,this.V=new Fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var We={},dn={};function Bt(T,H,K){T.M=1,T.A=Pi(Yt(H)),T.u=K,T.R=!0,Ht(T,null)}function Ht(T,H){T.F=Date.now(),gr(T),T.B=Yt(T.A);var K=T.B,ne=T.S;Array.isArray(ne)||(ne=[String(ne)]),Ji(K.i,"t",ne),T.C=0,K=T.j.L,T.h=new ft,T.g=RC(T.j,K?H:null,!T.u),T.P>0&&(T.O=new it(u(T.Y,T,T.g),T.P)),H=T.V,K=T.g,ne=T.ba;var ye="readystatechange";Array.isArray(ye)||(ye&&(He[0]=ye.toString()),ye=He);for(let we=0;we<ye.length;we++){let $e=X(K,ye[we],ne||H.handleEvent,!1,H.h||H);if(!$e)break;H.g[$e.key]=$e}H=T.J?$(T.J):{},T.u?(T.v||(T.v="POST"),H["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.B,T.v,T.u,H)):(T.v="GET",T.g.ea(T.B,T.v,null,H)),_t(),Tt(T.i,T.v,T.B,T.l,T.S,T.u)}Jt.prototype.ba=function(T){T=T.target;let H=this.O;H&&$o(T)==3?H.j():this.Y(T)},Jt.prototype.Y=function(T){try{if(T==this.g)e:{let Kt=$o(this.g),vr=this.g.ya(),Mn=this.g.ca();if(!(Kt<3)&&(Kt!=3||this.g&&(this.h.h||this.g.la()||wC(this.g)))){this.K||Kt!=4||vr==7||(vr==8||Mn<=0?_t(3):_t(2)),yr(this);var H=this.g.ca();this.X=H;var K=wn(this);if(this.o=H==200,gt(this.i,this.v,this.B,this.l,this.S,Kt,H),this.o){if(this.U&&!this.L){t:{if(this.g){var ne,ye=this.g;if((ne=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(ne)){var we=ne;break t}}we=null}if(T=we)Er(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ie(this,T);else{this.o=!1,this.m=3,In(12),ge(this),ie(this);break e}}if(this.R){T=!0;let xr;for(;!this.K&&this.C<K.length;)if(xr=or(this,K),xr==dn){Kt==4&&(this.m=4,In(14),T=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==We){this.m=4,In(15),Er(this.i,this.l,K,"[Invalid Chunk]"),T=!1;break}else Er(this.i,this.l,xr,null),Ie(this,xr);if(On(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||K.length!=0||this.h.h||(this.m=1,In(16),T=!1),this.o=this.o&&T,!T)Er(this.i,this.l,K,"[Invalid Chunked Response]"),ge(this),ie(this);else if(K.length>0&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.aa&&!$e.P&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),py($e),$e.P=!0,In(11))}}else Er(this.i,this.l,K,null),Ie(this,K);Kt==4&&ge(this),this.o&&!this.K&&(Kt==4?DC(this.j,this):(this.o=!1,gr(this)))}else Sk(this.g),H==400&&K.indexOf("Unknown SID")>0?(this.m=3,In(12)):(this.m=0,In(13)),ge(this),ie(this)}}}catch{}finally{}};function wn(T){if(!On(T))return T.g.la();let H=wC(T.g);if(H==="")return"";let K="",ne=H.length,ye=$o(T.g)==4;if(!T.h.i){if(typeof TextDecoder>"u")return ge(T),ie(T),"";T.h.i=new o.TextDecoder}for(let we=0;we<ne;we++)T.h.h=!0,K+=T.h.i.decode(H[we],{stream:!(ye&&we==ne-1)});return H.length=0,T.h.g+=K,T.C=0,T.h.g}function On(T){return T.g?T.v=="GET"&&T.M!=2&&T.j.Aa:!1}function or(T,H){var K=T.C,ne=H.indexOf(`
`,K);return ne==-1?dn:(K=Number(H.substring(K,ne)),isNaN(K)?We:(ne+=1,ne+K>H.length?dn:(H=H.slice(ne,ne+K),T.C=ne+K,H)))}Jt.prototype.cancel=function(){this.K=!0,ge(this)};function gr(T){T.T=Date.now()+T.H,Xn(T,T.H)}function Xn(T,H){if(T.D!=null)throw Error("WatchDog timer not null");T.D=ht(u(T.aa,T),H)}function yr(T){T.D&&(o.clearTimeout(T.D),T.D=null)}Jt.prototype.aa=function(){this.D=null;let T=Date.now();T-this.T>=0?(Mt(this.i,this.B),this.M!=2&&(_t(),In(17)),ge(this),this.m=2,ie(this)):Xn(this,this.T-T)};function ie(T){T.j.I==0||T.K||DC(T.j,T)}function ge(T){yr(T);var H=T.O;H&&typeof H.dispose=="function"&&H.dispose(),T.O=null,Ft(T.V),T.g&&(H=T.g,T.g=null,H.abort(),H.dispose())}function Ie(T,H){try{var K=T.j;if(K.I!=0&&(K.g==T||zt(K.h,T))){if(!T.L&&zt(K.h,T)&&K.I==3){try{var ne=K.Ba.g.parse(H)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var ye=ne;if(ye[0]==0){e:if(!K.v){if(K.g)if(K.g.F+3e3<T.F)uh(K),ch(K);else break e;hy(K),In(18)}}else K.xa=ye[1],0<K.xa-K.K&&ye[2]<37500&&K.F&&K.A==0&&!K.C&&(K.C=ht(u(K.Va,K),6e3));tt(K.h)<=1&&K.ta&&(K.ta=void 0)}else ja(K,11)}else if((T.L||K.g==T)&&uh(K),!D(H))for(ye=K.Ba.g.parse(H),H=0;H<ye.length;H++){let Mn=ye[H],xr=Mn[0];if(!(xr<=K.K))if(K.K=xr,Mn=Mn[1],K.I==2)if(Mn[0]=="c"){K.M=Mn[1],K.ba=Mn[2];let Ss=Mn[3];Ss!=null&&(K.ka=Ss,K.j.info("VER="+K.ka));let Ba=Mn[4];Ba!=null&&(K.za=Ba,K.j.info("SVER="+K.za));let Ho=Mn[5];Ho!=null&&typeof Ho=="number"&&Ho>0&&(ne=1.5*Ho,K.O=ne,K.j.info("backChannelRequestTimeoutMs_="+ne)),ne=K;let zo=T.g;if(zo){let fh=zo.g?zo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var we=ne.h;we.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(xt(we,we.h),we.h=null))}if(ne.G){let my=zo.g?zo.g.getResponseHeader("X-HTTP-Session-Id"):null;my&&(ne.wa=my,sn(ne.J,ne.G,my))}}K.I=3,K.l&&K.l.ra(),K.aa&&(K.T=Date.now()-T.F,K.j.info("Handshake RTT: "+K.T+"ms")),ne=K;var $e=T;if(ne.na=kC(ne,ne.L?ne.ba:null,ne.W),$e.L){wt(ne.h,$e);var Kt=$e,vr=ne.O;vr&&(Kt.H=vr),Kt.D&&(yr(Kt),gr(Kt)),ne.g=$e}else IC(ne);K.i.length>0&&lh(K)}else Mn[0]!="stop"&&Mn[0]!="close"||ja(K,7);else K.I==3&&(Mn[0]=="stop"||Mn[0]=="close"?Mn[0]=="stop"?ja(K,7):fy(K):Mn[0]!="noop"&&K.l&&K.l.qa(Mn),K.A=0)}}_t(4)}catch{}}var Se=class{constructor(T,H){this.g=T,this.map=H}};function Oe(T){this.l=T||10,o.PerformanceNavigationTiming?(T=o.performance.getEntriesByType("navigation"),T=T.length>0&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function et(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function tt(T){return T.h?1:T.g?T.g.size:0}function zt(T,H){return T.h?T.h==H:T.g?T.g.has(H):!1}function xt(T,H){T.g?T.g.add(H):T.h=H}function wt(T,H){T.h&&T.h==H?T.h=null:T.g&&T.g.has(H)&&T.g.delete(H)}Oe.prototype.cancel=function(){if(this.i=kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let T of this.g.values())T.cancel();this.g.clear()}};function kt(T){if(T.h!=null)return T.i.concat(T.h.G);if(T.g!=null&&T.g.size!==0){let H=T.i;for(let K of T.g.values())H=H.concat(K.G);return H}return p(T.i)}var Pn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kn(T,H){if(T){T=T.split("&");for(let K=0;K<T.length;K++){let ne=T[K].indexOf("="),ye,we=null;ne>=0?(ye=T[K].substring(0,ne),we=T[K].substring(ne+1)):ye=T[K],H(ye,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function Gt(T){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let H;T instanceof Gt?(this.l=T.l,Qn(this,T.j),this.o=T.o,this.g=T.g,Cr(this,T.u),this.h=T.h,Ur(this,Ou(T.i)),this.m=T.m):T&&(H=String(T).match(Pn))?(this.l=!1,Qn(this,H[1]||"",!0),this.o=xs(H[2]||""),this.g=xs(H[3]||"",!0),Cr(this,H[4]),this.h=xs(H[5]||"",!0),Ur(this,H[6]||"",!0),this.m=xs(H[7]||"")):(this.l=!1,this.i=new ni(null,this.l))}Gt.prototype.toString=function(){let T=[];var H=this.j;H&&T.push(Fi(H,gn,!0),":");var K=this.g;return(K||H=="file")&&(T.push("//"),(H=this.o)&&T.push(Fi(H,gn,!0),"@"),T.push(Ve(K).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),K=this.u,K!=null&&T.push(":",String(K))),(K=this.h)&&(this.g&&K.charAt(0)!="/"&&T.push("/"),T.push(Fi(K,K.charAt(0)=="/"?co:Nu,!0))),(K=this.i.toString())&&T.push("?",K),(K=this.m)&&T.push("#",Fi(K,ti)),T.join("")},Gt.prototype.resolve=function(T){let H=Yt(this),K=!!T.j;K?Qn(H,T.j):K=!!T.o,K?H.o=T.o:K=!!T.g,K?H.g=T.g:K=T.u!=null;var ne=T.h;if(K)Cr(H,T.u);else if(K=!!T.h){if(ne.charAt(0)!="/")if(this.g&&!this.h)ne="/"+ne;else{var ye=H.h.lastIndexOf("/");ye!=-1&&(ne=H.h.slice(0,ye+1)+ne)}if(ye=ne,ye==".."||ye==".")ne="";else if(ye.indexOf("./")!=-1||ye.indexOf("/.")!=-1){ne=ye.lastIndexOf("/",0)==0,ye=ye.split("/");let we=[];for(let $e=0;$e<ye.length;){let Kt=ye[$e++];Kt=="."?ne&&$e==ye.length&&we.push(""):Kt==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),ne&&$e==ye.length&&we.push("")):(we.push(Kt),ne=!0)}ne=we.join("/")}else ne=ye}return K?H.h=ne:K=T.i.toString()!=="",K?Ur(H,Ou(T.i)):K=!!T.m,K&&(H.m=T.m),H};function Yt(T){return new Gt(T)}function Qn(T,H,K){T.j=K?xs(H,!0):H,T.j&&(T.j=T.j.replace(/:$/,""))}function Cr(T,H){if(H){if(H=Number(H),isNaN(H)||H<0)throw Error("Bad port number "+H);T.u=H}else T.u=null}function Ur(T,H,K){H instanceof ni?(T.i=H,Pu(T.i,T.l)):(K||(H=Fi(H,Xc)),T.i=new ni(H,T.l))}function sn(T,H,K){T.i.set(H,K)}function Pi(T){return sn(T,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),T}function xs(T,H){return T?H?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function Fi(T,H,K){return typeof T=="string"?(T=encodeURI(T).replace(H,fn),K&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function fn(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var gn=/[#\/\?@]/g,Nu=/[#\?:]/g,co=/[#\?]/g,Xc=/[#\?@]/g,ti=/#/g;function ni(T,H){this.h=this.g=null,this.i=T||null,this.j=!!H}function $r(T){T.g||(T.g=new Map,T.h=0,T.i&&Kn(T.i,function(H,K){T.add(decodeURIComponent(H.replace(/\+/g," ")),K)}))}t=ni.prototype,t.add=function(T,H){$r(this),this.i=null,T=es(this,T);let K=this.g.get(T);return K||this.g.set(T,K=[]),K.push(H),this.h+=1,this};function Uo(T,H){$r(T),H=es(T,H),T.g.has(H)&&(T.i=null,T.h-=T.g.get(H).length,T.g.delete(H))}function Va(T,H){return $r(T),H=es(T,H),T.g.has(H)}t.forEach=function(T,H){$r(this),this.g.forEach(function(K,ne){K.forEach(function(ye){T.call(H,ye,ne,this)},this)},this)};function lo(T,H){$r(T);let K=[];if(typeof H=="string")Va(T,H)&&(K=K.concat(T.g.get(es(T,H))));else for(T=Array.from(T.g.values()),H=0;H<T.length;H++)K=K.concat(T[H]);return K}t.set=function(T,H){return $r(this),this.i=null,T=es(this,T),Va(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[H]),this.h+=1,this},t.get=function(T,H){return T?(T=lo(this,T),T.length>0?String(T[0]):H):H};function Ji(T,H,K){Uo(T,H),K.length>0&&(T.i=null,T.g.set(es(T,H),p(K)),T.h+=K.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let T=[],H=Array.from(this.g.keys());for(let ne=0;ne<H.length;ne++){var K=H[ne];let ye=Ve(K);K=lo(this,K);for(let we=0;we<K.length;we++){let $e=ye;K[we]!==""&&($e+="="+Ve(K[we])),T.push($e)}}return this.i=T.join("&")};function Ou(T){let H=new ni;return H.i=T.i,T.g&&(H.g=new Map(T.g),H.h=T.h),H}function es(T,H){return H=String(H),T.j&&(H=H.toLowerCase()),H}function Pu(T,H){H&&!T.j&&($r(T),T.i=null,T.g.forEach(function(K,ne){let ye=ne.toLowerCase();ne!=ye&&(Uo(this,ne),Ji(this,ye,K))},T)),T.j=H}function Qc(T,H){let K=new Gn;if(o.Image){let ne=new Image;ne.onload=l(ts,K,"TestLoadImage: loaded",!0,H,ne),ne.onerror=l(ts,K,"TestLoadImage: error",!1,H,ne),ne.onabort=l(ts,K,"TestLoadImage: abort",!1,H,ne),ne.ontimeout=l(ts,K,"TestLoadImage: timeout",!1,H,ne),o.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=T}else H(!1)}function Zc(T,H){let K=new Gn,ne=new AbortController,ye=setTimeout(()=>{ne.abort(),ts(K,"TestPingServer: timeout",!1,H)},1e4);fetch(T,{signal:ne.signal}).then(we=>{clearTimeout(ye),we.ok?ts(K,"TestPingServer: ok",!0,H):ts(K,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(ye),ts(K,"TestPingServer: error",!1,H)})}function ts(T,H,K,ne,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),ne(K)}catch{}}function Jc(){this.g=new lt}function uo(T){this.i=T.Sb||null,this.h=T.ab||!1}d(uo,Pe),uo.prototype.g=function(){return new oh(this.i,this.h)};function oh(T,H){fe.call(this),this.H=T,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(oh,fe),t=oh.prototype,t.open=function(T,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=T,this.D=H,this.readyState=1,Lu(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let H={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};T&&(H.body=T),(this.H||o).fetch(new Request(this.D,H)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fu(this)),this.readyState=0},t.Pa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gC(this)}else T.text().then(this.Oa.bind(this),this.ga.bind(this))};function gC(T){T.j.read().then(T.Ma.bind(T)).catch(T.ga.bind(T))}t.Ma=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var H=T.value?T.value:new Uint8Array(0);(H=this.B.decode(H,{stream:!T.done}))&&(this.response=this.responseText+=H)}T.done?Fu(this):Lu(this),this.readyState==3&&gC(this)}},t.Oa=function(T){this.g&&(this.response=this.responseText=T,Fu(this))},t.Na=function(T){this.g&&(this.response=T,Fu(this))},t.ga=function(){this.g&&Fu(this)};function Fu(T){T.readyState=4,T.l=null,T.j=null,T.B=null,Lu(T)}t.setRequestHeader=function(T,H){this.A.append(T,H)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let T=[],H=this.h.entries();for(var K=H.next();!K.done;)K=K.value,T.push(K[0]+": "+K[1]),K=H.next();return T.join(`\r
`)};function Lu(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function yC(T){let H="";return I(T,function(K,ne){H+=ne,H+=":",H+=K,H+=`\r
`}),H}function dy(T,H,K){e:{for(ne in K){var ne=!1;break e}ne=!0}ne||(K=yC(K),typeof T=="string"?K!=null&&Ve(K):sn(T,H,K))}function Zn(T){fe.call(this),this.headers=new Map,this.L=T||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Zn,fe);var Ck=/^https?$/i,xk=["POST","PUT"];t=Zn.prototype,t.Fa=function(T){this.H=T},t.ea=function(T,H,K,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);H=H?H.toUpperCase():"GET",this.D=T,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ae.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(H,String(T),!0),this.B=!1}catch(we){vC(this,we);return}if(T=K||"",K=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var ye in ne)K.set(ye,ne[ye]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(let we of ne.keys())K.set(we,ne.get(we));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(K.keys()).find(we=>we.toLowerCase()=="content-type"),ye=o.FormData&&T instanceof o.FormData,!(Array.prototype.indexOf.call(xk,H,void 0)>=0)||ne||ye||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[we,$e]of K)this.g.setRequestHeader(we,$e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(T),this.v=!1}catch(we){vC(this,we)}};function vC(T,H){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=H,T.o=5,bC(T),ah(T)}function bC(T){T.A||(T.A=!0,he(T,"complete"),he(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=T||7,he(this,"complete"),he(this,"abort"),ah(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ah(this,!0)),Zn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_C(this):this.Xa())},t.Xa=function(){_C(this)};function _C(T){if(T.h&&typeof s<"u"){if(T.v&&$o(T)==4)setTimeout(T.Ca.bind(T),0);else if(he(T,"readystatechange"),$o(T)==4){T.h=!1;try{let we=T.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var K;if(!(K=H)){var ne;if(ne=we===0){let $e=String(T.D).match(Pn)[1]||null;!$e&&o.self&&o.self.location&&($e=o.self.location.protocol.slice(0,-1)),ne=!Ck.test($e?$e.toLowerCase():"")}K=ne}if(K)he(T,"complete"),he(T,"success");else{T.o=6;try{var ye=$o(T)>2?T.g.statusText:""}catch{ye=""}T.l=ye+" ["+T.ca()+"]",bC(T)}}finally{ah(T)}}}}function ah(T,H){if(T.g){T.m&&(clearTimeout(T.m),T.m=null);let K=T.g;T.g=null,H||he(T,"ready");try{K.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $o(T){return T.g?T.g.readyState:0}t.ca=function(){try{return $o(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(T){if(this.g){var H=this.g.responseText;return T&&H.indexOf(T)==0&&(H=H.substring(T.length)),ze(H)}};function wC(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.F){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function Sk(T){let H={};T=(T.g&&$o(T)>=2&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<T.length;ne++){if(D(T[ne]))continue;var K=Ke(T[ne]);let ye=K[0];if(K=K[1],typeof K!="string")continue;K=K.trim();let we=H[ye]||[];H[ye]=we,we.push(K)}F(H,function(ne){return ne.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vu(T,H,K){return K&&K.internalChannelParams&&K.internalChannelParams[T]||H}function EC(T){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vu("failFast",!1,T),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vu("baseRetryDelayMs",5e3,T),this.Za=Vu("retryDelaySeedMs",1e4,T),this.Ta=Vu("forwardChannelMaxRetries",2,T),this.va=Vu("forwardChannelRequestTimeoutMs",2e4,T),this.ma=T&&T.xmlHttpFactory||void 0,this.Ua=T&&T.Rb||void 0,this.Aa=T&&T.useFetchStreams||!1,this.O=void 0,this.L=T&&T.supportsCrossDomainXhr||!1,this.M="",this.h=new Oe(T&&T.concurrentRequestLimit),this.Ba=new Jc,this.S=T&&T.fastHandshake||!1,this.R=T&&T.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=T&&T.Pb||!1,T&&T.ua&&this.j.ua(),T&&T.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&T&&T.detectBufferingProxy||!1,this.ia=void 0,T&&T.longPollingTimeout&&T.longPollingTimeout>0&&(this.ia=T.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=EC.prototype,t.ka=8,t.I=1,t.connect=function(T,H,K,ne){In(0),this.W=T,this.H=H||{},K&&ne!==void 0&&(this.H.OSID=K,this.H.OAID=ne),this.F=this.X,this.J=kC(this,null,this.W),lh(this)};function fy(T){if(CC(T),T.I==3){var H=T.V++,K=Yt(T.J);if(sn(K,"SID",T.M),sn(K,"RID",H),sn(K,"TYPE","terminate"),ju(T,K),H=new Jt(T,T.j,H),H.M=2,H.A=Pi(Yt(K)),K=!1,o.navigator&&o.navigator.sendBeacon)try{K=o.navigator.sendBeacon(H.A.toString(),"")}catch{}!K&&o.Image&&(new Image().src=H.A,K=!0),K||(H.g=RC(H.j,null),H.g.ea(H.A)),H.F=Date.now(),gr(H)}MC(T)}function ch(T){T.g&&(py(T),T.g.cancel(),T.g=null)}function CC(T){ch(T),T.v&&(o.clearTimeout(T.v),T.v=null),uh(T),T.h.cancel(),T.m&&(typeof T.m=="number"&&o.clearTimeout(T.m),T.m=null)}function lh(T){if(!et(T.h)&&!T.m){T.m=!0;var H=T.Ea;B||N(),V||(B(),V=!0),R.add(H,T),T.D=0}}function Ik(T,H){return tt(T.h)>=T.h.j-(T.m?1:0)?!1:T.m?(T.i=H.G.concat(T.i),!0):T.I==1||T.I==2||T.D>=(T.Sa?0:T.Ta)?!1:(T.m=ht(u(T.Ea,T,H),AC(T,T.D)),T.D++,!0)}t.Ea=function(T){if(this.m)if(this.m=null,this.I==1){if(!T){this.V=Math.floor(Math.random()*1e5),T=this.V++;let ye=new Jt(this,this.j,T),we=this.o;if(this.U&&(we?(we=$(we),Y(we,this.U)):we=this.U),this.u!==null||this.R||(ye.J=we,we=null),this.S)e:{for(var H=0,K=0;K<this.i.length;K++){t:{var ne=this.i[K];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(H+=ne,H>4096){H=K;break e}if(H===4096||K===this.i.length-1){H=K+1;break e}}H=1e3}else H=1e3;H=SC(this,ye,H),K=Yt(this.J),sn(K,"RID",T),sn(K,"CVER",22),this.G&&sn(K,"X-HTTP-Session-Id",this.G),ju(this,K),we&&(this.R?H="headers="+Ve(yC(we))+"&"+H:this.u&&dy(K,this.u,we)),xt(this.h,ye),this.Ra&&sn(K,"TYPE","init"),this.S?(sn(K,"$req",H),sn(K,"SID","null"),ye.U=!0,Bt(ye,K,null)):Bt(ye,K,H),this.I=2}}else this.I==3&&(T?xC(this,T):this.i.length==0||et(this.h)||xC(this))};function xC(T,H){var K;H?K=H.l:K=T.V++;let ne=Yt(T.J);sn(ne,"SID",T.M),sn(ne,"RID",K),sn(ne,"AID",T.K),ju(T,ne),T.u&&T.o&&dy(ne,T.u,T.o),K=new Jt(T,T.j,K,T.D+1),T.u===null&&(K.J=T.o),H&&(T.i=H.G.concat(T.i)),H=SC(T,K,1e3),K.H=Math.round(T.va*.5)+Math.round(T.va*.5*Math.random()),xt(T.h,K),Bt(K,ne,H)}function ju(T,H){T.H&&I(T.H,function(K,ne){sn(H,ne,K)}),T.l&&I({},function(K,ne){sn(H,ne,K)})}function SC(T,H,K){K=Math.min(T.i.length,K);let ne=T.l?u(T.l.Ka,T.l,T):null;e:{var ye=T.i;let Kt=-1;for(;;){let vr=["count="+K];Kt==-1?K>0?(Kt=ye[0].g,vr.push("ofs="+Kt)):Kt=0:vr.push("ofs="+Kt);let Mn=!0;for(let xr=0;xr<K;xr++){var we=ye[xr].g;let Ss=ye[xr].map;if(we-=Kt,we<0)Kt=Math.max(0,ye[xr].g-100),Mn=!1;else try{we="req"+we+"_"||"";try{var $e=Ss instanceof Map?Ss:Object.entries(Ss);for(let[Ba,Ho]of $e){let zo=Ho;a(Ho)&&(zo=st(Ho)),vr.push(we+Ba+"="+encodeURIComponent(zo))}}catch(Ba){throw vr.push(we+"type="+encodeURIComponent("_badmap")),Ba}}catch{ne&&ne(Ss)}}if(Mn){$e=vr.join("&");break e}}$e=void 0}return T=T.i.splice(0,K),H.G=T,$e}function IC(T){if(!T.g&&!T.v){T.Y=1;var H=T.Da;B||N(),V||(B(),V=!0),R.add(H,T),T.A=0}}function hy(T){return T.g||T.v||T.A>=3?!1:(T.Y++,T.v=ht(u(T.Da,T),AC(T,T.A)),T.A++,!0)}t.Da=function(){if(this.v=null,TC(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var T=4*this.T;this.j.info("BP detection timer enabled: "+T),this.B=ht(u(this.Wa,this),T)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,In(10),ch(this),TC(this))};function py(T){T.B!=null&&(o.clearTimeout(T.B),T.B=null)}function TC(T){T.g=new Jt(T,T.j,"rpc",T.Y),T.u===null&&(T.g.J=T.o),T.g.P=0;var H=Yt(T.na);sn(H,"RID","rpc"),sn(H,"SID",T.M),sn(H,"AID",T.K),sn(H,"CI",T.F?"0":"1"),!T.F&&T.ia&&sn(H,"TO",T.ia),sn(H,"TYPE","xmlhttp"),ju(T,H),T.u&&T.o&&dy(H,T.u,T.o),T.O&&(T.g.H=T.O);var K=T.g;T=T.ba,K.M=1,K.A=Pi(Yt(H)),K.u=null,K.R=!0,Ht(K,T)}t.Va=function(){this.C!=null&&(this.C=null,ch(this),hy(this),In(19))};function uh(T){T.C!=null&&(o.clearTimeout(T.C),T.C=null)}function DC(T,H){var K=null;if(T.g==H){uh(T),py(T),T.g=null;var ne=2}else if(zt(T.h,H))K=H.G,wt(T.h,H),ne=1;else return;if(T.I!=0){if(H.o)if(ne==1){K=H.u?H.u.length:0,H=Date.now()-H.F;var ye=T.D;ne=pt(),he(ne,new yt(ne,K)),lh(T)}else IC(T);else if(ye=H.m,ye==3||ye==0&&H.X>0||!(ne==1&&Ik(T,H)||ne==2&&hy(T)))switch(K&&K.length>0&&(H=T.h,H.i=H.i.concat(K)),ye){case 1:ja(T,5);break;case 4:ja(T,10);break;case 3:ja(T,6);break;default:ja(T,2)}}}function AC(T,H){let K=T.Qa+Math.floor(Math.random()*T.Za);return T.isActive()||(K*=2),K*H}function ja(T,H){if(T.j.info("Error code "+H),H==2){var K=u(T.bb,T),ne=T.Ua;let ye=!ne;ne=new Gt(ne||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qn(ne,"https"),Pi(ne),ye?Qc(ne.toString(),K):Zc(ne.toString(),K)}else In(2);T.I=0,T.l&&T.l.pa(H),MC(T),CC(T)}t.bb=function(T){T?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function MC(T){if(T.I=0,T.ja=[],T.l){let H=kt(T.h);(H.length!=0||T.i.length!=0)&&(h(T.ja,H),h(T.ja,T.i),T.h.i.length=0,p(T.i),T.i.length=0),T.l.oa()}}function kC(T,H,K){var ne=K instanceof Gt?Yt(K):new Gt(K);if(ne.g!="")H&&(ne.g=H+"."+ne.g),Cr(ne,ne.u);else{var ye=o.location;ne=ye.protocol,H=H?H+"."+ye.hostname:ye.hostname,ye=+ye.port;let we=new Gt(null);ne&&Qn(we,ne),H&&(we.g=H),ye&&Cr(we,ye),K&&(we.h=K),ne=we}return K=T.G,H=T.wa,K&&H&&sn(ne,K,H),sn(ne,"VER",T.ka),ju(T,ne),ne}function RC(T,H,K){if(H&&!T.L)throw Error("Can't create secondary domain capable XhrIo object.");return H=T.Aa&&!T.ma?new Zn(new uo({ab:K})):new Zn(T.ma),H.Fa(T.L),H}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function NC(){}t=NC.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dh(){}dh.prototype.g=function(T,H){return new _i(T,H)};function _i(T,H){fe.call(this),this.g=new EC(H),this.l=T,this.h=H&&H.messageUrlParams||null,T=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(T?T["X-WebChannel-Content-Type"]=H.messageContentType:T={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.sa&&(T?T["X-WebChannel-Client-Profile"]=H.sa:T={"X-WebChannel-Client-Profile":H.sa}),this.g.U=T,(T=H&&H.Qb)&&!D(T)&&(this.g.u=T),this.A=H&&H.supportsCrossDomainXhr||!1,this.v=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!D(H)&&(this.g.G=H,T=this.h,T!==null&&H in T&&(T=this.h,H in T&&delete T[H])),this.j=new el(this)}d(_i,fe),_i.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_i.prototype.close=function(){fy(this.g)},_i.prototype.o=function(T){var H=this.g;if(typeof T=="string"){var K={};K.__data__=T,T=K}else this.v&&(K={},K.__data__=st(T),T=K);H.i.push(new Se(H.Ya++,T)),H.I==3&&lh(H)},_i.prototype.N=function(){this.g.l=null,delete this.j,fy(this.g),delete this.g,_i.Z.N.call(this)};function OC(T){Ye.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var H=T.__sm__;if(H){e:{for(let K in H){T=K;break e}T=void 0}(this.i=T)&&(T=this.i,H=H!==null&&T in H?H[T]:void 0),this.data=H}else this.data=T}d(OC,Ye);function PC(){ut.call(this),this.status=1}d(PC,ut);function el(T){this.g=T}d(el,NC),el.prototype.ra=function(){he(this.g,"a")},el.prototype.qa=function(T){he(this.g,new OC(T))},el.prototype.pa=function(T){he(this.g,new PC)},el.prototype.oa=function(){he(this.g,"b")},dh.prototype.createWebChannel=dh.prototype.g,_i.prototype.send=_i.prototype.o,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,kw=No.createWebChannelTransport=function(){return new dh},Mw=No.getStatEventTarget=function(){return pt()},Aw=No.Event=mr,Mg=No.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Df=No.ErrorCode=be,Ce.COMPLETE="complete",Dw=No.EventType=Ce,Ne.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",fe.prototype.listen=fe.prototype.J,Jl=No.WebChannel=Ne,Zj=No.FetchXmlHttpFactory=uo,Zn.prototype.listenOnce=Zn.prototype.K,Zn.prototype.getLastError=Zn.prototype.Ha,Zn.prototype.getLastErrorCode=Zn.prototype.ya,Zn.prototype.getStatus=Zn.prototype.ca,Zn.prototype.getResponseJson=Zn.prototype.La,Zn.prototype.getResponseText=Zn.prototype.la,Zn.prototype.send=Zn.prototype.ea,Zn.prototype.setWithCredentials=Zn.prototype.Fa,Tw=No.XhrIo=Zn}).apply(typeof Ag<"u"?Ag:typeof self<"u"?self:typeof window<"u"?window:{});var X3="@firebase/firestore",Q3="4.9.3";var Mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");var _u="12.7.0";var Oc=new Ws("@firebase/firestore");function eu(){return Oc.logLevel}function Je(t,...e){if(Oc.logLevel<=rn.DEBUG){let n=e.map(CE);Oc.debug(`Firestore (${_u}): ${t}`,...n)}}function Oo(t,...e){if(Oc.logLevel<=rn.ERROR){let n=e.map(CE);Oc.error(`Firestore (${_u}): ${t}`,...n)}}function au(t,...e){if(Oc.logLevel<=rn.WARN){let n=e.map(CE);Oc.warn(`Firestore (${_u}): ${t}`,...n)}}function CE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function St(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,U4(t,r,n)}function U4(t,e,n){let r=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Oo(r),new Error(r)}function Sn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||U4(e,i,r)}function Pt(t,e){return t}var De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qe=class extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qs=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Lg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Lw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mr.UNAUTHENTICATED))}shutdown(){}},Vw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},jw=class{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Sn(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qs,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qs)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sn(typeof r.accessToken=="string",31837,{l:r}),new Lg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Sn(e===null||typeof e=="string",2055,{h:e}),new Mr(e)}},Bw=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Uw=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Bw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$w=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Sn(this.o===void 0,3512);let r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Sn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Jj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Of=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Jj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}};function on(t,e){return t<e?-1:t>e?1:0}function Hw(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),s=e.charAt(r);if(i!==s)return Rw(i)===Rw(s)?on(i,s):Rw(i)?1:-1}return on(t.length,e.length)}var eB=55296,tB=57343;function Rw(t){let e=t.charCodeAt(0);return e>=eB&&e<=tB}function cu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Z3="__name__",jg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&St(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&St(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return on(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Hw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ro.fromString(e.substring(4,e.length-2))}},qn=class t extends jg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new qe(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},nB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Oi=class t extends jg{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return nB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z3}static keyField(){return new t([Z3])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new qe(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new qe(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new qe(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new qe(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var bt=class t{constructor(e){this.path=e}static fromPath(e){return new t(qn.fromString(e))}static fromName(e){return new t(qn.fromString(e).popFirst(5))}static empty(){return new t(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qn(e.slice()))}};function $4(t,e,n){if(!n)throw new qe(De.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rB(t,e,n,r){if(e===!0&&r===!0)throw new qe(De.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J3(t){if(!bt.isDocumentKey(t))throw new qe(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e4(t){if(bt.isDocumentKey(t))throw new qe(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function H4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function v0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":St(12329,{type:typeof t})}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=v0(t);throw new qe(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iB(t,e){if(e<=0)throw new qe(De.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function fr(t,e){let n={typeString:t};return e&&(n.value=e),n}function Gf(t,e){if(!H4(t))throw new qe(De.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new qe(De.INVALID_ARGUMENT,n);return!0}var t4=-62135596800,n4=1e6,hr=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n4);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t4)throw new qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n4}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gf(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-t4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};hr._jsonSchemaVersion="firestore/timestamp/1.0",hr._jsonSchema={type:fr("string",hr._jsonSchemaVersion),seconds:fr("number"),nanoseconds:fr("number")};var jt=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new hr(0,0))}static max(){return new t(new hr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pf=-1,zw=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};zw.UNKNOWN_ID=-1;function sB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(r===1e9?new hr(n+1,0):new hr(n,r));return new Pc(i,bt.empty(),e)}function oB(t){return new Pc(t.readTime,t.key,Pf)}var Pc=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(jt.min(),bt.empty(),Pf)}static max(){return new t(jt.max(),bt.empty(),Pf)}};function aB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=bt.comparator(t.documentKey,e.documentKey),n!==0?n:on(t.largestBatchId,e.largestBatchId))}var cB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function wu(t){if(t.code!==De.FAILED_PRECONDITION||t.message!==cB)throw t;Je("LocalStore","Unexpectedly lost primary lease")}var Re=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function lB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eu(t){return t.name==="IndexedDbTransactionError"}var xE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),SE=-1;function b0(t){return t==null}function Ff(t){return t===0&&1/t==-1/0}function uB(t){return typeof t=="number"&&Number.isInteger(t)&&!Ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var z4="";function dB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=r4(e)),e=fB(t.get(n),e);return r4(e)}function fB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case z4:n+="";break;default:n+=s}}return n}function r4(t){return t+z4+""}var hB="remoteDocuments",q4="owner";var W4="mutationQueues";var G4="mutations";var K4="documentMutations",pB="remoteDocumentsV14";var Y4="remoteDocumentGlobal";var X4="targets";var Q4="targetDocuments";var Z4="targetGlobal",J4="collectionParents";var eM="clientMetadata";var tM="bundles";var nM="namedQueries";var mB="indexConfiguration";var gB="indexState";var yB="indexEntries";var rM="documentOverlays";var vB="globals";var bB=[W4,G4,K4,hB,X4,q4,Z4,Q4,eM,Y4,J4,tM,nM],Ude=[...bB,rM],_B=[W4,G4,K4,pB,X4,q4,Z4,Q4,eM,Y4,J4,tM,nM,rM],wB=_B,EB=[...wB,mB,gB,yB];var $de=[...EB,vB];function i4(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Na(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nr=class t{constructor(e,n){this.comparator=e,this.root=n||Zs.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zs.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}},iu=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zs=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}};Zs.EMPTY=null,Zs.RED=!0,Zs.BLACK=!1;Zs.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kr=class t{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bg(this.data.getIterator())}getIteratorFrom(e){return new Bg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ki=class t{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new t([])}unionWith(e){let n=new kr(Oi.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ug=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Yr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ug("Invalid base64 string: "+s):s}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Yr.EMPTY_BYTE_STRING=new Yr("");var CB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(Sn(!!t,39018),typeof t=="string"){let e=0,n=CB.exec(t);if(Sn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(t.seconds),nanos:zn(t.nanos)}}function zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fo(t){return typeof t=="string"?Yr.fromBase64String(t):Yr.fromUint8Array(t)}var sM="server_timestamp",oM="__type__",aM="__previous_value__",cM="__local_write_time__";function IE(t){return(t?.mapValue?.fields||{})[oM]?.stringValue===sM}function _0(t){let e=t.mapValue.fields[aM];return IE(e)?_0(e):e}function Lf(t){let e=Po(t.mapValue.fields[cM].timestampValue);return new hr(e.seconds,e.nanos)}var Ww=class{constructor(e,n,r,i,s,o,a,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=l}},$g="(default)",Hg=class t{constructor(e,n){this.projectId=e,this.database=n||$g}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===$g}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var TE="__type__",lM="__max__",kg={mapValue:{fields:{__type__:{stringValue:lM}}}},DE="__vector__",lu="value";function Aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:dM(t)?9007199254740991:uM(t)?10:11:St(28295,{value:t})}function no(t,e){if(t===e)return!0;let n=Aa(t);if(n!==Aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lf(t).isEqual(Lf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Po(i.timestampValue),a=Po(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Fo(i.bytesValue).isEqual(Fo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return zn(i.geoPointValue.latitude)===zn(s.geoPointValue.latitude)&&zn(i.geoPointValue.longitude)===zn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return zn(i.integerValue)===zn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=zn(i.doubleValue),a=zn(s.doubleValue);return o===a?Ff(o)===Ff(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],no);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(i4(o)!==i4(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!no(o[c],a[c])))return!1;return!0})(t,e);default:return St(52216,{left:t})}}function Vf(t,e){return(t.values||[]).find(n=>no(n,e))!==void 0}function uu(t,e){if(t===e)return 0;let n=Aa(t),r=Aa(e);if(n!==r)return on(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return on(t.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=zn(s.integerValue||s.doubleValue),c=zn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return s4(t.timestampValue,e.timestampValue);case 4:return s4(Lf(t),Lf(e));case 5:return Hw(t.stringValue,e.stringValue);case 6:return(function(s,o){let a=Fo(s),c=Fo(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=on(a[u],c[u]);if(l!==0)return l}return on(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=on(zn(s.latitude),zn(o.latitude));return a!==0?a:on(zn(s.longitude),zn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return o4(t.arrayValue,e.arrayValue);case 10:return(function(s,o){let a=s.fields||{},c=o.fields||{},u=a[lu]?.arrayValue,l=c[lu]?.arrayValue,d=on(u?.values?.length||0,l?.values?.length||0);return d!==0?d:o4(u,l)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===kg.mapValue&&o===kg.mapValue)return 0;if(s===kg.mapValue)return 1;if(o===kg.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let f=Hw(c[d],l[d]);if(f!==0)return f;let p=uu(a[c[d]],u[l[d]]);if(p!==0)return p}return on(c.length,l.length)})(t.mapValue,e.mapValue);default:throw St(23264,{he:n})}}function s4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return on(t,e);let n=Po(t),r=Po(e),i=on(n.seconds,r.seconds);return i!==0?i:on(n.nanos,r.nanos)}function o4(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=uu(n[i],r[i]);if(s)return s}return on(n.length,r.length)}function du(t){return Gw(t)}function Gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Po(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Fo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return bt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Gw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Gw(n.fields[o])}`;return i+"}"})(t.mapValue):St(61005,{value:t})}function Og(t){switch(Aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=_0(t);return e?16+Og(e):16;case 5:return 2*t.stringValue.length;case 6:return Fo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+Og(s),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Na(r.fields,(s,o)=>{i+=s.length+Og(o)}),i})(t.mapValue);default:throw St(13486,{value:t})}}function a4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kw(t){return!!t&&"integerValue"in t}function AE(t){return!!t&&"arrayValue"in t}function c4(t){return!!t&&"nullValue"in t}function l4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pg(t){return!!t&&"mapValue"in t}function uM(t){return(t?.mapValue?.fields||{})[TE]?.stringValue===DE}function Mf(t){if(t.geoPointValue)return{geoPointValue:ve({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:ve({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mf(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mf(t.arrayValue.values[n]);return e}return ve({},t)}function dM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lM}var zde={mapValue:{fields:{[TE]:{stringValue:DE},[lu]:{arrayValue:{}}}}};var Ni=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(n)}setAll(e){let n=Oi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Mf(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return no(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Na(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Mf(this.value))}};function fM(t){let e=[];return Na(t.fields,(n,r)=>{let i=new Oi([n]);if(Pg(r)){let s=fM(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Ki(e)}var _s=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,jt.min(),jt.min(),jt.min(),Ni.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,jt.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,jt.min(),jt.min(),Ni.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,jt.min(),jt.min(),Ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fu=class{constructor(e,n){this.position=e,this.inclusive=n}};function u4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=bt.comparator(bt.fromName(o.referenceValue),n.key):r=uu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function d4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!no(t.position[n],e.position[n]))return!1;return!0}var Fc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zg=class{},dr=class t extends zg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Xw(e,n,r):n==="array-contains"?new Jw(e,r):n==="in"?new e2(e,r):n==="not-in"?new t2(e,r):n==="array-contains-any"?new n2(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qw(e,r):new Zw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uu(n,this.value)):n!==null&&Aa(this.value)===Aa(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ws=class t extends zg{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return hM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function hM(t){return t.op==="and"}function pM(t){return SB(t)&&hM(t)}function SB(t){for(let e of t.filters)if(e instanceof ws)return!1;return!0}function Yw(t){if(t instanceof dr)return t.field.canonicalString()+t.op.toString()+du(t.value);if(pM(t))return t.filters.map(e=>Yw(e)).join(",");{let e=t.filters.map(n=>Yw(n)).join(",");return`${t.op}(${e})`}}function mM(t,e){return t instanceof dr?(function(r,i){return i instanceof dr&&r.op===i.op&&r.field.isEqual(i.field)&&no(r.value,i.value)})(t,e):t instanceof ws?(function(r,i){return i instanceof ws&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mM(o,i.filters[a]),!0):!1})(t,e):void St(19439)}function gM(t){return t instanceof dr?(function(n){return`${n.field.canonicalString()} ${n.op} ${du(n.value)}`})(t):t instanceof ws?(function(n){return n.op.toString()+" {"+n.getFilters().map(gM).join(" ,")+"}"})(t):"Filter"}var Xw=class extends dr{constructor(e,n,r){super(e,n,r),this.key=bt.fromName(r.referenceValue)}matches(e){let n=bt.comparator(e.key,this.key);return this.matchesComparison(n)}},Qw=class extends dr{constructor(e,n){super(e,"in",n),this.keys=yM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Zw=class extends dr{constructor(e,n){super(e,"not-in",n),this.keys=yM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function yM(t,e){return(e.arrayValue?.values||[]).map(n=>bt.fromName(n.referenceValue))}var Jw=class extends dr{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return AE(n)&&Vf(n.arrayValue,this.value)}},e2=class extends dr{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Vf(this.value.arrayValue,n)}},t2=class extends dr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vf(this.value.arrayValue,n)}},n2=class extends dr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!AE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vf(this.value.arrayValue,r))}};var r2=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}};function f4(t,e=null,n=[],r=[],i=null,s=null,o=null){return new r2(t,e,n,r,i,s,o)}function ME(t){let e=Pt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),b0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>du(r)).join(",")),e.Te=n}return e.Te}function kE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d4(t.startAt,e.startAt)&&d4(t.endAt,e.endAt)}function i2(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ma=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function IB(t,e,n,r,i,s,o,a){return new Ma(t,e,n,r,i,s,o,a)}function RE(t){return new Ma(t)}function h4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vM(t){return t.collectionGroup!==null}function kf(t){let e=Pt(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kr(Oi.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Fc(s,r))}),n.has(Oi.keyField().canonicalString())||e.Ie.push(new Fc(Oi.keyField(),r))}return e.Ie}function Js(t){let e=Pt(t);return e.Ee||(e.Ee=TB(e,kf(t))),e.Ee}function TB(t,e){if(t.limitType==="F")return f4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Fc(i.field,s)});let n=t.endAt?new fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fu(t.startAt.position,t.startAt.inclusive):null;return f4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function s2(t,e){let n=t.filters.concat([e]);return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qg(t,e,n){return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function w0(t,e){return kE(Js(t),Js(e))&&t.limitType===e.limitType}function bM(t){return`${ME(Js(t))}|lt:${t.limitType}`}function tu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gM(i)).join(", ")}]`),b0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>du(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>du(i)).join(",")),`Target(${r})`})(Js(t))}; limitType=${t.limitType})`}function E0(t,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):bt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(let s of kf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let u=u4(o,a,c);return o.inclusive?u<=0:u<0})(r.startAt,kf(r),i)||r.endAt&&!(function(o,a,c){let u=u4(o,a,c);return o.inclusive?u>=0:u>0})(r.endAt,kf(r),i))})(t,e)}function DB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _M(t){return(e,n)=>{let r=!1;for(let i of kf(t)){let s=AB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AB(t,e,n){let r=t.field.isKeyField()?bt.comparator(e.key,n.key):(function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?uu(c,u):St(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:t.dir})}}var Lo=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return iM(this.inner)}size(){return this.innerSize}};var MB=new nr(bt.comparator);function Vo(){return MB}var wM=new nr(bt.comparator);function Af(...t){let e=wM;for(let n of t)e=e.insert(n.key,n);return e}function EM(t){let e=wM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ac(){return Rf()}function CM(){return Rf()}function Rf(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}var kB=new nr(bt.comparator),RB=new kr(bt.comparator);function an(...t){let e=RB;for(let n of t)e=e.add(n);return e}var NB=new kr(on);function OB(){return NB}function NE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function xM(t){return{integerValue:""+t}}function PB(t,e){return uB(e)?xM(e):NE(t,e)}var hu=class{constructor(){this._=void 0}};function FB(t,e,n){return t instanceof Lc?(function(i,s){let o={fields:{[oM]:{stringValue:sM},[cM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&IE(s)&&(s=_0(s)),s&&(o.fields[aM]=s),{mapValue:o}})(n,e):t instanceof Vc?IM(t,e):t instanceof jc?TM(t,e):(function(i,s){let o=SM(i,s),a=p4(o)+p4(i.Ae);return Kw(o)&&Kw(i.Ae)?xM(a):NE(i.serializer,a)})(t,e)}function LB(t,e,n){return t instanceof Vc?IM(t,e):t instanceof jc?TM(t,e):n}function SM(t,e){return t instanceof pu?(function(r){return Kw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var Lc=class extends hu{},Vc=class extends hu{constructor(e){super(),this.elements=e}};function IM(t,e){let n=DM(e);for(let r of t.elements)n.some(i=>no(i,r))||n.push(r);return{arrayValue:{values:n}}}var jc=class extends hu{constructor(e){super(),this.elements=e}};function TM(t,e){let n=DM(e);for(let r of t.elements)n=n.filter(i=>!no(i,r));return{arrayValue:{values:n}}}var pu=class extends hu{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function p4(t){return zn(t.integerValue||t.doubleValue)}function DM(t){return AE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var o2=class{constructor(e,n){this.field=e,this.transform=n}};function VB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Vc&&i instanceof Vc||r instanceof jc&&i instanceof jc?cu(r.elements,i.elements,no):r instanceof pu&&i instanceof pu?no(r.Ae,i.Ae):r instanceof Lc&&i instanceof Lc})(t.transform,e.transform)}var a2=class{constructor(e,n){this.version=e,this.transformResults=n}},eo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var mu=class{};function AM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jf(t.key,eo.none()):new Bc(t.key,t.data,eo.none());{let n=t.data,r=Ni.empty(),i=new kr(Oi.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ro(t.key,r,new Ki(i.toArray()),eo.none())}}function jB(t,e,n){t instanceof Bc?(function(i,s,o){let a=i.value.clone(),c=g4(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof ro?(function(i,s,o){if(!Fg(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=g4(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(MM(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Nf(t,e,n,r){return t instanceof Bc?(function(s,o,a,c){if(!Fg(s.precondition,o))return a;let u=s.value.clone(),l=y4(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof ro?(function(s,o,a,c){if(!Fg(s.precondition,o))return a;let u=y4(s.fieldTransforms,c,o),l=o.data;return l.setAll(MM(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))})(t,e,n,r):(function(s,o,a){return Fg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function BB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=SM(r.transform,i||null);s!=null&&(n===null&&(n=Ni.empty()),n.set(r.field,s))}return n||null}function m4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cu(r,i,(s,o)=>VB(s,o))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bc=class extends mu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ro=class extends mu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function MM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function g4(t,e,n){let r=new Map;Sn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,LB(o,a,n[i]))}return r}function y4(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,FB(s,o,e))}return r}var jf=class extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},c2=class extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var l2=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&jB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=CM();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=AM(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),an())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(n,r)=>m4(n,r))&&cu(this.baseMutations,e.baseMutations,(n,r)=>m4(n,r))}},u2=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Sn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return kB})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var d2=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var f2=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var lr,pn;function UB(t){switch(t){case De.OK:return St(64938);case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0;default:return St(15467,{code:t})}}function kM(t){if(t===void 0)return Oo("GRPC error has no .code"),De.UNKNOWN;switch(t){case lr.OK:return De.OK;case lr.CANCELLED:return De.CANCELLED;case lr.UNKNOWN:return De.UNKNOWN;case lr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case lr.INTERNAL:return De.INTERNAL;case lr.UNAVAILABLE:return De.UNAVAILABLE;case lr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case lr.NOT_FOUND:return De.NOT_FOUND;case lr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case lr.ABORTED:return De.ABORTED;case lr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case lr.DATA_LOSS:return De.DATA_LOSS;default:return St(39323,{code:t})}}(pn=lr||(lr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";var $B=null;function HB(){return new TextEncoder}var zB=new Ro([4294967295,4294967295],0);function v4(t){let e=HB().encode(t),n=new Iw;return n.update(e),new Uint8Array(n.digest())}function b4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ro([n,r],0),new Ro([i,s],0)]}var h2=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mc(`Invalid padding: ${n}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ro.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ro.fromNumber(r)));return i.compare(zB)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=v4(e),[r,i]=b4(n);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;let n=v4(e),[r,i]=b4(n);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);this.Se(o)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Mc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wg=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(jt.min(),i,new nr(on),Vo(),an())}},Bf=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,an(),an(),an())}};var su=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},Gg=class{constructor(e,n){this.targetId=e,this.Ce=n}},Kg=class{constructor(e,n,r=Yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Yg=class{constructor(){this.ve=0,this.Fe=_4(),this.Me=Yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=an(),n=an(),r=an();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:St(38017,{changeType:s})}}),new Bf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Sn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},p2=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vo(),this.Je=Rg(),this.He=Rg(),this.Ye=new nr(on)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let s=i.target;if(i2(s))if(r===0){let o=new bt(s.path);this.et(n,o,_s.newNoDocument(o,jt.min()))}else Sn(r===1,20013,{expectedCount:r});else{let o=this._t(n);if(o!==r){let a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}$B?.lt((function(l,d,f,p,h){let y={localCacheCount:l,existenceFilterCount:d.count,databaseId:f.database,projectId:f.projectId},g=d.unchangedNames;return g&&(y.bloomFilter={applied:h===0,hashCount:g?.hashCount??0,bitmapLength:g?.bits?.bitmap?.length??0,padding:g?.bits?.padding??0,mightContain:_=>p?.mightContain(_)??!1}),y})(o,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Fo(r).toUint8Array()}catch(c){if(c instanceof Ug)return au("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new h2(o,i,s)}catch(c){return au(c instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((s,o)=>{let a=this.ot(o);if(a){if(s.current&&i2(a.target)){let c=new bt(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,_s.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=an();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));let i=new Wg(e,n,this.Ye,this.je,r);return this.je=Vo(),this.Je=Rg(),this.He=Rg(),this.Ye=new nr(on),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kr(on),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kr(on),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yg),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function Rg(){return new nr(bt.comparator)}function _4(){return new nr(bt.comparator)}var qB={asc:"ASCENDING",desc:"DESCENDING"},WB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GB={and:"AND",or:"OR"},m2=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function g2(t,e){return t.useProto3Json||b0(e)?e:{value:e}}function Xg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KB(t,e){return Xg(t,e.toTimestamp())}function to(t){return Sn(!!t,49232),jt.fromTimestamp((function(n){let r=Po(n);return new hr(r.seconds,r.nanos)})(t))}function OE(t,e){return y2(t,e).canonicalString()}function y2(t,e){let n=(function(i){return new qn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function NM(t){let e=qn.fromString(t);return Sn(VM(e),10190,{key:e.toString()}),e}function v2(t,e){return OE(t.databaseId,e.path)}function Nw(t,e){let n=NM(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(PM(n))}function OM(t,e){return OE(t.databaseId,e)}function YB(t){let e=NM(t);return e.length===4?qn.emptyPath():PM(e)}function b2(t){return new qn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PM(t){return Sn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function w4(t,e,n){return{name:v2(t,e),fields:n.value.mapValue.fields}}function XB(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,l){return u.useProto3Json?(Sn(l===void 0||typeof l=="string",58123),Yr.fromBase64String(l||"")):(Sn(l===void 0||l instanceof Buffer||l instanceof Uint8Array,16193),Yr.fromUint8Array(l||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){let l=u.code===void 0?De.UNKNOWN:kM(u.code);return new qe(l,u.message||"")})(o);n=new Kg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Nw(t,r.document.name),s=to(r.document.updateTime),o=r.document.createTime?to(r.document.createTime):jt.min(),a=new Ni({mapValue:{fields:r.document.fields}}),c=_s.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new su(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Nw(t,r.document),s=r.readTime?to(r.readTime):jt.min(),o=_s.newNoDocument(i,s),a=r.removedTargetIds||[];n=new su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Nw(t,r.document),s=r.removedTargetIds||[];n=new su([],s,i,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new f2(i,s),a=r.targetId;n=new Gg(a,o)}}return n}function QB(t,e){let n;if(e instanceof Bc)n={update:w4(t,e.key,e.value)};else if(e instanceof jf)n={delete:v2(t,e.key)};else if(e instanceof ro)n={update:w4(t,e.key,e.data),updateMask:oU(e.fieldMask)};else{if(!(e instanceof c2))return St(16599,{Vt:e.type});n={verify:v2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let a=o.transform;if(a instanceof Lc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw St(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:KB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:St(27497)})(t,e.precondition)),n}function ZB(t,e){return t&&t.length>0?(Sn(e!==void 0,14353),t.map(n=>(function(i,s){let o=i.updateTime?to(i.updateTime):to(s);return o.isEqual(jt.min())&&(o=to(s)),new a2(o,i.transformResults||[])})(n,e))):[]}function JB(t,e){return{documents:[OM(t,e.path)]}}function eU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OM(t,i);let s=(function(u){if(u.length!==0)return LM(ws.create(u,"and"))})(e.filters);s&&(n.structuredQuery.where=s);let o=(function(u){if(u.length!==0)return u.map(l=>(function(f){return{field:nu(f.field),direction:rU(f.dir)}})(l))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=g2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function tU(t){let e=YB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sn(r===1,65062);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=(function(d){let f=FM(d);return f instanceof ws&&pM(f)?f.getFilters():[f]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map(f=>(function(h){return new Fc(ru(h.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(h.direction))})(f))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let f;return f=typeof d=="object"?d.value:d,b0(f)?null:f})(n.limit));let c=null;n.startAt&&(c=(function(d){let f=!!d.before,p=d.values||[];return new fu(p,f)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){let f=!d.before,p=d.values||[];return new fu(p,f)})(n.endAt)),IB(e,i,o,s,a,"F",c,u)}function nU(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ru(n.unaryFilter.field);return dr.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ru(n.unaryFilter.field);return dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ru(n.unaryFilter.field);return dr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ru(n.unaryFilter.field);return dr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(t):t.fieldFilter!==void 0?(function(n){return dr.create(ru(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ws.create(n.compositeFilter.filters.map(r=>FM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(t):St(30097,{filter:t})}function rU(t){return qB[t]}function iU(t){return WB[t]}function sU(t){return GB[t]}function nu(t){return{fieldPath:t.canonicalString()}}function ru(t){return Oi.fromServerFormat(t.fieldPath)}function LM(t){return t instanceof dr?(function(n){if(n.op==="=="){if(l4(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NAN"}};if(c4(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l4(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NAN"}};if(c4(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(n.field),op:iU(n.op),value:n.value}}})(t):t instanceof ws?(function(n){let r=n.getFilters().map(i=>LM(i));return r.length===1?r[0]:{compositeFilter:{op:sU(n.op),filters:r}}})(t):St(54877,{filter:t})}function oU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Uf=class t{constructor(e,n,r,i,s=jt.min(),o=jt.min(),a=Yr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _2=class{constructor(e){this.yt=e}};function aU(t){let e=tU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qg(e,e.limit,"L"):e}var Qg=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(zn(e.integerValue));else if("doubleValue"in e){let r=zn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ff(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Po(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Fo(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?dM(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):uM(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):St(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=lu,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(zn(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),bt.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Qg.Kt=new Qg;var w2=class{constructor(){this.Cn=new E2}addToCollectionParentIndex(e,n){return this.Cn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(Pc.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(Pc.min())}updateCollectionGroup(e,n,r){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}},E2=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kr(qn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kr(qn.comparator)).toArray()}};var qde=new Uint8Array(0);var E4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jM=41943040,Gi=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(jM,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);var $f=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var C4="LruGarbageCollector",cU=1048576;function x4([t,e],[n,r]){let i=on(t,n);return i===0?on(e,r):i}var C2=class{constructor(e){this.Ir=e,this.buffer=new kr(x4),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();x4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},x2=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Je(C4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eu(n)?Je(C4,"Ignoring IndexedDB error during garbage collection: ",n):await wu(n)}await this.Vr(3e5)})}},S2=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Re.resolve(xE.ce);let r=new C2(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(E4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E4):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),eu()<=rn.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-l}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-l}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}};function lU(t,e){return new S2(t,e)}var I2=class{constructor(){this.changes=new Lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_s.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var T2=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var D2=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nf(r.mutation,i,Ki.empty(),hr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,an()).next(()=>r))}getLocalViewOfDocuments(e,n,r=an()){let i=Ac();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Af();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ac();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,an()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vo(),o=Rf(),a=(function(){return Rf()})();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof ro)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Nf(l.mutation,u,l.mutation.getFieldMask(),hr.now())):o.set(u.key,Ki.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>a.set(u,new T2(l,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Rf(),i=new nr((o,a)=>o-a),s=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Ki.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||an()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=CM();l.forEach(f=>{if(!s.has(f)){let p=AM(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Re.resolve(Ac()),a=Pf,c=s;return o.next(u=>Re.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?Re.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,an())).next(l=>({batchId:a,changes:EM(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new bt(n)).next(r=>{let i=Af();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Af();return this.indexManager.getCollectionParents(e,s).next(a=>Re.forEach(a,c=>{let u=(function(d,f){return new Ma(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,_s.newInvalidDocument(l)))});let a=Af();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Nf(l.mutation,u,Ki.empty(),hr.now()),E0(n,u)&&(a=a.insert(c,u))}),a})}};var A2=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:to(i.createTime)}})(n)),Re.resolve()}getNamedQuery(e,n){return Re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:aU(i.bundledQuery),readTime:to(i.readTime)}})(n)),Re.resolve()}};var M2=class{constructor(){this.overlays=new nr(bt.comparator),this.qr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ac();return Re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Re.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Re.resolve()}getOverlaysForCollection(e,n,r){let i=Ac(),s=n.length+1,o=new bt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nr((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Ac(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Ac(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return Re.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new d2(n,r));let s=this.qr.get(n);s===void 0&&(s=an(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}};var k2=class{constructor(){this.sessionToken=Yr.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Re.resolve()}};var Hf=class{constructor(){this.Qr=new kr(ur.$r),this.Ur=new kr(ur.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new ur(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ur(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new bt(new qn([])),r=new ur(n,e),i=new ur(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new bt(new qn([])),r=new ur(n,e),i=new ur(n,e+1),s=an();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ur(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ur=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return bt.comparator(e.key,n.key)||on(e.Yr,n.Yr)}static Kr(e,n){return on(e.Yr,n.Yr)||bt.comparator(e.key,n.key)}};var R2=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kr(ur.$r)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new l2(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.Zr=this.Zr.add(new ur(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(e,n){return Re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),s=i<0?0:i;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?SE:this.tr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{let a=this.Xr(o.Yr);s.push(a)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kr(on);return n.forEach(i=>{let s=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),Re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;bt.isDocumentKey(s)||(s=s.child(""));let o=new ur(new bt(s),0),a=new kr(on);return this.Zr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),Re.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Sn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Re.forEach(n.mutations,i=>{let s=new ur(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new ur(n,0),i=this.Zr.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var N2=class{constructor(e){this.ri=e,this.docs=(function(){return new nr(bt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():_s.newInvalidDocument(n))}getEntries(e,n){let r=Vo();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_s.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vo(),o=n.path,a=new bt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aB(oB(l),r)<=0||(i.has(l.key)||E0(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){St(9500)}ii(e,n){return Re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new O2(this)}getSize(e){return Re.resolve(this.size)}},O2=class extends I2{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var P2=class{constructor(e){this.persistence=e,this.si=new Lo(n=>ME(n),kE),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hf,this.targetCount=0,this.ai=$f.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Re.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new $f(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.Pr(n),Re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Re.waitFor(s).next(()=>i)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return Re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Re.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return Re.resolve(r)}containsKey(e,n){return Re.resolve(this._i.containsKey(n))}};var Zg=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new xE(0),this.li=!1,this.li=!0,this.hi=new k2,this.referenceDelegate=e(this),this.Pi=new P2(this),this.indexManager=new w2,this.remoteDocumentCache=(function(i){return new N2(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new _2(n),this.Ii=new A2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new R2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);let i=new F2(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return Re.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},F2=class extends qw{constructor(e){super(),this.currentSequenceNumber=e}},L2=class t{constructor(e){this.persistence=e,this.Ri=new Hf,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,r=>{let i=bt.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,jt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Re.or([()=>Re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},Jg=class t{constructor(e,n){this.persistence=e,this.pi=new Lo(r=>dB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lU(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return Re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Re.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?Re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,jt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Og(e.data.value)),n}br(e,n,r){return Re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var V2=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=an(),i=an();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var j2=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var B2=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hA()?8:lB(Ar())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new j2;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(eu()<=rn.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(eu()<=rn.DEBUG&&Je("QueryEngine","Query:",tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(eu()<=rn.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(n))):Re.resolve())}ys(e,n){if(h4(n))return Re.resolve(null);let r=Js(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qg(n,null,"F"),r=Js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=an(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,qg(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return h4(n)||i.isEqual(jt.min())?Re.resolve(null):this.ps.getDocuments(e,r).next(s=>{let o=this.Ds(n,s);return this.Cs(n,o,r,i)?Re.resolve(null):(eu()<=rn.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(n)),this.vs(e,o,n,sB(i,Pf)).next(a=>a))})}Ds(e,n){let r=new kr(_M(e));return n.forEach((i,s)=>{E0(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return eu()<=rn.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",tu(n)),this.ps.getDocumentsMatchingQuery(e,n,Pc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var PE="LocalStore",uU=3e8,U2=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new nr(on),this.xs=new Lo(s=>ME(s),kE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function dU(t,e,n,r){return new U2(t,e,n,r)}async function BM(t,e){let n=Pt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=an();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function fU(t,e){let n=Pt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,l){let d=u.batch,f=d.keys(),p=Re.resolve();return f.forEach(h=>{p=p.next(()=>l.getEntry(c,h)).next(y=>{let g=u.docVersions.get(h);Sn(g!==null,48541),y.version.compareTo(g)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))})(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=an();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UM(t){let e=Pt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hU(t,e){let n=Pt(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((l,d)=>{let f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,l.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Yr.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),(function(y,g,_){return y.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=uU?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(f,p,l)&&a.push(n.Pi.updateTargetData(s,p))});let c=Vo(),u=an();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(pU(s,o,e.documentUpdates).next(l=>{c=l.ks,u=l.qs})),!r.isEqual(jt.min())){let l=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return Re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function pU(t,e,n){let r=an(),i=an();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vo();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(jt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Je(PE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function mU(t,e){let n=Pt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=SE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gU(t,e){let n=Pt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,Re.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Uf(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function $2(t,e,n){let r=Pt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Eu(o))throw o;Je(PE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function S4(t,e,n){let r=Pt(t),i=jt.min(),s=an();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(c,u,l){let d=Pt(c),f=d.xs.get(l);return f!==void 0?Re.resolve(d.Ms.get(f)):d.Pi.getTargetData(u,l)})(r,o,Js(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:jt.min(),n?s:an())).next(a=>(yU(r,DB(e),a),{documents:a,Qs:s})))}function yU(t,e,n){let r=t.Os.get(e)||jt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}var e0=class{constructor(){this.activeTargetIds=OB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var H2=class{constructor(){this.Mo=new e0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var z2=class{Oo(e){}shutdown(){}};var I4="ConnectivityMonitor",t0=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Je(I4,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){Je(I4,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ng=null;function q2(){return Ng===null?Ng=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ng++,"0x"+Ng.toString(16)}var Ow="RestConnection",vU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},W2=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$g?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){let o=q2(),a=this.zo(e,n.toUriEncodedString());Je(Ow,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);let{host:u}=new URL(a),l=ga(u);return this.Jo(e,a,c,r,l).then(d=>(Je(Ow,`Received RPC '${e}' ${o}: `,d),d),d=>{throw au(Ow,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_u})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){let r=vU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var G2=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var Kr="WebChannelConnection",K2=class extends W2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){let o=q2();return new Promise((a,c)=>{let u=new Tw;u.setWithCredentials(!0),u.listenOnce(Dw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Df.NO_ERROR:let d=u.getResponseJson();Je(Kr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Df.TIMEOUT:Je(Kr,`RPC '${e}' ${o} timed out`),c(new qe(De.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:let f=u.getStatus();if(Je(Kr,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);let h=p?.error;if(h&&h.status&&h.message){let y=(function(_){let x=_.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(x)>=0?x:De.UNKNOWN})(h.status);c(new qe(y,h.message))}else c(new qe(De.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new qe(De.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Je(Kr,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);Je(Kr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}T_(e,n,r){let i=q2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kw(),a=Mw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");Je(Kr,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c);this.I_(d);let f=!1,p=!1,h=new G2({Yo:g=>{p?Je(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(f||(Je(Kr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Je(Kr,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},Zo:()=>d.close()}),y=(g,_,x)=>{g.listen(_,k=>{try{x(k)}catch(L){setTimeout(()=>{throw L},0)}})};return y(d,Jl.EventType.OPEN,()=>{p||(Je(Kr,`RPC '${e}' stream ${i} transport opened.`),h.o_())}),y(d,Jl.EventType.CLOSE,()=>{p||(p=!0,Je(Kr,`RPC '${e}' stream ${i} transport closed`),h.a_(),this.E_(d))}),y(d,Jl.EventType.ERROR,g=>{p||(p=!0,au(Kr,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),h.a_(new qe(De.UNAVAILABLE,"The operation could not be completed")))}),y(d,Jl.EventType.MESSAGE,g=>{if(!p){let _=g.data[0];Sn(!!_,16349);let x=_,k=x?.error||x[0]?.error;if(k){Je(Kr,`RPC '${e}' stream ${i} received error:`,k);let L=k.status,B=(function(N){let j=lr[N];if(j!==void 0)return kM(j)})(L),V=k.message;B===void 0&&(B=De.INTERNAL,V="Unknown error status: "+L+" with message "+k.message),p=!0,h.a_(new qe(B,V)),d.close()}else Je(Kr,`RPC '${e}' stream ${i} received:`,_),h.u_(_)}}),y(a,Aw.STAT_EVENT,g=>{g.stat===Mg.PROXY?Je(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Mg.NOPROXY&&Je(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.__()},0),h}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function Pw(){return typeof document<"u"?document:null}function C0(t){return new m2(t,!0)}var n0=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var T4="PersistentStream",r0=class{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===De.RESOURCE_EXHAUSTED?(Oo(n.toString()),Oo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new qe(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Je(T4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Je(T4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Y2=class extends r0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=XB(this.serializer,e),r=(function(s){if(!("targetChange"in s))return jt.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?jt.min():o.readTime?to(o.readTime):jt.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=b2(this.serializer),n.addTarget=(function(s,o){let a,c=o.target;if(a=i2(c)?{documents:JB(s,c)}:{query:eU(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RM(s,o.resumeToken);let u=g2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(jt.min())>0){a.readTime=Xg(s,o.snapshotVersion.toTimestamp());let u=g2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=nU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=b2(this.serializer),n.removeTarget=e,this.q_(n)}},X2=class extends r0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Sn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Sn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Sn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=ZB(e.writeResults,e.commitTime),r=to(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=b2(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>QB(this.serializer,r))};this.q_(n)}};var Q2=class{},Z2=class extends Q2{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new qe(De.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,y2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(De.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,y2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(De.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},J2=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oo(n),this.aa=!1):Je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Uc="RemoteStore",eE=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{$c(this)&&(Je(Uc,"Restarting streams for network reachability change."),await(async function(c){let u=Pt(c);u.Ea.add(4),await Kf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await x0(u)})(this))})}),this.Ra=new J2(r,i)}};async function x0(t){if($c(t))for(let e of t.da)await e(!0)}async function Kf(t){for(let e of t.da)await e(!1)}function $M(t,e){let n=Pt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jE(n)?VE(n):Cu(n).O_()&&LE(n,e))}function FE(t,e){let n=Pt(t),r=Cu(n);n.Ia.delete(e),r.O_()&&HM(n,e),n.Ia.size===0&&(r.O_()?r.L_():$c(n)&&n.Ra.set("Unknown"))}function LE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).Y_(e)}function HM(t,e){t.Va.Ue(e),Cu(t).Z_(e)}function VE(t){t.Va=new p2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.Ra.ua()}function jE(t){return $c(t)&&!Cu(t).x_()&&t.Ia.size>0}function $c(t){return Pt(t).Ea.size===0}function zM(t){t.Va=void 0}async function bU(t){t.Ra.set("Online")}async function _U(t){t.Ia.forEach((e,n)=>{LE(t,e)})}async function wU(t,e){zM(t),jE(t)?(t.Ra.ha(e),VE(t)):t.Ra.set("Unknown")}async function EU(t,e,n){if(t.Ra.set("Online"),e instanceof Kg&&e.state===2&&e.cause)try{await(async function(i,s){let o=s.cause;for(let a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){Je(Uc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await i0(t,r)}else if(e instanceof su?t.Va.Ze(e):e instanceof Gg?t.Va.st(e):t.Va.tt(e),!n.isEqual(jt.min()))try{let r=await UM(t.localStore);n.compareTo(r)>=0&&await(function(s,o){let a=s.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.Ia.get(u);l&&s.Ia.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.Ia.get(c);if(!l)return;s.Ia.set(c,l.withResumeToken(Yr.EMPTY_BYTE_STRING,l.snapshotVersion)),HM(s,c);let d=new Uf(l.target,c,u,l.sequenceNumber);LE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){Je(Uc,"Failed to raise snapshot:",r),await i0(t,r)}}async function i0(t,e,n){if(!Eu(e))throw e;t.Ea.add(1),await Kf(t),t.Ra.set("Offline"),n||(n=()=>UM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Je(Uc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await x0(t)})}function qM(t,e){return e().catch(n=>i0(t,n,e))}async function S0(t){let e=Pt(t),n=ka(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:SE;for(;CU(e);)try{let i=await mU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xU(e,i)}catch(i){await i0(e,i)}WM(e)&&GM(e)}function CU(t){return $c(t)&&t.Ta.length<10}function xU(t,e){t.Ta.push(e);let n=ka(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WM(t){return $c(t)&&!ka(t).x_()&&t.Ta.length>0}function GM(t){ka(t).start()}async function SU(t){ka(t).ra()}async function IU(t){let e=ka(t);for(let n of t.Ta)e.ea(n.mutations)}async function TU(t,e,n){let r=t.Ta.shift(),i=u2.from(r,e,n);await qM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await S0(t)}async function DU(t,e){e&&ka(t).X_&&await(async function(r,i){if((function(o){return UB(o)&&o!==De.ABORTED})(i.code)){let s=r.Ta.shift();ka(r).B_(),await qM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await S0(r)}})(t,e),WM(t)&&GM(t)}async function D4(t,e){let n=Pt(t);n.asyncQueue.verifyOperationInProgress(),Je(Uc,"RemoteStore received new credentials");let r=$c(n);n.Ea.add(3),await Kf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await x0(n)}async function AU(t,e){let n=Pt(t);e?(n.Ea.delete(2),await x0(n)):e||(n.Ea.add(2),await Kf(n),n.Ra.set("Unknown"))}function Cu(t){return t.ma||(t.ma=(function(n,r,i){let s=Pt(n);return s.sa(),new Y2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:bU.bind(null,t),t_:_U.bind(null,t),r_:wU.bind(null,t),H_:EU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),jE(t)?VE(t):t.Ra.set("Unknown")):(await t.ma.stop(),zM(t))})),t.ma}function ka(t){return t.fa||(t.fa=(function(n,r,i){let s=Pt(n);return s.sa(),new X2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:SU.bind(null,t),r_:DU.bind(null,t),ta:IU.bind(null,t),na:TU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await S0(t)):(await t.fa.stop(),t.Ta.length>0&&(Je(Uc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var tE=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function BE(t,e){if(Oo("AsyncQueue",`${e}: ${t}`),Eu(t))return new qe(De.UNAVAILABLE,`${e}: ${t}`);throw t}var s0=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||bt.comparator(n.key,r.key):(n,r)=>bt.comparator(n.key,r.key),this.keyedMap=Af(),this.sortedSet=new nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var o0=class{constructor(){this.ga=new nr(bt.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},gu=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,s0.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var nE=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},rE=class{constructor(){this.queries=A4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Pt(n),s=i.queries;i.queries=A4(),s.forEach((o,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new qe(De.ABORTED,"Firestore shutting down"))}};function A4(){return new Lo(t=>bM(t),w0)}async function KM(t,e){let n=Pt(t),r=3,i=e.query,s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new nE,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){let a=BE(o,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&UE(n)}async function YM(t,e){let n=Pt(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MU(t,e){let n=Pt(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&UE(n)}function kU(t,e,n){let r=Pt(t),i=r.queries.get(e);if(i)for(let s of i.Sa)s.onError(n);r.queries.delete(e)}function UE(t){t.Ca.forEach(e=>{e.next()})}var iE,M4;(M4=iE||(iE={})).Ma="default",M4.Cache="cache";var a0=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==iE.Cache}};var c0=class{constructor(e){this.key=e}},l0=class{constructor(e){this.key=e}},sE=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=an(),this.mutatedKeys=an(),this.eu=_M(e),this.tu=new s0(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new o0,i=n?n.tu:this.tu,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let f=i.get(l),p=E0(this.query,d)?d:null,h=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),g=!1;f&&p?f.data.isEqual(p.data)?h!==y&&(r.track({type:3,doc:p}),g=!0):this.su(f,p)||(r.track({type:2,doc:p}),g=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),g=!0):f&&!p&&(r.track({type:1,doc:f}),g=!0,(c||u)&&(a=!0)),g&&(p?(o=o.add(p),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((l,d)=>(function(p,h){let y=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:g})}};return y(p)-y(h)})(l.type,d.type)||this.eu(l.doc,d.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new gu(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=an(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new l0(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new c0(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=an();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},$E="SyncEngine",oE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},aE=class{constructor(e){this.key=e,this.hu=!1}},cE=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Lo(a=>bM(a),w0),this.Iu=new Map,this.Eu=new Set,this.du=new nr(bt.comparator),this.Au=new Map,this.Ru=new Hf,this.Vu={},this.mu=new Map,this.fu=$f.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function RU(t,e,n=!0){let r=t6(t),i,s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await XM(r,e,n,!0),i}async function NU(t,e){let n=t6(t);await XM(n,e,!0,!1)}async function XM(t,e,n,r){let i=await gU(t.localStore,Js(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=await OU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$M(t.remoteStore,i),a}async function OU(t,e,n,r,i){t.pu=(d,f,p)=>(async function(y,g,_,x){let k=g.view.ru(_);k.Cs&&(k=await S4(y.localStore,g.query,!1).then(({documents:R})=>g.view.ru(R,k)));let L=x&&x.targetChanges.get(g.targetId),B=x&&x.targetMismatches.get(g.targetId)!=null,V=g.view.applyChanges(k,y.isPrimaryClient,L,B);return R4(y,g.targetId,V.au),V.snapshot})(t,d,f,p);let s=await S4(t.localStore,e,!0),o=new sE(e,s.Qs),a=o.ru(s.documents),c=Bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);R4(t,n,u.au);let l=new oE(e,n,o);return t.Tu.set(e,l),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function PU(t,e,n){let r=Pt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!w0(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FE(r.remoteStore,i.targetId),lE(r,i.targetId)}).catch(wu)):(lE(r,i.targetId),await $2(r.localStore,i.targetId,!0))}async function FU(t,e){let n=Pt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FE(n.remoteStore,r.targetId))}async function LU(t,e,n){let r=zU(t);try{let i=await(function(o,a){let c=Pt(o),u=hr.now(),l=a.reduce((p,h)=>p.add(h.key),an()),d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let h=Vo(),y=an();return c.Ns.getEntries(p,l).next(g=>{h=g,h.forEach((_,x)=>{x.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,h)).next(g=>{d=g;let _=[];for(let x of a){let k=BB(x,d.get(x.key).overlayedDocument);k!=null&&_.push(new ro(x.key,k,fM(k.value.mapValue),eo.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,_,a)}).next(g=>{f=g;let _=g.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(p,g.batchId,_)})}).then(()=>({batchId:f.batchId,changes:EM(d)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new nr(on)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u})(r,i.batchId,n),await Yf(r,i.changes),await S0(r.remoteStore)}catch(i){let s=BE(i,"Failed to persist write");n.reject(s)}}async function QM(t,e){let n=Pt(t);try{let r=await hU(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Au.get(s);o&&(Sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Sn(o.hu,14607):i.removedDocuments.size>0&&(Sn(o.hu,42227),o.hu=!1))}),await Yf(n,r,e)}catch(r){await wu(r)}}function k4(t,e,n){let r=Pt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=Pt(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let f of d.Sa)f.va(a)&&(u=!0)}),u&&UE(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VU(t,e,n){let r=Pt(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),s=i&&i.key;if(s){let o=new nr(bt.comparator);o=o.insert(s,_s.newNoDocument(s,jt.min()));let a=an().add(s),c=new Wg(jt.min(),new Map,new nr(on),o,a);await QM(r,c),r.du=r.du.remove(s),r.Au.delete(e),HE(r)}else await $2(r.localStore,e,!1).then(()=>lE(r,e,n)).catch(wu)}async function jU(t,e){let n=Pt(t),r=e.batch.batchId;try{let i=await fU(n.localStore,e);JM(n,r,null),ZM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yf(n,i)}catch(i){await wu(i)}}async function BU(t,e,n){let r=Pt(t);try{let i=await(function(o,a){let c=Pt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Sn(d!==null,37113),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})})(r.localStore,e);JM(r,e,n),ZM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yf(r,i)}catch(i){await wu(i)}}function ZM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function JM(t,e,n){let r=Pt(t),i=r.Vu[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||e6(t,r)})}function e6(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(FE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),HE(t))}function R4(t,e,n){for(let r of n)r instanceof c0?(t.Ru.addReference(r.key,e),UU(t,r)):r instanceof l0?(Je($E,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||e6(t,r.key)):St(19791,{wu:r})}function UU(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Je($E,"New document in limbo: "+n),t.Eu.add(r),HE(t))}function HE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new bt(qn.fromString(e)),r=t.fu.next();t.Au.set(r,new aE(n)),t.du=t.du.insert(n,r),$M(t.remoteStore,new Uf(Js(RE(n.path)),r,"TargetPurposeLimboResolution",xE.ce))}}async function Yf(t,e,n){let r=Pt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let l=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,l?"current":"not-current")}if(u){i.push(u);let l=V2.As(c.targetId,u);s.push(l)}}))}),await Promise.all(o),r.Pu.H_(i),await(async function(c,u){let l=Pt(c);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Re.forEach(u,f=>Re.forEach(f.Es,p=>l.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>Re.forEach(f.ds,p=>l.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Eu(d))throw d;Je(PE,"Failed to update sequence numbers: "+d)}for(let d of u){let f=d.targetId;if(!d.fromCache){let p=l.Ms.get(f),h=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(h);l.Ms=l.Ms.insert(f,y)}}})(r.localStore,s))}async function $U(t,e){let n=Pt(t);if(!n.currentUser.isEqual(e)){Je($E,"User change. New user:",e.toKey());let r=await BM(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new qe(De.CANCELLED,o))})}),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yf(n,r.Ls)}}function HU(t,e){let n=Pt(t),r=n.Au.get(e);if(r&&r.hu)return an().add(r.key);{let i=an(),s=n.Iu.get(e);if(!s)return i;for(let o of s){let a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function t6(t){let e=Pt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VU.bind(null,e),e.Pu.H_=MU.bind(null,e.eventManager),e.Pu.yu=kU.bind(null,e.eventManager),e}function zU(t){let e=Pt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,e),e}var n6=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=C0(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return dU(this.persistence,new B2,n.initialUser,this.serializer)}Cu(n){return new Zg(L2.mi,this.serializer)}Du(n){return new H2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),uE=class extends n6{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Sn(this.persistence.referenceDelegate instanceof Jg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new x2(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new Zg(r=>Jg.mi(r,n),this.serializer)}};var qU=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>k4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$U.bind(null,this.syncEngine),await AU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new rE})()}createDatastore(n){let r=C0(n.databaseInfo.databaseId),i=(function(o){return new K2(o)})(n.databaseInfo);return(function(o,a,c,u){return new Z2(o,a,c,u)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,s,o,a,c){return new eE(i,s,o,a,c)})(this.localStore,this.datastore,n.asyncQueue,r=>k4(this.syncEngine,r,0),(function(){return t0.v()?new t0:new z2})())}createSyncEngine(n,r){return(function(s,o,a,c,u,l,d){let f=new cE(s,o,a,c,u,l);return d&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Pt(r);Je(Uc,"RemoteStore shutting down."),i.Ea.add(5),await Kf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var u0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ra="FirestoreClient",dE=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mr.UNAUTHENTICATED,this.clientId=Of.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Je(Ra,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Je(Ra,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=BE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Fw(t,e){t.asyncQueue.verifyOperationInProgress(),Je(Ra,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N4(t,e){t.asyncQueue.verifyOperationInProgress();let n=await WU(t);Je(Ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>D4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>D4(e.remoteStore,i)),t._onlineComponents=e}async function WU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je(Ra,"Using user provided OfflineComponentProvider");try{await Fw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===De.FAILED_PRECONDITION||i.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await Fw(t,new n6)}}else Je(Ra,"Using default OfflineComponentProvider"),await Fw(t,new uE(void 0));return t._offlineComponents}async function r6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je(Ra,"Using user provided OnlineComponentProvider"),await N4(t,t._uninitializedComponentsProvider._online)):(Je(Ra,"Using default OnlineComponentProvider"),await N4(t,new qU))),t._onlineComponents}function GU(t){return r6(t).then(e=>e.syncEngine)}async function fE(t){let e=await r6(t),n=e.eventManager;return n.onListen=RU.bind(null,e.syncEngine),n.onUnlisten=PU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FU.bind(null,e.syncEngine),n}function KU(t,e,n={}){let r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>(function(s,o,a,c,u){let l=new u0({next:f=>{l.Nu(),o.enqueueAndForget(()=>YM(s,d)),f.fromCache&&c.source==="server"?u.reject(new qe(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new a0(a,l,{includeMetadataChanges:!0,qa:!0});return KM(s,d)})(await fE(t),t.asyncQueue,e,n,r)),r.promise}function i6(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var O4=new Map;var s6="firestore.googleapis.com",P4=!0,d0=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s6,this.ssl=P4}else this.host=e.host,this.ssl=e.ssl??P4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cU)throw new qe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Lw;switch(r.type){case"firstParty":return new Uw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=O4.get(n);r&&(Je("ComponentProvider","Removing Datastore"),O4.delete(n),r.terminate())})(this),Promise.resolve()}};function o6(t,e,n,r={}){t=Yi(t,yu);let i=ga(e),s=t._getSettings(),o=je(ve({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(Qm(`https://${a}`),Zm("Firestore",!0)),s.host!==s6&&s.host!==a&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=je(ve({},s),{host:a,ssl:i,emulatorOptions:r});if(!qs(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Mr.MOCK_USER;else{u=aA(r.mockUserToken,t._app?.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new qe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mr(d)}t._authCredentials=new Vw(new Lg(u,l))}}var jo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Rr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gf(n,t._jsonSchema))return new t(e,r||null,new bt(qn.fromString(n.referencePath)))}};Rr._jsonSchemaVersion="firestore/documentReference/1.0",Rr._jsonSchema={type:fr("string",Rr._jsonSchemaVersion),referencePath:fr("string")};var Sa=class t extends jo{constructor(e,n,r){super(e,n,RE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new bt(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function a6(t,e,...n){if(t=Vn(t),$4("collection","path",e),t instanceof yu){let r=qn.fromString(e,...n);return e4(r),new Sa(t,null,r)}{if(!(t instanceof Rr||t instanceof Sa))throw new qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qn.fromString(e,...n));return e4(r),new Sa(t.firestore,null,r)}}function zE(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=Of.newId()),$4("doc","path",e),t instanceof yu){let r=qn.fromString(e,...n);return J3(r),new Rr(t,null,new bt(r))}{if(!(t instanceof Rr||t instanceof Sa))throw new qe(De.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qn.fromString(e,...n));return J3(r),new Rr(t.firestore,t instanceof Sa?t.converter:null,new bt(r))}}var F4="AsyncQueue",f0=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n0(this,"async_queue_retry"),this._c=()=>{let r=Pw();r&&Je(F4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Pw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Pw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new Qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eu(e))throw e;Je(F4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Oo("INTERNAL UNHANDLED ERROR: ",L4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=tE.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&St(47125,{Pc:L4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function L4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function V4(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}var io=class extends yu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new f0,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}};function c6(t,e){let n=typeof t=="object"?t:wc(),r=typeof t=="string"?t:e||$g,i=Gl(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=oA("firestore");s&&o6(i,...s)}return i}function qE(t){if(t._terminated)throw new qe(De.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YU(t),t._firestoreClient}function YU(t){let e=t._freezeSettings(),n=(function(i,s,o,a){return new Ww(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,i6(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}var Ia=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Yr.fromBase64String(e))}catch(n){throw new qe(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gf(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ia._jsonSchemaVersion="firestore/bytes/1.0",Ia._jsonSchema={type:fr("string",Ia._jsonSchemaVersion),bytes:fr("string")};var vu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bu=class{constructor(e){this._methodName=e}};var Ta=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Gf(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ta._jsonSchemaVersion="firestore/geoPoint/1.0",Ta._jsonSchema={type:fr("string",Ta._jsonSchemaVersion),latitude:fr("number"),longitude:fr("number")};var Da=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gf(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new qe(De.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Da._jsonSchemaVersion="firestore/vectorValue/1.0",Da._jsonSchema={type:fr("string",Da._jsonSchemaVersion),vectorValues:fr("object")};var XU=/^__.*__$/,hE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}},h0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function l6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:t})}}var pE=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(ve(ve({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return m0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l6(this.Ac)&&XU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},mE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||C0(e)}Cc(e,n,r,i=!1){return new pE({Ac:e,methodName:n,Dc:r,path:Oi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function I0(t){let e=t._freezeSettings(),n=C0(t._databaseId);return new mE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u6(t,e,n,r,i,s={}){let o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);WE("Data must be an object, but it was:",o,r);let a=d6(r,o),c,u;if(s.merge)c=new Ki(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let f=yE(e,d,n);if(!o.contains(f))throw new qe(De.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);h6(l,f)||l.push(f)}c=new Ki(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new hE(new Ni(a),c,u)}var p0=class t extends bu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var gE=class t extends bu{_toFieldTransform(e){return new o2(e.path,new Lc)}isEqual(e){return e instanceof t}};function QU(t,e,n,r){let i=t.Cc(1,e,n);WE("Data must be an object, but it was:",i,r);let s=[],o=Ni.empty();Na(r,(c,u)=>{let l=GE(e,c,n);u=Vn(u);let d=i.yc(l);if(u instanceof p0)s.push(l);else{let f=Xf(u,d);f!=null&&(s.push(l),o.set(l,f))}});let a=new Ki(s);return new h0(o,a,i.fieldTransforms)}function ZU(t,e,n,r,i,s){let o=t.Cc(1,e,n),a=[yE(e,r,n)],c=[i];if(s.length%2!=0)throw new qe(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(yE(e,s[f])),c.push(s[f+1]);let u=[],l=Ni.empty();for(let f=a.length-1;f>=0;--f)if(!h6(u,a[f])){let p=a[f],h=c[f];h=Vn(h);let y=o.yc(p);if(h instanceof p0)u.push(p);else{let g=Xf(h,y);g!=null&&(u.push(p),l.set(p,g))}}let d=new Ki(u);return new h0(l,d,o.fieldTransforms)}function JU(t,e,n,r=!1){return Xf(n,t.Cc(r?4:3,e))}function Xf(t,e){if(f6(t=Vn(t)))return WE("Unsupported field value:",e,t),d6(t,e);if(t instanceof bu)return(function(r,i){if(!l6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=Xf(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=hr.fromDate(r);return{timestampValue:Xg(i.serializer,s)}}if(r instanceof hr){let s=new hr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xg(i.serializer,s)}}if(r instanceof Ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ia)return{bytesValue:RM(i.serializer,r._byteString)};if(r instanceof Rr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Da)return(function(o,a){return{mapValue:{fields:{[TE]:{stringValue:DE},[lu]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return NE(a.serializer,u)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${v0(r)}`)})(t,e)}function d6(t,e){let n={};return iM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(t,(r,i)=>{let s=Xf(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function f6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hr||t instanceof Ta||t instanceof Ia||t instanceof Rr||t instanceof bu||t instanceof Da)}function WE(t,e,n){if(!f6(n)||!H4(n)){let r=v0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function yE(t,e,n){if((e=Vn(e))instanceof vu)return e._internalPath;if(typeof e=="string")return GE(t,e);throw m0("Field path arguments must be of type string or ",t,!1,void 0,n)}var e$=new RegExp("[~\\*/\\[\\]]");function GE(t,e,n){if(e.search(e$)>=0)throw m0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw m0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function m0(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new qe(De.INVALID_ARGUMENT,a+t+c)}function h6(t,e){return t.some(n=>n.isEqual(e))}var g0=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(T0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},vE=class extends g0{data(){return super.data()}};function T0(t,e){return typeof e=="string"?GE(t,e):e instanceof vu?e._internalPath:e._delegate._internalPath}function p6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zf=class{},qf=class extends zf{};function m6(t,e,...n){let r=[];e instanceof zf&&r.push(e),r=r.concat(n),(function(s){let o=s.filter(c=>c instanceof bE).length,a=s.filter(c=>c instanceof y0).length;if(o>1||o>0&&a>0)throw new qe(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var y0=class t extends qf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return b6(e._query,n),new jo(e.firestore,e.converter,s2(e._query,n))}_parse(e){let n=I0(e.firestore);return(function(s,o,a,c,u,l,d){let f;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new qe(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){B4(d,l);let h=[];for(let y of d)h.push(j4(c,s,y));f={arrayValue:{values:h}}}else f=j4(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||B4(d,l),f=JU(a,o,d,l==="in"||l==="not-in");return dr.create(u,l,f)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function g6(t,e,n){let r=e,i=T0("where",t);return y0._create(i,r,n)}var bE=class t extends zf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)b6(o,c),o=s2(o,c)})(e._query,n),new jo(e.firestore,e.converter,s2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var _E=class t extends qf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,s,o){if(i.startAt!==null)throw new qe(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new qe(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(s,o)})(e._query,this._field,this._direction);return new jo(e.firestore,e.converter,(function(i,s){let o=i.explicitOrderBy.concat([s]);return new Ma(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function y6(t,e="asc"){let n=e,r=T0("orderBy",t);return _E._create(r,n)}var wE=class t extends qf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new jo(e.firestore,e.converter,qg(e._query,this._limit,this._limitType))}};function v6(t){return iB("limit",t),wE._create("limit",t,"F")}function j4(t,e,n){if(typeof(n=Vn(n))=="string"){if(n==="")throw new qe(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vM(e)&&n.indexOf("/")!==-1)throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(qn.fromString(n));if(!bt.isDocumentKey(r))throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a4(t,new bt(r))}if(n instanceof Rr)return a4(t,n._key);throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v0(n)}.`)}function B4(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b6(t,e){let n=(function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var EE=class{convertValue(e,n="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Na(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){let n=e.fields?.[lu].arrayValue?.values?.map(r=>zn(r.doubleValue));return new Da(n)}convertGeoPoint(e){return new Ta(zn(e.latitude),zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=_0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lf(e));default:return null}}convertTimestamp(e){let n=Po(e);return new hr(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=qn.fromString(e);Sn(VM(r),9688,{name:e});let i=new Hg(r.get(1),r.get(3)),s=new bt(r.popFirst(5));return i.isEqual(n)||Oo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function _6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var kc=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rc=class t extends g0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(T0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(De.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Rc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rc._jsonSchema={type:fr("string",Rc._jsonSchemaVersion),bundleSource:fr("string","DocumentSnapshot"),bundleName:fr("string"),bundle:fr("string")};var ou=class extends Rc{data(e={}){return super.data(e)}},Nc=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ou(this._firestore,this._userDataWriter,r.key,r,new kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new ou(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new ou(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:t$(a.type),doc:c,oldIndex:u,newIndex:l}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(De.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Of.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function t$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:t})}}Nc._jsonSchemaVersion="firestore/querySnapshot/1.0",Nc._jsonSchema={type:fr("string",Nc._jsonSchemaVersion),bundleSource:fr("string","QuerySnapshot"),bundleName:fr("string"),bundle:fr("string")};var Wf=class extends EE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}};function w6(t){t=Yi(t,jo);let e=Yi(t.firestore,io),n=qE(e),r=new Wf(e);return p6(t._query),KU(n,t._query).then(i=>new Nc(e,r,t,i))}function E6(t,e,n){t=Yi(t,Rr);let r=Yi(t.firestore,io),i=_6(t.converter,e,n);return D0(r,[u6(I0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,eo.none())])}function C6(t,e,n,...r){t=Yi(t,Rr);let i=Yi(t.firestore,io),s=I0(i),o;return o=typeof(e=Vn(e))=="string"||e instanceof vu?ZU(s,"updateDoc",t._key,e,n,r):QU(s,"updateDoc",t._key,e),D0(i,[o.toMutation(t._key,eo.exists(!0))])}function x6(t){return D0(Yi(t.firestore,io),[new jf(t._key,eo.none())])}function S6(t,e){let n=Yi(t.firestore,io),r=zE(t),i=_6(t.converter,e);return D0(n,[u6(I0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,eo.exists(!1))]).then(()=>r)}function KE(t,...e){t=Vn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||V4(e[r])||(n=e[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(V4(e[r])){let c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let s,o,a;if(t instanceof Rr)o=Yi(t.firestore,io),a=RE(t._key.path),s={next:c=>{e[r]&&e[r](n$(o,t,c))},error:e[r+1],complete:e[r+2]};else{let c=Yi(t,jo);o=Yi(c.firestore,io),a=c._query;let u=new Wf(o);s={next:l=>{e[r]&&e[r](new Nc(o,u,c,l))},error:e[r+1],complete:e[r+2]},p6(t._query)}return(function(u,l,d,f){let p=new u0(f),h=new a0(l,p,d);return u.asyncQueue.enqueueAndForget(async()=>KM(await fE(u),h)),()=>{p.Nu(),u.asyncQueue.enqueueAndForget(async()=>YM(await fE(u),h))}})(qE(o),a,i,s)}function D0(t,e){return(function(r,i){let s=new Qs;return r.asyncQueue.enqueueAndForget(async()=>LU(await GU(r),i,s)),s.promise})(qE(t),e)}function n$(t,e,n){let r=n.docs.get(e._key),i=new Wf(t);return new Rc(t,i,e._key,r,new kc(n.hasPendingWrites,n.fromCache),e.converter)}function Xi(){return new gE("serverTimestamp")}(function(e,n=!0){(function(i){_u=i})(va),vs(new li("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new io(new jw(r.getProvider("auth-internal")),new $w(o,r.getProvider("app-check-internal")),(function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hg(u.options.projectId,l)})(o,i),o);return s=ve({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),tr(X3,Q3,e),tr(X3,Q3,"esm2020")})();var A0=function(){return A0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A0.apply(this,arguments)};var s$={includeMetadataChanges:!1};function YE(t,e){return e===void 0&&(e=s$),new Ut(function(n){var r=KE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function I6(t){return YE(t,{includeMetadataChanges:!0})}function T6(t,e){return e===void 0&&(e={}),I6(t).pipe(Be(function(n){return XE(n,e)}))}function XE(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:A0(A0({},r),(n={},n[e.idField]=t.id,n))}function D6(t){return YE(t,{includeMetadataChanges:!0}).pipe(Be(function(e){return e.docs}))}function A6(t,e){return e===void 0&&(e={}),D6(t).pipe(Be(function(n){return n.map(function(r){return XE(r,e)})}))}var ui=class{constructor(e){return e}},M6="firestore",QE=class{constructor(){return Yl(M6)}};var ZE=new ot("angularfire2.firestore-instances");function o$(t,e){let n=gf(M6,t,e);return n&&new ui(n)}function a$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ui(r)}}var c$={provide:QE,deps:[[new Si,ZE]]},l$={provide:ui,useFactory:o$,deps:[[new Si,ZE],To]};function k6(t,...e){return tr("angularfire",ba.full,"fst"),os([l$,c$,{provide:ZE,useFactory:a$(t),multi:!0,deps:[Un,rr,_a,Cc,[new Si,Tf],[new Si,Xl],...e]}])}var so=Hn(A6,!0);var R6=Hn(T6,!0);var Oa=Hn(S6,!0,2);var Vr=Hn(a6,!0,2);var Pa=Hn(x6,!0,2);var Xr=Hn(zE,!0,2);var Hc=Hn(w6,!0);var N6=Hn(c6,!0);var zc=Hn(v6,!0,2);var M0=Hn(y6,!0,2),qc=Hn(m6,!0,2);var O6=Hn(E6,!0,2);var oo=Hn(C6,!0,2);var k0=Hn(g6,!0,2);function xu(t){if(!t)return"";if(typeof t=="object"&&typeof t.toDate=="function"){let n=t.toDate();return di(n)}if(t instanceof Date)return di(t);if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t))return t;let e=new Date(t);return isNaN(e.getTime())?"":di(e)}function di(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function Su(t){if(!t)return"";let[e,n,r]=t.split("-").map(Number);return!e||!n||!r?t:new Intl.DateTimeFormat("pt-BR").format(new Date(e,n-1,r))}function Qi(t){if(!t)return null;let[e,n,r]=t.split("-").map(Number);return!e||!n||!r?null:new Date(e,n-1,r)}var vi=class t{firestore=me(ui);list$(e){let n=Vr(this.firestore,`users/${e}/categories`),r=qc(n,M0("name"),zc(1e3));return so(r,{idField:"id"}).pipe(Be(i=>i.map(s=>je(ve({},s),{type:s.type??"expense"}))))}async add(e,n){let r=Vr(this.firestore,`users/${e}/categories`);await Oa(r,je(ve({},n),{createdAt:Xi()}))}async update(e,n,r){let i=Xr(this.firestore,`users/${e}/categories/${n}`);await oo(i,ve({},r))}async delete(e,n){let r=Vr(this.firestore,`users/${e}/transactions`),i=qc(r,k0("categoryId","==",n),zc(1));if(!(await Hc(i)).empty)throw new Error("Categoria em uso em lan\xE7amentos. N\xE3o \xE9 poss\xEDvel excluir.");let o=Xr(this.firestore,`users/${e}/categories/${n}`);await Pa(o)}async ensureDefaultCategories(e){let n=Vr(this.firestore,`users/${e}/categories`);(await Hc(qc(n,zc(1)))).empty}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var jn=class t{constructor(e,n,r){this.auth=e;this.firestore=n;this.categoriesService=r;this.user$=H3(this.auth).pipe(Wh({bufferSize:1,refCount:!0})),this.profile$=this.user$.pipe(Wt(i=>i?R6(Xr(this.firestore,`users/${i.uid}`)):Le(null)),Be(i=>i?.birthDate?je(ve({},i),{age:this.calculateAge(i.birthDate)}):i),Wh({bufferSize:1,refCount:!0}))}user$;profile$;async register(e,n,r){let i=await z3(this.auth,e,n),s=Xr(this.firestore,`users/${i.user.uid}`);return await O6(s,je(ve({uid:i.user.uid,email:e},r),{createdAt:Xi(),updatedAt:Xi()})),await this.categoriesService.ensureDefaultCategories(i.user.uid),i.user}login(e,n){return kn(W3(this.auth,e,n)).pipe(Wt(r=>kn(this.categoriesService.ensureDefaultCategories(r.user.uid)).pipe(Be(()=>r.user))))}logout(){return kn(G3(this.auth))}async updateProfile(e){let n=this.auth.currentUser;if(!n)throw new Error("Usu\xE1rio n\xE3o autenticado");let r=Xr(this.firestore,`users/${n.uid}`);await oo(r,je(ve({},e),{updatedAt:Xi()}))}async reauthenticate(e){let n=this.auth.currentUser;if(!n)throw new Error("USER_NOT_LOGGED");let r=n.email;if(!r)throw new Error("USER_NO_EMAIL");let i=Eg.credential(r,e);await Cg(n,i)}async requestEmailChange(e,n){let r=this.auth.currentUser;if(!r)throw new Error("USER_NOT_LOGGED");if(!e||!e.includes("@"))throw new Error("INVALID_EMAIL");await this.reauthenticate(n),await xg(r,e)}async updateUserPassword(e,n){let r=this.auth.currentUser;if(!r)throw new Error("USER_NOT_LOGGED");if(!e||e.length<6)throw new Error("WEAK_PASSWORD");await this.reauthenticate(n),await Sg(r,e)}async updateEmailSecure(e,n){await this.requestEmailChange(n,e)}async updatePasswordSecure(e,n){await this.updateUserPassword(n,e)}calculateAge(e){let n=Qi(e);if(!n)return 0;let r=new Date,i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return(s<0||s===0&&r.getDate()<n.getDate())&&i--,i}static \u0275fac=function(n){return new(n||t)(Rt(Dc),Rt(ui),Rt(vi))};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var P6=()=>{let t=me(jn),e=me(ci);return t.user$.pipe(Vi(1),Be(n=>n?!0:e.createUrlTree(["/auth/login"])))},F6=()=>{let t=me(jn),e=me(ci);return t.user$.pipe(Vi(1),Be(n=>e.createUrlTree([n?"/app/dashboard":"/auth/login"])))};var R0=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-redirect"]],decls:0,vars:0,template:function(n,r){},encapsulation:2})};var W6=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(mt(zi),mt(Wr))};static \u0275dir=Tn({type:t})}return t})(),$0=(()=>{class t extends W6{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275dir=Tn({type:t,features:[Gr]})}return t})(),Au=new ot("");var f$={provide:Au,useExisting:pi(()=>pr),multi:!0};function h$(){let t=Wi()?Wi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var p$=new ot(""),pr=(()=>{class t extends W6{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!h$())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(mt(zi),mt(Wr),mt(p$,8))};static \u0275dir=Tn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ue("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[hs([f$]),Gr]})}return t})();function iC(t){return t==null||sC(t)===0}function sC(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var nh=new ot(""),oC=new ot(""),m$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ct=class{static min(e){return G6(e)}static max(e){return g$(e)}static required(e){return K6(e)}static requiredTrue(e){return y$(e)}static email(e){return v$(e)}static minLength(e){return b$(e)}static maxLength(e){return _$(e)}static pattern(e){return w$(e)}static nullValidator(e){return O0()}static compose(e){return ek(e)}static composeAsync(e){return nk(e)}};function G6(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function g$(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function K6(t){return iC(t.value)?{required:!0}:null}function y$(t){return t.value===!0?null:{required:!0}}function v$(t){return iC(t.value)||m$.test(t.value)?null:{email:!0}}function b$(t){return e=>{let n=e.value?.length??sC(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function _$(t){return e=>{let n=e.value?.length??sC(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function w$(t){if(!t)return O0;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(iC(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function O0(t){return null}function Y6(t){return t!=null}function X6(t){return wo(t)?kn(t):t}function Q6(t){let e={};return t.forEach(n=>{e=n!=null?ve(ve({},e),n):e}),Object.keys(e).length===0?null:e}function Z6(t,e){return e.map(n=>n(t))}function E$(t){return!t.validate}function J6(t){return t.map(e=>E$(e)?e:n=>e.validate(n))}function ek(t){if(!t)return null;let e=t.filter(Y6);return e.length==0?null:function(n){return Q6(Z6(n,e))}}function tk(t){return t!=null?ek(J6(t)):null}function nk(t){if(!t)return null;let e=t.filter(Y6);return e.length==0?null:function(n){let r=Z6(n,e).map(X6);return $y(r).pipe(Be(Q6))}}function rk(t){return t!=null?nk(J6(t)):null}function L6(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ik(t){return t._rawValidators}function sk(t){return t._rawAsyncValidators}function JE(t){return t?Array.isArray(t)?t:[t]:[]}function P0(t,e){return Array.isArray(t)?t.includes(e):t===e}function V6(t,e){let n=JE(e);return JE(t).forEach(i=>{P0(n,i)||n.push(i)}),n}function j6(t,e){return JE(e).filter(n=>!P0(t,n))}var F0=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Wc=class extends F0{name;get formDirective(){return null}get path(){return null}},Gc=class extends F0{_parent=null;name=null;valueAccessor=null},L0=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Or=(()=>{class t extends L0{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(mt(Gc,2))};static \u0275dir=Tn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Tr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Gr]})}return t})(),Qr=(()=>{class t extends L0{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(mt(Wc,10))};static \u0275dir=Tn({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Tr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Gr]})}return t})();var Qf="VALID",N0="INVALID",Iu="PENDING",Zf="DISABLED",Fa=class{},V0=class extends Fa{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Jf=class extends Fa{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},eh=class extends Fa{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Tu=class extends Fa{status;source;constructor(e,n){super(),this.status=e,this.source=n}},eC=class extends Fa{source;constructor(e){super(),this.source=e}},th=class extends Fa{source;constructor(e){super(),this.source=e}};function aC(t){return(H0(t)?t.validators:t)||null}function C$(t){return Array.isArray(t)?tk(t):t||null}function cC(t,e){return(H0(e)?e.asyncValidators:t)||null}function x$(t){return Array.isArray(t)?rk(t):t||null}function H0(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ok(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Qe(1e3,"");if(!r[n])throw new Qe(1001,"")}function ak(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Qe(1002,"")})}var Du=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Jn(this.statusReactive)}set status(e){Jn(()=>this.statusReactive.set(e))}_status=kl(()=>this.statusReactive());statusReactive=xi(void 0);get valid(){return this.status===Qf}get invalid(){return this.status===N0}get pending(){return this.status==Iu}get disabled(){return this.status===Zf}get enabled(){return this.status!==Zf}errors;get pristine(){return Jn(this.pristineReactive)}set pristine(e){Jn(()=>this.pristineReactive.set(e))}_pristine=kl(()=>this.pristineReactive());pristineReactive=xi(!0);get dirty(){return!this.pristine}get touched(){return Jn(this.touchedReactive)}set touched(e){Jn(()=>this.touchedReactive.set(e))}_touched=kl(()=>this.touchedReactive());touchedReactive=xi(!1);get untouched(){return!this.touched}_events=new Bn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(V6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(V6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(j6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(j6(e,this._rawAsyncValidators))}hasValidator(e){return P0(this._rawValidators,e)}hasAsyncValidator(e){return P0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(je(ve({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new eh(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new eh(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(je(ve({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Jf(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Jf(!0,r))}markAsPending(e={}){this.status=Iu;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tu(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(je(ve({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zf,this.errors=null,this._forEachChild(i=>{i.disable(je(ve({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new V0(this.value,r)),this._events.next(new Tu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(je(ve({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qf,this._forEachChild(r=>{r.enable(je(ve({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(je(ve({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qf||this.status===Iu)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new V0(this.value,n)),this._events.next(new Tu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(je(ve({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zf:Qf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Iu,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=X6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Tu(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Nn,this.statusChanges=new Nn}_calculateStatus(){return this._allControlsDisabled()?Zf:this.errors?N0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iu)?Iu:this._anyControlsHaveStatus(N0)?N0:Qf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Jf(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new eh(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){H0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=C$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=x$(this._rawAsyncValidators)}},j0=class extends Du{constructor(e,n,r){super(aC(n),cC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ak(this,!0,e),Object.keys(e).forEach(r=>{ok(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,je(ve({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new th(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tC=class extends j0{};var z0=new ot("",{factory:()=>q0}),q0="always";function ck(t,e){return[...e.path,t]}function nC(t,e,n=q0){lC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),I$(t,e),D$(t,e),T$(t,e),S$(t,e)}function B6(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),U0(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function B0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function S$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function lC(t,e){let n=ik(t);e.validator!==null?t.setValidators(L6(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sk(t);e.asyncValidator!==null?t.setAsyncValidators(L6(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();B0(e._rawValidators,i),B0(e._rawAsyncValidators,i)}function U0(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=ik(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=sk(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return B0(e._rawValidators,r),B0(e._rawAsyncValidators,r),n}function I$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&lk(t,e)})}function T$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&lk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function lk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function A$(t,e){t==null,lC(t,e)}function M$(t,e){return U0(t,e)}function uk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function k$(t){return Object.getPrototypeOf(t.constructor)===$0}function R$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===pr?n=s:k$(s)?r=s:i=s}),i||r||n||null}function N$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function U6(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $6(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Nr=class extends Du{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(aC(n),cC(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),H0(n)&&(n.nonNullable||n.initialValueIsDefault)&&($6(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new th(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){U6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){U6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O$=t=>t instanceof Nr;var P$={provide:Gc,useExisting:pi(()=>Kc)},H6=Promise.resolve(),Kc=(()=>{class t extends Gc{_changeDetectorRef;callSetDisabledState;control=new Nr;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Nn;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dk(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){H6.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&da(r);H6.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ck(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(mt(Wc,9),mt(nh,10),mt(oC,10),mt(Au,10),mt($s,8),mt(z0,8))};static \u0275dir=Tn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[hs([P$]),Gr,mi]})}return t})();var Zr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Tn({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),F$={provide:Au,useExisting:pi(()=>Yc),multi:!0},Yc=(()=>{class t extends $0{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275dir=Tn({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ue("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[hs([F$]),Gr]})}return t})();var rC=class extends Du{constructor(e,n,r){super(aC(n),cC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ak(this,!1,e),e.forEach((r,i)=>{ok(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],je(ve({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new th(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var L$=(()=>{class t extends Wc{callSetDisabledState;get submitted(){return Jn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=kl(()=>this._submittedReactive());_submittedReactive=xi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this.onChanges(n)}ngOnDestroy(){this.onDestroy()}onChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(U0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(n){let r=this.form.get(n.path);return nC(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){B6(n.control||null,n,!1),N$(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}getFormArray(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}updateModel(n,r){this.form.get(n.path).setValue(r)}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}onSubmit(n){return this.submitted=!0,R$(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new eC(this.control)),n?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(B6(r||null,n),O$(i)&&(nC(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);A$(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&M$(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lC(this.form,this),this._oldForm&&U0(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(mt(nh,10),mt(oC,10),mt(z0,8))};static \u0275dir=Tn({type:t,features:[Gr,mi]})}return t})();var fk=new ot("");var V$={provide:Gc,useExisting:pi(()=>jr)},jr=(()=>{class t extends Gc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Nn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dk(this,s)}ngOnChanges(n){this._added||this._setUpControl(),uk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ck(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(mt(Wc,13),mt(nh,10),mt(oC,10),mt(Au,10),mt(fk,8))};static \u0275dir=Tn({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[hs([V$]),Gr,mi]})}return t})();var j$={provide:Wc,useExisting:pi(()=>Br)},Br=(()=>{class t extends L${form=null;ngSubmit=new Nn;get control(){return this.form}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275dir=Tn({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ue("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[hs([j$]),Gr]})}return t})(),B$={provide:Au,useExisting:pi(()=>La),multi:!0};function hk(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function U$(t){return t.split(":")[0]}var La=(()=>{class t extends $0{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=me(ca).injector;destroyRef=me(us);cdr=me($s);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Kp({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=hk(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=U$(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275dir=Tn({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ue("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hs([B$]),Gr]})}return t})(),Mu=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(hk(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(mt(Wr),mt(zi),mt(La,9))};static \u0275dir=Tn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),$$={provide:Au,useExisting:pi(()=>pk),multi:!0};function z6(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function H$(t){return t.split(":")[0]}var pk=(()=>{class t extends $0{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);i.push(u)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=H$(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275dir=Tn({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ue("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hs([$$]),Gr]})}return t})(),ku=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(z6(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(z6(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(mt(Wr),mt(zi),mt(pk,9))};static \u0275dir=Tn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function z$(t){return typeof t=="number"?t:parseFloat(t)}var mk=(()=>{class t{_validator=O0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):O0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Tn({type:t,features:[mi]})}return t})();var q$={provide:nh,useExisting:pi(()=>rh),multi:!0},rh=(()=>{class t extends mk{min;inputName="min";normalizeInput=n=>z$(n);createValidator=n=>G6(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275dir=Tn({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ln("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[hs([q$]),Gr]})}return t})(),W$={provide:nh,useExisting:pi(()=>uC),multi:!0};var uC=(()=>{class t extends mk{required;inputName="required";normalizeInput=da;createValidator=n=>K6;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ii(t)))(i||t)}})();static \u0275dir=Tn({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ln("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[hs([W$]),Gr]})}return t})();var gk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vs({type:t});static \u0275inj=ss({})}return t})();function q6(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Jr=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return q6(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new j0(i,s)}record(n,r=null){let i=this._reduceControls(n);return new tC(i,r)}control(n,r,i){let s={};return this.useNonNullable?(q6(r)?s=r:(s.validators=r,s.asyncValidators=i),new Nr(n,je(ve({},s),{nonNullable:!0}))):new Nr(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new rC(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Nr)return n;if(n instanceof Du)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ru=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:z0,useValue:n.callSetDisabledState??q0}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vs({type:t});static \u0275inj=ss({imports:[gk]})}return t})(),ei=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:fk,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:z0,useValue:n.callSetDisabledState??q0}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vs({type:t});static \u0275inj=ss({imports:[gk]})}return t})();function G$(t,e){t&1&&(G(0,"small",19),J(1," Informe um e-mail v\xE1lido. "),q())}function K$(t,e){t&1&&(G(0,"small",19),J(1," Senha m\xEDnima de 6 caracteres. "),q())}function Y$(t,e){if(t&1&&(G(0,"div",7)(1,"div",20),J(2),q()()),t&2){let n=Ee();ee(2),Ze(n.message)}}var W0=class t{fb=me(Jr);auth=me(jn);router=me(ci);message="";loading=!1;showPassword=!1;form=this.fb.group({email:["",[ct.required,ct.email]],password:["",[ct.required,ct.minLength(6)]]});async onSubmit(){if(this.message="",this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0;try{let{email:e,password:n}=this.form.value;await An(this.auth.login(e,n)),await this.router.navigate(["/app/dashboard"])}catch(e){this.message=e?.message??"Erro ao entrar"}finally{this.loading=!1}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-login"]],decls:32,vars:8,consts:[[1,"auth-wrapper","d-flex","align-items-center","justify-content-center"],[1,"auth-card","p-4","p-md-5","shadow-lg"],[1,"mb-4","text-center"],[1,"text-uppercase","text-primary","fw-semibold","letter-spacing"],[1,"fw-bold","mb-2"],[1,"text-secondary"],[1,"row","g-3",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"form-label","text-secondary"],["type","email","placeholder","Seu e-mail","formControlName","email",1,"form-control","glass-input"],["class","text-danger",4,"ngIf"],[1,"input-group"],["placeholder","Sua senha","formControlName","password",1,"form-control","glass-input",3,"type"],["type","button","aria-label","Mostrar ou ocultar senha",1,"btn","btn-outline-light",3,"click"],[1,"bi",3,"ngClass"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"],[1,"col-12","text-center"],["routerLink","/auth/register",1,"ms-2","text-primary"],["class","col-12",4,"ngIf"],[1,"text-danger"],[1,"alert","alert-danger","mb-0"]],template:function(n,r){if(n&1&&(G(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),J(4,"GestaoDeGastos"),q(),G(5,"h2",4),J(6,"Bem-vindo"),q(),G(7,"p",5),J(8,"Acesse sua conta para continuar controlando seus gastos."),q()(),G(9,"form",6),Ue("ngSubmit",function(){return r.onSubmit()}),G(10,"div",7)(11,"label",8),J(12,"E-mail"),q(),xe(13,"input",9),_e(14,G$,2,0,"small",10),q(),G(15,"div",7)(16,"label",8),J(17,"Senha"),q(),G(18,"div",11),xe(19,"input",12),G(20,"button",13),Ue("click",function(){return r.showPassword=!r.showPassword}),xe(21,"i",14),q()(),_e(22,K$,2,0,"small",10),q(),G(23,"div",7)(24,"button",15),J(25),q()(),G(26,"div",16)(27,"span",5),J(28,"Ainda n\xE3o tem conta?"),q(),G(29,"a",17),J(30,"Criar conta"),q()(),_e(31,Y$,3,1,"div",18),q()()()),n&2){let i,s;ee(9),ae("formGroup",r.form),ee(5),ae("ngIf",((i=r.form.get("email"))==null?null:i.touched)&&((i=r.form.get("email"))==null?null:i.invalid)),ee(5),ae("type",r.showPassword?"text":"password"),ee(2),ae("ngClass",r.showPassword?"bi-eye-slash":"bi-eye"),ee(),ae("ngIf",((s=r.form.get("password"))==null?null:s.touched)&&((s=r.form.get("password"))==null?null:s.invalid)),ee(2),ae("disabled",r.loading),ee(),at(" ",r.loading?"Entrando...":"Entrar"," "),ee(6),ae("ngIf",r.message)}},dependencies:[bn,sr,Rn,ei,Zr,pr,Or,Qr,Br,jr,gi],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 20%,rgba(59,130,246,.08),transparent 35%),radial-gradient(circle at 80% 0%,rgba(16,185,129,.08),transparent 30%),var(--bg-gradient)}.auth-card[_ngcontent-%COMP%]{max-width:420px;width:100%;border-radius:18px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff0f;border:1px solid rgba(255,255,255,.1)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133;background:#ffffff1f;color:#fff}.letter-spacing[_ngcontent-%COMP%]{letter-spacing:.08em}"]})};function X$(t,e){t&1&&(G(0,"small",26),J(1," Informe um nome v\xE1lido. "),q())}function Q$(t,e){t&1&&(G(0,"small",26),J(1," Informe um sobrenome v\xE1lido. "),q())}function Z$(t,e){t&1&&(G(0,"small",26),J(1," Informe uma data v\xE1lida. "),q())}function J$(t,e){t&1&&(G(0,"div",26),J(1," Voc\xEA precisa ter pelo menos 18 anos. "),q())}function eH(t,e){t&1&&(G(0,"small",26),J(1," Informe um e-mail v\xE1lido. "),q())}function tH(t,e){t&1&&(G(0,"small",26),J(1," M\xEDnimo de 6 caracteres. "),q())}function nH(t,e){t&1&&(G(0,"small",26),J(1," As senhas n\xE3o conferem. "),q())}function rH(t,e){if(t&1&&(G(0,"div",21)(1,"div",27),J(2),q()()),t&2){let n=Ee();ee(2),Ze(n.message)}}var G0=class t{fb=me(Jr);auth=me(jn);router=me(ci);message="";loading=!1;showPassword=!1;showConfirmPassword=!1;form=this.fb.group({firstName:["",[ct.required,ct.minLength(2)]],lastName:["",[ct.required,ct.minLength(2)]],birthDate:[null,ct.required],email:["",[ct.required,ct.email]],password:["",[ct.required,ct.minLength(6)]],confirmPassword:["",[ct.required]]},{validators:e=>e.get("password")?.value===e.get("confirmPassword")?.value?null:{mismatch:!0}});async onSubmit(){if(this.message="",this.form.invalid){this.form.markAllAsTouched();return}let e=this.form.value.birthDate,n=this.calculateAge(e);if(n<18){this.form.get("birthDate")?.setErrors({underage:!0});return}this.loading=!0;try{let{email:r,password:i,firstName:s,lastName:o}=this.form.value;await this.auth.register(r,i,{firstName:s,lastName:o,birthDate:e,age:n}),await this.router.navigate(["/app/dashboard"])}catch(r){this.message=r?.message??"Erro ao criar conta"}finally{this.loading=!1}}calculateAge(e){if(!e)return 0;let n=Qi(e);if(!n)return 0;let r=new Date,i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return(s<0||s===0&&r.getDate()<n.getDate())&&i--,i}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-register"]],decls:56,vars:15,consts:[[1,"auth-wrapper","d-flex","align-items-center","justify-content-center"],[1,"auth-card","p-4","p-md-5","shadow-lg"],[1,"mb-4","text-center"],[1,"text-uppercase","text-primary","fw-semibold","letter-spacing"],[1,"fw-bold","mb-2"],[1,"text-secondary"],[1,"row","g-3",3,"ngSubmit","formGroup"],[1,"col-md-6"],[1,"form-label","text-secondary"],["type","text","placeholder","Nome","formControlName","firstName",1,"form-control","glass-input"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Sobrenome","formControlName","lastName",1,"form-control","glass-input"],[1,"col-md-4"],["type","date","formControlName","birthDate","required","",1,"form-control","glass-input"],[1,"col-md-8"],["type","email","placeholder","seu@email.com","formControlName","email",1,"form-control","glass-input"],[1,"input-group"],["formControlName","password","placeholder","M\xEDnimo 6 caracteres",1,"form-control","glass-input",3,"type"],["type","button","aria-label","Mostrar ou ocultar senha",1,"btn","btn-outline-light",3,"click"],[1,"bi",3,"ngClass"],["formControlName","confirmPassword","placeholder","Confirme sua senha",1,"form-control","glass-input",3,"type"],[1,"col-12"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"],[1,"col-12","text-center"],["routerLink","/auth/login",1,"ms-2","text-primary"],["class","col-12",4,"ngIf"],[1,"text-danger"],[1,"alert","alert-danger","mb-0"]],template:function(n,r){if(n&1&&(G(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),J(4,"GestaoDeGastos"),q(),G(5,"h2",4),J(6,"Crie sua conta"),q(),G(7,"p",5),J(8,"Organize seus gastos com um visual futurista e leve."),q()(),G(9,"form",6),Ue("ngSubmit",function(){return r.onSubmit()}),G(10,"div",7)(11,"label",8),J(12,"Nome"),q(),xe(13,"input",9),_e(14,X$,2,0,"small",10),q(),G(15,"div",7)(16,"label",8),J(17,"Sobrenome"),q(),xe(18,"input",11),_e(19,Q$,2,0,"small",10),q(),G(20,"div",12)(21,"label",8),J(22,"Data de nascimento"),q(),xe(23,"input",13),_e(24,Z$,2,0,"small",10)(25,J$,2,0,"div",10),q(),G(26,"div",14)(27,"label",8),J(28,"E-mail"),q(),xe(29,"input",15),_e(30,eH,2,0,"small",10),q(),G(31,"div",7)(32,"label",8),J(33,"Senha"),q(),G(34,"div",16),xe(35,"input",17),G(36,"button",18),Ue("click",function(){return r.showPassword=!r.showPassword}),xe(37,"i",19),q()(),_e(38,tH,2,0,"small",10),q(),G(39,"div",7)(40,"label",8),J(41,"Confirmar senha"),q(),G(42,"div",16),xe(43,"input",20),G(44,"button",18),Ue("click",function(){return r.showConfirmPassword=!r.showConfirmPassword}),xe(45,"i",19),q()(),_e(46,nH,2,0,"small",10),q(),G(47,"div",21)(48,"button",22),J(49),q()(),G(50,"div",23)(51,"span",5),J(52,"J\xE1 possui conta?"),q(),G(53,"a",24),J(54,"Entrar"),q()(),_e(55,rH,3,1,"div",25),q()()()),n&2){let i,s,o,a,c,u,l;ee(9),ae("formGroup",r.form),ee(5),ae("ngIf",((i=r.form.get("firstName"))==null?null:i.touched)&&((i=r.form.get("firstName"))==null?null:i.invalid)),ee(5),ae("ngIf",((s=r.form.get("lastName"))==null?null:s.touched)&&((s=r.form.get("lastName"))==null?null:s.invalid)),ee(5),ae("ngIf",((o=r.form.get("birthDate"))==null?null:o.touched)&&((o=r.form.get("birthDate"))==null?null:o.invalid)),ee(),ae("ngIf",(a=r.form.get("birthDate"))==null||a.errors==null?null:a.errors.underage),ee(5),ae("ngIf",((c=r.form.get("email"))==null?null:c.touched)&&((c=r.form.get("email"))==null?null:c.invalid)),ee(5),ae("type",r.showPassword?"text":"password"),ee(2),ae("ngClass",r.showPassword?"bi-eye-slash":"bi-eye"),ee(),ae("ngIf",((u=r.form.get("password"))==null?null:u.touched)&&((u=r.form.get("password"))==null?null:u.invalid)),ee(5),ae("type",r.showConfirmPassword?"text":"password"),ee(2),ae("ngClass",r.showConfirmPassword?"bi-eye-slash":"bi-eye"),ee(),ae("ngIf",(r.form.errors==null?null:r.form.errors.mismatch)&&((l=r.form.get("confirmPassword"))==null?null:l.touched)),ee(2),ae("disabled",r.loading),ee(),at(" ",r.loading?"Criando...":"Criar conta"," "),ee(6),ae("ngIf",r.message)}},dependencies:[bn,sr,Rn,ei,Zr,pr,Or,Qr,uC,Br,jr,gi],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 20%,rgba(59,130,246,.08),transparent 35%),radial-gradient(circle at 80% 0%,rgba(16,185,129,.08),transparent 30%),var(--bg-gradient)}.auth-card[_ngcontent-%COMP%]{max-width:640px;width:100%;border-radius:18px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff0f;border:1px solid rgba(255,255,255,.1)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133;background:#ffffff1f;color:#fff}.letter-spacing[_ngcontent-%COMP%]{letter-spacing:.08em}"]})};function iH(t,e){if(t&1){let n=ln();G(0,"li")(1,"a",8),Ue("click",function(){nt(n);let i=Ee();return rt(i.navigate.emit())}),xe(2,"i",9),G(3,"span"),J(4),q()()()}if(t&2){let n=e.$implicit;ee(),ae("routerLink",n.path),ee(),ae("ngClass",n.icon),ee(2),Ze(n.label)}}function sH(t,e){if(t&1){let n=ln();G(0,"div",10)(1,"a",8),Ue("click",function(){nt(n);let i=Ee();return rt(i.navigate.emit())}),xe(2,"i",9),G(3,"span"),J(4),q()(),G(5,"a",8),Ue("click",function(){nt(n);let i=Ee();return rt(i.navigate.emit())}),xe(6,"i",9),G(7,"span"),J(8),q()(),G(9,"div",11),J(10,"Gestao de Gastos - Pedro Krieger"),q()()}if(t&2){let n=Ee();ee(),ae("routerLink",n.links[n.links.length-2].path),ee(),ae("ngClass",n.links[n.links.length-2].icon),ee(2),Ze(n.links[n.links.length-2].label),ee(),ae("routerLink",n.links[n.links.length-1].path),ee(),ae("ngClass",n.links[n.links.length-1].icon),ee(2),Ze(n.links[n.links.length-1].label)}}var K0=class t{isOpen=!0;navigate=new Nn;links=[{label:"Dashboard",icon:"bi-speedometer2",path:"/app/dashboard"},{label:"Lan\xE7amentos",icon:"bi-arrow-left-right",path:"/app/transactions"},{label:"Contas",icon:"bi-wallet2",path:"/app/accounts"},{label:"Categorias",icon:"bi-collection",path:"/app/categories"},{label:"Metas",icon:"bi-bullseye",path:"/app/budgets"},{label:"Relat\xF3rios",icon:"bi-graph-up",path:"/app/reports"},{label:"Ajuda",icon:"bi-question-circle",path:"/app/ajuda"},{label:"Configura\xE7\xF5es",icon:"bi-gear",path:"/app/settings"}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-sidebar"]],inputs:{isOpen:"isOpen"},outputs:{navigate:"navigate"},decls:12,vars:4,consts:[[1,"sidebar","glass-card"],[1,"sidebar-main"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"text-uppercase","text-primary","fw-semibold","small"],[1,"fw-bold","fs-5"],[1,"list-unstyled","d-flex","flex-column","gap-2"],[4,"ngFor","ngForOf"],["class","sidebar-footer",4,"ngIf"],["routerLinkActive","active",1,"sidebar-link","d-flex","align-items-center","gap-3",3,"click","routerLink"],[1,"bi",3,"ngClass"],[1,"sidebar-footer"],[1,"sidebar-watermark"]],template:function(n,r){n&1&&(G(0,"aside",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),J(5,"GestaoDeGastos"),q(),G(6,"div",4),J(7,"Painel"),q()()(),G(8,"nav")(9,"ul",5),_e(10,iH,5,3,"li",6),q()()(),_e(11,sH,11,6,"div",7),q()),n&2&&(Tr("open",r.isOpen),ee(10),ae("ngForOf",r.links.slice(0,-2)),ee(),ae("ngIf",r.links.length>1))},dependencies:[bn,sr,er,Rn,gi,l_],styles:[".sidebar[_ngcontent-%COMP%]{width:250px;min-height:100vh;height:100vh;position:fixed;top:0;left:0;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;transition:transform .3s ease,opacity .3s ease}@media(max-width:991px){.sidebar[_ngcontent-%COMP%]{position:fixed;inset:0 auto 0 0;z-index:1050;transform:translate(-100%);opacity:0}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0);opacity:1}}.sidebar-link[_ngcontent-%COMP%]{padding:.75rem .9rem;border-radius:12px;color:#cdd5df;text-decoration:none;transition:background-color .2s ease,color .2s ease,transform .2s ease}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff14;color:#fff;transform:translate(4px)}.sidebar-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6366f133,#22d3ee2e);color:#fff;border:1px solid rgba(255,255,255,.08)}.sidebar-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:#8b5cf6}.sidebar-footer[_ngcontent-%COMP%]{margin-top:auto;padding-top:.75rem;display:flex;flex-direction:column;gap:.35rem}.sidebar-watermark[_ngcontent-%COMP%]{padding:0 .9rem;font-size:.7rem;color:#cdd5df;opacity:.6}"]})};var Y0=class t{auth=me(jn);router=me(ci);toggleSidebar=new Nn;user$=this.auth.user$;profile$=this.auth.profile$;logout(){this.auth.logout().subscribe({next:()=>this.router.navigate(["/auth/login"])})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-navbar"]],outputs:{toggleSidebar:"toggleSidebar"},decls:20,vars:8,consts:[[1,"navbar","glass-card","mb-3"],[1,"d-flex","align-items-center","gap-3"],["type","button",1,"btn","btn-outline-light","d-lg-none",3,"click"],[1,"bi","bi-list"],[1,"text-uppercase","text-secondary","small"],[1,"fw-bold"],[1,"text-end"],[1,"small","text-secondary"],[1,"fw-semibold"],[1,"btn","btn-sm","btn-outline-light",3,"click"]],template:function(n,r){if(n&1&&(js(0,"nav",0)(1,"div",1)(2,"button",2),Fd("click",function(){return r.toggleSidebar.emit()}),im(3,"i",3),Bs(),js(4,"div")(5,"div",4),J(6,"GestaoDeGastos"),Bs(),js(7,"div",5),J(8,"Futuro das suas finan\xE7as"),Bs()()(),js(9,"div",1)(10,"div",6)(11,"div",7),J(12),Xe(13,"async"),Xe(14,"async"),Bs(),js(15,"div",8),J(16),Xe(17,"async"),Bs()(),js(18,"button",9),Fd("click",function(){return r.logout()}),J(19,"Sair"),Bs()()()),n&2){let i,s;ee(12),at(" ",((i=hn(13,2,r.profile$))==null?null:i.firstName)||((i=hn(14,4,r.user$))==null?null:i.email)," "),ee(4),Ze((s=hn(17,6,r.user$))==null?null:s.email)}},dependencies:[bn,Lr],styles:[".navbar[_ngcontent-%COMP%]{border-radius:16px;padding:1rem 1.25rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff0a;border:1px solid rgba(255,255,255,.06);color:#e5e7eb;display:flex;justify-content:space-between;align-items:center;position:fixed;top:0;left:var(--sidebar-width);right:0;height:var(--navbar-height);z-index:1030}@media(max-width:991px){.navbar[_ngcontent-%COMP%]{left:0}}"]})};var X0=class t{sidebarOpen=!0;toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}handleNavigate(){window.innerWidth<992&&(this.sidebarOpen=!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-shell-layout"]],decls:6,vars:1,consts:[[1,"shell-wrapper","d-flex"],[3,"navigate","isOpen"],[1,"flex-grow-1","main-area"],[3,"toggleSidebar"],[1,"content-area"]],template:function(n,r){n&1&&(G(0,"div",0)(1,"app-sidebar",1),Ue("navigate",function(){return r.handleNavigate()}),q(),G(2,"div",2)(3,"app-navbar",3),Ue("toggleSidebar",function(){return r.toggleSidebar()}),q(),G(4,"div",4),xe(5,"router-outlet"),q()()()),n&2&&(ee(),ae("isOpen",r.sidebarOpen))},dependencies:[bn,vc,K0,Y0],styles:[".shell-wrapper[_ngcontent-%COMP%]{min-height:100vh;height:100vh;overflow:hidden;background:var(--bg-gradient);color:#e5e7eb;--sidebar-width: 250px;--navbar-height: 72px}.main-area[_ngcontent-%COMP%]{width:calc(100% - var(--sidebar-width));margin-left:var(--sidebar-width);height:100vh;overflow:hidden;padding:0}.content-area[_ngcontent-%COMP%]{height:100vh;overflow-y:auto;padding:calc(var(--navbar-height) + 1.25rem) 1.25rem 1.25rem}@media(max-width:991px){.main-area[_ngcontent-%COMP%]{margin-left:0;width:100%}.content-area[_ngcontent-%COMP%]{padding:calc(var(--navbar-height) + 1rem) 1rem 1rem}}"]})};var Zi=class t{firestore=me(ui);listByRange$(e,n,r){let i=Vr(this.firestore,`users/${e}/transactions`),s=di(n),o=di(r);return so(i,{idField:"id"}).pipe(Be(a=>a.map(c=>je(ve({},c),{date:xu(c.date)})).filter(c=>c.date&&c.date>=s&&c.date<=o).sort((c,u)=>c.date<u.date?1:c.date>u.date?-1:0).slice(0,2e3)))}listRecent$(e,n=5){let r=Vr(this.firestore,`users/${e}/transactions`);return so(r,{idField:"id"}).pipe(Be(i=>i.map(s=>je(ve({},s),{date:xu(s.date)})).sort((s,o)=>s.date<o.date?1:s.date>o.date?-1:0).slice(0,n)))}listAll$(e){let n=Vr(this.firestore,`users/${e}/transactions`);return so(n,{idField:"id"}).pipe(Be(r=>r.map(i=>je(ve({},i),{date:xu(i.date)})).sort((i,s)=>i.date<s.date?1:i.date>s.date?-1:0)))}listMonth$(e,n,r){let i=new Date(r,n-1,1,0,0,0),s=new Date(r,n,0,23,59,59);return this.listByRange$(e,i,s)}listMonthExpensesByCategory$(e,n,r){let i=new Date(r,n-1,1,0,0,0),s=new Date(r,n,0,23,59,59);return this.listByRange$(e,i,s).pipe(Be(o=>o.filter(a=>a.type==="expense").reduce((a,c)=>{let u=c.categoryId||"uncategorized";return a[u]=(a[u]||0)+c.amount,a},{})))}async add(e,n){let r=Vr(this.firestore,`users/${e}/transactions`);await Oa(r,je(ve({},n),{categoryId:n.categoryId||null,accountId:n.accountId||null,accountOriginId:n.accountOriginId||null,accountDestinationId:n.accountDestinationId||null,notes:n.notes||null,date:n.date,createdAt:Xi()}))}async update(e,n,r){let i=Xr(this.firestore,`users/${e}/transactions/${n}`);await oo(i,je(ve({},r),{categoryId:r.categoryId||null,accountId:r.accountId||null,accountOriginId:r.accountOriginId||null,accountDestinationId:r.accountDestinationId||null,notes:r.notes||null,date:r.date}))}async delete(e,n){let r=Xr(this.firestore,`users/${e}/transactions/${n}`);await Pa(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var ao=class t{firestore=me(ui);list$(e){let n=Vr(this.firestore,`users/${e}/accounts`),r=qc(n,M0("name"),zc(1e3));return so(r,{idField:"id"}).pipe(Be(i=>i.map(s=>je(ve({},s),{initialBalance:Number(s.initialBalance??0)}))))}async add(e,n){let r=Vr(this.firestore,`users/${e}/accounts`);await Oa(r,je(ve({},n),{initialBalance:Number(n.initialBalance??0),createdAt:Xi()}))}async update(e,n,r){let i=Xr(this.firestore,`users/${e}/accounts/${n}`);await oo(i,ve(ve({},r),r.initialBalance!==void 0?{initialBalance:Number(r.initialBalance)}:{}))}async delete(e,n){let r=Vr(this.firestore,`users/${e}/transactions`),i=qc(r,k0("accountId","==",n),zc(1));if(!(await Hc(i)).empty)throw new Error("Conta em uso em lan\xE7amentos. N\xE3o \xE9 poss\xEDvel excluir.");let o=Xr(this.firestore,`users/${e}/accounts/${n}`);await Pa(o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var dC=t=>[t,"BRL","symbol","1.2-2","pt-BR"];function aH(t,e){if(t&1&&(Ns(),G(0,"g")(1,"text",16),J(2),q(),xe(3,"rect",17)(4,"rect",18),G(5,"text",19),J(6),Xe(7,"currency"),q()()),t&2){let n=e.$implicit,r=Ee(2);ee(),Ln("x",0)("y",n.labelY),ee(),at(" ",n.label," "),ee(),Ln("x",r.barAreaX)("y",n.y)("width",r.barTrackWidth)("height",r.barChartBarHeight),ee(),Ln("x",r.barAreaX)("y",n.y)("width",n.width)("height",r.barChartBarHeight)("fill",n.color),ee(),Ln("x",r.barValueX)("y",n.labelY),ee(),at(" ",Qt(7,15,Xt(21,dC,n.value))," ")}}function cH(t,e){if(t&1&&(Et(0),Ns(),G(1,"svg",14),_e(2,aH,8,23,"g",15),q(),Ct()),t&2){let n=Ee();ee(),Ln("viewBox",n.barChartViewBox)("height",n.barChartHeight),ee(),ae("ngForOf",n.barRows)}}function lH(t,e){t&1&&(G(0,"div",20),J(1,"Sem dados no per\xEDodo"),q())}function uH(t,e){if(t&1&&(Ns(),xe(0,"line")),t&2){let n=e.$implicit,r=Ee(2);Ln("x1",r.linePaddingX)("x2",r.linePaddingX+r.linePlotWidth)("y1",n)("y2",n)}}function dH(t,e){if(t&1&&(Ns(),G(0,"text",27),J(1),q()),t&2){let n=e.$implicit,r=Ee(2);Ln("x",n.x)("y",r.lineLabelY),ee(),at(" ",n.text," ")}}function fH(t,e){if(t&1&&(Et(0),Ns(),G(1,"svg",21)(2,"g",22),_e(3,uH,1,4,"line",15),q(),xe(4,"path",23)(5,"path",24),G(6,"g",25),_e(7,dH,2,3,"text",26),q()(),Ct()),t&2){let n=Ee();ee(),Ln("viewBox",n.lineChartViewBox)("height",n.lineChartHeight),ee(2),ae("ngForOf",n.lineGrid),ee(),Ln("d",n.lineIncomePath),ee(),Ln("d",n.lineExpensePath),ee(2),ae("ngForOf",n.lineLabels)}}function hH(t,e){t&1&&(G(0,"div",20),J(1,"Sem dados no per\xEDodo"),q())}function pH(t,e){if(t&1&&(Ns(),xe(0,"path")),t&2){let n=e.$implicit;Ln("d",n.path)("fill",n.color)}}function mH(t,e){if(t&1&&(G(0,"div",35),xe(1,"span",36),G(2,"span",37),J(3),q(),G(4,"span",38),J(5),Xe(6,"currency"),q()()),t&2){let n=e.$implicit;ee(),Us("background",n.color),ee(2),Ze(n.label),ee(2),at(" ",Qt(6,4,Xt(10,dC,n.value))," ")}}function gH(t,e){if(t&1&&(Et(0),G(1,"div",28),Ns(),G(2,"svg",29)(3,"g"),_e(4,pH,1,2,"path",15),xe(5,"circle",30),G(6,"text",31),J(7," Total "),q(),G(8,"text",32),J(9),Xe(10,"currency"),q()()(),mp(),G(11,"div",33),_e(12,mH,7,12,"div",34),q()(),Ct()),t&2){let n=Ee();ee(2),Ln("viewBox",n.donutViewBox)("height",n.donutSize),ee(2),ae("ngForOf",n.donutSegments),ee(),Ln("cx",n.donutCenter)("cy",n.donutCenter)("r",n.donutInnerRadius),ee(),Ln("x",n.donutCenter)("y",n.donutCenter-6),ee(2),Ln("x",n.donutCenter)("y",n.donutCenter+12),ee(),at(" ",Qt(10,12,Xt(18,dC,n.donutTotal))," "),ee(3),ae("ngForOf",n.donutSegments)}}function yH(t,e){t&1&&(G(0,"div",20),J(1,"Sem dados no per\xEDodo"),q())}var Q0=class t{topCategorias=[];seriesDiariaEntradas=[];seriesDiariaSaidas=[];contasSaldos=[];barChartWidth=360;barChartLabelWidth=130;barChartValuePadding=72;barChartBarHeight=10;barChartRowHeight=22;barChartTop=12;barChartHeight=140;barChartViewBox=`0 0 ${this.barChartWidth} ${this.barChartHeight}`;barAreaX=this.barChartLabelWidth;barTrackWidth=this.barChartWidth-this.barChartLabelWidth-this.barChartValuePadding;barValueX=this.barChartWidth-6;barRows=[];barChartEmpty=!0;lineChartWidth=360;lineChartHeight=160;linePaddingX=14;linePaddingTop=12;linePaddingBottom=26;lineChartViewBox=`0 0 ${this.lineChartWidth} ${this.lineChartHeight}`;linePlotWidth=this.lineChartWidth-this.linePaddingX*2;linePlotHeight=this.lineChartHeight-this.linePaddingTop-this.linePaddingBottom;lineIncomePath="";lineExpensePath="";lineGrid=[];lineLabels=[];lineLabelY=this.lineChartHeight-8;lineChartEmpty=!0;donutSize=200;donutCenter=100;donutOuterRadius=72;donutInnerRadius=44;donutViewBox=`0 0 ${this.donutSize} ${this.donutSize}`;donutSegments=[];donutTotal=0;donutChartEmpty=!0;palette=["#5ad1ff","#f2a65a","#6ee7b7","#f472b6","#facc15","#60a5fa"];ngOnChanges(){this.buildBarChart(),this.buildLineChart(),this.buildDonutChart()}buildBarChart(){let e=(this.topCategorias??[]).filter(r=>r.total>0),n=Math.max(...e.map(r=>r.total),0);if(this.barChartEmpty=e.length===0||n<=0,this.barAreaX=this.barChartLabelWidth,this.barTrackWidth=this.barChartWidth-this.barChartLabelWidth-this.barChartValuePadding,this.barValueX=this.barChartWidth-6,this.barChartEmpty){this.barRows=[],this.barChartHeight=120,this.barChartViewBox=`0 0 ${this.barChartWidth} ${this.barChartHeight}`;return}this.barChartHeight=Math.max(120,this.barChartTop+e.length*this.barChartRowHeight),this.barChartViewBox=`0 0 ${this.barChartWidth} ${this.barChartHeight}`,this.barRows=e.map((r,i)=>{let s=this.barChartTop+i*this.barChartRowHeight,o=n>0?r.total/n*this.barTrackWidth:0;return{label:r.categoryName||"Categoria",value:r.total,color:r.categoryColor||this.palette[i%this.palette.length],y:s,width:o,labelY:s+this.barChartBarHeight/2}})}buildLineChart(){let e=this.seriesDiariaEntradas??[],n=this.seriesDiariaSaidas??[],r=Math.max(e.length,n.length),i=[...e,...n].map(c=>c.total),s=Math.max(...i,0);if(this.lineChartEmpty=r===0||s<=0,this.linePlotWidth=this.lineChartWidth-this.linePaddingX*2,this.linePlotHeight=this.lineChartHeight-this.linePaddingTop-this.linePaddingBottom,this.lineGrid=[this.linePaddingTop,this.linePaddingTop+this.linePlotHeight/2,this.linePaddingTop+this.linePlotHeight],this.lineChartEmpty){this.lineIncomePath="",this.lineExpensePath="",this.lineLabels=[];return}let o=this.buildLinePoints(e,r,s),a=this.buildLinePoints(n,r,s);this.lineIncomePath=this.buildLinePath(o),this.lineExpensePath=this.buildLinePath(a),this.lineLabels=this.buildLineLabels(r,e,n)}buildDonutChart(){let e=(this.contasSaldos??[]).filter(i=>i.currentBalance>0),n=e.reduce((i,s)=>i+s.currentBalance,0);if(this.donutTotal=n,this.donutChartEmpty=e.length===0||n<=0,this.donutChartEmpty){this.donutSegments=[];return}let r=-Math.PI/2;this.donutSegments=e.map((i,s)=>{let o=i.currentBalance,a=o/n*Math.PI*2,c=Math.min(a,Math.PI*2-1e-4),u=r,l=r+c;return r=l,{label:i.name||"Conta",value:o,percent:o/n*100,color:i.color||this.palette[s%this.palette.length],path:this.describeDonutArc(this.donutCenter,this.donutCenter,this.donutOuterRadius,this.donutInnerRadius,u,l)}})}buildLinePoints(e,n,r){return n===0||e.length===0?[]:e.map((i,s)=>{let o=n===1?this.linePaddingX+this.linePlotWidth/2:this.linePaddingX+s/(n-1)*this.linePlotWidth,a=r===0?this.linePaddingTop+this.linePlotHeight:this.linePaddingTop+(1-i.total/r)*this.linePlotHeight;return{x:o,y:a}})}buildLinePath(e){return e.length===0?"":e.map((n,r)=>`${r===0?"M":"L"} ${n.x} ${n.y}`).join(" ")}buildLineLabels(e,n,r){if(e===0)return[];let i=Math.floor((e-1)/2),s=e<=2?[0,e-1]:[0,i,e-1];return Array.from(new Set(s.filter(a=>a>=0))).map(a=>{let c=e===1?this.linePaddingX+this.linePlotWidth/2:this.linePaddingX+a/(e-1)*this.linePlotWidth,l=(n[a]?.day??r[a]?.day??a+1).toString().padStart(2,"0");return{x:c,text:l}})}polarToCartesian(e,n,r,i){return{x:e+r*Math.cos(i),y:n+r*Math.sin(i)}}describeDonutArc(e,n,r,i,s,o){let a=this.polarToCartesian(e,n,r,o),c=this.polarToCartesian(e,n,r,s),u=this.polarToCartesian(e,n,i,s),l=this.polarToCartesian(e,n,i,o),d=o-s>Math.PI?1:0;return[`M ${a.x} ${a.y}`,`A ${r} ${r} 0 ${d} 0 ${c.x} ${c.y}`,`L ${u.x} ${u.y}`,`A ${i} ${i} 0 ${d} 1 ${l.x} ${l.y}`,"Z"].join(" ")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-dashboard-charts"]],inputs:{topCategorias:"topCategorias",seriesDiariaEntradas:"seriesDiariaEntradas",seriesDiariaSaidas:"seriesDiariaSaidas",contasSaldos:"contasSaldos"},features:[mi],decls:36,vars:6,consts:[["barEmpty",""],["lineEmpty",""],["donutEmpty",""],[1,"row","g-3"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100","chart-card"],[1,"chart-header"],[1,"fw-semibold","mb-0"],[1,"text-secondary","small"],[4,"ngIf","ngIfElse"],[1,"chart-legend"],[1,"legend-item"],[1,"legend-dot","legend-income"],[1,"legend-dot","legend-expense"],["role","img","aria-label","Gastos por categoria",1,"chart-svg"],[4,"ngFor","ngForOf"],["dominant-baseline","middle",1,"chart-label"],["rx","6",1,"chart-bar-track"],["rx","6",1,"chart-bar"],["dominant-baseline","middle","text-anchor","end",1,"chart-value"],[1,"text-secondary","small","empty-state"],["role","img","aria-label","Entradas e saidas por dia",1,"chart-svg","line-chart"],[1,"chart-grid"],[1,"chart-line","chart-line-income"],[1,"chart-line","chart-line-expense"],[1,"chart-labels"],["text-anchor","middle",4,"ngFor","ngForOf"],["text-anchor","middle"],[1,"donut-layout"],["role","img","aria-label","Distribui\xE7\xE3o do saldo por conta",1,"chart-svg","donut-chart"],[1,"donut-hole"],["text-anchor","middle",1,"donut-label"],["text-anchor","middle",1,"donut-value"],[1,"donut-legend"],["class","donut-legend-row",4,"ngFor","ngForOf"],[1,"donut-legend-row"],[1,"legend-dot"],[1,"legend-label"],[1,"legend-value"]],template:function(n,r){if(n&1&&(G(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h6",7),J(5,"Gastos por categoria (Top 5)"),q(),G(6,"span",8),J(7,"M\xEAs atual"),q()(),_e(8,cH,3,3,"ng-container",9)(9,lH,2,0,"ng-template",null,0,nn),q()(),G(11,"div",4)(12,"div",5)(13,"div",6)(14,"h6",7),J(15,"Entradas x Sa\xEDdas por dia"),q(),G(16,"div",10)(17,"span",11),xe(18,"span",12),J(19," Entradas "),q(),G(20,"span",11),xe(21,"span",13),J(22," Sa\xEDdas "),q()()(),_e(23,fH,8,6,"ng-container",9)(24,hH,2,0,"ng-template",null,1,nn),q()(),G(26,"div",4)(27,"div",5)(28,"div",6)(29,"h6",7),J(30,"Distribui\xE7\xE3o do saldo por conta"),q(),G(31,"span",8),J(32,"Saldo atual"),q()(),_e(33,gH,13,20,"ng-container",9)(34,yH,2,0,"ng-template",null,2,nn),q()()()),n&2){let i=tn(10),s=tn(25),o=tn(35);ee(8),ae("ngIf",!r.barChartEmpty)("ngIfElse",i),ee(15),ae("ngIf",!r.lineChartEmpty)("ngIfElse",s),ee(10),ae("ngIf",!r.donutChartEmpty)("ngIfElse",o)}},dependencies:[bn,er,Rn,Ai],styles:["[_nghost-%COMP%]{display:block}.chart-card[_ngcontent-%COMP%]{min-height:240px}.chart-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap;margin-bottom:.75rem}.chart-svg[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.chart-bar-track[_ngcontent-%COMP%]{fill:#ffffff14}.chart-label[_ngcontent-%COMP%], .chart-value[_ngcontent-%COMP%]{fill:#e2e8f0e6;font-size:11px}.chart-value[_ngcontent-%COMP%]{fill:#e2e8f0cc}.chart-grid[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#ffffff14;stroke-width:1}.chart-labels[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#fff}.chart-line[_ngcontent-%COMP%]{fill:none;stroke-width:2.4}.chart-line-income[_ngcontent-%COMP%]{stroke:#5ad1ff}.chart-line-expense[_ngcontent-%COMP%]{stroke:#f2a65a}.chart-legend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:.75rem;color:#e2e8f0cc}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.legend-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:inline-block}.legend-income[_ngcontent-%COMP%]{background:#5ad1ff}.legend-expense[_ngcontent-%COMP%]{background:#f2a65a}.empty-state[_ngcontent-%COMP%]{min-height:160px;display:flex;align-items:center;justify-content:center;text-align:center}.donut-layout[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.donut-chart[_ngcontent-%COMP%]{width:150px;max-width:100%}.donut-hole[_ngcontent-%COMP%]{fill:#0f172acc}.donut-label[_ngcontent-%COMP%]{fill:#e2e8f0b3;font-size:11px;letter-spacing:.08em;text-transform:uppercase}.donut-value[_ngcontent-%COMP%]{fill:#e2e8f0f2;font-size:12px;font-weight:600}.donut-legend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;flex:1;min-width:140px}.donut-legend-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:.75rem;color:#e2e8f0cc}.donut-legend-row[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.donut-legend-row[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{color:#e2e8f0f2;font-weight:600}"]})};var Es=t=>[t,"BRL","symbol","1.2-2","pt-BR"],vH=(t,e,n)=>({"bg-success-subtle text-success":t,"bg-danger-subtle text-danger":e,"bg-info-subtle text-info":n});function bH(t,e){t&1&&(G(0,"div",12)(1,"div",24)(2,"div",25)(3,"div"),J(4,"Nenhum dado encontrado para este per\xEDodo."),q()()()())}function _H(t,e){if(t&1&&(Et(0),G(1,"div",26)(2,"div",27)(3,"div",23),J(4,"Saldo"),q(),G(5,"h2",28),J(6),Xe(7,"async"),Xe(8,"currency"),q(),G(9,"p",29),J(10,"Atualizado em tempo real"),q()()(),G(11,"div",26)(12,"div",27)(13,"div",23),J(14,"Entradas"),q(),G(15,"h3",30),J(16),Xe(17,"currency"),q(),G(18,"p",31),J(19,"Receitas do m\xEAs"),q()()(),G(20,"div",26)(21,"div",27)(22,"div",23),J(23,"Sa\xEDdas"),q(),G(24,"h3",32),J(25),Xe(26,"currency"),q(),G(27,"p",31),J(28,"Despesas do m\xEAs"),q()()(),Ct()),t&2){let n=e.ngIf,r=Ee();ee(6),at(" ",Qt(8,5,Xt(23,Es,hn(7,3,r.totalBalance$)))," "),ee(10),at(" ",Qt(17,11,Xt(25,Es,n.totalIncome))," "),ee(9),at(" ",Qt(26,17,Xt(27,Es,n.totalExpense))," ")}}function wH(t,e){t&1&&(G(0,"div",26)(1,"div",27),xe(2,"div",34)(3,"div",35)(4,"div",36),q()())}function EH(t,e){if(t&1&&_e(0,wH,5,0,"div",33),t&2){let n=Ee();ae("ngForOf",n.skeletonCards)}}function CH(t,e){if(t&1&&(G(0,"tr")(1,"td"),J(2),q(),G(3,"td",44),J(4),Xe(5,"currency"),q()()),t&2){let n=e.$implicit;ee(2),Ze(n.name),ee(2),at(" ",Qt(5,2,Xt(8,Es,n.currentBalance))," ")}}function xH(t,e){t&1&&(G(0,"tr")(1,"td",45),J(2,"Sem contas cadastradas."),q()())}function SH(t,e){if(t&1&&(Et(0),G(1,"div",27)(2,"div",37)(3,"h6",38),J(4,"Saldo por conta"),q(),G(5,"a",39),J(6,"Ver todas"),q()(),G(7,"div",40)(8,"table",41)(9,"thead")(10,"tr",16)(11,"th"),J(12,"Conta"),q(),G(13,"th",42),J(14,"Saldo"),q()()(),G(15,"tbody"),_e(16,CH,6,10,"tr",43)(17,xH,3,0,"tr",20),q()()()(),Ct()),t&2){let n=e.ngIf;ee(16),ae("ngForOf",n),ee(),ae("ngIf",n.length===0)}}function IH(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",47),q(),G(3,"td",42),xe(4,"div",48),q()())}function TH(t,e){if(t&1&&(G(0,"div",27),xe(1,"div",46),G(2,"div",40)(3,"table",41)(4,"thead")(5,"tr",16)(6,"th"),J(7,"Conta"),q(),G(8,"th",42),J(9,"Saldo"),q()()(),G(10,"tbody"),_e(11,IH,5,0,"tr",43),q()()()()),t&2){let n=Ee();ee(11),ae("ngForOf",n.skeletonRows)}}function DH(t,e){if(t&1&&(G(0,"tr")(1,"td"),J(2),q(),G(3,"td",44),J(4),Xe(5,"currency"),q()()),t&2){let n=e.$implicit;ee(2),Ze(n.categoryName),ee(2),at(" ",Qt(5,2,Xt(8,Es,n.total))," ")}}function AH(t,e){t&1&&(G(0,"tr")(1,"td",45),J(2,"Sem dados."),q()())}function MH(t,e){if(t&1&&(Et(0),G(1,"div",27)(2,"div",49)(3,"h5",50),J(4,"Distribui\xE7\xE3o de gastos"),q(),G(5,"button",51),J(6," Ver todas "),q()(),G(7,"div",40)(8,"table",41)(9,"thead")(10,"tr",16)(11,"th"),J(12,"Categoria"),q(),G(13,"th",42),J(14,"Total"),q()()(),G(15,"tbody"),_e(16,DH,6,10,"tr",43)(17,AH,3,0,"tr",20),q()()()(),Ct()),t&2){let n=e.ngIf;ee(16),ae("ngForOf",n),ee(),ae("ngIf",n.length===0)}}function kH(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",47),q(),G(3,"td",42),xe(4,"div",48),q()())}function RH(t,e){if(t&1&&(G(0,"div",27),xe(1,"div",46),G(2,"div",40)(3,"table",41)(4,"thead")(5,"tr",16)(6,"th"),J(7,"Categoria"),q(),G(8,"th",42),J(9,"Total"),q()()(),G(10,"tbody"),_e(11,kH,5,0,"tr",43),q()()()()),t&2){let n=Ee();ee(11),ae("ngForOf",n.skeletonRows)}}function NH(t,e){if(t&1&&(Et(0),G(1,"div",54),J(2),Xe(3,"number"),q(),Ct()),t&2){let n=Ee().ngIf;ee(2),qi(" Voc\xEA gastou ",am(3,2,n.comparison.percent,"1.0-0"),"% a ",n.comparison.direction," em rela\xE7\xE3o ao m\xEAs anterior. ")}}function OH(t,e){t&1&&(G(0,"div",16),J(1,"Sem hist\xF3rico suficiente para compara\xE7\xE3o."),q())}function PH(t,e){if(t&1&&(Et(0),G(1,"div",54),J(2),Xe(3,"currency"),q(),G(4,"div",23),J(5),q(),Ct()),t&2){let n=e.ngIf,r=Ee(3);ee(2),qi(" ",n.description," (",Qt(3,3,Xt(9,Es,n.amount)),") "),ee(3),at("em ",r.formatDate(n.date))}}function FH(t,e){t&1&&(G(0,"div",16),J(1,"Sem despesas no per\xEDodo."),q())}function LH(t,e){if(t&1&&(Et(0),G(1,"div",54),J(2),Xe(3,"currency"),q(),Ct()),t&2){let n=e.ngIf;ee(2),qi(" ",n.categoryName," (",Qt(3,2,Xt(8,Es,n.total)),") ")}}function VH(t,e){t&1&&(G(0,"div",16),J(1,"Sem despesas no per\xEDodo."),q())}function jH(t,e){if(t&1&&(Et(0),G(1,"div",52)(2,"div",27)(3,"div",53),J(4,"Compara\xE7\xE3o mensal"),q(),_e(5,NH,4,5,"ng-container",18)(6,OH,2,0,"ng-template",null,6,nn),q()(),G(8,"div",52)(9,"div",27)(10,"div",53),J(11,"Maior despesa"),q(),_e(12,PH,6,11,"ng-container",18)(13,FH,2,0,"ng-template",null,7,nn),q()(),G(15,"div",52)(16,"div",27)(17,"div",53),J(18,"Categoria destaque"),q(),_e(19,LH,4,10,"ng-container",18)(20,VH,2,0,"ng-template",null,8,nn),q()(),Ct()),t&2){let n=e.ngIf,r=tn(7),i=tn(14),s=tn(21);ee(5),ae("ngIf",n.comparison.hasHistory)("ngIfElse",r),ee(7),ae("ngIf",n.largestExpense)("ngIfElse",i),ee(7),ae("ngIf",n.topCategory)("ngIfElse",s)}}function BH(t,e){if(t&1&&(Et(0),G(1,"div",54),J(2),Xe(3,"currency"),q(),G(4,"div",23),J(5),Xe(6,"currency"),Xe(7,"number"),q(),Ct()),t&2){let n=Ee().ngIf;ee(2),qi(" Sua m\xE9dia (ultimos ",n.months," meses): ",Qt(3,5,Xt(20,Es,n.average))," "),ee(3),om(" Este m\xEAs: ",Qt(6,11,Xt(22,Es,n.current))," (",n.diffPercent>=0?"+":"","",am(7,17,n.diffPercent,"1.0-0"),"%) ")}}function UH(t,e){if(t&1&&(G(0,"div",55),J(1),q()),t&2){let n=Ee(3);ee(),Ze(n.averageMessage)}}function $H(t,e){if(t&1&&(Et(0),_e(1,BH,8,24,"ng-container",18)(2,UH,2,1,"ng-template",null,9,nn),Ct()),t&2){let n=e.ngIf,r=tn(3);ee(),ae("ngIf",n.ready)("ngIfElse",r)}}function HH(t,e){if(t&1&&(Et(0),G(1,"div",12)(2,"div",21)(3,"div")(4,"p",14),J(5,"Insights"),q(),G(6,"h5",22),J(7,"Resumo inteligente"),q()(),G(8,"span",23),J(9,"Compara\xE7\xF5es do per\xEDodo"),q()()(),_e(10,jH,22,6,"ng-container",20),Xe(11,"async"),G(12,"div",52)(13,"div",27)(14,"div",53),J(15,"M\xE9dia de despesas"),q(),_e(16,$H,4,2,"ng-container",20),Xe(17,"async"),q()(),Ct()),t&2){let n=Ee();ee(10),ae("ngIf",hn(11,2,n.insights$)),ee(6),ae("ngIf",hn(17,4,n.averageComparison$))}}function zH(t,e){if(t&1&&(G(0,"div")(1,"div",21)(2,"div")(3,"div",54),J(4),q(),G(5,"div",23),J(6),q()(),G(7,"div",32),J(8),Xe(9,"currency"),q()()()),t&2){let n=Ee(2).ngIf,r=Ee();ee(4),Ze(n.value.description),ee(2),qi(" ",n.value.categoryName," - ",r.formatDate(n.value.date)," "),ee(2),at(" ",Qt(9,4,Xt(10,Es,n.value.amount))," ")}}function qH(t,e){t&1&&(G(0,"div",16),J(1,"Nenhuma despesa no m\xEAs."),q())}function WH(t,e){if(t&1&&(Et(0),G(1,"div",27)(2,"h6",56),J(3,"Maior despesa do m\xEAs"),q(),_e(4,zH,10,12,"div",18)(5,qH,2,0,"ng-template",null,10,nn),q(),Ct()),t&2){let n=tn(6),r=Ee().ngIf;ee(4),ae("ngIf",r.value)("ngIfElse",n)}}function GH(t,e){if(t&1&&(Et(0),_e(1,WH,7,2,"ng-container",18),Ct()),t&2){let n=e.ngIf;Ee();let r=tn(32);ee(),ae("ngIf",n.ready)("ngIfElse",r)}}function KH(t,e){t&1&&(G(0,"div",27),xe(1,"div",46)(2,"div",57)(3,"div",58),q())}function YH(t,e){if(t&1&&(G(0,"tr")(1,"td"),J(2),q(),G(3,"td",61),J(4),q(),G(5,"td")(6,"span",62),J(7),q()(),G(8,"td",44),J(9),Xe(10,"currency"),q()()),t&2){let n=e.$implicit,r=Ee(2);ee(2),Ze(r.formatDate(n.date)),ee(2),Ze(n.description),ee(2),ae("ngClass",uc(11,vH,n.type==="income",n.type==="expense",n.type==="transfer")),ee(),at(" ",n.type==="income"?"Receita":n.type==="expense"?"Despesa":"Transferencia"," "),ee(2),at(" ",Qt(10,5,Xt(15,Es,n.amount))," ")}}function XH(t,e){t&1&&(G(0,"tr")(1,"td",63),J(2,"Sem transa\xE7\xF5es ainda."),q()())}function QH(t,e){if(t&1&&(Et(0),G(1,"div",24)(2,"div",37)(3,"h5",22),J(4,"\xDAltimas transa\xE7\xF5es"),q(),G(5,"span",59),J(6,"Atualizado"),q()(),G(7,"div",40)(8,"table",41)(9,"thead")(10,"tr",16)(11,"th"),J(12,"Data"),q(),G(13,"th"),J(14,"Descri\xE7\xE3o"),q(),G(15,"th"),J(16,"Tipo"),q(),G(17,"th",42),J(18,"Valor"),q()()(),G(19,"tbody"),_e(20,YH,11,17,"tr",60)(21,XH,3,0,"tr",20),q()()()(),Ct()),t&2){let n=e.ngIf,r=Ee();ee(20),ae("ngForOf",n)("ngForTrackBy",r.trackById),ee(),ae("ngIf",n.length===0)}}function ZH(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",47),q(),G(3,"td"),xe(4,"div",64),q(),G(5,"td"),xe(6,"div",58),q(),G(7,"td",42),xe(8,"div",48),q()())}function JH(t,e){if(t&1&&(G(0,"div",24),xe(1,"div",46),G(2,"div",40)(3,"table",41)(4,"thead")(5,"tr",16)(6,"th"),J(7,"Data"),q(),G(8,"th"),J(9,"Descri\xE7\xE3o"),q(),G(10,"th"),J(11,"Tipo"),q(),G(12,"th",42),J(13,"Valor"),q()()(),G(14,"tbody"),_e(15,ZH,9,0,"tr",43),q()()()()),t&2){let n=Ee();ee(15),ae("ngForOf",n.skeletonRows)}}function ez(t,e){if(t&1&&(Et(0),xe(1,"app-dashboard-charts",65),Ct()),t&2){let n=e.ngIf;ee(),ae("topCategorias",n.topCategories)("seriesDiariaEntradas",n.dailyIncome)("seriesDiariaSaidas",n.dailyExpense)("contasSaldos",n.accounts)}}function tz(t,e){t&1&&(G(0,"div",24),xe(1,"div",46)(2,"div",66),q())}var Z0=class t{auth=me(jn);transactionsService=me(Zi);accountsService=me(ao);categoriesService=me(vi);now=new Date;month=this.now.getMonth()+1;year=this.now.getFullYear();loadingDashboard=!0;skeletonCards=Array.from({length:3});skeletonRows=Array.from({length:4});average=null;get averageMessage(){return!this.average||this.average.ready?"":this.average.message}transactions$=this.auth.user$.pipe(vn(()=>this.loadingDashboard=!0),Wt(e=>e?this.transactionsService.listMonth$(e.uid,this.month,this.year):Le([])),vn(()=>this.loadingDashboard=!1),cn(()=>(this.loadingDashboard=!1,Le([]))));hasTransactions$=this.transactions$.pipe(Be(e=>e.length>0),cn(()=>Le(!1)));allTransactions$=this.auth.user$.pipe(Wt(e=>e?this.transactionsService.listAll$(e.uid):Le([])),cn(()=>Le([])));accounts$=this.auth.user$.pipe(Wt(e=>e?this.accountsService.list$(e.uid):Le([])),cn(()=>Le([])));categories$=this.auth.user$.pipe(Wt(e=>e?this.categoriesService.list$(e.uid):Le([])),cn(()=>Le([])));summary$=this.transactions$.pipe(Be(e=>{let n=e.filter(i=>i.type==="income").reduce((i,s)=>i+s.amount,0),r=e.filter(i=>i.type==="expense").reduce((i,s)=>i+s.amount,0);return{totalIncome:n,totalExpense:r,balance:n-r}}),cn(()=>Le({totalIncome:0,totalExpense:0,balance:0})));recent$=this.auth.user$.pipe(Wt(e=>e?this.transactionsService.listRecent$(e.uid,5):Le([])),cn(()=>Le([])));accountsWithBalance$=Fn([this.accounts$,this.allTransactions$]).pipe(Be(([e,n])=>this.buildAccountBalances(e,n)),cn(()=>Le([])));balancesByAccount$=this.accountsWithBalance$.pipe(Be(e=>[...e].sort((n,r)=>r.currentBalance-n.currentBalance).slice(0,5)),cn(()=>Le([])));totalBalance$=this.accountsWithBalance$.pipe(Be(e=>e.reduce((n,r)=>n+r.currentBalance,0)),cn(()=>Le(0)));topCategories$=Fn([this.auth.user$.pipe(Wt(e=>e?this.transactionsService.listMonthExpensesByCategory$(e.uid,this.month,this.year):Le({}))),this.categories$]).pipe(Be(([e,n])=>Object.entries(e).map(([r,i])=>{let s=n.find(o=>o.id===r);return{categoryId:r,categoryName:s?.name||"Categoria",categoryColor:s?.color||"#6c7a89",total:i}}).sort((r,i)=>i.total-r.total).slice(0,5)),cn(()=>Le([])));dailySeries$=this.transactions$.pipe(Be(e=>{let n=new Date(this.year,this.month,0).getDate(),r=Array.from({length:n},(s,o)=>({day:o+1,total:0})),i=Array.from({length:n},(s,o)=>({day:o+1,total:0}));return e.forEach(s=>{let o=Number(s.date?.split("-")[2]??0);!o||o<1||o>n||(s.type==="income"&&(r[o-1].total+=s.amount),s.type==="expense"&&(i[o-1].total+=s.amount))}),{income:r,expense:i}}),cn(()=>Le({income:[],expense:[]})));charts$=Fn([this.topCategories$,this.dailySeries$,this.accountsWithBalance$]).pipe(Be(([e,n,r])=>({topCategories:e,dailyIncome:n.income,dailyExpense:n.expense,accounts:r})),cn(()=>Le({topCategories:[],dailyIncome:[],dailyExpense:[],accounts:[]})));largestExpense$=Fn([this.transactions$,this.categories$]).pipe(Be(([e,n])=>{let r=e.filter(i=>i.type==="expense").reduce((i,s)=>!i||s.amount>i.amount?s:i,null);return r?je(ve({},r),{categoryName:n.find(i=>i.id===r.categoryId)?.name||"Categoria"}):null}),cn(()=>Le(null)));largestExpenseState$=this.largestExpense$.pipe(Be(e=>({ready:!0,value:e})),po({ready:!1,value:null}));insights$=Fn([this.transactions$,this.allTransactions$,this.topCategories$,this.largestExpense$]).pipe(Be(([e,n,r,i])=>{let s=e.filter(l=>l.type==="expense").reduce((l,d)=>l+d.amount,0),o=this.getPreviousMonth(this.month,this.year),a=this.sumExpensesForMonth(n,o.month,o.year),c=a>0,u=c?Math.round((s-a)/a*100):0;return{comparison:{hasHistory:c,percent:Math.abs(u),direction:u>=0?"mais":"menos"},largestExpense:i,topCategory:r.length>0?r[0]:null}}),cn(()=>Le({comparison:{hasHistory:!1,percent:0,direction:"mais"},largestExpense:null,topCategory:null})));averageComparison$=this.allTransactions$.pipe(Be(e=>{let r=this.buildRecentMonths(6).map(({month:l,year:d})=>({month:l,year:d,total:this.sumExpensesForMonth(e,l,d)})),i=r.filter(l=>l.total>0);if(i.length<2)return{ready:!1,message:"M\xE9dia disponivel a partir de 2 meses de dados."};let s=i.length>=6?6:Math.min(3,i.length),o=i.slice(0,s),a=o.reduce((l,d)=>l+d.total,0)/o.length,c=r[0]?.total??0,u=a?(c-a)/a*100:0;return{ready:!0,months:s,average:a,current:c,diffPercent:u}}),cn(()=>Le({ready:!1,message:"M\xE9dia disponivel a partir de 2 meses de dados."})),vn(e=>{this.average=e}));trackById(e,n){return n.id}formatDate(e){return Su(e)}buildAccountBalances(e,n){return e.map(r=>{let i=n.filter(u=>u.type==="income"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),s=n.filter(u=>u.type==="expense"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),o=n.filter(u=>u.type==="transfer"&&u.accountOriginId===r.id).reduce((u,l)=>u+l.amount,0),a=n.filter(u=>u.type==="transfer"&&u.accountDestinationId===r.id).reduce((u,l)=>u+l.amount,0),c=Number(r.initialBalance??0);return je(ve({},r),{currentBalance:c+i-s-o+a})})}getMonthYear(e){if(!e)return null;let[n,r]=e.split("-").map(Number);return!n||!r?null:{year:n,month:r}}getPreviousMonth(e,n){return e===1?{month:12,year:n-1}:{month:e-1,year:n}}buildRecentMonths(e){let n=[],r=this.month,i=this.year;for(let s=0;s<e;s+=1)n.push({month:r,year:i}),r-=1,r<1&&(r=12,i-=1);return n}sumExpensesForMonth(e,n,r){return e.filter(i=>{if(i.type!=="expense")return!1;let s=this.getMonthYear(i.date);return s?s.month===n&&s.year===r:!1}).reduce((i,s)=>i+s.amount,0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-dashboard"]],decls:52,vars:31,consts:[["summaryLoadingTpl",""],["balancesLoadingTpl",""],["categoriesLoadingTpl",""],["largestLoadingTpl",""],["recentLoadingTpl",""],["chartsLoadingTpl",""],["noHistory",""],["noLargest",""],["noTop",""],["averageFallbackTpl",""],["noExpense",""],[1,"row","g-3"],[1,"col-12"],[1,"page-header","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"text-secondary"],["class","col-12",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"col-lg-6"],[4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mb-0","fw-semibold"],[1,"text-secondary","small"],[1,"glass-card","p-3"],[1,"empty-state"],[1,"col-md-4"],[1,"glass-card","p-3","h-100"],[1,"fw-bold","text-light"],[1,"text-success","small"],[1,"fw-bold","text-info"],[1,"small","text-secondary"],[1,"fw-bold","text-warning"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-50","mb-2"],[1,"skeleton","skeleton-line","lg","w-75"],[1,"skeleton","skeleton-line","w-75","mt-2"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"fw-semibold","mb-0"],["routerLink","/app/accounts",1,"btn","btn-sm","btn-outline-light"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","fw-semibold"],["colspan","2",1,"text-center","text-secondary","py-3"],[1,"skeleton","skeleton-line","w-50","mb-3"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-50","ms-auto"],[1,"card-header-row"],[1,"card-title","m-0"],["type","button","routerLink","/app/transactions",1,"btn","btn-outline-light","btn-sm","card-action"],[1,"col-md-6","col-lg-3"],[1,"text-secondary","small","mb-2"],[1,"fw-semibold"],[1,"muted"],[1,"fw-semibold","mb-3"],[1,"skeleton","skeleton-line","w-100","mb-2"],[1,"skeleton","skeleton-line","w-50"],[1,"badge","text-light"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-truncate",2,"max-width","220px"],[1,"badge",3,"ngClass"],["colspan","4",1,"text-center","text-secondary","py-3"],[1,"skeleton","skeleton-line","w-100"],[3,"topCategorias","seriesDiariaEntradas","seriesDiariaSaidas","contasSaldos"],[1,"skeleton",2,"height","220px"]],template:function(n,r){if(n&1&&(G(0,"div",11)(1,"div",12)(2,"div",13)(3,"div")(4,"p",14),J(5,"Vis\xE3o geral"),q(),G(6,"h3",15),J(7,"Dashboard"),q()(),G(8,"div",16),J(9),q()()(),_e(10,bH,5,0,"div",17),Xe(11,"async"),_e(12,_H,29,29,"ng-container",18),Xe(13,"async"),_e(14,EH,1,1,"ng-template",null,0,nn),G(16,"div",19),_e(17,SH,18,2,"ng-container",18),Xe(18,"async"),_e(19,TH,12,1,"ng-template",null,1,nn),q(),G(21,"div",19),_e(22,MH,18,2,"ng-container",18),Xe(23,"async"),_e(24,RH,12,1,"ng-template",null,2,nn),q(),_e(26,HH,18,6,"ng-container",20),Xe(27,"async"),G(28,"div",12),_e(29,GH,2,2,"ng-container",20),Xe(30,"async"),_e(31,KH,4,0,"ng-template",null,3,nn),q(),G(33,"div",12),_e(34,QH,22,3,"ng-container",18),Xe(35,"async"),_e(36,JH,16,1,"ng-template",null,4,nn),q(),G(38,"div",12)(39,"div",21)(40,"div")(41,"p",14),J(42,"Indicadores"),q(),G(43,"h5",22),J(44,"Gr\xE1ficos do m\xEAs"),q()(),G(45,"span",23),J(46,"Resumo visual"),q()()(),G(47,"div",12),_e(48,ez,2,4,"ng-container",18),Xe(49,"async"),_e(50,tz,3,0,"ng-template",null,5,nn),q()()),n&2){let i=tn(15),s=tn(20),o=tn(25),a=tn(37),c=tn(51);ee(9),qi(" M\xEAs atual: ",r.month,"/",r.year," "),ee(),ae("ngIf",hn(11,15,r.hasTransactions$)===!1),ee(2),ae("ngIf",hn(13,17,r.summary$))("ngIfElse",i),ee(5),ae("ngIf",hn(18,19,r.balancesByAccount$))("ngIfElse",s),ee(5),ae("ngIf",hn(23,21,r.topCategories$))("ngIfElse",o),ee(4),ae("ngIf",hn(27,23,r.hasTransactions$)),ee(3),ae("ngIf",hn(30,25,r.largestExpenseState$)),ee(5),ae("ngIf",hn(35,27,r.recent$))("ngIfElse",a),ee(14),ae("ngIf",hn(49,29,r.charts$))("ngIfElse",c)}},dependencies:[bn,sr,er,Rn,gi,Q0,Lr,k1,Ai],styles:[".page-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:-.02em}.glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff08}.card-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.card-header-row[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:700}.card-header-row[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]{white-space:nowrap;border-radius:10px;padding:6px 12px}@media(max-width:576px){.card-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var bi=class t{toastsSubject=new Dn([]);timers=new Map;toasts$=this.toastsSubject.asObservable();success(e,n){this.show("success",e,n)}error(e,n){this.show("error",e,n)}info(e,n){this.show("info",e,n)}warning(e,n){this.show("warning",e,n)}show(e,n,r){let i=`${Date.now()}-${Math.random().toString(16).slice(2)}`,s={id:i,type:e,message:n,actionLabel:r?.actionLabel,action:r?.action},o=r?.durationMs??(e==="error"?7e3:4e3);if(this.toastsSubject.next([...this.toastsSubject.value,s]),o>0){let a=setTimeout(()=>this.dismiss(i),o);this.timers.set(i,a)}}dismiss(e){let n=this.toastsSubject.value;if(!n.length)return;let r=n.filter(s=>s.id!==e);this.toastsSubject.next(r);let i=this.timers.get(e);i&&(clearTimeout(i),this.timers.delete(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var nz=(t,e,n)=>({"bg-success-subtle text-success":t,"bg-danger-subtle text-danger":e,"bg-info-subtle text-info":n}),rz=t=>[t,"BRL","symbol","1.2-2","pt-BR"];function iz(t,e){if(t&1&&(G(0,"option",44),J(1),q()),t&2){let n=e.$implicit;ae("value",n.id),ee(),Ze(n.name)}}function sz(t,e){if(t&1&&(Et(0),G(1,"option",42),J(2,"Selecione..."),q(),_e(3,iz,2,2,"option",43),Ct()),t&2){let n=Ee().ngIf;ee(3),ae("ngForOf",n)}}function oz(t,e){t&1&&(G(0,"small",37),J(1," Selecione o tipo (receita/despesa) para ver categorias. "),q())}function az(t,e){if(t&1&&(G(0,"div")(1,"label",24),J(2,"Categoria"),q(),G(3,"select",39),_e(4,sz,4,1,"ng-container",5),q(),G(5,"div",40),J(6,"Selecione uma categoria."),q(),_e(7,oz,2,0,"small",41),q()),t&2){let n,r,i,s=Ee(4);ee(3),Tr("is-invalid",((n=s.form.get("categoryId"))==null?null:n.touched)&&((n=s.form.get("categoryId"))==null?null:n.invalid)),ee(),ae("ngIf",(r=s.form.get("type"))==null?null:r.value),ee(3),ae("ngIf",!((i=s.form.get("type"))!=null&&i.value))}}function cz(t,e){if(t&1&&(Et(0),_e(1,az,8,4,"div",5),Xe(2,"async"),Ct()),t&2){let n=Ee(3);ee(),ae("ngIf",hn(2,1,n.filteredCategories$))}}function lz(t,e){if(t&1&&(G(0,"option",44),J(1),q()),t&2){let n=e.$implicit;ae("value",n.id),ee(),Ze(n.name)}}function uz(t,e){if(t&1&&(G(0,"option",44),J(1),q()),t&2){let n=e.$implicit;ae("value",n.id),ee(),Ze(n.name)}}function dz(t,e){t&1&&(G(0,"small",37),J(1," Cadastre uma conta antes de transferir. "),q())}function fz(t,e){if(t&1&&(Et(0),G(1,"div",14)(2,"div",15)(3,"label",24),J(4,"Conta origem"),q(),G(5,"select",45)(6,"option",42),J(7,"Selecione..."),q(),_e(8,lz,2,2,"option",43),q(),G(9,"div",40),J(10,"Selecione a conta de origem."),q()(),G(11,"div",15)(12,"label",24),J(13,"Conta destino"),q(),G(14,"select",46)(15,"option",42),J(16,"Selecione..."),q(),_e(17,uz,2,2,"option",43),q(),G(18,"div",40),J(19,"Selecione a conta de destino."),q()()(),_e(20,dz,2,0,"small",41),Ct()),t&2){let n,r,i=Ee().ngIf,s=Ee(2);ee(5),Tr("is-invalid",((n=s.form.get("accountOriginId"))==null?null:n.touched)&&((n=s.form.get("accountOriginId"))==null?null:n.invalid)),ee(3),ae("ngForOf",i),ee(6),Tr("is-invalid",((r=s.form.get("accountDestinationId"))==null?null:r.touched)&&((r=s.form.get("accountDestinationId"))==null?null:r.invalid)),ee(3),ae("ngForOf",i),ee(3),ae("ngIf",i.length===0)}}function hz(t,e){if(t&1&&(G(0,"option",44),J(1),q()),t&2){let n=e.$implicit;ae("value",n.id),ee(),Ze(n.name)}}function pz(t,e){t&1&&(G(0,"small",37),J(1," Cadastre uma conta para continuar. "),q())}function mz(t,e){if(t&1&&(G(0,"div")(1,"label",24),J(2,"Conta"),q(),G(3,"select",47)(4,"option",42),J(5,"Selecione..."),q(),_e(6,hz,2,2,"option",43),q(),G(7,"div",40),J(8,"Selecione uma conta."),q(),_e(9,pz,2,0,"small",41),q()),t&2){let n,r=Ee().ngIf,i=Ee(2);ee(3),Tr("is-invalid",((n=i.form.get("accountId"))==null?null:n.touched)&&((n=i.form.get("accountId"))==null?null:n.invalid)),ee(3),ae("ngForOf",r),ee(3),ae("ngIf",r.length===0)}}function gz(t,e){t&1&&xe(0,"span",48)}function yz(t,e){if(t&1){let n=ln();G(0,"tr")(1,"td"),J(2),q(),G(3,"td",50),J(4),q(),G(5,"td")(6,"span",51),J(7),q()(),G(8,"td"),J(9),q(),G(10,"td"),J(11),q(),G(12,"td",52),J(13),Xe(14,"currency"),q(),G(15,"td",53)(16,"div",54)(17,"button",55),Ue("click",function(){let i=nt(n).$implicit,s=Ee(5);return rt(s.edit(i))}),xe(18,"i",56),J(19," Editar "),q(),G(20,"button",57),Ue("click",function(){let i=nt(n).$implicit,s=Ee(5);return rt(s.delete(i))}),xe(21,"i",58),J(22," Excluir "),q()()()()}if(t&2){let n=e.$implicit,r=Ee(3).ngIf,i=Ee().ngIf,s=Ee();ee(2),Ze(s.formatDate(n.date)),ee(2),Ze(n.description),ee(2),ae("ngClass",uc(13,nz,n.type==="income",n.type==="expense",n.type==="transfer")),ee(),Ze(n.type==="income"?"Receita":n.type==="expense"?"Despesa":"Transfer\xEAncia"),ee(2),Ze(n.type==="transfer"?"-":s.getCategoryName(i,n.categoryId)),ee(2),at(" ",n.type==="transfer"?s.getTransferLabel(r,n):s.getAccountName(r,n.accountId)," "),ee(2),at(" ",Qt(14,7,Xt(17,rz,n.amount))," ")}}function vz(t,e){if(t&1&&(Et(0),_e(1,yz,23,19,"tr",49),Ct()),t&2){let n=Ee().ngIf,r=Ee(3);ee(),ae("ngForOf",n)("ngForTrackBy",r.trackById)}}function bz(t,e){if(t&1&&(Et(0),_e(1,vz,2,2,"ng-container",28),Ct()),t&2){let n=e.ngIf;Ee();let r=tn(78);ee(),ae("ngIf",n.length>0)("ngIfElse",r)}}function _z(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",60),q(),G(3,"td"),xe(4,"div",61),q(),G(5,"td"),xe(6,"div",60),q(),G(7,"td"),xe(8,"div",60),q(),G(9,"td"),xe(10,"div",60),q(),G(11,"td",38),xe(12,"div",62),q(),G(13,"td",38),xe(14,"div",62),q()())}function wz(t,e){if(t&1&&_e(0,_z,15,0,"tr",59),t&2){let n=Ee(3);ae("ngForOf",n.skeletonRows)}}function Ez(t,e){if(t&1){let n=ln();G(0,"tr")(1,"td",63)(2,"div",64)(3,"div"),J(4,"Nenhum dado encontrado para este per\xEDodo."),q(),G(5,"button",65),Ue("click",function(){nt(n);let i=Ee(3);return rt(i.resetForm())}),J(6," Adicionar lan\xE7amento "),q()()()()}}function Cz(t,e){if(t&1){let n=ln();Et(0),G(1,"div",6)(2,"div",7)(3,"div")(4,"p",8),J(5,"Fluxo"),q(),G(6,"h3",9),J(7,"Lan\xE7amentos"),q()()()(),G(8,"div",10)(9,"div",11)(10,"h6",12),J(11),q(),G(12,"form",13),Ue("ngSubmit",function(){nt(n);let i=Ee(2);return rt(i.save())}),G(13,"div",14)(14,"div",15)(15,"label",16),J(16,"Tipo"),q(),G(17,"div",17)(18,"input",18),Ue("click",function(){nt(n);let i=Ee(2);return rt(i.toggleType("income"))}),q(),G(19,"label",19),J(20,"Receita"),q(),G(21,"input",20),Ue("click",function(){nt(n);let i=Ee(2);return rt(i.toggleType("expense"))}),q(),G(22,"label",21),J(23,"Despesa"),q(),G(24,"input",22),Ue("click",function(){nt(n);let i=Ee(2);return rt(i.toggleType("transfer"))}),q(),G(25,"label",23),J(26,"Transfer\xEAncia"),q()()(),G(27,"div",15)(28,"label",24),J(29,"Data"),q(),xe(30,"input",25),q()(),G(31,"div")(32,"label",24),J(33,"Descri\xE7\xE3o"),q(),xe(34,"input",26),q(),G(35,"div")(36,"label",24),J(37,"Valor"),q(),xe(38,"input",27),q(),_e(39,cz,3,3,"ng-container",5)(40,fz,21,7,"ng-container",28)(41,mz,10,4,"ng-template",null,0,nn),G(43,"div")(44,"label",24),J(45,"Observa\xE7\xF5es"),q(),xe(46,"textarea",29),q(),G(47,"div",30)(48,"button",31),_e(49,gz,1,0,"span",32),J(50),q(),G(51,"button",33),Ue("click",function(){nt(n);let i=Ee(2);return rt(i.resetForm())}),J(52,"Limpar"),q()()()()(),G(53,"div",34)(54,"div",11)(55,"div",35)(56,"table",36)(57,"thead")(58,"tr",37)(59,"th"),J(60,"Data"),q(),G(61,"th"),J(62,"Descri\xE7\xE3o"),q(),G(63,"th"),J(64,"Tipo"),q(),G(65,"th"),J(66,"Categoria"),q(),G(67,"th"),J(68,"Conta"),q(),G(69,"th",38),J(70,"Valor"),q(),xe(71,"th"),q()(),G(72,"tbody"),_e(73,bz,2,2,"ng-container",28),Xe(74,"async"),q(),_e(75,wz,1,1,"ng-template",null,1,nn)(77,Ez,7,0,"ng-template",null,2,nn),q()()()(),Ct()}if(t&2){let n,r,i,s,o,a,c=tn(42),u=tn(76),l=Ee(2);ee(11),Ze(l.editingId?"Editar lan\xE7amento":"Novo lan\xE7amento"),ee(),ae("formGroup",l.form),ee(6),ae("checked",((n=l.form.get("type"))==null?null:n.value)==="income"),ee(3),ae("checked",((r=l.form.get("type"))==null?null:r.value)==="expense"),ee(3),ae("checked",((i=l.form.get("type"))==null?null:i.value)==="transfer"),ee(15),ae("ngIf",((s=l.form.get("type"))==null?null:s.value)!=="transfer"),ee(),ae("ngIf",((o=l.form.get("type"))==null?null:o.value)==="transfer")("ngIfElse",c),ee(8),ae("disabled",l.form.invalid||((a=l.form.get("type"))==null?null:a.value)===null||l.saving),ee(),ae("ngIf",l.saving),ee(),at(" ",l.saving?"Salvando...":l.editingId?"Salvar":"Adicionar"," "),ee(23),ae("ngIf",hn(74,13,l.transactionsView$))("ngIfElse",u)}}function xz(t,e){if(t&1&&(G(0,"div",4),_e(1,Cz,79,15,"ng-container",5),Xe(2,"async"),q()),t&2){let n=Ee();ee(),ae("ngIf",hn(2,1,n.accounts$))}}var J0=class t{fb=me(Jr);transactionsService=me(Zi);auth=me(jn);categoriesService=me(vi);accountsService=me(ao);notifications=me(bi);typeSub;editingId=null;today=di(new Date);loadingTransactions=!0;saving=!1;skeletonRows=Array.from({length:6});pendingDeleteIds$=new Dn(new Set);pendingDeletes=new Map;categories$=this.auth.user$.pipe(Wt(e=>e?this.categoriesService.list$(e.uid):Le([])),Be(e=>e??[]));accounts$=this.auth.user$.pipe(Wt(e=>e?this.accountsService.list$(e.uid):Le([])),Be(e=>e??[]));transactions$=this.auth.user$.pipe(vn(()=>this.loadingTransactions=!0),Wt(e=>e?this.transactionsService.listAll$(e.uid):Le([])),Be(e=>e??[]),vn(()=>this.loadingTransactions=!1),cn(()=>(this.loadingTransactions=!1,Le([]))));transactionsView$=Fn([this.transactions$,this.pendingDeleteIds$]).pipe(Be(([e,n])=>e.filter(r=>!n.has(r.id??""))));form=this.fb.group({type:new Nr(null,ct.required),description:["",[ct.required,ct.minLength(2)]],amount:new Nr(null,[ct.required,ct.min(.01)]),date:[this.today,ct.required],categoryId:new Nr({value:"",disabled:!0},ct.required),accountId:new Nr("",ct.required),accountOriginId:new Nr({value:"",disabled:!0},ct.required),accountDestinationId:new Nr({value:"",disabled:!0},ct.required),notes:[""]});filteredCategories$=Fn([this.categories$,this.form.get("type").valueChanges.pipe(po(this.form.get("type").value))]).pipe(Be(([e,n])=>!n||n==="transfer"?[]:e.filter(r=>r.type===n)));constructor(){let e=n=>{let r=this.form.get("categoryId"),i=this.form.get("accountId"),s=this.form.get("accountOriginId"),o=this.form.get("accountDestinationId");!r||!i||!s||!o||(n==="transfer"?(r.setValue("",{emitEvent:!1}),r.disable({emitEvent:!1}),r.clearValidators(),i.setValue("",{emitEvent:!1}),i.disable({emitEvent:!1}),i.clearValidators(),s.enable({emitEvent:!1}),o.enable({emitEvent:!1}),s.setValidators([ct.required]),o.setValidators([ct.required])):n?(r.enable({emitEvent:!1}),r.setValidators([ct.required]),i.enable({emitEvent:!1}),i.setValidators([ct.required]),s.setValue("",{emitEvent:!1}),o.setValue("",{emitEvent:!1}),s.disable({emitEvent:!1}),o.disable({emitEvent:!1}),s.clearValidators(),o.clearValidators()):(r.setValue("",{emitEvent:!1}),r.disable({emitEvent:!1}),r.clearValidators(),i.setValue("",{emitEvent:!1}),i.disable({emitEvent:!1}),i.clearValidators(),s.setValue("",{emitEvent:!1}),o.setValue("",{emitEvent:!1}),s.disable({emitEvent:!1}),o.disable({emitEvent:!1}),s.clearValidators(),o.clearValidators()),r.updateValueAndValidity({emitEvent:!1}),i.updateValueAndValidity({emitEvent:!1}),s.updateValueAndValidity({emitEvent:!1}),o.updateValueAndValidity({emitEvent:!1}))};e(this.form.get("type")?.value??null),this.typeSub=this.form.get("type")?.valueChanges.subscribe(n=>{e(n)})}toggleType(e){let n=this.form.get("type")?.value??null;this.form.get("type")?.setValue(n===e?null:e),this.form.get("type")?.markAsTouched()}ngOnDestroy(){this.typeSub?.unsubscribe(),this.flushPendingDeletes()}async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await An(this.auth.user$);if(!e)return;let{type:n,description:r,amount:i,date:s,categoryId:o,accountId:a,accountOriginId:c,accountDestinationId:u,notes:l}=this.form.value,d=Number(i);if(!Number.isFinite(d)||d<=0){this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}this.saving=!0;try{if(n==="transfer"&&c===u){this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.");return}this.editingId?await this.transactionsService.update(e.uid,this.editingId,{type:n,description:r,amount:d,date:s,categoryId:n==="transfer"?null:o,accountId:n==="transfer"?null:a,accountOriginId:n==="transfer"?c:null,accountDestinationId:n==="transfer"?u:null,notes:l||""}):await this.transactionsService.add(e.uid,{type:n,description:r,amount:d,date:s,categoryId:n==="transfer"?null:o,accountId:n==="transfer"?null:a,accountOriginId:n==="transfer"?c:null,accountDestinationId:n==="transfer"?u:null,notes:l||""}),this.notifications.success("Salvo com sucesso"),this.resetForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}edit(e){this.editingId=e.id||null,this.form.patchValue({type:e.type,description:e.description,amount:e.amount,date:xu(e.date),categoryId:e.categoryId||"",accountId:e.accountId||"",accountOriginId:e.accountOriginId||"",accountDestinationId:e.accountDestinationId||"",notes:e.notes||""})}resetForm(){this.editingId=null,this.form.reset({type:null,description:"",amount:null,date:di(new Date),categoryId:"",accountId:"",accountOriginId:"",accountDestinationId:"",notes:""}),this.form.get("categoryId")?.disable({emitEvent:!1}),this.form.get("accountId")?.disable({emitEvent:!1}),this.form.get("accountOriginId")?.disable({emitEvent:!1}),this.form.get("accountDestinationId")?.disable({emitEvent:!1})}async delete(e){if(!e.id||!confirm("Excluir este lan\xE7amento?"))return;let r=await An(this.auth.user$);if(!r||this.pendingDeletes.has(e.id))return;let i=setTimeout(()=>{this.commitDelete(e.id)},5e3);this.pendingDeletes.set(e.id,{tx:e,uid:r.uid,timer:i}),this.refreshPendingIds(),this.notifications.info("Lan\xE7amento removido. Voc\xEA pode desfazer.",{durationMs:5e3,actionLabel:"Desfazer",action:()=>this.undoDelete(e.id)})}getCategoryName(e,n){return n?e.find(r=>r.id===n)?.name||"Categoria removida":"N/A"}getAccountName(e,n){return n?e.find(r=>r.id===n)?.name||"Conta removida":"Sem conta"}getTransferLabel(e,n){let r=this.getAccountName(e,n.accountOriginId),i=this.getAccountName(e,n.accountDestinationId);return`${r} -> ${i}`}trackById(e,n){return n.id}formatDate(e){return Su(e)}refreshPendingIds(){this.pendingDeleteIds$.next(new Set(this.pendingDeletes.keys()))}undoDelete(e){let n=this.pendingDeletes.get(e);n&&(clearTimeout(n.timer),this.pendingDeletes.delete(e),this.refreshPendingIds(),this.notifications.info("Exclus\xE3o desfeita."))}async commitDelete(e){let n=this.pendingDeletes.get(e);if(n){this.pendingDeletes.delete(e),this.refreshPendingIds();try{await this.transactionsService.delete(n.uid,e),this.notifications.success("Exclu\xEDdo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}}}async flushPendingDeletes(){let e=Array.from(this.pendingDeletes.values());this.pendingDeletes.clear(),this.refreshPendingIds(),await Promise.all(e.map(async n=>{if(clearTimeout(n.timer),n.tx.id)try{await this.transactionsService.delete(n.uid,n.tx.id)}catch{}}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-transactions"]],decls:2,vars:3,consts:[["singleAccount",""],["loadingTransactionsTpl",""],["emptyTransactionsTpl",""],["class","row g-3",4,"ngIf"],[1,"row","g-3"],[4,"ngIf"],[1,"col-12"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"col-lg-5"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"row","g-2"],[1,"col-md-6"],[1,"form-label","text-secondary","d-block"],["role","group","aria-label","Tipo",1,"btn-group","w-100"],["type","checkbox","id","tx-type-income","autocomplete","off",1,"btn-check",3,"click","checked"],["for","tx-type-income",1,"btn","btn-outline-success","flex-fill"],["type","checkbox","id","tx-type-expense","autocomplete","off",1,"btn-check",3,"click","checked"],["for","tx-type-expense",1,"btn","btn-outline-danger","flex-fill"],["type","checkbox","id","tx-type-transfer","autocomplete","off",1,"btn-check",3,"click","checked"],["for","tx-type-transfer",1,"btn","btn-outline-info","flex-fill"],[1,"form-label","text-secondary"],["type","date","formControlName","date",1,"form-control","glass-input"],["formControlName","description","placeholder","Ex: Supermercado",1,"form-control","glass-input"],["type","number","formControlName","amount","placeholder","Ex: 150.00","min","0.01","step","0.01",1,"form-control","glass-input"],[4,"ngIf","ngIfElse"],["rows","2","formControlName","notes",1,"form-control","glass-input"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-7"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],["formControlName","categoryId",1,"form-select","glass-input"],[1,"invalid-feedback"],["class","text-secondary",4,"ngIf"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","accountOriginId",1,"form-select","glass-input"],["formControlName","accountDestinationId",1,"form-select","glass-input"],["formControlName","accountId",1,"form-select","glass-input"],[1,"spinner-border","spinner-border-sm","me-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-truncate",2,"max-width","220px"],[1,"badge",3,"ngClass"],[1,"text-end","fw-semibold"],[1,"text-end","text-nowrap"],[1,"d-inline-flex","align-items-center","flex-nowrap"],[1,"btn","btn-sm","btn-outline-light","me-2",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"bi","bi-trash","me-1"],[4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-100"],[1,"skeleton","skeleton-line","w-50","ms-auto"],["colspan","7"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){n&1&&(_e(0,xz,3,3,"div",3),Xe(1,"async")),n&2&&ae("ngIf",hn(1,1,r.categories$))},dependencies:[bn,sr,er,Rn,ei,Zr,Mu,ku,pr,Yc,La,Or,Qr,rh,Br,jr,Lr,Ai],styles:[".glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #22d3ee33}"]})};var Sz=t=>[t,"BRL","symbol","1.2-2","pt-BR"];function Iz(t,e){t&1&&xe(0,"span",24)}function Tz(t,e){t&1&&xe(0,"span",32)}function Dz(t,e){if(t&1){let n=ln();G(0,"tr")(1,"td")(2,"span",26),J(3," \xA0 "),q(),J(4),q(),G(5,"td",27),J(6),Xe(7,"currency"),q(),G(8,"td",22)(9,"button",28),Ue("click",function(){let i=nt(n).$implicit,s=Ee(3);return rt(s.edit(i))}),xe(10,"i",29),J(11," Editar "),q(),G(12,"button",30),Ue("click",function(){let i=nt(n).$implicit,s=Ee(3);return rt(s.delete(i))}),_e(13,Tz,1,0,"span",31),J(14),q()()()}if(t&2){let n=e.$implicit,r=Ee(3);ee(2),Us("background",n.color||"#94a3b8"),ee(2),at(" ",n.name," "),ee(2),at(" ",Qt(7,7,Xt(13,Sz,n.currentBalance))," "),ee(6),ae("disabled",r.deletingId===n.id),ee(),ae("ngIf",r.deletingId===n.id),ee(),at(" ",r.deletingId===n.id?"Excluindo...":"Excluir"," ")}}function Az(t,e){if(t&1&&(Et(0),_e(1,Dz,15,15,"tr",25),Ct()),t&2){let n=Ee().ngIf,r=Ee();ee(),ae("ngForOf",n)("ngForTrackBy",r.trackById)}}function Mz(t,e){if(t&1&&(Et(0),_e(1,Az,2,2,"ng-container",23),Ct()),t&2){let n=e.ngIf;Ee();let r=tn(48);ee(),ae("ngIf",n.length>0)("ngIfElse",r)}}function kz(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",34),q(),G(3,"td",22),xe(4,"div",35),q(),G(5,"td",22),xe(6,"div",35),q()())}function Rz(t,e){if(t&1&&_e(0,kz,7,0,"tr",33),t&2){let n=Ee();ae("ngForOf",n.skeletonRows)}}function Nz(t,e){if(t&1){let n=ln();G(0,"tr")(1,"td",36)(2,"div",37)(3,"div"),J(4,"Nenhum dado encontrado para este per\xEDodo"),q(),G(5,"button",38),Ue("click",function(){nt(n);let i=Ee();return rt(i.resetForm())}),J(6," Cadastrar conta "),q()()()()}}var ey=class t{fb=me(Jr);auth=me(jn);accountsService=me(ao);transactionsService=me(Zi);notifications=me(bi);editingId=null;loadingAccounts=!0;saving=!1;deletingId=null;skeletonRows=Array.from({length:5});form=this.fb.group({name:["",[ct.required,ct.minLength(2)]],initialBalance:[0,[ct.required,ct.min(0)]],color:["#6366f1",ct.required]});accounts$=this.auth.user$.pipe(Wt(e=>e?this.accountsService.list$(e.uid):Le([])),Be(e=>e??[]));transactions$=this.auth.user$.pipe(Wt(e=>e?this.transactionsService.listAll$(e.uid):Le([])),Be(e=>e??[]));view$=Fn([this.accounts$,this.transactions$]).pipe(Be(([e,n])=>e.map(r=>{let i=n.filter(u=>u.type==="income"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),s=n.filter(u=>u.type==="expense"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),o=n.filter(u=>u.type==="transfer"&&u.accountOriginId===r.id).reduce((u,l)=>u+l.amount,0),a=n.filter(u=>u.type==="transfer"&&u.accountDestinationId===r.id).reduce((u,l)=>u+l.amount,0),c=Number(r.initialBalance??0);return je(ve({},r),{currentBalance:c+i-s-o+a})})),vn(()=>this.loadingAccounts=!1),cn(()=>(this.loadingAccounts=!1,Le([]))));trackById(e,n){return n.id}edit(e){this.editingId=e.id||null,this.form.patchValue({name:e.name,initialBalance:Number(e.initialBalance??0),color:e.color||"#6366f1"})}resetForm(){this.editingId=null,this.form.reset({name:"",initialBalance:0,color:"#6366f1"})}async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await An(this.auth.user$);if(!e)return;let{name:n,initialBalance:r,color:i}=this.form.value;this.saving=!0;try{this.editingId?await this.accountsService.update(e.uid,this.editingId,{name:n,initialBalance:Number(r??0),color:i||"#6366f1"}):await this.accountsService.add(e.uid,{name:n,initialBalance:Number(r??0),color:i||"#6366f1"}),this.notifications.success("Salvo com sucesso"),this.resetForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}async delete(e){if(!confirm(`Excluir conta "${e.name}"?`)||!e.id)return;let r=await An(this.auth.user$);if(r){this.deletingId=e.id;try{await this.accountsService.delete(r.uid,e.id),this.notifications.success("Exclu\xEDdo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.deletingId===e.id&&(this.deletingId=null)}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-accounts"]],decls:49,vars:9,consts:[["loadingAccountsTpl",""],["emptyAccountsTpl",""],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"form-label","text-secondary"],["formControlName","name","placeholder","Ex: Banco principal",1,"form-control","glass-input"],["type","number","formControlName","initialBalance","placeholder","Ex: 500.00","step","0.01",1,"form-control","glass-input"],["type","color","formControlName","color",1,"form-control","form-control-color","w-100"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-8"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],[4,"ngIf","ngIfElse"],[1,"spinner-border","spinner-border-sm","me-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","rounded-pill","me-2"],[1,"text-end","fw-semibold"],[1,"btn","btn-sm","btn-outline-light","me-2",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-light",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-50","ms-auto"],["colspan","3"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){if(n&1){let i=ln();G(0,"div",2)(1,"div",3)(2,"div")(3,"p",4),J(4,"Organiza\xE7\xE3o"),q(),G(5,"h3",5),J(6,"Contas"),q()()(),G(7,"div",6)(8,"div",7)(9,"h6",8),J(10),q(),G(11,"form",9),Ue("ngSubmit",function(){return nt(i),rt(r.save())}),G(12,"div")(13,"label",10),J(14,"Nome"),q(),xe(15,"input",11),q(),G(16,"div")(17,"label",10),J(18,"Saldo inicial"),q(),xe(19,"input",12),q(),G(20,"div")(21,"label",10),J(22,"Cor"),q(),xe(23,"input",13),q(),G(24,"div",14)(25,"button",15),_e(26,Iz,1,0,"span",16),J(27),q(),G(28,"button",17),Ue("click",function(){return nt(i),rt(r.resetForm())}),J(29,"Limpar"),q()()()()(),G(30,"div",18)(31,"div",7)(32,"div",19)(33,"table",20)(34,"thead")(35,"tr",21)(36,"th"),J(37,"Nome"),q(),G(38,"th",22),J(39,"Saldo atual"),q(),G(40,"th",22),J(41,"A\xE7\xF5es"),q()()(),G(42,"tbody"),_e(43,Mz,2,2,"ng-container",23),Xe(44,"async"),q(),_e(45,Rz,1,1,"ng-template",null,0,nn)(47,Nz,7,0,"ng-template",null,1,nn),q()()()()()}if(n&2){let i=tn(46);ee(10),Ze(r.editingId?"Editar conta":"Nova conta"),ee(),ae("formGroup",r.form),ee(14),ae("disabled",r.saving),ee(),ae("ngIf",r.saving),ee(),at(" ",r.saving?"Salvando...":r.editingId?"Salvar alteracoes":"Adicionar"," "),ee(16),ae("ngIf",hn(44,7,r.view$))("ngIfElse",i)}},dependencies:[bn,er,Rn,ei,Zr,pr,Yc,Or,Qr,Br,jr,Lr,Ai],styles:[".glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133}.glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}"]})};var Oz=(t,e)=>({"bg-success-subtle text-success":t,"bg-danger-subtle text-danger":e});function Pz(t,e){t&1&&(G(0,"small",32),J(1," Selecione um tipo. "),q())}function Fz(t,e){t&1&&xe(0,"span",33)}function Lz(t,e){t&1&&xe(0,"span",42)}function Vz(t,e){if(t&1){let n=ln();G(0,"tr")(1,"td"),J(2),q(),G(3,"td")(4,"span",35),J(5,"\xA0"),q(),G(6,"small",36),J(7),q()(),G(8,"td")(9,"span",37),J(10),q()(),G(11,"td",30)(12,"button",38),Ue("click",function(){let i=nt(n).$implicit,s=Ee(3);return rt(s.edit(i))}),xe(13,"i",39),J(14," Editar "),q(),G(15,"button",40),Ue("click",function(){let i=nt(n).$implicit,s=Ee(3);return rt(s.delete(i))}),_e(16,Lz,1,0,"span",41),J(17),q()()()}if(t&2){let n=e.$implicit,r=Ee(3);ee(2),Ze(n.name),ee(2),Us("background",n.color),ee(3),Ze(n.color),ee(2),ae("ngClass",Ld(9,Oz,n.type==="income",n.type==="expense")),ee(),at(" ",n.type==="income"?"Receita":"Despesa"," "),ee(5),ae("disabled",r.deletingId===n.id),ee(),ae("ngIf",r.deletingId===n.id),ee(),at(" ",r.deletingId===n.id?"Excluindo...":"Excluir"," ")}}function jz(t,e){if(t&1&&(Et(0),_e(1,Vz,18,12,"tr",34),Ct()),t&2){let n=Ee().ngIf,r=Ee();ee(),ae("ngForOf",n)("ngForTrackBy",r.trackById)}}function Bz(t,e){if(t&1&&(Et(0),_e(1,jz,2,2,"ng-container",31),Ct()),t&2){let n=e.ngIf;Ee();let r=tn(59);ee(),ae("ngIf",n.length>0)("ngIfElse",r)}}function Uz(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",44),q(),G(3,"td"),xe(4,"div",45),q(),G(5,"td"),xe(6,"div",45),q(),G(7,"td",30),xe(8,"div",46),q()())}function $z(t,e){if(t&1&&_e(0,Uz,9,0,"tr",43),t&2){let n=Ee();ae("ngForOf",n.skeletonRows)}}function Hz(t,e){if(t&1){let n=ln();G(0,"tr")(1,"td",47)(2,"div",48)(3,"div"),J(4,"Nenhum dado encontrado para este per\xEDodo."),q(),G(5,"button",49),Ue("click",function(){nt(n);let i=Ee();return rt(i.resetForm())}),J(6," Cadastrar categoria "),q()()()()}}var ty=class t{fb=me(Jr);categoriesService=me(vi);auth=me(jn);notifications=me(bi);editingId=null;loadingCategories=!0;saving=!1;deletingId=null;skeletonRows=Array.from({length:5});searchTerm$=new Dn("");form=this.fb.group({name:["",[ct.required,ct.minLength(2)]],color:["#6366f1",ct.required],type:new Nr(null,ct.required)});categories$=Fn([this.auth.user$,this.searchTerm$]).pipe(Wt(([e,n])=>e?this.categoriesService.list$(e.uid).pipe(Be(r=>(r??[]).filter(i=>i.name.toLowerCase().includes((n||"").toLowerCase())))):Le([])),vn(()=>this.loadingCategories=!1),cn(()=>(this.loadingCategories=!1,Le([]))));trackById(e,n){return n.id}setSearch(e){this.searchTerm$.next(e)}edit(e){this.editingId=e.id||null,this.form.patchValue({name:e.name,color:e.color,type:e.type??"expense"})}resetForm(){this.editingId=null,this.form.reset({color:"#6366f1",type:null})}toggleCategoryType(e){let n=this.form.get("type")?.value??null;this.form.get("type")?.setValue(n===e?null:e),this.form.get("type")?.markAsTouched()}async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await An(this.auth.user$);if(!e)return;let{name:n,color:r,type:i}=this.form.value;this.saving=!0;try{this.editingId?await this.categoriesService.update(e.uid,this.editingId,{name:n,color:r,type:i}):await this.categoriesService.add(e.uid,{name:n,color:r,type:i}),this.notifications.success("Salvo com sucesso"),this.resetForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}async delete(e){if(!confirm(`Excluir categoria "${e.name}"?`)||!e.id)return;let r=await An(this.auth.user$);if(r){this.deletingId=e.id;try{await this.categoriesService.delete(r.uid,e.id),this.notifications.success("Exclu\xEDdo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.deletingId===e.id&&(this.deletingId=null)}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-categories"]],decls:60,vars:12,consts:[["loadingCategoriesTpl",""],["emptyCategoriesTpl",""],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"w-auto"],["type","text","placeholder","Buscar...",1,"form-control","glass-input",3,"input"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"form-label","text-secondary"],["formControlName","name","placeholder","Ex: Alimenta\xE7\xE3o",1,"form-control","glass-input"],["type","color","formControlName","color",1,"form-control","form-control-color","w-100"],[1,"form-label","text-secondary","d-block"],["role","group","aria-label","Tipo",1,"btn-group","w-100"],["type","checkbox","id","category-type-income","autocomplete","off",1,"btn-check",3,"click","checked"],["for","category-type-income",1,"btn","btn-outline-success","w-50"],["type","checkbox","id","category-type-expense","autocomplete","off",1,"btn-check",3,"click","checked"],["for","category-type-expense",1,"btn","btn-outline-danger","w-50"],["class","text-danger",4,"ngIf"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-8"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],[4,"ngIf","ngIfElse"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","rounded-pill"],[1,"ms-2","text-secondary"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-light","me-2",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-light",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-50"],[1,"skeleton","skeleton-line","w-50","ms-auto"],["colspan","4"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){if(n&1){let i=ln();G(0,"div",2)(1,"div",3)(2,"div")(3,"p",4),J(4,"Organiza\xE7\xE3o"),q(),G(5,"h3",5),J(6,"Categorias"),q()(),G(7,"div",6)(8,"input",7),Ue("input",function(o){return nt(i),rt(r.setSearch(o.target.value))}),q()()(),G(9,"div",8)(10,"div",9)(11,"h6",10),J(12),q(),G(13,"form",11),Ue("ngSubmit",function(){return nt(i),rt(r.save())}),G(14,"div")(15,"label",12),J(16,"Nome"),q(),xe(17,"input",13),q(),G(18,"div")(19,"label",12),J(20,"Cor"),q(),xe(21,"input",14),q(),G(22,"div")(23,"label",15),J(24,"Tipo"),q(),G(25,"div",16)(26,"input",17),Ue("click",function(){return nt(i),rt(r.toggleCategoryType("income"))}),q(),G(27,"label",18),J(28,"Receita"),q(),G(29,"input",19),Ue("click",function(){return nt(i),rt(r.toggleCategoryType("expense"))}),q(),G(30,"label",20),J(31,"Despesa"),q()(),_e(32,Pz,2,0,"small",21),q(),G(33,"div",22)(34,"button",23),_e(35,Fz,1,0,"span",24),J(36),q(),G(37,"button",25),Ue("click",function(){return nt(i),rt(r.resetForm())}),J(38,"Limpar"),q()()()()(),G(39,"div",26)(40,"div",9)(41,"div",27)(42,"table",28)(43,"thead")(44,"tr",29)(45,"th"),J(46,"Nome"),q(),G(47,"th"),J(48,"Cor"),q(),G(49,"th"),J(50,"Tipo"),q(),G(51,"th",30),J(52,"A\xE7\xF5es"),q()()(),G(53,"tbody"),_e(54,Bz,2,2,"ng-container",31),Xe(55,"async"),q(),_e(56,$z,1,1,"ng-template",null,0,nn)(58,Hz,7,0,"ng-template",null,1,nn),q()()()()()}if(n&2){let i,s,o,a=tn(57);ee(12),Ze(r.editingId?"Editar categoria":"Nova categoria"),ee(),ae("formGroup",r.form),ee(13),ae("checked",((i=r.form.get("type"))==null?null:i.value)==="income"),ee(3),ae("checked",((s=r.form.get("type"))==null?null:s.value)==="expense"),ee(3),ae("ngIf",((o=r.form.get("type"))==null?null:o.touched)&&((o=r.form.get("type"))==null?null:o.invalid)),ee(2),ae("disabled",r.saving),ee(),ae("ngIf",r.saving),ee(),at(" ",r.saving?"Salvando...":r.editingId?"Salvar alteracoes":"Adicionar"," "),ee(18),ae("ngIf",hn(55,10,r.categories$))("ngIfElse",a)}},dependencies:[bn,sr,er,Rn,ei,Zr,pr,Or,Qr,Br,jr,Lr],styles:[".glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133}.glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}"]})};var ny=class t{firestore=me(ui);listByMonth$(e,n,r){let i=Vr(this.firestore,`users/${e}/budgets`);return so(i,{idField:"id"}).pipe(Be(s=>s.filter(o=>o.month===n&&o.year===r)))}async add(e,n){let r=Vr(this.firestore,`users/${e}/budgets`);if((await Hc(r)).docs.some(o=>{let a=o.data();return a.categoryId===n.categoryId&&a.month===n.month&&a.year===n.year}))throw new Error("J\xE1 existe uma meta para esta categoria neste m\xEAs.");await Oa(r,je(ve({},n),{createdAt:Xi()}))}async update(e,n,r){let i=Xr(this.firestore,`users/${e}/budgets/${n}`);await oo(i,ve({},r))}async delete(e,n){let r=Xr(this.firestore,`users/${e}/budgets/${n}`);await Pa(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var ih=t=>[t,"BRL","symbol","1.2-2","pt-BR"],zz=(t,e)=>({"bg-danger":t,"bg-info":e});function qz(t,e){if(t&1&&(G(0,"option",24),J(1),q()),t&2){let n=e.$implicit;ae("ngValue",n.value),ee(),Ze(n.label)}}function Wz(t,e){if(t&1&&(G(0,"option",24),J(1),q()),t&2){let n=e.$implicit;ae("ngValue",n),ee(),Ze(n)}}function Gz(t,e){if(t&1&&(G(0,"option",25),J(1),q()),t&2){let n=e.$implicit;ae("value",n.id),ee(),Ze(n.name)}}function Kz(t,e){t&1&&xe(0,"span",26)}function Yz(t,e){t&1&&xe(0,"span",42)}function Xz(t,e){if(t&1&&(G(0,"div",43),J(1),Xe(2,"currency"),Xe(3,"currency"),q()),t&2){let n=Ee().$implicit;ee(),qi(" Voc\xEA excedeu a meta em ",Qt(2,2,Xt(14,ih,n.remaining*-1)),". Sugest\xE3o: reduza em ",Qt(3,8,Xt(16,ih,n.remaining*-1))," para voltar ao limite. ")}}function Qz(t,e){t&1&&(G(0,"div",44),J(1," Alerta: 80% da meta atingido. "),q())}function Zz(t,e){if(t&1){let n=ln();G(0,"div",28)(1,"div",29)(2,"div")(3,"div",30),J(4),q(),G(5,"small",31),J(6),q()(),G(7,"div",7)(8,"button",32),Ue("click",function(){let i=nt(n).$implicit,s=Ee(4);return rt(s.edit(i))}),xe(9,"i",33),J(10," Editar "),q(),G(11,"button",34),Ue("click",function(){let i=nt(n).$implicit,s=Ee(4);return rt(s.delete(i))}),_e(12,Yz,1,0,"span",35),J(13),q()()(),G(14,"div",36)(15,"span"),J(16),Xe(17,"currency"),q(),G(18,"span"),J(19),Xe(20,"currency"),q(),G(21,"span"),J(22),Xe(23,"currency"),q()(),G(24,"div",37),xe(25,"div",38),q(),G(26,"div",39),J(27),q(),_e(28,Xz,4,18,"div",40)(29,Qz,2,0,"div",41),q()}if(t&2){let n=e.$implicit,r=Ee(4);ee(4),Ze(n.categoryName),ee(2),qi("",r.selectedMonth,"/",r.selectedYear),ee(5),ae("disabled",r.deletingId===n.id),ee(),ae("ngIf",r.deletingId===n.id),ee(),at(" ",r.deletingId===n.id?"Excluindo...":"Excluir"," "),ee(3),at("Limite: ",Qt(17,15,Xt(33,ih,n.limitAmount))),ee(3),at("Gasto: ",Qt(20,21,Xt(35,ih,n.spent))),ee(3),at("Restante do m\xEAs: ",Qt(23,27,Xt(37,ih,n.remaining))),ee(3),Us("width",n.percent,"%"),ae("ngClass",Ld(39,zz,n.percent>=100,n.percent<100)),ee(2),at("",n.percent,"% utilizado"),ee(),ae("ngIf",n.percent>=100),ee(),ae("ngIf",n.percent>=80&&n.percent<100)}}function Jz(t,e){if(t&1&&(Et(0),_e(1,Zz,30,42,"div",27),Ct()),t&2){let n=Ee().ngIf,r=Ee(2);ee(),ae("ngForOf",n)("ngForTrackBy",r.trackById)}}function eq(t,e){if(t&1&&(Et(0),_e(1,Jz,2,2,"ng-container",23),Ct()),t&2){let n=e.ngIf;Ee();let r=tn(43);ee(),ae("ngIf",n.length>0)("ngIfElse",r)}}function tq(t,e){t&1&&(G(0,"div",28),xe(1,"div",46)(2,"div",47)(3,"div",48)(4,"div",48),q())}function nq(t,e){if(t&1&&_e(0,tq,5,0,"div",45),t&2){let n=Ee(2);ae("ngForOf",n.skeletonRows)}}function rq(t,e){if(t&1){let n=ln();G(0,"div",49)(1,"div"),J(2,"Nenhum dado encontrado para este per\xEDodo."),q(),G(3,"button",50),Ue("click",function(){nt(n);let i=Ee(2);return rt(i.resetForm())}),J(4,"Criar meta"),q()()}}function iq(t,e){if(t&1){let n=ln();G(0,"div",3)(1,"div",4)(2,"div")(3,"p",5),J(4,"Planejamento"),q(),G(5,"h3",6),J(6,"Metas"),q()(),G(7,"div",7)(8,"select",8),Co("ngModelChange",function(i){nt(n);let s=Ee();return la(s.selectedMonth,i)||(s.selectedMonth=i),rt(i)}),Ue("change",function(){nt(n);let i=Ee();return rt(i.changePeriod())}),_e(9,qz,2,2,"option",9),q(),G(10,"select",8),Co("ngModelChange",function(i){nt(n);let s=Ee();return la(s.selectedYear,i)||(s.selectedYear=i),rt(i)}),Ue("change",function(){nt(n);let i=Ee();return rt(i.changePeriod())}),_e(11,Wz,2,2,"option",9),q()()(),G(12,"div",10)(13,"div",11)(14,"h6",12),J(15),q(),G(16,"form",13),Ue("ngSubmit",function(){nt(n);let i=Ee();return rt(i.save())}),G(17,"div")(18,"label",14),J(19,"Categoria"),q(),G(20,"select",15)(21,"option",16),J(22,"Selecione..."),q(),_e(23,Gz,2,2,"option",17),q()(),G(24,"div")(25,"label",14),J(26,"Limite (R$)"),q(),xe(27,"input",18),q(),G(28,"div",7)(29,"button",19),_e(30,Kz,1,0,"span",20),J(31),q(),G(32,"button",21),Ue("click",function(){nt(n);let i=Ee();return rt(i.resetForm())}),J(33,"Limpar"),q()()()()(),G(34,"div",22)(35,"div",11)(36,"h6",12),J(37,"Metas do per\xEDodo"),q(),_e(38,eq,2,2,"ng-container",23),Xe(39,"async"),_e(40,nq,1,1,"ng-template",null,0,nn)(42,rq,5,0,"ng-template",null,1,nn),q()()()}if(t&2){let n=e.ngIf,r=tn(41),i=Ee();ee(8),Eo("ngModel",i.selectedMonth),ee(),ae("ngForOf",i.months),ee(),Eo("ngModel",i.selectedYear),ee(),ae("ngForOf",i.years),ee(4),Ze(i.editingId?"Editar meta":"Nova meta"),ee(),ae("formGroup",i.form),ee(7),ae("ngForOf",n),ee(6),ae("disabled",i.saving),ee(),ae("ngIf",i.saving),ee(),at(" ",i.saving?"Salvando...":i.editingId?"Salvar":"Adicionar"," "),ee(7),ae("ngIf",hn(39,12,i.view$))("ngIfElse",r)}}var ry=class t{fb=me(Jr);auth=me(jn);budgetsService=me(ny);categoriesService=me(vi);transactionsService=me(Zi);notifications=me(bi);editingId=null;loadingBudgets=!0;saving=!1;deletingId=null;skeletonRows=Array.from({length:3});warnedKeys=new Set;selectedMonth=new Date().getMonth()+1;selectedYear=new Date().getFullYear();refresh$=new Dn(void 0);form=this.fb.group({categoryId:["",ct.required],limitAmount:[0,[ct.required,ct.min(1)]]});categories$=this.auth.user$.pipe(Wt(e=>e?this.categoriesService.list$(e.uid):Le([])),Be(e=>e??[]));budgets$=Fn([this.auth.user$,this.refresh$]).pipe(Wt(([e])=>e?this.budgetsService.listByMonth$(e.uid,this.selectedMonth,this.selectedYear):Le([])),Be(e=>e??[]));expenses$=Fn([this.auth.user$,this.refresh$]).pipe(Wt(([e])=>e?this.transactionsService.listMonthExpensesByCategory$(e.uid,this.selectedMonth,this.selectedYear):Le({})));view$=Fn([this.budgets$,this.categories$,this.expenses$]).pipe(Be(([e,n,r])=>e.map(i=>{let s=r[i.categoryId]||0,o=i.limitAmount-s,a=i.limitAmount?Math.min(100,Math.round(s/i.limitAmount*100)):0,c=n.find(u=>u.id===i.categoryId)?.name||"Categoria";return je(ve({},i),{spent:s,remaining:o,percent:a,categoryName:c})})),vn(e=>{this.loadingBudgets=!1,this.checkBudgetAlerts(e)}),cn(()=>(this.loadingBudgets=!1,Le([]))));months=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"].map((e,n)=>({value:n+1,label:e}));years=Array.from({length:6}).map((e,n)=>this.selectedYear-2+n);async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await An(this.auth.user$);if(!e)return;let{categoryId:n,limitAmount:r}=this.form.value;this.saving=!0;try{this.editingId?await this.budgetsService.update(e.uid,this.editingId,{limitAmount:Number(r)}):await this.budgetsService.add(e.uid,{categoryId:n,limitAmount:Number(r),month:this.selectedMonth,year:this.selectedYear}),this.notifications.success("Salvo com sucesso"),this.resetForm(),this.loadingBudgets=!0,this.refresh$.next()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}edit(e){this.editingId=e.id||null,this.selectedMonth=e.month,this.selectedYear=e.year,this.form.patchValue({categoryId:e.categoryId,limitAmount:e.limitAmount}),this.form.get("categoryId")?.disable(),this.loadingBudgets=!0,this.refresh$.next()}resetForm(){this.editingId=null,this.form.enable(),this.form.reset({limitAmount:0,categoryId:""})}changePeriod(){this.loadingBudgets=!0,this.refresh$.next()}async delete(e){if(!e.id||!confirm("Excluir esta meta?"))return;let r=await An(this.auth.user$);if(r){this.deletingId=e.id;try{await this.budgetsService.delete(r.uid,e.id),this.notifications.success("Exclu\xEDdo com sucesso"),this.loadingBudgets=!0,this.refresh$.next()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.deletingId===e.id&&(this.deletingId=null)}}}trackById(e,n){return n.id}checkBudgetAlerts(e){e.forEach(n=>{if(!(!n.id&&!n.categoryId)){if(n.percent>=100){let r=this.buildAlertKey(n,"100");this.hasAlerted(r)||(this.notifications.error("Meta excedida. Verifique os detalhes."),this.markAlerted(r));return}if(n.percent>=80){let r=this.buildAlertKey(n,"80");this.hasAlerted(r)||(this.notifications.warning("Atingiu 80% da meta."),this.markAlerted(r))}}})}buildAlertKey(e,n){return`budget-alert-${e.id||e.categoryId||"meta"}-${e.month}-${e.year}-${n}`}hasAlerted(e){if(this.warnedKeys.has(e))return!0;try{return typeof localStorage<"u"&&localStorage.getItem(e)==="1"}catch{return!1}}markAlerted(e){this.warnedKeys.add(e);try{typeof localStorage<"u"&&localStorage.setItem(e,"1")}catch{}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-budgets"]],decls:2,vars:3,consts:[["loadingBudgetsTpl",""],["emptyBudgetsTpl",""],["class","row g-3",4,"ngIf"],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"d-flex","gap-2"],[1,"form-select","glass-input",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"form-label","text-secondary"],["formControlName","categoryId",1,"form-select","glass-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","limitAmount","min","0","step","0.01",1,"form-control","glass-input"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-8"],[4,"ngIf","ngIfElse"],[3,"ngValue"],[3,"value"],[1,"spinner-border","spinner-border-sm","me-2"],["class","budget-card p-3 mb-3 rounded",4,"ngFor","ngForOf","ngForTrackBy"],[1,"budget-card","p-3","mb-3","rounded"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-semibold"],[1,"text-secondary"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"d-flex","justify-content-between","text-secondary","small"],[1,"progress","mt-2",2,"height","8px"],["role","progressbar",1,"progress-bar",3,"ngClass"],[1,"text-end","small","mt-1","text-secondary"],["class","text-danger small mt-2",4,"ngIf"],["class","text-warning small mt-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-danger","small","mt-2"],[1,"text-warning","small","mt-2"],["class","budget-card p-3 mb-3 rounded",4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-50","mb-2"],[1,"skeleton","skeleton-line","w-75","mb-3"],[1,"skeleton","skeleton-line","w-100","mb-2"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){n&1&&(_e(0,iq,44,14,"div",2),Xe(1,"async")),n&2&&ae("ngIf",hn(1,1,r.categories$))},dependencies:[bn,sr,er,Rn,ei,Zr,Mu,ku,pr,Yc,La,Or,Qr,rh,Br,jr,Ru,Kc,Lr,Ai],styles:[".glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.budget-card[_ngcontent-%COMP%]{background:#ffffff0a;border:1px solid rgba(255,255,255,.05)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3b82f633}"]})};var iy=class t{constructor(e){this.transactionsService=e}getReport(e,n,r){return this.transactionsService.listByRange$(e,n,r).pipe(Be(i=>{let s=i.filter(u=>u.type==="income").reduce((u,l)=>u+l.amount,0),o=i.filter(u=>u.type==="expense").reduce((u,l)=>u+l.amount,0),a=i.filter(u=>u.type==="expense"&&!!u.categoryId).reduce((u,l)=>{let d=l.categoryId;return u[d]=(u[d]||0)+l.amount,u},{}),c=Object.entries(a).map(([u,l])=>({categoryId:u,categoryName:"",total:l}));return{summary:{totalIncome:s,totalExpense:o,balance:s-o},byCategory:c,transactions:i}}))}getAnnualReport(e,n){let r=new Date(n,0,1,0,0,0),i=new Date(n,11,31,23,59,59);return this.transactionsService.listByRange$(e,r,i).pipe(Be(s=>{let o=Array.from({length:12},(u,l)=>({month:l+1,income:0,expense:0,balance:0}));s.forEach(u=>{let[l,d]=(u.date||"").split("-").map(Number);l!==n||!d||(u.type==="income"&&(o[d-1].income+=u.amount),u.type==="expense"&&(o[d-1].expense+=u.amount))}),o.forEach(u=>{u.balance=u.income-u.expense});let a=o.reduce((u,l)=>(u.totalIncome+=l.income,u.totalExpense+=l.expense,u.balance+=l.balance,u),{totalIncome:0,totalExpense:0,balance:0}),c=o.some(u=>u.income>0||u.expense>0);return{year:n,months:o,totals:a,hasData:c}}))}static \u0275fac=function(n){return new(n||t)(Rt(Zi))};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var mC=jC(vk()),sh=jC(bk());var sy=class t{async exportRelatorioXlsx(e){let{titulo:n,filtrosTexto:r,rows:i,saldoInicial:s,fileName:o}=e,a=new mC.default.Workbook;a.creator="Gest\xE3o de Gastos",a.created=new Date;let c=a.addWorksheet("Relat\xF3rio",{views:[{state:"frozen",ySplit:4}]}),u=["Data","Tipo","Descri\xE7\xE3o","Categoria","Conta/Origem","Destino","Valor"],l={style:"thin",color:{argb:"FF111827"}},d={style:"hair",color:{argb:"FFE5E7EB"}},f={top:l,left:l,bottom:l,right:l};c.mergeCells("A1:G1");let p=c.getCell("A1");p.value=n,p.font={size:16,bold:!0},p.alignment={vertical:"middle",horizontal:"left"},c.mergeCells("A2:G2");let h=c.getCell("A2");h.value=r??"",h.font={italic:!0,color:{argb:"FF666666"}},h.alignment={vertical:"middle",horizontal:"left",wrapText:!0};let y=3;c.getRow(y).height=18,c.getCell(y,6).value="Saldo inicial",c.getCell(y,6).font={bold:!0},c.getCell(y,7).value=Number.isFinite(s)?s:0,c.getCell(y,7).numFmt='"R$" #,##0.00',c.getCell(y,7).font={bold:!0};let g=4,_=c.getRow(g);_.values=u,_.font={bold:!0,color:{argb:"FFFFFFFF"}},_.alignment={vertical:"middle",horizontal:"left"},_.height=20;for(let P=1;P<=u.length;P++){let E=c.getCell(g,P);E.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F2937"}},E.border=f}let x=g+1;i.forEach((P,E)=>{let S=x+E,D=P.data instanceof Date?P.data:new Date(P.data),m=P.contaOrigem??P.conta??"",v=P.destino??"",w=this.normalizeTipo(P.tipo);c.getRow(S).values=[D,w,P.descricao??"",P.categoria??"",m,v,P.valor??0],c.getCell(S,1).numFmt="dd/mm/yyyy",c.getCell(S,7).numFmt='"R$" #,##0.00',c.getCell(S,2).alignment={horizontal:"center"};let b=c.getCell(S,7);P.tipo==="saida"&&(b.font={color:{argb:"FFB91C1C"}}),P.tipo==="entrada"&&(b.font={color:{argb:"FF15803D"}});for(let C=1;C<=u.length;C++)c.getCell(S,C).border={bottom:d}}),c.autoFilter={from:{row:g,column:1},to:{row:g,column:u.length}};let k=x+i.length-1,L=k+2;c.getCell(L,6).value="TOTAL",c.getCell(L,6).font={bold:!0},i.length>0?c.getCell(L,7).value={formula:`G${y}+SUMIF(B${x}:B${k},"entrada",G${x}:G${k})-SUMIF(B${x}:B${k},"sa\xEDda",G${x}:G${k})`}:c.getCell(L,7).value=Number.isFinite(s)?s:0,c.getCell(L,7).numFmt='"R$" #,##0.00',c.getCell(L,7).font={bold:!0},[12,16,40,22,18,18,14].forEach((P,E)=>c.getColumn(E+1).width=P);let V=await a.xlsx.writeBuffer(),R=new Blob([V],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),N=(o||n).replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),j=N.toLowerCase().endsWith(".xlsx")?N:`${N}.xlsx`;(0,sh.saveAs)(R,j)}exportRelatorioCsv(e){let n=["Data","Tipo","Descri\xE7\xE3o","Categoria","Conta/Origem","Destino","Valor"],r=e.rows.map(c=>[c.data,this.normalizeTipo(c.tipo),c.descricao,c.categoria,c.contaOrigem,c.destino,this.formatCsvNumber(c.valor)]),i=this.buildCsv(n,r),s=new Blob([i],{type:"text/csv;charset=utf-8"}),o=e.fileName.replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),a=o.toLowerCase().endsWith(".csv")?o:`${o}.csv`;(0,sh.saveAs)(s,a)}exportRelatorioAnualCsv(e){let n=["Ano-M\xEAs","Data","Tipo","Descri\xE7\xE3o","Categoria","Conta/Origem","Destino","Valor"],r=e.rows.map(c=>[c.anoMes,c.data,this.normalizeTipo(c.tipo),c.descricao,c.categoria,c.contaOrigem,c.destino,this.formatCsvNumber(c.valor)]),i=this.buildCsv(n,r),s=new Blob([i],{type:"text/csv;charset=utf-8"}),o=e.fileName.replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),a=o.toLowerCase().endsWith(".csv")?o:`${o}.csv`;(0,sh.saveAs)(s,a)}async exportRelatorioAnualXlsx(e){let n=new mC.default.Workbook;n.creator="Gest\xE3o de Gastos",n.created=new Date;let r=n.addWorksheet("Resumo Anual");r.views=[{state:"frozen",ySplit:7}];let i=Number.isFinite(e.saldoInicial)?Number(e.saldoInicial):0,s=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],o=s.map(()=>({entradas:0,saidas:0})),a=0,c=0;e.rows.forEach(j=>{let P=Number(j.valor)||0,E=this.normalizeTipo(j.tipo);if(E!=="entrada"&&E!=="sa\xEDda")return;let S=j.data instanceof Date?j.data:new Date(j.data);if(!Number.isFinite(S.getTime())||S.getFullYear()!==e.year)return;let D=S.getMonth();E==="entrada"?(a+=P,o[D].entradas+=P):(c+=P,o[D].saidas+=P)});let u=i+a-c,l=r.getCell("A1");l.value=`Resumo Anual ${e.year}`,l.font={size:16,bold:!0},l.alignment={vertical:"middle",horizontal:"left"},r.getRow(1).height=22,r.getCell("A1").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFEFF3F6"}},r.mergeCells("A1:D1"),r.getCell("A3").value="Total de Entradas",r.getCell("B3").value=a,r.getCell("A4").value="Total de Sa\xEDdas",r.getCell("B4").value=c,r.getCell("A5").value="Saldo do Ano",r.getCell("B5").value=u,r.getCell("A3").font={bold:!0},r.getCell("A4").font={bold:!0},r.getCell("A5").font={bold:!0},r.getCell("B5").font={bold:!0},r.getCell("B3").numFmt='"R$" #,##0.00',r.getCell("B4").numFmt='"R$" #,##0.00',r.getCell("B5").numFmt='"R$" #,##0.00';let d={argb:"FFE8F5E9"},f={argb:"FFFDECEA"},p={argb:"FFE8F1FF"};["A3","B3"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:d}}),["A4","B4"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:f}}),["A5","B5"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:p}}),r.getCell("A3").alignment={horizontal:"left"},r.getCell("A4").alignment={horizontal:"left"},r.getCell("A5").alignment={horizontal:"left"},r.getCell("B3").alignment={horizontal:"right"},r.getCell("B4").alignment={horizontal:"right"},r.getCell("B5").alignment={horizontal:"right"},r.getCell("A7").value="M\xEAs",r.getCell("B7").value="Entradas",r.getCell("C7").value="Sa\xEDdas",r.getCell("D7").value="Saldo",r.getRow(7).font={bold:!0},r.getRow(7).alignment={vertical:"middle",horizontal:"left"},["A7","B7","C7","D7"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE5E7EB"}}});let h={top:{style:"thin",color:{argb:"FFD1D5DB"}},left:{style:"thin",color:{argb:"FFD1D5DB"}},bottom:{style:"thin",color:{argb:"FFD1D5DB"}},right:{style:"thin",color:{argb:"FFD1D5DB"}}},y=0,g=0,_=0,x=0;s.forEach((j,P)=>{let E=8+P,S=o[P].entradas,D=o[P].saidas,m=S===0&&D===0?0:i+S-D;y+=S,g+=D,(S>0||D>0)&&(_+=m,x+=1),r.getCell(E,1).value=j,r.getCell(E,2).value=S,r.getCell(E,3).value=D,r.getCell(E,4).value=m,r.getCell(E,2).numFmt='"R$" #,##0.00',r.getCell(E,3).numFmt='"R$" #,##0.00',r.getCell(E,4).numFmt='"R$" #,##0.00',r.getCell(E,1).alignment={horizontal:"left"},r.getCell(E,2).alignment={horizontal:"right"},r.getCell(E,3).alignment={horizontal:"right"},r.getCell(E,4).alignment={horizontal:"right"};for(let v=1;v<=4;v++)r.getCell(E,v).border=h});let k=8+s.length,L=x>0?_/x:0;r.getCell(k,1).value="TOTAL",r.getCell(k,2).value=y,r.getCell(k,3).value=g,r.getCell(k,4).value=L,r.getRow(k).font={bold:!0},r.getCell(k,2).numFmt='"R$" #,##0.00',r.getCell(k,3).numFmt='"R$" #,##0.00',r.getCell(k,4).numFmt='"R$" #,##0.00',r.getCell(k,1).alignment={horizontal:"left"},r.getCell(k,2).alignment={horizontal:"right"},r.getCell(k,3).alignment={horizontal:"right"},r.getCell(k,4).alignment={horizontal:"right"};for(let j=1;j<=4;j++)r.getCell(k,j).border=h;["A7","B7","C7","D7"].forEach(j=>{r.getCell(j).border=h}),r.getColumn(1).width=26,r.getColumn(2).width=18,r.getColumn(3).width=18,r.getColumn(4).width=18,r.autoFilter={from:{row:7,column:1},to:{row:7,column:4}};let B=await n.xlsx.writeBuffer(),V=new Blob([B],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),R=(e.fileName||e.titulo).replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),N=R.toLowerCase().endsWith(".xlsx")?R:`${R}.xlsx`;(0,sh.saveAs)(V,N)}normalizeTipo(e){return e==="saida"?"sa\xEDda":e==="transferencia"?"transfer\xEAncia":e??""}buildCsv(e,n,r=";"){let s=n.map(o=>o.map(a=>this.escapeCsv(a,r)).join(r));return`\uFEFF${[e.join(r),...s].join(`
`)}`}formatCsvNumber(e){return Number.isFinite(e)?Number(e).toFixed(2):"0.00"}escapeCsv(e,n=";"){let r=`${e??""}`;return r.includes(n)||r.includes('"')||r.includes(`
`)||r.includes("\r")?`"${r.replace(/\"/g,'""')}"`:r}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ge({token:t,factory:t.\u0275fac,providedIn:"root"})};var Cs=t=>[t,"BRL","symbol","1.2-2","pt-BR"],sq=(t,e,n)=>({"bg-success-subtle text-success":t,"bg-danger-subtle text-danger":e,"bg-info-subtle text-info":n});function oq(t,e){t&1&&xe(0,"span",14)}function aq(t,e){t&1&&xe(0,"span",14)}function cq(t,e){if(t&1){let n=ln();Et(0),G(1,"button",12),Ue("click",function(){nt(n);let i=Ee();return rt(i.exportCsv())}),_e(2,oq,1,0,"span",13),J(3),q(),G(4,"button",12),Ue("click",function(){nt(n);let i=Ee();return rt(i.exportXlsx())}),_e(5,aq,1,0,"span",13),J(6),q(),Ct()}if(t&2){let n=Ee();ee(),ae("disabled",n.exportingCsv),ee(),ae("ngIf",n.exportingCsv),ee(),at(" ",n.exportingCsv?"Exportando...":"Exportar CSV"," "),ee(),ae("disabled",n.exportingXlsx),ee(),ae("ngIf",n.exportingXlsx),ee(),at(" ",n.exportingXlsx?"Exportando...":"Exportar Excel"," ")}}function lq(t,e){t&1&&xe(0,"span",14)}function uq(t,e){t&1&&xe(0,"span",14)}function dq(t,e){if(t&1){let n=ln();Et(0),G(1,"button",12),Ue("click",function(){nt(n);let i=Ee();return rt(i.exportAnnualCsv())}),_e(2,lq,1,0,"span",13),J(3),q(),G(4,"button",12),Ue("click",function(){nt(n);let i=Ee();return rt(i.exportAnnualXlsx())}),_e(5,uq,1,0,"span",13),J(6),q(),Ct()}if(t&2){let n=Ee();ee(),ae("disabled",n.exportingAnnualCsv),ee(),ae("ngIf",n.exportingAnnualCsv),ee(),at(" ",n.exportingAnnualCsv?"Exportando...":"Exportar CSV"," "),ee(),ae("disabled",n.exportingAnnualXlsx),ee(),ae("ngIf",n.exportingAnnualXlsx),ee(),at(" ",n.exportingAnnualXlsx?"Exportando...":"Exportar Excel"," ")}}function fq(t,e){if(t&1){let n=ln();Et(0),G(1,"div",15)(2,"div",16)(3,"div",24)(4,"div"),J(5,"Nenhum dado encontrado para este per\xEDodo."),q(),G(6,"button",25),Ue("click",function(){nt(n);let i=Ee(3);return rt(i.applyFilters())}),J(7," Gerar relat\xF3rio "),q()()()(),Ct()}}function hq(t,e){if(t&1&&(G(0,"tr")(1,"td"),J(2),q(),G(3,"td",38),J(4),Xe(5,"currency"),q()()),t&2){let n=e.$implicit;ee(2),Ze(n.categoryName||"Categoria"),ee(2),at(" ",Qt(5,2,Xt(8,Cs,n.total))," ")}}function pq(t,e){t&1&&(G(0,"tr")(1,"td",39),J(2,"Sem dados"),q()())}function mq(t,e){if(t&1&&(G(0,"tr")(1,"td"),J(2),q(),G(3,"td",40),J(4),q(),G(5,"td")(6,"span",41),J(7),q()(),G(8,"td",42),J(9),Xe(10,"currency"),q()()),t&2){let n=e.$implicit,r=Ee(4);ee(2),Ze(r.formatDateShort(n.date)),ee(2),Ze(n.description),ee(2),ae("ngClass",uc(11,sq,n.type==="income",n.type==="expense",n.type==="transfer")),ee(),Ze(n.type==="income"?"Receita":n.type==="expense"?"Despesa":"Transfer\xEAncia"),ee(2),at(" ",Qt(10,5,Xt(15,Cs,n.amount))," ")}}function gq(t,e){t&1&&(G(0,"tr")(1,"td",43),J(2,"Nenhum lan\xE7amento no per\xEDodo."),q()())}function yq(t,e){if(t&1&&(G(0,"div",18)(1,"div",26)(2,"div",27),J(3,"Entradas"),q(),G(4,"h4",28),J(5),Xe(6,"currency"),q()()(),G(7,"div",18)(8,"div",26)(9,"div",27),J(10,"Sa\xEDdas"),q(),G(11,"h4",29),J(12),Xe(13,"currency"),q()()(),G(14,"div",18)(15,"div",26)(16,"div",27),J(17,"Saldo"),q(),G(18,"h4",30),J(19),Xe(20,"currency"),q()()(),G(21,"div",31)(22,"div",26)(23,"h6",32),J(24,"Gasto por categoria"),q(),G(25,"div",33)(26,"table",34)(27,"thead")(28,"tr",35)(29,"th"),J(30,"Categoria"),q(),G(31,"th",36),J(32,"Total"),q()()(),G(33,"tbody"),_e(34,hq,6,10,"tr",37)(35,pq,3,0,"tr",11),q()()()()(),G(36,"div",31)(37,"div",26)(38,"h6",32),J(39,"Lan\xE7amentos"),q(),G(40,"div",33)(41,"table",34)(42,"thead")(43,"tr",35)(44,"th"),J(45,"Data"),q(),G(46,"th"),J(47,"Desc"),q(),G(48,"th"),J(49,"Tipo"),q(),G(50,"th"),J(51,"Valor"),q()()(),G(52,"tbody"),_e(53,mq,11,17,"tr",37)(54,gq,3,0,"tr",11),q()()()()()),t&2){let n=Ee().ngIf;ee(5),at(" ",Qt(6,7,Xt(25,Cs,n.summary.totalIncome))," "),ee(7),at(" ",Qt(13,13,Xt(27,Cs,n.summary.totalExpense))," "),ee(7),at(" ",Qt(20,19,Xt(29,Cs,n.summary.balance))," "),ee(15),ae("ngForOf",n==null?null:n.byCategory),ee(),ae("ngIf",(n==null||n.byCategory==null?null:n.byCategory.length)===0),ee(18),ae("ngForOf",n==null?null:n.transactions),ee(),ae("ngIf",(n==null||n.transactions==null?null:n.transactions.length)===0)}}function vq(t,e){if(t&1&&(Et(0),_e(1,fq,8,0,"ng-container",23)(2,yq,55,31,"ng-template",null,1,nn),Ct()),t&2){let n=e.ngIf,r=tn(3);ee(),ae("ngIf",!n||(n==null||n.transactions==null?null:n.transactions.length)===0)("ngIfElse",r)}}function bq(t,e){t&1&&(G(0,"div",18)(1,"div",26),xe(2,"div",46)(3,"div",47),q()())}function _q(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",48),q(),G(3,"td",36),xe(4,"div",49),q()())}function wq(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",48),q(),G(3,"td"),xe(4,"div",50),q(),G(5,"td"),xe(6,"div",51),q(),G(7,"td"),xe(8,"div",51),q()())}function Eq(t,e){if(t&1&&(_e(0,bq,4,0,"div",44),G(1,"div",31)(2,"div",26),xe(3,"div",45),G(4,"div",33)(5,"table",34)(6,"thead")(7,"tr",35)(8,"th"),J(9,"Categoria"),q(),G(10,"th",36),J(11,"Total"),q()()(),G(12,"tbody"),_e(13,_q,5,0,"tr",37),q()()()()(),G(14,"div",31)(15,"div",26),xe(16,"div",45),G(17,"div",33)(18,"table",34)(19,"thead")(20,"tr",35)(21,"th"),J(22,"Data"),q(),G(23,"th"),J(24,"Desc"),q(),G(25,"th"),J(26,"Tipo"),q(),G(27,"th"),J(28,"Valor"),q()()(),G(29,"tbody"),_e(30,wq,9,0,"tr",37),q()()()()()),t&2){let n=Ee(2);ae("ngForOf",n.skeletonCards),ee(13),ae("ngForOf",n.skeletonRows),ee(17),ae("ngForOf",n.skeletonRows)}}function Cq(t,e){if(t&1){let n=ln();Et(0),G(1,"div",15)(2,"div",16)(3,"form",17),Ue("ngSubmit",function(){nt(n);let i=Ee();return rt(i.applyFilters())}),G(4,"div",18)(5,"label",19),J(6,"In\xEDcio"),q(),xe(7,"input",20),q(),G(8,"div",18)(9,"label",19),J(10,"Fim"),q(),xe(11,"input",21),q(),G(12,"div",18)(13,"button",22),J(14,"Gerar"),q()()()()(),_e(15,vq,4,2,"ng-container",23),Xe(16,"async"),_e(17,Eq,31,3,"ng-template",null,0,nn),Ct()}if(t&2){let n=tn(18),r=Ee();ee(3),ae("formGroup",r.form),ee(12),ae("ngIf",hn(16,3,r.report$))("ngIfElse",n)}}function xq(t,e){if(t&1&&(G(0,"option",56),J(1),q()),t&2){let n=e.$implicit;ae("ngValue",n),ee(),Ze(n)}}function Sq(t,e){if(t&1){let n=ln();Et(0),G(1,"div",15)(2,"div",16)(3,"div",24)(4,"div"),J(5,"Nenhum dado encontrado para este per\xEDodo."),q(),G(6,"button",25),Ue("click",function(){nt(n);let i=Ee(3);return rt(i.changeAnnualYear())}),J(7," Selecionar ano "),q()()()(),Ct()}}function Iq(t,e){if(t&1&&(G(0,"tr")(1,"td"),J(2),q(),G(3,"td",38),J(4),Xe(5,"currency"),q(),G(6,"td",38),J(7),Xe(8,"currency"),q(),G(9,"td",38),J(10),Xe(11,"currency"),q()()),t&2){let n=e.$implicit,r=Ee(4);ee(2),Ze(r.monthLabels[n.month-1]),ee(2),at(" ",Qt(5,4,Xt(22,Cs,n.income))," "),ee(3),at(" ",Qt(8,10,Xt(24,Cs,n.expense))," "),ee(3),at(" ",Qt(11,16,Xt(26,Cs,n.balance))," ")}}function Tq(t,e){if(t&1&&(G(0,"tfoot")(1,"tr",57)(2,"th",58),J(3,"Total"),q(),G(4,"th",36),J(5),Xe(6,"currency"),q(),G(7,"th",36),J(8),Xe(9,"currency"),q(),G(10,"th",36),J(11),Xe(12,"currency"),q()()()),t&2){let n=e.ngIf;ee(5),Ze(Qt(6,3,Xt(21,Cs,n.totalIncome))),ee(3),Ze(Qt(9,9,Xt(23,Cs,n.totalExpense))),ee(3),Ze(Qt(12,15,Xt(25,Cs,n.balance)))}}function Dq(t,e){if(t&1&&(G(0,"div",15)(1,"div",16)(2,"div",33)(3,"table",34)(4,"thead")(5,"tr",35)(6,"th"),J(7,"M\xEAs"),q(),G(8,"th",36),J(9,"Entradas"),q(),G(10,"th",36),J(11,"Sa\xEDdas"),q(),G(12,"th",36),J(13,"Saldo"),q()()(),G(14,"tbody"),_e(15,Iq,12,28,"tr",37),q(),_e(16,Tq,13,27,"tfoot",11),q()()()()),t&2){let n=Ee().ngIf;ee(15),ae("ngForOf",n.months),ee(),ae("ngIf",n==null?null:n.totals)}}function Aq(t,e){if(t&1&&(Et(0),_e(1,Sq,8,0,"ng-container",23)(2,Dq,17,2,"ng-template",null,3,nn),Ct()),t&2){let n=e.ngIf,r=tn(3);ee(),ae("ngIf",!(n!=null&&n.hasData))("ngIfElse",r)}}function Mq(t,e){t&1&&(G(0,"tr")(1,"td"),xe(2,"div",51),q(),G(3,"td",36),xe(4,"div",49),q(),G(5,"td",36),xe(6,"div",49),q(),G(7,"td",36),xe(8,"div",49),q()())}function kq(t,e){if(t&1&&(G(0,"div",15)(1,"div",16),xe(2,"div",45),G(3,"div",33)(4,"table",34)(5,"thead")(6,"tr",35)(7,"th"),J(8,"M\xEAs"),q(),G(9,"th",36),J(10,"Entradas"),q(),G(11,"th",36),J(12,"Sa\xEDdas"),q(),G(13,"th",36),J(14,"Saldo"),q()()(),G(15,"tbody"),_e(16,Mq,9,0,"tr",37),q()()()()()),t&2){let n=Ee(2);ee(16),ae("ngForOf",n.skeletonRows)}}function Rq(t,e){if(t&1){let n=ln();Et(0),G(1,"div",15)(2,"div",16)(3,"div",52)(4,"div",18)(5,"label",19),J(6,"Ano"),q(),G(7,"select",53),Co("ngModelChange",function(i){nt(n);let s=Ee();return la(s.annualYear,i)||(s.annualYear=i),rt(i)}),Ue("change",function(){nt(n);let i=Ee();return rt(i.changeAnnualYear())}),_e(8,xq,2,2,"option",54),q()(),G(9,"div",18)(10,"button",55),Ue("click",function(){nt(n);let i=Ee();return rt(i.changeAnnualYear())}),J(11,"Gerar"),q()()()()(),_e(12,Aq,4,2,"ng-container",23),Xe(13,"async"),_e(14,kq,17,1,"ng-template",null,2,nn),Ct()}if(t&2){let n=tn(15),r=Ee();ee(7),Eo("ngModel",r.annualYear),ee(),ae("ngForOf",r.annualYears),ee(4),ae("ngIf",hn(13,4,r.annualReport$))("ngIfElse",n)}}var oy=class t{fb=me(Jr);auth=me(jn);reportsService=me(iy);categoriesService=me(vi);accountsService=me(ao);reportExportService=me(sy);notifications=me(bi);lastReport=null;lastAnnualReport=null;loadingReport=!0;loadingAnnualReport=!0;exportingXlsx=!1;exportingCsv=!1;exportingAnnualXlsx=!1;exportingAnnualCsv=!1;skeletonCards=Array.from({length:3});skeletonRows=Array.from({length:4});monthLabels=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];viewMode="period";annualYear=new Date().getFullYear();annualYears=Array.from({length:6}).map((e,n)=>this.annualYear-2+n);form=this.fb.group({start:[di(new Date(new Date().getFullYear(),new Date().getMonth(),1)),ct.required],end:[di(new Date),ct.required]});filters$=new Dn({start:this.form.value.start||di(new Date),end:this.form.value.end||di(new Date)});annualYear$=new Dn(this.annualYear);categories$=this.auth.user$.pipe(Wt(e=>e?this.categoriesService.list$(e.uid):Le([])));accounts$=this.auth.user$.pipe(Wt(e=>e?this.accountsService.list$(e.uid):Le([])),Be(e=>e??[]));report$=Fn([this.auth.user$,this.filters$]).pipe(Wt(([e,n])=>e?this.reportsService.getReport(e.uid,Qi(n.start)??new Date,Qi(n.end)??new Date):Le(null)),Wt(e=>Fn([Le(e),this.categories$]).pipe(Be(([n,r])=>{if(!n)return null;let i=n.byCategory.map(s=>je(ve({},s),{categoryName:r.find(o=>o.id===s.categoryId)?.name||"Categoria"}));return je(ve({},n),{byCategory:i})}))),vn(e=>{this.lastReport=e,this.loadingReport=!1}),cn(()=>(this.loadingReport=!1,this.lastReport=null,Le(null))));annualReport$=Fn([this.auth.user$,this.annualYear$]).pipe(Wt(([e,n])=>e?this.reportsService.getAnnualReport(e.uid,n):Le(null)),Wt(e=>Fn([Le(e),this.accounts$]).pipe(Be(([n,r])=>{if(!n)return null;let i=this.getSaldoInicialTotal(r),s=n.totals?.totalIncome??0,o=n.totals?.totalExpense??0;return je(ve({},n),{totals:{totalIncome:s,totalExpense:o,balance:i+(s-o)}})}))),vn(e=>{this.lastAnnualReport=e,this.loadingAnnualReport=!1}),cn(()=>(this.loadingAnnualReport=!1,this.lastAnnualReport=null,Le(null))));applyFilters(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let{start:e,end:n}=this.form.value,r=Qi(e),i=Qi(n);if(!r||!i||r>i){this.notifications.warning("Data inicial deve ser anterior a final.");return}this.loadingReport=!0,this.filters$.next({start:e,end:n})}setViewMode(e){this.viewMode=e,e==="annual"&&(this.loadingAnnualReport=!0,this.annualYear$.next(this.annualYear))}changeAnnualYear(){this.loadingAnnualReport=!0,this.annualYear$.next(this.annualYear)}async exportXlsx(){if(!this.lastReport||this.lastReport.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}this.exportingXlsx=!0;try{let{start:e,end:n}=this.form.value,r=e&&n?`Per\xEDodo: ${this.formatDate(e)} a ${this.formatDate(n)}`:void 0,i=await An(this.categories$),s=await An(this.accounts$),o=this.lastReport.transactions.map(l=>{let d=s.find(h=>h.id===l.accountId)?.name||"",f=s.find(h=>h.id===l.accountOriginId)?.name||"",p=s.find(h=>h.id===l.accountDestinationId)?.name||"";return{data:l.date,descricao:l.description,categoria:l.type==="transfer"?"-":i.find(h=>h.id===l.categoryId)?.name||"",contaOrigem:l.type==="transfer"?f:d,destino:l.type==="transfer"?p:"",tipo:l.type==="income"?"entrada":l.type==="expense"?"saida":"transferencia",valor:l.amount}}),a=this.getSaldoInicialTotal(s),c=e?e.slice(0,7):this.buildCurrentYearMonth(),u=this.buildFileName("periodo",c);await this.reportExportService.exportRelatorioXlsx({titulo:"Relat\xF3rio",filtrosTexto:r,rows:o,saldoInicial:a,fileName:u}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingXlsx=!1}}async exportCsv(){if(!this.lastReport||this.lastReport.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}this.exportingCsv=!0;try{let e=await An(this.categories$),n=await An(this.accounts$),r=this.lastReport.transactions.map(o=>{let a=n.find(l=>l.id===o.accountId)?.name||"",c=n.find(l=>l.id===o.accountOriginId)?.name||"",u=n.find(l=>l.id===o.accountDestinationId)?.name||"";return{data:o.date,tipo:o.type==="income"?"entrada":o.type==="expense"?"saida":"transferencia",descricao:o.description,categoria:o.type==="transfer"?"-":e.find(l=>l.id===o.categoryId)?.name||"",contaOrigem:o.type==="transfer"?c:a,destino:o.type==="transfer"?u:"",valor:o.amount}}),i=this.form.value.start?this.form.value.start.slice(0,7):this.buildCurrentYearMonth(),s=this.buildFileName("per\xEDodo",i);this.reportExportService.exportRelatorioCsv({rows:r,fileName:s}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingCsv=!1}}async exportAnnualCsv(){if(!this.lastAnnualReport||!this.lastAnnualReport.hasData){this.notifications.info("Sem dados para exportar.");return}this.exportingAnnualCsv=!0;try{let e=await An(this.auth.user$);if(!e){this.notifications.info("Sem dados para exportar.");return}let n=await An(this.categories$),r=await An(this.accounts$),i=new Date(this.annualYear,0,1),s=new Date(this.annualYear,11,31),o=await An(this.reportsService.getReport(e.uid,i,s));if(!o||o.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}let a=o.transactions.map(u=>{let l=r.find(h=>h.id===u.accountId)?.name||"",d=r.find(h=>h.id===u.accountOriginId)?.name||"",f=r.find(h=>h.id===u.accountDestinationId)?.name||"";return{anoMes:this.buildYearMonth(u.date),data:u.date,tipo:u.type==="income"?"entrada":u.type==="expense"?"saida":"transferencia",descricao:u.description,categoria:u.type==="transfer"?"-":n.find(h=>h.id===u.categoryId)?.name||"",contaOrigem:u.type==="transfer"?d:l,destino:u.type==="transfer"?f:"",valor:u.amount}}),c=this.buildFileName("anual",`${this.annualYear}`);this.reportExportService.exportRelatorioAnualCsv({rows:a,fileName:c}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingAnnualCsv=!1}}async exportAnnualXlsx(){if(!this.lastAnnualReport||!this.lastAnnualReport.hasData){this.notifications.info("Sem dados para exportar.");return}this.exportingAnnualXlsx=!0;try{let e=await An(this.auth.user$);if(!e){this.notifications.info("Sem dados para exportar.");return}let n=await An(this.categories$),r=await An(this.accounts$),i=this.getSaldoInicialTotal(r),s=new Date(this.annualYear,0,1),o=new Date(this.annualYear,11,31),a=await An(this.reportsService.getReport(e.uid,s,o));if(!a||a.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}let c=a.transactions.map(l=>{let d=r.find(h=>h.id===l.accountId)?.name||"",f=r.find(h=>h.id===l.accountOriginId)?.name||"",p=r.find(h=>h.id===l.accountDestinationId)?.name||"";return{data:l.date,descricao:l.description,categoria:l.type==="transfer"?"-":n.find(h=>h.id===l.categoryId)?.name||"",contaOrigem:l.type==="transfer"?f:d,destino:l.type==="transfer"?p:"",tipo:l.type==="income"?"entrada":l.type==="expense"?"saida":"transferencia",valor:l.amount}}),u=this.buildFileName("anual",`${this.annualYear}`);await this.reportExportService.exportRelatorioAnualXlsx({titulo:"Relat\xF3rio anual",rows:c,year:this.annualYear,saldoInicial:i,fileName:u}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingAnnualXlsx=!1}}buildYearMonth(e){if(!e)return"";if(e.length>=7)return e.slice(0,7);let n=new Date(e);if(Number.isNaN(n.getTime()))return"";let r=String(n.getMonth()+1).padStart(2,"0");return`${n.getFullYear()}-${r}`}buildFileName(e,n){let r=di(new Date).replace(/-/g,"");return`relatorio_${e}_${n}_${r}`}buildCurrentYearMonth(){let e=new Date,n=String(e.getMonth()+1).padStart(2,"0");return`${e.getFullYear()}-${n}`}formatDate(e){return Su(e)}formatDateShort(e){let n=Qi(e);return n?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}).format(n):""}getSaldoInicialTotal(e){return(e??[]).reduce((n,r)=>n+(Number(r?.initialBalance)||0),0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-reports"]],decls:17,vars:8,consts:[["loadingReportTpl",""],["reportData",""],["loadingAnnualReportTpl",""],["annualData",""],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2","flex-wrap"],["role","group","aria-label","Modo de relatorio",1,"btn-group"],["type","button",1,"btn","btn-outline-light",3,"click"],[4,"ngIf"],[1,"btn","btn-outline-light",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"col-12"],[1,"glass-card","p-3"],[1,"row","g-3","align-items-end",3,"ngSubmit","formGroup"],[1,"col-md-4"],[1,"form-label","text-secondary"],["type","date","formControlName","start",1,"form-control","glass-input"],["type","date","formControlName","end",1,"form-control","glass-input"],["type","submit",1,"btn","btn-primary","w-100"],[4,"ngIf","ngIfElse"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"glass-card","p-3","h-100"],[1,"text-secondary","small"],[1,"fw-bold","text-info"],[1,"fw-bold","text-warning"],[1,"fw-bold","text-light"],[1,"col-lg-6"],[1,"fw-semibold","mb-3"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","fw-semibold"],["colspan","2",1,"text-secondary","text-center","py-3"],[1,"text-truncate",2,"max-width","200px"],[1,"badge",3,"ngClass"],[1,"fw-semibold"],["colspan","4",1,"text-secondary","text-center","py-3"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-50","mb-3"],[1,"skeleton","skeleton-line","w-50","mb-2"],[1,"skeleton","skeleton-line","lg","w-75"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-50","ms-auto"],[1,"skeleton","skeleton-line","w-100"],[1,"skeleton","skeleton-line","w-50"],[1,"row","g-3","align-items-end"],[1,"form-select","glass-input",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[3,"ngValue"],[1,"report-total-row"],["scope","row"]],template:function(n,r){n&1&&(G(0,"div",4)(1,"div",5)(2,"div")(3,"p",6),J(4,"An\xE1lises"),q(),G(5,"h3",7),J(6,"Relat\xF3rios"),q()(),G(7,"div",8)(8,"div",9)(9,"button",10),Ue("click",function(){return r.setViewMode("period")}),J(10," Per\xEDodo "),q(),G(11,"button",10),Ue("click",function(){return r.setViewMode("annual")}),J(12," Relat\xF3rio anual "),q()(),_e(13,cq,7,6,"ng-container",11)(14,dq,7,6,"ng-container",11),q()(),_e(15,Cq,19,5,"ng-container",11)(16,Rq,16,6,"ng-container",11),q()),n&2&&(ee(9),Tr("active",r.viewMode==="period"),ee(2),Tr("active",r.viewMode==="annual"),ee(2),ae("ngIf",r.viewMode==="period"),ee(),ae("ngIf",r.viewMode==="annual"),ee(),ae("ngIf",r.viewMode==="period"),ee(),ae("ngIf",r.viewMode==="annual"))},dependencies:[bn,sr,er,Rn,ei,Zr,Mu,ku,pr,La,Or,Qr,Br,jr,Ru,Kc,Lr,Ai],styles:[".glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #10b98133}[_nghost-%COMP%]     .table, [_nghost-%COMP%]     table{background:transparent!important;color:#fff}[_nghost-%COMP%]     .table-responsive, [_nghost-%COMP%]     .table-responsive *{background-color:transparent!important}[_nghost-%COMP%]     tfoot, [_nghost-%COMP%]     tfoot tr, [_nghost-%COMP%]     tfoot th, [_nghost-%COMP%]     tfoot td, [_nghost-%COMP%]     .report-total-row, [_nghost-%COMP%]     .report-total-row th, [_nghost-%COMP%]     .report-total-row td{background:#121c2da6!important;color:#fff!important;border-top:1px solid rgba(255,255,255,.1)!important;font-weight:700!important}[_nghost-%COMP%]     tbody tr:last-child, [_nghost-%COMP%]     tbody tr:last-child td, [_nghost-%COMP%]     tbody tr:last-child th{background:#121c2d59}[_nghost-%COMP%]     .table-responsive{padding-bottom:0!important;margin-bottom:0!important}[_nghost-%COMP%]     tfoot *, [_nghost-%COMP%]     tr.report-total-row *{box-shadow:none!important}"]})};function Nq(t,e){if(t&1&&(G(0,"a",18),J(1),q()),t&2){let n=e.$implicit;ae("routerLink",n.path),ee(),at(" ",n.label," ")}}function Oq(t,e){if(t&1&&(G(0,"li"),J(1),q()),t&2){let n=e.$implicit;ee(),Ze(n)}}function Pq(t,e){if(t&1&&(G(0,"li"),J(1),q()),t&2){let n=e.$implicit;ee(),Ze(n)}}function Fq(t,e){if(t&1&&(G(0,"li"),J(1),q()),t&2){let n=e.$implicit;ee(),Ze(n)}}function Lq(t,e){if(t&1&&(G(0,"div",2)(1,"div",20)(2,"div",21)(3,"div")(4,"h5",22),J(5),q(),G(6,"div",6),J(7),q()()(),G(8,"div",23)(9,"div",24)(10,"div",25),J(11,"O que \xE9"),q(),G(12,"p",26),J(13),q()(),G(14,"div",24)(15,"div",25),J(16,"Como usar"),q(),G(17,"ol",27),_e(18,Oq,2,1,"li",28),q()(),G(19,"div",24)(20,"div",25),J(21,"Dicas e boas pr\xE1ticas"),q(),G(22,"ul",27),_e(23,Pq,2,1,"li",28),q()(),G(24,"div",24)(25,"div",25),J(26,"Observa\xE7\xF5es comuns"),q(),G(27,"ul",27),_e(28,Fq,2,1,"li",28),q()()()()()),t&2){let n=e.$implicit;ee(4),Ln("id",n.id),ee(),Ze(n.title),ee(2),Ze(n.summary),ee(6),Ze(n.what),ee(5),ae("ngForOf",n.how),ee(5),ae("ngForOf",n.tips),ee(5),ae("ngForOf",n.notes)}}function Vq(t,e){if(t&1&&(Et(0),_e(1,Lq,29,7,"div",19),Ct()),t&2){let n=Ee();ee(),ae("ngForOf",n.filteredSections)("ngForTrackBy",n.trackById)}}function jq(t,e){t&1&&(G(0,"div",2)(1,"div",29),J(2," Sem resultados para o filtro informado. "),q()())}function Bq(t,e){if(t&1&&(G(0,"div",30)(1,"div",31),J(2),q(),G(3,"div",6),J(4),q()()),t&2){let n=e.$implicit;ee(2),Ze(n.question),ee(2),Ze(n.answer)}}var ay=class t{query="";quickLinks=[{label:"Ir para Lan\xE7amentos",path:"/app/transactions"},{label:"Ir para Contas",path:"/app/accounts"},{label:"Ir para Relat\xF3rios",path:"/app/reports"}];sections=[{id:"dashboard",title:"Dashboard",summary:"Vis\xE3o geral do m\xEAs com saldos, despesas e gr\xE1ficos.",what:"Mostra o panorama financeiro do m\xEAs atual em cards e gr\xE1ficos.",how:["Confira o saldo geral e as entradas e sa\xEDdas do m\xEAs no topo.","Veja o saldo por conta para cada carteira ou banco.","An\xE1lise a distribui\xE7\xE3o de gastos com as 5 categorias mais altas.","Compare o fluxo di\xE1rio no gr\xE1fico de entradas x sa\xEDdas por dia.","Observe a maior despesa e as \xFAltimas transa\xE7\xF5es."],tips:["Cadastre categorias e contas para deixar os gr\xE1ficos mais completos.","O gr\xE1fico de saldo por conta (donut) mostra o peso de cada conta no total.","Use o dashboard para detectar picos de gasto e dias com maior receita."],notes:["Saldo geral = soma dos saldos das contas (saldo inicial + entradas - sa\xEDdas).","Gr\xE1ficos usam apenas lan\xE7amentos do m\xEAs atual.","Lan\xE7amentos sem conta nao entram no saldo por conta."]},{id:"lancamentos",title:"Lan\xE7amentos",summary:"Registro de receitas e despesas do dia a dia.",what:"\xC1rea para criar, editar e excluir lan\xE7amentos financeiros.",how:["Escolha o tipo: Receita ou Despesa.","Preencha data, descri\xE7\xE3o, categoria, conta e valor.","Adicione observa\xE7\xF5es se precisar.","Salve e acompanhe a lista para editar ou excluir."],tips:["Use descri\xE7\xF5es claras para facilitar a busca.","Sempre associe uma conta para manter os saldos corretos.","Revise a data antes de salvar para manter o per\xEDodo correto."],notes:["Editar ou excluir recalcula saldos e relat\xF3rios.","O tipo define se o valor entra como entrada ou sa\xEDda."]},{id:"contas",title:"Contas",summary:"Carteiras, bancos e outros saldos separados.",what:"Controla saldos por conta e o saldo geral do sistema.",how:["Crie uma conta com nome e saldo inicial.","Acompanhe o saldo atual atualizado pelos lan\xE7amentos.","Edite ou remova contas quando necess\xE1rio."],tips:["Crie uma conta para dinheiro em esp\xE9cie.","Mantenha o saldo inicial fi\xE9l ao valor real."],notes:["Saldo atual = saldo inicial + entradas - sa\xEDdas vinculadas.","Contas sem lan\xE7amentos mant\xE9m o saldo inicial."]},{id:"categorias",title:"Categorias",summary:"Organiza\xE7\xE3o das receitas e despesas.",what:"Classifica lan\xE7amentos por tipo e cor.",how:["Crie categorias com nome, tipo e cor.","Escolha o tipo correto: Receita ou Despesa.","Use as categorias nos lan\xE7amentos."],tips:["Use cores distintas para leitura r\xE1pida.","Evite categorias em excesso para simplificar os gr\xE1ficos."],notes:["O tipo define onde a categoria aparece e como entra nos gr\xE1ficos."]},{id:"metas",title:"Metas",summary:"Limites de gasto por categoria e per\xEDodo.",what:"Permite criar metas mensais para controlar despesas.",how:["Selecione a categoria e informe o valor limite.","Escolha m\xEAs e ano para o per\xEDodo.","Acompanhe a barra de progresso do gasto."],tips:["Comece com metas realistas e ajuste com o tempo.","Revise metas no in\xEDcio de cada m\xEAs."],notes:["O progresso usa os gastos da categoria no per\xEDodo selecionado."]},{id:"relatorios",title:"Relat\xF3rios",summary:"Analise por periodo com exporta\xE7\xE3o.",what:"Gera resumo de entradas, sa\xEDdas e saldo entre datas.",how:["Defina a data inicial e final.","Clique em gerar para ver o resumo do per\xEDodo.","Use a lista de lan\xE7amentos para validar os dados.","Exporte para Excel quando precisar."],tips:["Use para fechar o m\xEAs ou comparar per\xEDodos diferentes.","Combine com categorias para diagn\xF3sticos mais precisos."],notes:["Os relat\xF3rios consideram a data informada no lan\xE7amento."]},{id:"configuracoes",title:"Configura\xE7\xF5es",summary:"Perfil e seguran\xE7a da conta.",what:"Permite atualizar dados pessoais e credenciais.",how:["Atualize nome e data de nascimento quando necess\xE1rio.","Altere e-mail e senha usando a senha atual.","Se houver tema, ajuste a apar\xEAncia preferida."],tips:["Use senha forte e atualize periodicamente.","Mantenha seus dados pessoais corretos."],notes:["Algumas mudan\xE7as exigem confirmar a senha atual.","Op\xE7\xF5es de tema aparecem apenas se estiverem habilitadas."]}];faqs=[{question:"Por que meu saldo mudou?",answer:"O saldo muda quando voc\xEA cria, edita ou exclui lan\xE7amentos e quando altera o saldo inicial das contas."},{question:"O que acontece se eu cadastrar um lan\xE7amento sem conta?",answer:"Ele aparece nos lan\xE7amentos, relat\xF3rios e gr\xE1ficos do m\xEAs, mas n\xE3o entra no saldo por conta nem no saldo geral."},{question:"Como funcionam os relat\xF3rios por per\xEDodo?",answer:"Eles filtram por data inicial e final, somam entradas e sa\xEDdas e listam os lan\xE7amentos do intervalo."}];get filteredSections(){let e=this.query.trim().toLowerCase();return e?this.sections.filter(n=>this.sectionMatches(n,e)):this.sections}trackById(e,n){return n.id}sectionMatches(e,n){return[e.title,e.summary,e.what,...e.how,...e.tips,...e.notes].join(" ").toLowerCase().includes(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-help"]],decls:30,vars:5,consts:[["noResults",""],[1,"row","g-3"],[1,"col-12"],[1,"page-header","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"text-secondary","small"],[1,"glass-card","p-3"],[1,"row","g-3","align-items-end"],[1,"col-lg-6"],[1,"form-label","text-secondary"],["type","text","placeholder","Digite um termo, ex: saldo, contas, relat\xF3rios",1,"form-control","glass-input",3,"ngModelChange","ngModel"],[1,"text-secondary","small","mb-2"],[1,"d-flex","flex-wrap","gap-2"],["class","btn btn-outline-light btn-sm",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"fw-semibold","mb-3"],["class","faq-item",4,"ngFor","ngForOf"],[1,"btn","btn-outline-light","btn-sm",3,"routerLink"],["class","col-12",4,"ngFor","ngForOf","ngForTrackBy"],[1,"glass-card","p-3","help-card"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"fw-semibold","mb-1"],[1,"row","g-3","mt-1"],[1,"col-md-6"],[1,"text-uppercase","text-primary","small","fw-semibold"],[1,"help-text"],[1,"help-list"],[4,"ngFor","ngForOf"],[1,"glass-card","p-3","text-center","text-secondary"],[1,"faq-item"],[1,"fw-semibold"]],template:function(n,r){if(n&1){let i=ln();G(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"p",4),J(5,"Suporte"),q(),G(6,"h3",5),J(7,"Ajuda"),q(),G(8,"div",6),J(9,"Como usar o sistema"),q()()()(),G(10,"div",2)(11,"div",7)(12,"div",8)(13,"div",9)(14,"label",10),J(15,"Buscar assuntos"),q(),G(16,"input",11),Co("ngModelChange",function(o){return nt(i),la(r.query,o)||(r.query=o),rt(o)}),q()(),G(17,"div",9)(18,"div",12),J(19,"Links r\xE1pidos"),q(),G(20,"div",13),_e(21,Nq,2,2,"a",14),q()()()()(),_e(22,Vq,2,2,"ng-container",15)(23,jq,3,0,"ng-template",null,0,nn),G(25,"div",2)(26,"div",7)(27,"h6",16),J(28,"Perguntas frequ\xEAntes"),q(),_e(29,Bq,5,2,"div",17),q()()()}if(n&2){let i=tn(24);ee(16),Eo("ngModel",r.query),ee(5),ae("ngForOf",r.quickLinks),ee(),ae("ngIf",r.filteredSections.length>0)("ngIfElse",i),ee(7),ae("ngForOf",r.faqs)}},dependencies:[bn,er,Rn,Ru,pr,Or,Kc,gi],styles:[".page-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:-.02em}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133}.help-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{letter-spacing:-.01em}.help-text[_ngcontent-%COMP%]{margin:0;color:#cdd5df}.help-list[_ngcontent-%COMP%]{margin:0;padding-left:1rem;color:#cdd5df}.help-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.35rem}.faq-item[_ngcontent-%COMP%]{padding:.75rem 0;border-top:1px solid rgba(255,255,255,.06)}.faq-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}"]})};function Uq(t,e){t&1&&(G(0,"small",26),J(1," Voc\xEA precisa ter pelo menos 18 anos. "),q())}function $q(t,e){t&1&&(G(0,"span"),J(1,"Salvar altera\xE7\xF5es"),q())}function Hq(t,e){t&1&&(G(0,"span"),J(1,"Salvando..."),q())}function zq(t,e){if(t&1&&(G(0,"div",27),J(1),q()),t&2){let n=Ee(2);ee(),Ze(n.profileMessage)}}function qq(t,e){if(t&1){let n=ln();Et(0),G(1,"div",13)(2,"h2"),J(3,"Perfil"),q(),G(4,"p"),J(5,"Informa\xE7\xF5es exibidas no painel e nos relat\xF3rios."),q()(),G(6,"form",14),Ue("ngSubmit",function(){nt(n);let i=Ee();return rt(i.saveProfile())}),G(7,"div",15)(8,"div",16)(9,"label"),J(10,"Nome"),q(),xe(11,"input",17),q(),G(12,"div",16)(13,"label"),J(14,"Sobrenome"),q(),xe(15,"input",18),q()(),G(16,"div",19)(17,"div",16)(18,"label"),J(19,"Data de nascimento"),q(),xe(20,"input",20),G(21,"small",21),J(22,"Usamos isso apenas para personaliza\xE7\xE3o e seguran\xE7a."),q(),_e(23,Uq,2,0,"small",22),q()(),G(24,"div",23)(25,"button",24),_e(26,$q,2,0,"span",12)(27,Hq,2,0,"span",12),q()()(),_e(28,zq,2,1,"div",25),Ct()}if(t&2){let n,r=Ee();ee(6),ae("formGroup",r.profileForm),ee(17),ae("ngIf",(n=r.profileForm.get("birthDate"))==null||n.errors==null?null:n.errors.underage),ee(2),ae("disabled",r.savingProfile),ee(),ae("ngIf",!r.savingProfile),ee(),ae("ngIf",r.savingProfile),ee(),ae("ngIf",r.profileMessage)}}function Wq(t,e){t&1&&(G(0,"span"),J(1,"Enviar confirma\xE7\xE3o"),q())}function Gq(t,e){t&1&&(G(0,"span"),J(1,"Enviando..."),q())}function Kq(t,e){if(t&1&&(G(0,"div",27),J(1),q()),t&2){let n=Ee(2);ee(),Ze(n.emailMessage)}}function Yq(t,e){t&1&&(G(0,"small",26),J(1,"Senhas n\xE3o conferem."),q())}function Xq(t,e){t&1&&(G(0,"span"),J(1,"Atualizar senha"),q())}function Qq(t,e){t&1&&(G(0,"span"),J(1,"Atualizando..."),q())}function Zq(t,e){if(t&1&&(G(0,"div",27),J(1),q()),t&2){let n=Ee(2);ee(),Ze(n.passwordMessage)}}function Jq(t,e){if(t&1){let n=ln();Et(0),G(1,"div",13)(2,"h2"),J(3,"Conta"),q(),G(4,"p"),J(5,"Atualize seu e-mail e senha com seguran\xE7a."),q()(),G(6,"div",28)(7,"div",29)(8,"h3"),J(9,"Alterar e-mail"),q(),G(10,"p"),J(11,"Enviaremos uma confirma\xE7\xE3o para o novo e-mail."),q()(),G(12,"form",14),Ue("ngSubmit",function(){nt(n);let i=Ee();return rt(i.changeEmail())}),G(13,"div",19)(14,"div",16)(15,"label"),J(16,"Novo e-mail"),q(),xe(17,"input",30),q(),G(18,"div",16)(19,"label"),J(20,"Senha atual"),q(),G(21,"div",31),xe(22,"input",32),G(23,"button",33),Ue("click",function(){nt(n);let i=Ee();return rt(i.show.emailCurrent=!i.show.emailCurrent)}),xe(24,"i",34),q()()()(),G(25,"div",35)(26,"button",36),_e(27,Wq,2,0,"span",12)(28,Gq,2,0,"span",12),q()()(),_e(29,Kq,2,1,"div",25),q(),xe(30,"div",37),G(31,"div",28)(32,"div",29)(33,"h3"),J(34,"Alterar senha"),q(),G(35,"p"),J(36,"Escolha uma senha forte. M\xEDnimo 6 caracteres."),q()(),G(37,"form",14),Ue("ngSubmit",function(){nt(n);let i=Ee();return rt(i.changePassword())}),G(38,"div",19)(39,"div",16)(40,"label"),J(41,"Senha atual"),q(),G(42,"div",31),xe(43,"input",32),G(44,"button",33),Ue("click",function(){nt(n);let i=Ee();return rt(i.show.passwordCurrent=!i.show.passwordCurrent)}),xe(45,"i",34),q()()(),G(46,"div",16)(47,"label"),J(48,"Nova senha"),q(),G(49,"div",31),xe(50,"input",38),G(51,"button",33),Ue("click",function(){nt(n);let i=Ee();return rt(i.show.passwordNew=!i.show.passwordNew)}),xe(52,"i",34),q()()(),G(53,"div",16)(54,"label"),J(55,"Confirmar nova senha"),q(),G(56,"div",31),xe(57,"input",39),G(58,"button",33),Ue("click",function(){nt(n);let i=Ee();return rt(i.show.passwordConfirm=!i.show.passwordConfirm)}),xe(59,"i",34),q()(),_e(60,Yq,2,0,"small",22),q()(),G(61,"div",23)(62,"button",36),_e(63,Xq,2,0,"span",12)(64,Qq,2,0,"span",12),q()()(),_e(65,Zq,2,1,"div",25),q(),Ct()}if(t&2){let n=Ee();ee(12),ae("formGroup",n.emailForm),ee(10),ae("type",n.show.emailCurrent?"text":"password"),ee(2),ae("ngClass",n.show.emailCurrent?"bi-eye-slash":"bi-eye"),ee(2),ae("disabled",n.sendingEmail),ee(),ae("ngIf",!n.sendingEmail),ee(),ae("ngIf",n.sendingEmail),ee(),ae("ngIf",n.emailMessage),ee(8),ae("formGroup",n.passwordForm),ee(6),ae("type",n.show.passwordCurrent?"text":"password"),ee(2),ae("ngClass",n.show.passwordCurrent?"bi-eye-slash":"bi-eye"),ee(5),ae("type",n.show.passwordNew?"text":"password"),ee(2),ae("ngClass",n.show.passwordNew?"bi-eye-slash":"bi-eye"),ee(5),ae("type",n.show.passwordConfirm?"text":"password"),ee(2),ae("ngClass",n.show.passwordConfirm?"bi-eye-slash":"bi-eye"),ee(),ae("ngIf",n.passwordForm.errors==null?null:n.passwordForm.errors.mismatch),ee(2),ae("disabled",n.updatingPassword),ee(),ae("ngIf",!n.updatingPassword),ee(),ae("ngIf",n.updatingPassword),ee(),ae("ngIf",n.passwordMessage)}}var cy=class t{fb=me(Jr);auth=me(jn);document=me(ir);profileSub;profileMessage="";emailMessage="";passwordMessage="";savingProfile=!1;sendingEmail=!1;updatingPassword=!1;show={emailCurrent:!1,passwordCurrent:!1,passwordNew:!1,passwordConfirm:!1};selectedTab="perfil";profileForm=this.fb.group({firstName:new Nr(null,{nonNullable:!1,validators:[ct.required]}),lastName:new Nr(null,{nonNullable:!1,validators:[ct.required]}),birthDate:new Nr(null,{nonNullable:!1,validators:[ct.required]})});emailForm=this.fb.group({newEmail:["",[ct.required,ct.email]],currentPassword:["",ct.required]});passwordForm=this.fb.group({currentPassword:["",ct.required],newPassword:["",[ct.required,ct.minLength(6)]],confirmPassword:["",ct.required]},{validators:e=>e.get("newPassword")?.value===e.get("confirmPassword")?.value?null:{mismatch:!0}});constructor(){this.profileSub=this.auth.profile$.subscribe(e=>{e&&this.profileForm.patchValue({firstName:e.firstName,lastName:e.lastName,birthDate:e.birthDate??null})})}ngOnInit(){this.document.body.classList.add("no-page-scroll"),this.document.documentElement.classList.add("no-page-scroll")}ngOnDestroy(){this.profileSub?.unsubscribe(),this.document.body.classList.remove("no-page-scroll"),this.document.documentElement.classList.remove("no-page-scroll")}setTab(e){this.selectedTab=e}isTabActive(e){return this.selectedTab===e}async saveProfile(){if(this.profileMessage="",this.profileForm.invalid){this.profileForm.markAllAsTouched();return}let e=this.profileForm.value.birthDate,n=this.calculateAge(e);if(n<18){this.profileForm.get("birthDate")?.setErrors({underage:!0});return}this.savingProfile=!0;try{let{firstName:r,lastName:i}=this.profileForm.value;await this.auth.updateProfile({firstName:r,lastName:i,birthDate:e,age:n}),this.profileMessage="Perfil atualizado."}catch(r){this.profileMessage=r?.message??"Erro ao atualizar perfil."}finally{this.savingProfile=!1}}async changeEmail(){if(this.emailMessage="",this.emailForm.invalid){this.emailForm.markAllAsTouched();return}let{currentPassword:e,newEmail:n}=this.emailForm.value;this.sendingEmail=!0;try{await this.auth.requestEmailChange(n,e),this.emailMessage="Enviamos um link de confirma\xE7\xE3o para o novo e-mail. Abra o e-mail e clique no link para concluir a altera\xE7\xE3o.",this.emailForm.reset()}catch(r){switch(r?.code??r?.message){case"auth/wrong-password":this.emailMessage="Senha atual incorreta.";break;case"auth/requires-recent-login":this.emailMessage="Por seguran\xE7a, fa\xE7a login novamente e tente de novo.";break;case"auth/email-already-in-use":this.emailMessage="Esse e-mail j\xE1 est\xE1 em uso.";break;case"auth/invalid-email":case"INVALID_EMAIL":this.emailMessage="E-mail inv\xE1lido.";break;case"OPERATION_NOT_ALLOWED":this.emailMessage="Seu projeto exige verifica\xE7\xE3o do novo e-mail. Tente novamente.";break;default:this.emailMessage="N\xE3o foi poss\xEDvel solicitar a troca de e-mail."}}finally{this.sendingEmail=!1}}async changePassword(){if(this.passwordMessage="",this.passwordForm.invalid){this.passwordForm.markAllAsTouched();return}let{currentPassword:e,newPassword:n}=this.passwordForm.value;this.updatingPassword=!0;try{await this.auth.updateUserPassword(n,e),this.passwordMessage="Senha atualizada.",this.passwordForm.reset()}catch(r){this.passwordMessage=r?.message??"Erro ao atualizar senha."}finally{this.updatingPassword=!1}}calculateAge(e){if(!e)return 0;let n=Qi(e);if(!n)return 0;let r=new Date,i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return(s<0||s===0&&r.getDate()<n.getDate())&&i--,i}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-settings"]],decls:23,vars:6,consts:[[1,"settings-area","settings-overlay"],[1,"settings-card"],[1,"settings-header"],[1,"header-copy"],[1,"settings-body"],[1,"settings-nav"],["type","button",1,"nav-item",3,"click"],[1,"bi","bi-person"],[1,"bi","bi-shield-lock"],[1,"settings-content"],[1,"settings-content-scroll"],[1,"content-inner"],[4,"ngIf"],[1,"content-header"],[3,"ngSubmit","formGroup"],[1,"form-grid","two"],[1,"field"],["type","text","formControlName","firstName","placeholder","Seu nome",1,"input"],["type","text","formControlName","lastName","placeholder","Seu sobrenome",1,"input"],[1,"form-grid","one"],["type","date","formControlName","birthDate",1,"input"],[1,"hint"],["class","error",4,"ngIf"],[1,"card-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","feedback",4,"ngIf"],[1,"error"],[1,"feedback"],[1,"block"],[1,"block-title"],["type","email","formControlName","newEmail","placeholder","voce@exemplo.com",1,"input"],[1,"input-wrap"],["formControlName","currentPassword","placeholder","Digite sua senha atual",1,"input",3,"type"],["type","button","aria-label","Mostrar senha",1,"icon-btn",3,"click"],[1,"bi",3,"ngClass"],[1,"card-actions","inline"],["type","submit",1,"btn","btn-outline",3,"disabled"],[1,"divider"],["formControlName","newPassword","placeholder","M\xEDnimo 6 caracteres",1,"input",3,"type"],["formControlName","confirmPassword","placeholder","Repita a nova senha",1,"input",3,"type"]],template:function(n,r){n&1&&(G(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3)(4,"h1"),J(5,"Configura\xE7\xF5es"),q(),G(6,"p"),J(7,"Gerencie seus dados pessoais e seguran\xE7a da sua conta."),q()()(),G(8,"div",4)(9,"aside",5)(10,"button",6),Ue("click",function(){return r.setTab("perfil")}),xe(11,"i",7),G(12,"span"),J(13,"Perfil"),q()(),G(14,"button",6),Ue("click",function(){return r.setTab("conta")}),xe(15,"i",8),G(16,"span"),J(17,"Conta"),q()()(),G(18,"section",9)(19,"div",10)(20,"div",11),_e(21,qq,29,6,"ng-container",12)(22,Jq,66,19,"ng-container",12),q()()()()()()),n&2&&(ee(10),Tr("active",r.isTabActive("perfil")),ee(4),Tr("active",r.isTabActive("conta")),ee(7),ae("ngIf",r.selectedTab==="perfil"),ee(),ae("ngIf",r.selectedTab==="conta"))},dependencies:[bn,sr,Rn,ei,Zr,pr,Or,Qr,Br,jr],styles:['[_nghost-%COMP%]{display:block;height:100%;min-height:0;width:100%;overflow:hidden;margin:0!important}.settings-overlay[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;min-height:0;overflow:hidden;padding:0;box-sizing:border-box;margin:0!important}.settings-area[_ngcontent-%COMP%]{height:calc(100vh - var(--navbar-height, 0px));max-height:100%}.settings-card[_ngcontent-%COMP%]{--settings-card-width: 1100px;--settings-card-height: 720px;--settings-header-height: 112px;width:min(var(--settings-card-width),100%);height:min(var(--settings-card-height),100%);max-width:100%;max-height:100%;border-radius:22px;padding:0;background:linear-gradient(150deg,#ffffff14,#ffffff05);border:1px solid rgba(255,255,255,.12);box-shadow:0 28px 60px #00000059;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);overflow:hidden;display:flex;flex-direction:column;min-height:0;min-width:0;position:relative}.settings-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 10% 0%,rgba(114,124,255,.2),transparent 45%),radial-gradient(circle at 80% 20%,rgba(40,204,255,.18),transparent 50%);opacity:.7;pointer-events:none}.settings-card[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.settings-header[_ngcontent-%COMP%]{height:var(--settings-header-height);padding:20px 28px;border-bottom:1px solid rgba(255,255,255,.08);flex:0 0 auto;display:flex;align-items:center}.header-copy[_ngcontent-%COMP%]{max-width:680px}.settings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:800;letter-spacing:.01em}.settings-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 0;color:#ffffffa6;font-size:14px}.settings-body[_ngcontent-%COMP%]{display:flex;gap:20px;padding:20px 28px 28px;flex:1 1 auto;min-height:0;min-width:0;overflow:hidden}.settings-nav[_ngcontent-%COMP%]{flex:0 0 240px;display:flex;flex-direction:column;gap:10px;padding:8px;border-radius:16px;background:#00000040;border:1px solid rgba(255,255,255,.08);overflow:hidden;min-height:0}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:100%;padding:12px 14px;border-radius:12px;border:1px solid transparent;background:#ffffff0a;color:#ffffffbf;cursor:pointer;font-weight:600;text-align:left;transition:background .15s ease,color .15s ease,box-shadow .15s ease,border-color .15s ease}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#727cff59,#28ccff40);border-color:#78beff73;color:#fff;box-shadow:0 10px 22px #1e90ff2e}.settings-content[_ngcontent-%COMP%]{flex:1;min-width:0;min-height:0;display:flex;overflow:hidden}.settings-content-scroll[_ngcontent-%COMP%]{flex:1;min-height:0;overflow-y:auto;overflow-x:hidden;padding-right:8px}.content-inner[_ngcontent-%COMP%]{width:100%;max-width:720px}.content-header[_ngcontent-%COMP%]{margin-bottom:14px}.content-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.content-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#fff9;font-size:13px}.block[_ngcontent-%COMP%]{padding-top:8px}.block-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:700}.block-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#fff9;font-size:13px}.divider[_ngcontent-%COMP%]{height:1px;background:#ffffff14;margin:16px 0}.form-grid[_ngcontent-%COMP%]{display:grid;gap:12px;margin-top:12px}.form-grid.two[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.form-grid.one[_ngcontent-%COMP%]{grid-template-columns:1fr}@media(max-width:680px){.form-grid.two[_ngcontent-%COMP%]{grid-template-columns:1fr}}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#ffffffbf;margin-bottom:6px}.input[_ngcontent-%COMP%]{width:100%;height:44px;padding:0 12px;border-radius:12px;background:#0000004d;border:1px solid rgba(255,255,255,.12);outline:none;color:#fff;transition:border .15s ease,box-shadow .15s ease,transform .08s ease}.input[_ngcontent-%COMP%]::placeholder{color:#fff6}.input[_ngcontent-%COMP%]:focus{border-color:#78beffb3;box-shadow:0 0 0 4px #78beff29}.hint[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#ffffff80;font-size:12px}.error[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#f87171;font-size:12px}.input-wrap[_ngcontent-%COMP%]{position:relative}.input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-right:44px}.icon-btn[_ngcontent-%COMP%]{position:absolute;right:6px;left:auto;top:50%;transform:translateY(-50%);height:30px;width:32px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#ffffff08;color:#ffffffe6;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s ease,box-shadow .15s ease,border-color .15s ease}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1f;border-color:#fff3}.icon-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #78beff59}.card-actions[_ngcontent-%COMP%]{margin-top:14px;display:flex;justify-content:flex-end;gap:10px}.settings-content[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:last-of-type   .card-actions[_ngcontent-%COMP%]{justify-content:flex-start}.card-actions.inline[_ngcontent-%COMP%]{justify-content:flex-start}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:40px;padding:0 14px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:#ffffff0f;color:#fff;cursor:pointer;font-weight:650;transition:transform .12s ease,box-shadow .15s ease,background .15s ease}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #78beff40}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.settings-overlay[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border:none;background:linear-gradient(90deg,#727cff,#28ccff)}.settings-overlay[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:transparent}.settings-overlay[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{background:#ffffff14}.feedback[_ngcontent-%COMP%]{margin-top:12px;padding:10px 12px;border-radius:12px;background:#ffffff0f;border:1px solid rgba(255,255,255,.08);color:#ffffffbf;font-size:13px}@media(max-width:900px){.settings-body[_ngcontent-%COMP%]{flex-direction:column;padding:18px 20px 22px}.settings-nav[_ngcontent-%COMP%]{flex-direction:row;width:100%;gap:8px;padding:6px}.nav-item[_ngcontent-%COMP%]{flex:1;justify-content:center}.settings-content-scroll[_ngcontent-%COMP%]{padding-right:0}.content-inner[_ngcontent-%COMP%]{max-width:100%}}@media(max-width:600px){.settings-header[_ngcontent-%COMP%]{padding:18px 20px 12px}.settings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.settings-card[_ngcontent-%COMP%]{border-radius:18px}}']})};var _k=[{path:"",pathMatch:"full",component:R0,canActivate:[F6]},{path:"auth",children:[{path:"login",component:W0},{path:"register",component:G0},{path:"",pathMatch:"full",redirectTo:"login"}]},{path:"app",component:X0,canActivate:[P6],children:[{path:"dashboard",component:Z0},{path:"transactions",component:J0},{path:"accounts",component:ey},{path:"categories",component:ty},{path:"budgets",component:ry},{path:"reports",component:oy},{path:"ajuda",component:ay},{path:"settings",component:cy},{path:"",pathMatch:"full",redirectTo:"dashboard"}]},{path:"**",redirectTo:""}];var wk={production:!1,firebase:{apiKey:"AIzaSyBrtk-IgKjO9M01grt7g-N0Wp-vrrtBK0k",authDomain:"gestaogastos-bc99d.firebaseapp.com",projectId:"gestaogastos-bc99d",storageBucket:"gestaogastos-bc99d.firebasestorage.app",messagingSenderId:"481547974744",appId:"1:481547974744:web:8ea510a9165babbda8f22d",measurementId:"G-SSQPTQEE46"}};var Ek={providers:[OA(()=>PA(wk.firebase)),$3(()=>q3()),k6(()=>N6()),u_(_k),{provide:ua,useValue:"pt-BR"}]};var eW=(t,e,n,r)=>({"toast-success":t,"toast-error":e,"toast-info":n,"toast-warning":r});function tW(t,e){if(t&1){let n=ln();G(0,"button",8),Ue("click",function(i){nt(n);let s=Ee().$implicit,o=Ee();return o.handleAction(s),rt(o.stop(i))}),J(1),q()}if(t&2){let n=Ee().$implicit;ee(),at(" ",n.actionLabel," ")}}function nW(t,e){if(t&1){let n=ln();G(0,"div",3),Ue("click",function(i){nt(n);let s=Ee();return rt(s.stop(i))}),G(1,"div",4),J(2),q(),G(3,"div",5),_e(4,tW,2,1,"button",6),G(5,"button",7),Ue("click",function(i){let s=nt(n).$implicit,o=Ee();return o.dismiss(s.id),rt(o.stop(i))}),J(6," \xD7 "),q()()()}if(t&2){let n=e.$implicit;ae("ngClass",f1(3,eW,n.type==="success",n.type==="error",n.type==="info",n.type==="warning")),ee(2),Ze(n.message),ee(2),ae("ngIf",n.actionLabel)}}var ly=class t{notifications=me(bi);toasts$=this.notifications.toasts$;trackById(e,n){return n.id}dismiss(e){this.notifications.dismiss(e)}handleAction(e){e.action?.(),this.notifications.dismiss(e.id)}stop(e){e.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-toast-container"]],decls:4,vars:4,consts:[["aria-live","polite",1,"toast-container"],[1,"toast-stack"],["class","toast toast-item","role","status",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["role","status",1,"toast","toast-item",3,"click","ngClass"],[1,"toast-message"],[1,"toast-actions"],["type","button","class","btn btn-sm btn-outline-light",3,"click",4,"ngIf"],["type","button","aria-label","Fechar",1,"toast-close",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-light",3,"click"]],template:function(n,r){n&1&&(G(0,"div",0)(1,"div",1),_e(2,nW,7,8,"div",2),Xe(3,"async"),q()()),n&2&&(ee(2),ae("ngForOf",hn(3,2,r.toasts$))("ngForTrackBy",r.trackById))},dependencies:[bn,sr,er,Rn,Lr],styles:[".toast-container[_ngcontent-%COMP%]{width:100%}.toast-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;border-radius:14px;background:#111827f2;border:1px solid rgba(255,255,255,.08);color:#f9fafb;box-shadow:0 10px 25px #00000040;animation:_ngcontent-%COMP%_toast-in .2s ease-out}.toast-message[_ngcontent-%COMP%]{flex:1;font-size:.9rem}.toast-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.toast-close[_ngcontent-%COMP%]{border:0;background:transparent;color:inherit;font-size:1.1rem;line-height:1;padding:0 4px;cursor:pointer}.toast-success[_ngcontent-%COMP%]{border-left:4px solid #10b981}.toast-error[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.toast-info[_ngcontent-%COMP%]{border-left:4px solid #38bdf8}.toast-warning[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}@keyframes _ngcontent-%COMP%_toast-in{0%{transform:translateY(-8px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{position:fixed;top:16px;right:16px;z-index:99999;width:min(420px,calc(100vw - 32px));pointer-events:none}.toast-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;pointer-events:none}.toast[_ngcontent-%COMP%]{pointer-events:auto;position:relative}.toast[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .toast[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer}"]})};var uy=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=en({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"app-surface"]],template:function(n,r){n&1&&(G(0,"div",0),xe(1,"router-outlet"),q(),xe(2,"app-toast-container"))},dependencies:[vc,ly],styles:["[_nghost-%COMP%]{display:block}.app-surface[_ngcontent-%COMP%]{min-height:100vh;background:var(--bg-gradient);color:var(--text-color)}"]})};KT(XT);B1(uy,Ek).catch(t=>console.error(t));
