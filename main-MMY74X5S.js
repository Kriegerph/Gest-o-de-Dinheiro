var L5=Object.create;var Jy=Object.defineProperty,V5=Object.defineProperties,j5=Object.getOwnPropertyDescriptor,B5=Object.getOwnPropertyDescriptors,$5=Object.getOwnPropertyNames,Gh=Object.getOwnPropertySymbols,U5=Object.getPrototypeOf,e1=Object.prototype.hasOwnProperty,Sx=Object.prototype.propertyIsEnumerable;var Ix=(t,e,n)=>e in t?Jy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ye=(t,e)=>{for(var n in e||={})e1.call(e,n)&&Ix(t,n,e[n]);if(Gh)for(var n of Gh(e))Sx.call(e,n)&&Ix(t,n,e[n]);return t},Ne=(t,e)=>V5(t,B5(e));var ud=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var t1=(t,e)=>{var n={};for(var r in t)e1.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Gh)for(var r of Gh(t))e.indexOf(r)<0&&Sx.call(t,r)&&(n[r]=t[r]);return n};var Tx=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var H5=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $5(e))!e1.call(t,i)&&i!==n&&Jy(t,i,{get:()=>e[i],enumerable:!(r=j5(e,i))||r.enumerable});return t};var n1=(t,e,n)=>(n=t!=null?L5(U5(t)):{},H5(e||!t||!t.__esModule?Jy(n,"default",{value:t,enumerable:!0}):n,t));var D5=Tx((T5,tx)=>{"use strict";(function(t){typeof T5=="object"&&typeof tx<"u"?tx.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=t()})(function(){return(function t(e,n,r){function i(a,c){if(!n[a]){if(!e[a]){var u=typeof ud=="function"&&ud;if(!c&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(f){return i(e[a][1][f]||f)},d,d.exports,t,e,n,r)}return n[a].exports}for(var o=typeof ud=="function"&&ud,s=0;s<r.length;s++)i(r[s]);return i})({1:[function(t,e,n){"use strict";let r=t("fs"),i=t("fast-csv"),o=t("dayjs/plugin/customParseFormat"),s=t("dayjs/plugin/utc"),a=t("dayjs").extend(o).extend(s),c=t("../utils/stream-buf"),{fs:{exists:u}}=t("../utils/utils"),l={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};e.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,f){if(f=f||{},!await u(d))throw new Error("File not found: "+d);let p=r.createReadStream(d),h=await this.read(p,f);return p.close(),h}read(d,f){return f=f||{},new Promise((p,h)=>{let y=this.workbook.addWorksheet(f.sheetName),m=f.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],_=f.map||function(D){if(D==="")return null;let L=Number(D);if(!Number.isNaN(L)&&L!==1/0)return L;let $=m.reduce((R,N)=>{if(R)return R;let j=a(D,N,!0);return j.isValid()?j:null},null);if($)return new Date($.valueOf());let V=l[D];return V!==void 0?V:D},x=i.parse(f.parserOptions).on("data",D=>{y.addRow(D.map(_))}).on("end",()=>{x.emit("worksheet",y)});x.on("worksheet",p).on("error",h),d.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,f){return new Promise((p,h)=>{f=f||{};let y=this.workbook.getWorksheet(f.sheetName||f.sheetId),m=i.format(f.formatterOptions);d.on("finish",()=>{p()}),m.on("error",h),m.pipe(d);let{dateFormat:_,dateUTC:x}=f,D=f.map||(V=>{if(V){if(V.text||V.hyperlink)return V.hyperlink||V.text||"";if(V.formula||V.result)return V.result||"";if(V instanceof Date)return _?x?a.utc(V).format(_):a(V).format(_):x?a.utc(V).format():a(V).format();if(V.error)return V.error;if(typeof V=="object")return JSON.stringify(V)}return V}),L=f.includeEmptyRows===void 0||f.includeEmptyRows,$=1;y&&y.eachRow((V,R)=>{if(L)for(;$++<R-1;)m.write([]);let{values:N}=V;N.shift(),m.write(N.map(D)),$=R}),m.end()})}writeFile(d,f){let p={encoding:(f=f||{}).encoding||"utf8"},h=r.createWriteStream(d,p);return this.write(h,f)}async writeBuffer(d){let f=new c;return await this.write(f,d),f.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(s,a){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,a)if(typeof a=="string"){let u=r.decodeAddress(a);this.nativeCol=u.col+c,this.nativeColOff=0,this.nativeRow=u.row+c,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+c,this.row=a.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof i||s==null?s:new i(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}e.exports=i},{"../utils/col-cache":19}],3:[function(t,e,n){"use strict";let r=t("../utils/col-cache"),i=t("../utils/under-dash"),o=t("./enums"),{slideFormula:s}=t("../utils/shared-formula"),a=t("./note");class c{constructor(d,f,p){if(!d||!f)throw new Error("A Cell needs a Row");this._row=d,this._column=f,r.validateAddress(p),this._address=p,this._value=u.create(c.Types.Null,this),this.style=this._mergeStyle(d.style,f.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,f,p){let h=d&&d.numFmt||f&&f.numFmt;h&&(p.numFmt=h);let y=d&&d.font||f&&f.font;y&&(p.font=y);let m=d&&d.alignment||f&&f.alignment;m&&(p.alignment=m);let _=d&&d.border||f&&f.border;_&&(p.border=_);let x=d&&d.fill||f&&f.fill;x&&(p.fill=x);let D=d&&d.protection||f&&f.protection;return D&&(p.protection=D),p}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(d,f){this._value.release(),this._value=u.create(c.Types.Merge,this,d),f||(this.style=d.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=u.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===c.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==c.Types.Merge?(this._value.release(),this._value=u.create(u.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new a(d)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===c.Types.String&&(this._value=u.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){let{definedNames:f}=this.workbook;f.removeAllNames(this.fullAddress),d.forEach(p=>{f.addEx(this.fullAddress,p)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){let{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=u.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=a.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}c.Types=o.ValueType;let u={getType:l=>l==null?c.Types.Null:l instanceof String||typeof l=="string"?c.Types.String:typeof l=="number"?c.Types.Number:typeof l=="boolean"?c.Types.Boolean:l instanceof Date?c.Types.Date:l.text&&l.hyperlink?c.Types.Hyperlink:l.formula||l.sharedFormula?c.Types.Formula:l.richText?c.Types.RichText:l.sharedString?c.Types.SharedString:l.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(l){this.model={address:l.address,type:c.Types.Null}}get value(){return null}set value(l){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Number,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Date,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){let l={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(l.tooltip=this.model.tooltip),l}set value(l){this.model={text:l.text,hyperlink:l.hyperlink},l.tooltip&&(this.model.tooltip=l.tooltip)}get text(){return this.model.text}set text(l){this.model.text=l}get hyperlink(){return this.model.hyperlink}set hyperlink(l){this.model.hyperlink=l}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(l,d){this.cell=l,this.model={address:l.address,type:c.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(l){let d={},f=p=>{let h=l[p];h&&(d[p]=h)};return f("formula"),f("result"),f("ref"),f("shareType"),f("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(l){this.model=this._copyModel(l)}validate(l){switch(u.getType(l)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(l){this.model.formula=l}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(l){this.model.result=l}get type(){return c.Types.Formula}get effectiveType(){let l=this.model.result;return l==null?o.ValueType.Null:l instanceof String||typeof l=="string"?o.ValueType.String:typeof l=="number"?o.ValueType.Number:l instanceof Date?o.ValueType.Date:l.text&&l.hyperlink?o.ValueType.Hyperlink:l.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(l){this.model.address=l}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:l}=this.cell,d=l.findCell(this.model.sharedFormula);this._translatedFormula=d&&s(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(l){l instanceof c?(this._master&&this._master.releaseMergeRef(),l.addMergeRef(),this._master=l):this._master.value=l}isMergedTo(l){return l===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(l){this.model.rawValue=l,this.model.value=JSON.stringify(l)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.SharedString,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}toString(){return this.model.value.richText.map(l=>l.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Boolean,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(l,d){this.model={address:l.address,type:c.Types.Error,value:d}}get value(){return this.model.value}set value(l){this.model.value=l}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(l){this.model.address=l}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((l,d)=>(l[d.t]=d.f,l),[]),create(l,d,f){let p=this.types[l];if(!p)throw new Error("Could not create Value of type "+l);return new p(d,f)}};e.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("./enums"),o=t("../utils/col-cache");class s{constructor(c,u,l){this._worksheet=c,this._number=u,l!==!1&&(this.defn=l)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((u,l)=>{this._worksheet.getCell(l+1,this.number).value=u})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&r.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,u){let l=this.number;u||(u=c,c=null),this._worksheet.eachRow(c,(d,f)=>{u(d.getCell(l),f)})}get values(){let c=[];return this.eachCell((u,l)=>{u&&u.type!==i.ValueType.Null&&(c[l]=u.value)}),c}set values(c){if(!c)return;let u=this.number,l=0;c.hasOwnProperty("0")&&(l=1),c.forEach((d,f)=>{this._worksheet.getCell(f+l,u).value=d})}_applyStyle(c,u){return this.style[c]=u,this.eachCell(l=>{l[c]=u}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){let u=[],l=null;return c&&c.forEach((d,f)=>{d.isDefault?l&&(l=null):l&&d.equivalentTo(l)?l.max=f+1:(l={min:f+1,max:f+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},u.push(l))}),u.length?u:void 0}static fromModel(c,u){let l=[],d=1,f=0;for(u=(u=u||[]).sort(function(p,h){return p.min-h.min});f<u.length;){let p=u[f++];for(;d<p.min;)l.push(new s(c,d++));for(;d<=p.max;)l.push(new s(c,d++,p))}return l.length?l:null}}e.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,e,n){"use strict";e.exports=class{constructor(r){this.model=r||{}}add(r,i){return this.model[r]=i}find(r){return this.model[r]}remove(r){this.model[r]=void 0}}},{}],6:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("../utils/col-cache"),o=t("../utils/cell-matrix"),s=t("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;e.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new o)}add(c,u){let l=i.decodeEx(c);this.addEx(l,u)}addEx(c,u){let l=this.getMatrix(u);if(c.top)for(let d=c.left;d<=c.right;d++)for(let f=c.top;f<=c.bottom;f++){let p={sheetName:c.sheetName,address:i.n2l(d)+f,row:f,col:d};l.addCellEx(p)}else l.addCellEx(c)}remove(c,u){let l=i.decodeEx(c);this.removeEx(l,u)}removeEx(c,u){this.getMatrix(u).removeCellEx(c)}removeAllNames(c){r.each(this.matrixMap,u=>{u.removeCellEx(c)})}forEach(c){r.each(this.matrixMap,(u,l)=>{u.forEach(d=>{c(l,d)})})}getNames(c){return this.getNamesEx(i.decodeEx(c))}getNamesEx(c){return r.map(this.matrixMap,(u,l)=>u.findCellEx(c)&&l).filter(Boolean)}_explore(c,u){u.mark=!1;let{sheetName:l}=u,d=new s(u.row,u.col,u.row,u.col,l),f,p;function h(m,_){let x=c.findCellAt(l,m,u.col);return!(!x||!x.mark)&&(d[_]=m,x.mark=!1,!0)}for(p=u.row-1;h(p,"top");p--);for(p=u.row+1;h(p,"bottom");p++);function y(m,_){let x=[];for(p=d.top;p<=d.bottom;p++){let D=c.findCellAt(l,p,m);if(!D||!D.mark)return!1;x.push(D)}d[_]=m;for(let D=0;D<x.length;D++)x[D].mark=!1;return!0}for(f=u.col-1;y(f,"left");f--);for(f=u.col+1;y(f,"right");f++);return d}getRanges(c,u){return(u=u||this.matrixMap[c])?(u.forEach(l=>{l.mark=!0}),{name:c,ranges:u.map(l=>l.mark&&this._explore(u,l)).filter(Boolean).map(l=>l.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,u){c.forEachInSheet(u,(l,d,f)=>{l&&(l.row===d&&l.col===f||(l.row=d,l.col=f,l.address=i.n2l(f)+d))})}spliceRows(c,u,l,d){r.each(this.matrixMap,f=>{f.spliceRows(c,u,l,d),this.normaliseMatrix(f,c)})}spliceColumns(c,u,l,d){r.each(this.matrixMap,f=>{f.spliceColumns(c,u,l,d),this.normaliseMatrix(f,c)})}get model(){return r.map(this.matrixMap,(c,u)=>this.getRanges(u,c)).filter(c=>c.ranges.length)}set model(c){let u=this.matrixMap={};c.forEach(l=>{let d=u[l.name]=new o;l.ranges.forEach(f=>{a.test(f.split("!").pop()||"")&&d.addCell(f)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,e,n){"use strict";e.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,e,n){"use strict";let r=t("../utils/col-cache"),i=t("./anchor");e.exports=class{constructor(o,s){this.worksheet=o,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:s,imageId:a,range:c,hyperlinks:u}=o;if(this.type=s,this.imageId=a,s==="image")if(typeof c=="string"){let l=r.decode(c);this.range={tl:new i(this.worksheet,{col:l.left,row:l.top},-1),br:new i(this.worksheet,{col:l.right,row:l.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,c.tl,0),br:c.br&&new i(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:u||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,e,n){"use strict";let r=t("../utils/under-dash");class i{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return r.deepMerge({},i.DEFAULT_CONFIGS,s)}set model(s){let{note:a}=s,{texts:c}=a;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=a}static fromModel(s){let a=new i;return a.model=s,a}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},e.exports=i},{"../utils/under-dash":26}],10:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(s,a,c,u,l){if(arguments.length<4){let d=r.decodeAddress(s),f=r.decodeAddress(a);this.model={top:Math.min(d.row,f.row),left:Math.min(d.col,f.col),bottom:Math.max(d.row,f.row),right:Math.max(d.col,f.col),sheetName:c},this.setTLBR(d.row,d.col,f.row,f.col,l)}else this.model={top:Math.min(s,c),left:Math.min(a,u),bottom:Math.max(s,c),right:Math.max(a,u),sheetName:l}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{let a=s[0];if(a instanceof i)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let c=r.decodeEx(a);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){let{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,a,c,u){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||u>this.right)&&(this.right=u)}expandRow(s){if(s){let{dimensions:a,number:c}=s;a&&this.expand(c,a.min,c,a.max)}}expandToAddress(s){let a=r.decodeEx(s);this.expand(a.row,a.col,a.row,a.col)}get tl(){return r.n2l(this.left)+this.top}get $t$l(){return`$${r.n2l(this.left)}$${this.top}`}get br(){return r.n2l(this.right)+this.bottom}get $b$r(){return`$${r.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){let a=r.decodeEx(s);return this.containsEx(a)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let a=this.left;a<=this.right;a++)for(let c=this.top;c<=this.bottom;c++)s(r.encodeAddress(c,a),c,a)}}e.exports=i},{"../utils/col-cache":19}],11:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("./enums"),o=t("../utils/col-cache"),s=t("./cell");e.exports=class{constructor(a,c){this._worksheet=a,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let c=this._cells[a.col-1];if(!c){let u=this._worksheet.getColumn(a.col);c=new s(this,u,a.address),this._cells[a.col-1]=c}return c}getCell(a){if(typeof a=="string"){let c=this._worksheet.getColumnKey(a);a=c?c.number:o.l2n(a)}return this._cells[a-1]||this.getCellEx({address:o.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,c){let u=a+c;for(var l=arguments.length,d=new Array(l>2?l-2:0),f=2;f<l;f++)d[f-2]=arguments[f];let p=d.length-c,h=this._cells.length,y,m,_;if(p<0)for(y=a+d.length;y<=h;y++)_=this._cells[y-1],m=this._cells[y-p-1],m?(_=this.getCell(y),_.value=m.value,_.style=m.style,_._comment=m._comment):_&&(_.value=null,_.style={},_._comment=void 0);else if(p>0)for(y=h;y>=u;y--)m=this._cells[y-1],m?(_=this.getCell(y+p),_.value=m.value,_.style=m.style,_._comment=m._comment):this._cells[y+p-1]=void 0;for(y=0;y<d.length;y++)_=this.getCell(a+y),_.value=d[y],_.style={},_._comment=void 0}eachCell(a,c){if(c||(c=a,a=null),a&&a.includeEmpty){let u=this._cells.length;for(let l=1;l<=u;l++)c(this.getCell(l),l)}else this._cells.forEach((u,l)=>{u&&u.type!==i.ValueType.Null&&c(u,l+1)})}addPageBreak(a,c){let u=this._worksheet,l=Math.max(0,a-1)||0,d=Math.max(0,c-1)||16838,f={id:this._number,max:d,man:1};l&&(f.min=l),u.rowBreaks.push(f)}get values(){let a=[];return this._cells.forEach(c=>{c&&c.type!==i.ValueType.Null&&(a[c.col]=c.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let c=0;a.hasOwnProperty("0")&&(c=1),a.forEach((u,l)=>{u!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,l+c),row:this._number,col:l+c}).value=u)})}else this._worksheet.eachColumnKey((c,u)=>{a[u]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=a[u])})}get hasValues(){return r.some(this._cells,a=>a&&a.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,c=0;return this._cells.forEach(u=>{u&&u.type!==i.ValueType.Null&&((!a||a>u.col)&&(a=u.col),c<u.col&&(c=u.col))}),a>0?{min:a,max:c}:null}_applyStyle(a,c){return this.style[a]=c,this._cells.forEach(u=>{u&&(u[a]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],c=0,u=0;return this._cells.forEach(l=>{if(l){let d=l.model;d&&((!c||c>l.col)&&(c=l.col),u<l.col&&(u=l.col),a.push(d))}}),this.height||a.length?{cells:a,number:this.number,min:c,max:u,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],a.cells.forEach(u=>{switch(u.type){case s.Types.Merge:break;default:{let l;if(u.address)l=o.decodeAddress(u.address);else if(c){let{row:d}=c,f=c.col+1;l={row:d,col:f,address:o.encodeAddress(d,f),$col$row:`$${o.n2l(f)}$${d}`}}c=l,this.getCellEx(l).model=u;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(s,a,c){this.table=s,this.column=a,this.index=c}_set(s,a){this.table.cacheState(),this.column[s]=a}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}e.exports=class{constructor(o,s){this.worksheet=o,s&&(this.table=s,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:o}=this,s=(p,h,y)=>{p[h]===void 0&&(p[h]=y)};s(o,"headerRow",!0),s(o,"totalsRow",!1),s(o,"style",{}),s(o.style,"theme","TableStyleMedium2"),s(o.style,"showFirstColumn",!1),s(o.style,"showLastColumn",!1),s(o.style,"showRowStripes",!1),s(o.style,"showColumnStripes",!1);let a=(p,h)=>{if(!p)throw new Error(h)};a(o.ref,"Table must have ref"),a(o.columns,"Table must have column definitions"),a(o.rows,"Table must have row definitions"),o.tl=r.decodeAddress(o.ref);let{row:c,col:u}=o.tl;a(c>0,"Table must be on valid row"),a(u>0,"Table must be on valid col");let{width:l,filterHeight:d,tableHeight:f}=this;o.autoFilterRef=r.encode(c,u,c+d-1,u+l-1),o.tableRef=r.encode(c,u,c+f-1,u+l-1),o.columns.forEach((p,h)=>{a(p.name,`Column ${h} must have a name`),h===0?s(p,"totalsRowLabel","Total"):(s(p,"totalsRowFunction","none"),p.totalsRowFormula=this.getFormula(p))})}store(){let o=(d,f)=>{f&&Object.keys(f).forEach(p=>{d[p]=f[p]})},{worksheet:s,table:a}=this,{row:c,col:u}=a.tl,l=0;if(a.headerRow){let d=s.getRow(c+l++);a.columns.forEach((f,p)=>{let{style:h,name:y}=f,m=d.getCell(u+p);m.value=y,o(m,h)})}if(a.rows.forEach(d=>{let f=s.getRow(c+l++);d.forEach((p,h)=>{let y=f.getCell(u+h);y.value=p,o(y,a.columns[h].style)})}),a.totalsRow){let d=s.getRow(c+l++);a.columns.forEach((f,p)=>{let h=d.getCell(u+p);if(p===0)h.value=f.totalsRowLabel;else{let y=this.getFormula(f);h.value=y?{formula:f.totalsRowFormula,result:f.totalsRowResult}:null}o(h,f.style)})}}load(o){let{table:s}=this,{row:a,col:c}=s.tl,u=0;if(s.headerRow){let l=o.getRow(a+u++);s.columns.forEach((d,f)=>{l.getCell(c+f).value=d.name})}if(s.rows.forEach(l=>{let d=o.getRow(a+u++);l.forEach((f,p)=>{d.getCell(c+p).value=f})}),s.totalsRow){let l=o.getRow(a+u++);s.columns.forEach((d,f)=>{let p=l.getCell(c+f);f===0?p.value=d.totalsRowLabel:this.getFormula(d)&&(p.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let o=r.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let c=0;c<this._cache.width;c++)a.getCell(o.col+c).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let c=0;c<this._cache.width;c++)a.getCell(o.col+c).value=null}for(let s=0;s<this.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let c=this.width;c<this._cache.width;c++)a.getCell(o.col+c).value=null}}this.store()}addRow(o,s){this.cacheState(),s===void 0?this.table.rows.push(o):this.table.rows.splice(s,0,o)}removeRows(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,s)}getColumn(o){let s=this.table.columns[o];return new i(this,s,o)}addColumn(o,s,a){this.cacheState(),a===void 0?(this.table.columns.push(o),this.table.rows.forEach((c,u)=>{c.push(s[u])})):(this.table.columns.splice(a,0,o),this.table.rows.forEach((c,u)=>{c.splice(a,0,s[u])}))}removeColumns(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,s),this.table.rows.forEach(a=>{a.splice(o,s)})}_assign(o,s,a){this.cacheState(),o[s]=a}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(t,e,n){"use strict";let r=t("./worksheet"),i=t("./defined-names"),o=t("../xlsx/xlsx"),s=t("../csv/csv");e.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,c){let u=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));let l=this._worksheets.reduce((p,h)=>(h&&h.orderNo)>p?h.orderNo:p,0),d=Object.assign({},c,{id:u,name:a,orderNo:l+1,workbook:this}),f=new r(d);return this._worksheets[u]=f,f}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let c=this.getWorksheet(a);c&&c.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(c=>c&&c.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,c)=>a.orderNo-c.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(c=>{a(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let c=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),c}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(c=>{let{id:u,name:l,state:d}=c,f=a.sheets&&a.sheets.findIndex(p=>p.id===u);(this._worksheets[u]=new r({id:u,name:l,orderNo:f,state:d,workbook:this})).model=c}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("../utils/col-cache"),o=t("./range"),s=t("./row"),a=t("./column"),c=t("./enums"),u=t("./image"),l=t("./table"),d=t("./data-validations"),f=t("../utils/encryptor"),{copyStyle:p}=t("../utils/copy-style");e.exports=class{constructor(h){h=h||{},this._workbook=h.workbook,this.id=h.id,this.orderNo=h.orderNo,this.name=h.name,this.state=h.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},h.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!h.pageSetup||!h.pageSetup.fitToWidth&&!h.pageSetup.fitToHeight||h.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},h.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},h.headerFooter),this.dataValidations=new d,this.views=h.views||[],this.autoFilter=h.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(h){if(h===void 0&&(h="sheet"+this.id),this._name!==h){if(typeof h!="string")throw new Error("The name has to be a string.");if(h==="")throw new Error("The name can't be empty.");if(h==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(h))throw new Error(`Worksheet name ${h} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(h))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+h);if(h&&h.length>31&&(console.warn(`Worksheet name ${h} exceeds 31 chars. This will be truncated`),h=h.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===h.toLowerCase()))throw new Error("Worksheet name already exists: "+h);this._name=h}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let h=new o;return this._rows.forEach(y=>{if(y){let m=y.dimensions;m&&h.expand(y.number,m.min,y.number,m.max)}}),h}get columns(){return this._columns}set columns(h){this._headerRowCount=h.reduce((_,x)=>{let D=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(_,D)},0);let y=1,m=this._columns=[];h.forEach(_=>{let x=new a(this,y++,!1);m.push(x),x.defn=_})}getColumnKey(h){return this._keys[h]}setColumnKey(h,y){this._keys[h]=y}deleteColumnKey(h){delete this._keys[h]}eachColumnKey(h){r.each(this._keys,h)}getColumn(h){if(typeof h=="string"){let y=this._keys[h];if(y)return y;h=i.l2n(h)}if(this._columns||(this._columns=[]),h>this._columns.length){let y=this._columns.length+1;for(;y<=h;)this._columns.push(new a(this,y++))}return this._columns[h-1]}spliceColumns(h,y){let m=this._rows.length;for(var _=arguments.length,x=new Array(_>2?_-2:0),D=2;D<_;D++)x[D-2]=arguments[D];if(x.length>0)for(let R=0;R<m;R++){let N=[h,y];x.forEach(O=>{N.push(O[R]||null)});let j=this.getRow(R+1);j.splice.apply(j,N)}else this._rows.forEach(R=>{R&&R.splice(h,y)});let L=x.length-y,$=h+y,V=this._columns.length;if(L<0)for(let R=h+x.length;R<=V;R++)this.getColumn(R).defn=this.getColumn(R-L).defn;else if(L>0)for(let R=V;R>=$;R--)this.getColumn(R+L).defn=this.getColumn(R).defn;for(let R=h;R<h+x.length;R++)this.getColumn(R).defn=null;this.workbook.definedNames.spliceColumns(this.name,h,y,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let h=0;return this.eachRow(y=>{h=Math.max(h,y.cellCount)}),h}get actualColumnCount(){let h=[],y=0;return this.eachRow(m=>{m.eachCell(_=>{let{col:x}=_;h[x]||(h[x]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){let h=this._rows,y=h.length;for(;y>0&&h[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(h){return this._rows[h-1]}findRows(h,y){return this._rows.slice(h-1,h-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let h=0;return this.eachRow(()=>{h++}),h}getRow(h){let y=this._rows[h-1];return y||(y=this._rows[h-1]=new s(this,h)),y}getRows(h,y){if(y<1)return;let m=[];for(let _=h;_<h+y;_++)m.push(this.getRow(_));return m}addRow(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",m=this._nextRow,_=this.getRow(m);return _.values=h,this._setStyleOption(m,y[0]==="i"?y:"n"),_}addRows(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",m=[];return h.forEach(_=>{m.push(this.addRow(_,y))}),m}insertRow(h,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(h,0,y),this._setStyleOption(h,m),this.getRow(h)}insertRows(h,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(h,0,...y),m!=="n")for(let _=0;_<y.length;_++)m[0]==="o"&&this.findRow(y.length+h+_)!==void 0?this._copyStyle(y.length+h+_,h+_,m[1]==="+"):m[0]==="i"&&this.findRow(h-1)!==void 0&&this._copyStyle(h-1,h+_,m[1]==="+");return this.getRows(h,y.length)}_setStyleOption(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(h+1)!==void 0?this._copyStyle(h+1,h,y[1]==="+"):y[0]==="i"&&this.findRow(h-1)!==void 0&&this._copyStyle(h-1,h,y[1]==="+")}_copyStyle(h,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_=this.getRow(h),x=this.getRow(y);x.style=p(_.style),_.eachCell({includeEmpty:m},(D,L)=>{x.getCell(L).style=p(D.style)}),x.height=_.height}duplicateRow(h,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_=this._rows[h-1],x=new Array(y).fill(_.values);this.spliceRows(h+1,m?0:y,...x);for(let D=0;D<y;D++){let L=this._rows[h+D];L.style=_.style,L.height=_.height,_.eachCell({includeEmpty:!0},($,V)=>{L.getCell(V).style=$.style})}}spliceRows(h,y){let m=h+y;for(var _=arguments.length,x=new Array(_>2?_-2:0),D=2;D<_;D++)x[D-2]=arguments[D];let L=x.length,$=L-y,V=this._rows.length,R,N;if($<0)for(h===V&&(this._rows[V-1]=void 0),R=m;R<=V;R++)if(N=this._rows[R-1],N){let j=this.getRow(R+$);j.values=N.values,j.style=N.style,j.height=N.height,N.eachCell({includeEmpty:!0},(O,E)=>{j.getCell(E).style=O.style}),this._rows[R-1]=void 0}else this._rows[R+$-1]=void 0;else if($>0)for(R=V;R>=m;R--)if(N=this._rows[R-1],N){let j=this.getRow(R+$);j.values=N.values,j.style=N.style,j.height=N.height,N.eachCell({includeEmpty:!0},(O,E)=>{if(j.getCell(E).style=O.style,O._value.constructor.name==="MergeValue"){let I=this.getRow(O._row._number+L).getCell(E),A=O._value._master,g=this.getRow(A._row._number+L).getCell(A._column._number);I.merge(g)}})}else this._rows[R+$-1]=void 0;for(R=0;R<L;R++){let j=this.getRow(h+R);j.style={},j.values=x[R]}this.workbook.definedNames.spliceRows(this.name,h,y,L)}eachRow(h,y){if(y||(y=h,h=void 0),h&&h.includeEmpty){let m=this._rows.length;for(let _=1;_<=m;_++)y(this.getRow(_),_)}else this._rows.forEach(m=>{m&&m.hasValues&&y(m,m.number)})}getSheetValues(){let h=[];return this._rows.forEach(y=>{y&&(h[y.number]=y.values)}),h}findCell(h,y){let m=i.getAddress(h,y),_=this._rows[m.row-1];return _?_.findCell(m.col):void 0}getCell(h,y){let m=i.getAddress(h,y);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var h=arguments.length,y=new Array(h),m=0;m<h;m++)y[m]=arguments[m];let _=new o(y);this._mergeCellsInternal(_)}mergeCellsWithoutStyle(){for(var h=arguments.length,y=new Array(h),m=0;m<h;m++)y[m]=arguments[m];let _=new o(y);this._mergeCellsInternal(_,!0)}_mergeCellsInternal(h,y){r.each(this._merges,_=>{if(_.intersects(h))throw new Error("Cannot merge already merged cells")});let m=this.getCell(h.top,h.left);for(let _=h.top;_<=h.bottom;_++)for(let x=h.left;x<=h.right;x++)(_>h.top||x>h.left)&&this.getCell(_,x).merge(m,y);this._merges[m.address]=h}_unMergeMaster(h){let y=this._merges[h.address];if(y){for(let m=y.top;m<=y.bottom;m++)for(let _=y.left;_<=y.right;_++)this.getCell(m,_).unmerge();delete this._merges[h.address]}}get hasMerges(){return r.some(this._merges,Boolean)}unMergeCells(){for(var h=arguments.length,y=new Array(h),m=0;m<h;m++)y[m]=arguments[m];let _=new o(y);for(let x=_.top;x<=_.bottom;x++)for(let D=_.left;D<=_.right;D++){let L=this.findCell(x,D);L&&(L.type===c.ValueType.Merge?this._unMergeMaster(L.master):this._merges[L.address]&&this._unMergeMaster(L))}}fillFormula(h,y,m){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",x=i.decode(h),{top:D,left:L,bottom:$,right:V}=x,R=V-L+1,N=i.encodeAddress(D,L),j=_==="shared",O;O=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(I,A)=>m[I-D][A-L]:(I,A)=>m[(I-D)*R+(A-L)]:()=>{};let E=!0;for(let I=D;I<=$;I++)for(let A=L;A<=V;A++)E?(this.getCell(I,A).value={shareType:_,formula:y,ref:h,result:O(I,A)},E=!1):this.getCell(I,A).value=j?{sharedFormula:N,result:O(I,A)}:O(I,A)}addImage(h,y){let m={type:"image",imageId:h,range:y};this._media.push(new u(this,m))}getImages(){return this._media.filter(h=>h.type==="image")}addBackgroundImage(h){let y={type:"background",imageId:h};this._media.push(new u(this,y))}getBackgroundImageId(){let h=this._media.find(y=>y.type==="background");return h&&h.imageId}protect(h,y){return new Promise(m=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),h&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=f.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=f.convertPasswordToHash(h,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!h&&"spinCount"in y&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(h){let y=new l(this,h);return this.tables[h.name]=y,y}getTable(h){return this.tables[h]}removeTable(h){delete this.tables[h]}getTables(){return Object.values(this.tables)}addConditionalFormatting(h){this.conditionalFormattings.push(h)}removeConditionalFormatting(h){typeof h=="number"?this.conditionalFormattings.splice(h,1):this.conditionalFormattings=h instanceof Function?this.conditionalFormattings.filter(h):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(h){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=h}get model(){let h={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(_=>_.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(_=>_.model),conditionalFormattings:this.conditionalFormattings};h.cols=a.toModel(this.columns);let y=h.rows=[],m=h.dimensions=new o;return this._rows.forEach(_=>{let x=_&&_.model;x&&(m.expand(x.number,x.min,x.number,x.max),y.push(x))}),h.merges=[],r.each(this._merges,_=>{h.merges.push(_.range)}),h}_parseRows(h){this._rows=[],h.rows.forEach(y=>{let m=new s(this,y.number);this._rows[m.number-1]=m,m.model=y})}_parseMergeCells(h){r.each(h.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(h){this.name=h.name,this._columns=a.fromModel(this,h.cols),this._parseRows(h),this._parseMergeCells(h),this.dataValidations=new d(h.dataValidations),this.properties=h.properties,this.pageSetup=h.pageSetup,this.headerFooter=h.headerFooter,this.views=h.views,this.autoFilter=h.autoFilter,this._media=h.media.map(y=>new u(this,y)),this.sheetProtection=h.sheetProtection,this.tables=h.tables.reduce((y,m)=>{let _=new l;return _.model=m,y[m.name]=_,y},{}),this.conditionalFormattings=h.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,e,n){"use strict";t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");let r={Workbook:t("./doc/workbook")},i=t("./doc/enums");Object.keys(i).forEach(o=>{r[o]=i[o]}),e.exports=r},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,e,n){"use strict";let r=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(i){return typeof i=="string"?i:r?r.decode(i):i.toString()}},{}],17:[function(t,e,n){"use strict";let r=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=t("buffer");n.stringToBuffer=function(o){return typeof o!="string"?o:r?i.from(r.encode(o).buffer):i.from(o)}},{buffer:220}],18:[function(t,e,n){"use strict";let r=t("./under-dash"),i=t("./col-cache");e.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(i.decodeEx(o))}getCell(o){return this.findCellEx(i.decodeEx(o),!0)}findCell(o){return this.findCellEx(i.decodeEx(o),!1)}findCellAt(o,s,a){let c=this.sheets[o],u=c&&c[s];return u&&u[a]}addCellEx(o){if(o.top)for(let s=o.top;s<=o.bottom;s++)for(let a=o.left;a<=o.right;a++)this.getCellAt(o.sheetName,s,a);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,s){let a=this.findSheet(o,s),c=this.findSheetRow(a,o,s);return this.findRowCell(c,o,s)}getCellAt(o,s,a){let c=this.sheets[o]||(this.sheets[o]=[]),u=c[s]||(c[s]=[]);return u[a]||(u[a]={sheetName:o,address:i.n2l(a)+s,row:s,col:a})}removeCellEx(o){let s=this.findSheet(o);if(!s)return;let a=this.findSheetRow(s,o);a&&delete a[o.col]}forEachInSheet(o,s){let a=this.sheets[o];a&&a.forEach((c,u)=>{c&&c.forEach((l,d)=>{l&&s(l,u,d)})})}forEach(o){r.each(this.sheets,(s,a)=>{this.forEachInSheet(a,o)})}map(o){let s=[];return this.forEach(a=>{s.push(o(a))}),s}findSheet(o,s){let a=o.sheetName;return this.sheets[a]?this.sheets[a]:s?this.sheets[a]=[]:void 0}findSheetRow(o,s,a){let{row:c}=s;return o&&o[c]?o[c]:a?o[c]=[]:void 0}findRowCell(o,s,a){let{col:c}=s;return o&&o[c]?o[c]:a?o[c]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(o,s,a,c){let u=this.sheets[o];if(u){let l=[];for(let d=0;d<c;d++)l.push([]);u.splice(s,a,...l)}}spliceColumns(o,s,a,c){let u=this.sheets[o];if(u){let l=[];for(let d=0;d<c;d++)l.push(null);r.each(u,d=>{d.splice(s,a,...l)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,e,n){"use strict";let r=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let s,a,c,u,l,d=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;d<=26;)s=this._dictionary[d-1],this._n2l[d]=s,this._l2n[s]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(d=27;d<=702;)a=d-27,c=a%26,u=Math.floor(a/26),s=this._dictionary[u]+this._dictionary[c],this._n2l[d]=s,this._l2n[s]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(d=703;d<=16384;)a=d-703,c=a%26,u=Math.floor(a/26)%26,l=Math.floor(a/676),s=this._dictionary[l]+this._dictionary[u]+this._dictionary[c],this._n2l[d]=s,this._l2n[s]=d,d++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!r.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){let s=o.length<5&&this._hash[o];if(s)return s;let a=!1,c="",u=0,l=!1,d="",f=0;for(let h,y=0;y<o.length;y++)if(h=o.charCodeAt(y),!l&&h>=65&&h<=90)a=!0,c+=o[y],u=26*u+h-64;else if(h>=48&&h<=57)l=!0,d+=o[y],f=10*f+h-48;else if(l&&a&&h!==36)break;if(a){if(u>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else u=void 0;l||(f=void 0);let p={address:o=c+d,col:u,row:f,$col$row:`$${c}$${d}`};return u<=100&&f<=100&&(this._hash[o]=p,this._hash[p.$col$row]=p),p},getAddress(o,s){if(s){let a=this.n2l(s)+o;return this.decodeAddress(a)}return this.decodeAddress(o)},decode(o){let s=o.split(":");if(s.length===2){let a=this.decodeAddress(s[0]),c=this.decodeAddress(s[1]),u={top:Math.min(a.row,c.row),left:Math.min(a.col,c.col),bottom:Math.max(a.row,c.row),right:Math.max(a.col,c.col)};return u.tl=this.n2l(u.left)+u.top,u.br=this.n2l(u.right)+u.bottom,u.dimensions=`${u.tl}:${u.br}`,u}return this.decodeAddress(o)},decodeEx(o){let s=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=s[1]||s[2],c=s[3],u=c.split(":");if(u.length>1){let d=this.decodeAddress(u[0]),f=this.decodeAddress(u[1]),p=Math.min(d.row,f.row),h=Math.min(d.col,f.col),y=Math.max(d.row,f.row),m=Math.max(d.col,f.col);return d=this.n2l(h)+p,f=this.n2l(m)+y,{top:p,left:h,bottom:y,right:m,sheetName:a,tl:{address:d,col:h,row:p,$col$row:`$${this.n2l(h)}$${p}`,sheetName:a},br:{address:f,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:a},dimensions:`${d}:${f}`}}if(c.startsWith("#"))return a?{sheetName:a,error:c}:{error:c};let l=this.decodeAddress(c);return a?ye({sheetName:a},l):l},encodeAddress:(o,s)=>i.n2l(s)+o,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,s){let[a,c,,u,l]=o,[d,f]=s;return d>=a&&d<=u&&f>=c&&f<=l}};e.exports=i},{}],20:[function(t,e,n){"use strict";let r=(o,s)=>ye(ye({},o),s.reduce((a,c)=>(o[c]&&(a[c]=ye({},o[c])),a),{})),i=function(o,s,a){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[a]&&(s[a]=r(o[a],c))};n.copyStyle=o=>{if(!o)return o;if(s=o,Object.keys(s).length===0)return{};var s;let a=ye({},o);return i(o,a,"font",["color"]),i(o,a,"alignment"),i(o,a,"protection"),o.border&&(i(o,a,"border"),i(o.border,a.border,"top",["color"]),i(o.border,a.border,"left",["color"]),i(o.border,a.border,"bottom",["color"]),i(o.border,a.border,"right",["color"]),i(o.border,a.border,"diagonal",["color"])),o.fill&&(i(o,a,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(a.fill.stops=o.fill.stops.map(c=>r(c,["color"])))),a}},{}],21:[function(t,e,n){(function(r){(function(){"use strict";let i=t("crypto"),o={hash(s){let a=i.createHash(s);for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];return a.update(r.concat(u)),a.digest()},convertPasswordToHash(s,a,c,u){if(a=a.toLowerCase(),i.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let l=r.from(s,"utf16le"),d=this.hash(a,r.from(c,"base64"),l);for(let f=0;f<u;f++){let p=r.alloc(4);p.writeUInt32LE(f,0),d=this.hash(a,d,p)}return d.toString("base64")},randomBytes:s=>i.randomBytes(s)};e.exports=o}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,e,n){"use strict";let{SaxesParser:r}=t("saxes"),{PassThrough:i}=t("readable-stream"),{bufferToString:o}=t("./browser-buffer-decode");e.exports=async function*(s){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new i));let a=new r,c;a.on("error",l=>{c=l});let u=[];a.on("opentag",l=>u.push({eventType:"opentag",value:l})),a.on("text",l=>u.push({eventType:"text",value:l})),a.on("closetag",l=>u.push({eventType:"closetag",value:l}));for await(let l of s){if(a.write(o(l)),c)throw c;yield u,u=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,e,n){"use strict";let r=t("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;e.exports={slideFormula:function(s,a,c){let u=r.decode(a),l=r.decode(c);return s.replace(i,(d,f,p,h,y)=>{if(y)return d;let m=o.exec(h);if(m){let _=m[1],x=m[2].toUpperCase(),D=m[3],L=m[4];if(x.length>3||x.length===3&&x>"XFD")return d;let $=r.l2n(x),V=parseInt(L,10);return _||($+=l.col-u.col),D||(V+=l.row-u.row),(f||"")+(_||"")+r.n2l($)+(D||"")+V}return d})}}},{"./col-cache":19}],24:[function(t,e,n){(function(r,i){(function(){"use strict";let o=t("readable-stream"),s=t("./utils"),a=t("./string-buf");class c{constructor(h,y){this._data=h,this._encoding=y}get length(){return this.toBuffer().length}copy(h,y,m,_){return this.toBuffer().copy(h,y,m,_)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class u{constructor(h){this._data=h}get length(){return this._data.length}copy(h,y,m,_){return this._data._buf.copy(h,y,m,_)}toBuffer(){return this._data.toBuffer()}}class l{constructor(h){this._data=h}get length(){return this._data.length}copy(h,y,m,_){this._data.copy(h,y,m,_)}toBuffer(){return this._data}}class d{constructor(h){this.size=h,this.buffer=i.alloc(h),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let h=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(h,0,this.iRead,this.iWrite),h}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(h){let y;return h===0?null:h===void 0||h>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=i.alloc(h),this.buffer.copy(y,0,this.iRead,h),this.iRead+=h,y)}write(h,y,m){let _=Math.min(m,this.size-this.iWrite);return h.copy(this.buffer,this.iWrite,y,y+_),this.iWrite+=_,_}}let f=function(p){p=p||{},this.bufSize=p.bufSize||1048576,this.buffers=[],this.batch=p.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(f,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(p=>p.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let h=this.buffers[this.buffers.length-1];if(!h.full)return h}let p=new d(this.bufSize);return this.buffers.push(p),p},async _pipe(p){await Promise.all(this.pipes.map(function(h){return new Promise(y=>{h.write(p.toBuffer(),()=>{y()})})}))},_writeToBuffers(p){let h=0,y=p.length;for(;h<y;)h+=this._getWritableBuffer().write(p,h,y-h)},async write(p,h,y){let m;if(h instanceof Function&&(y=h,h="utf8"),y=y||s.nop,p instanceof a)m=new u(p);else if(p instanceof i)m=new l(p);else{if(!(typeof p=="string"||p instanceof String||p instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new c(p,h)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),r.nextTick(y)):(await this._pipe(m),y());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(p,h,y){let m=_=>{_?y(_):(this._flush(),this.pipes.forEach(x=>{x.end()}),this.emit("finish"))};p?this.write(p,h,m):m()},read(p){let h;if(p){for(h=[];p&&this.buffers.length&&!this.buffers[0].eod;){let y=this.buffers[0],m=y.read(p);p-=m.length,h.push(m),y.eod&&y.full&&this.buffers.shift()}return i.concat(h)}return h=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],i.concat(h)},setEncoding(p){this.encoding=p},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(p){this.pipes.push(p),!this.paused&&this.buffers.length&&this.end()},unpipe(p){this.pipes=this.pipes.filter(h=>h!==p)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),e.exports=f}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,e,n){(function(r){(function(){"use strict";e.exports=class{constructor(i){this._buf=r.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=r.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let o=2*this._buf.length;for(;o<i;)o*=2;let s=r.alloc(o);this._buf.copy(s,0),this._buf=s}addText(i){this._buffer=void 0;let o=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+i.length),o=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=o}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,e,n){"use strict";let{toString:r}=Object.prototype,i=/["&<>]/,o={each:function(s,a){s&&(Array.isArray(s)?s.forEach(a):Object.keys(s).forEach(c=>{a(s[c],c)}))},some:function(s,a){return!!s&&(Array.isArray(s)?s.some(a):Object.keys(s).some(c=>a(s[c],c)))},every:function(s,a){return!s||(Array.isArray(s)?s.every(a):Object.keys(s).every(c=>a(s[c],c)))},map:function(s,a){return s?Array.isArray(s)?s.map(a):Object.keys(s).map(c=>a(s[c],c)):[]},keyBy:(s,a)=>s.reduce((c,u)=>(c[u[a]]=u,c),{}),isEqual:function(s,a){let c=typeof s,u=typeof a,l=Array.isArray(s),d=Array.isArray(a),f;if(c!==u)return!1;switch(typeof s){case"object":if(l||d)return!(!l||!d)&&s.length===a.length&&s.every((p,h)=>{let y=a[h];return o.isEqual(p,y)});if(s===null||a===null)return s===a;if(f=Object.keys(s),Object.keys(a).length!==f.length)return!1;for(let p of f)if(!a.hasOwnProperty(p))return!1;return o.every(s,(p,h)=>{let y=a[h];return o.isEqual(p,y)});default:return s===a}},escapeHtml(s){let a=i.exec(s);if(!a)return s;let c="",u="",l=0,d=a.index;for(;d<s.length;d++){switch(s.charAt(d)){case'"':u="&quot;";break;case"&":u="&amp;";break;case"'":u="&apos;";break;case"<":u="&lt;";break;case">":u="&gt;";break;default:continue}l!==d&&(c+=s.substring(l,d)),l=d+1,c+=u}return l!==d?c+s.substring(l,d):c},strcmp:(s,a)=>s<a?-1:s>a?1:0,isUndefined:s=>r.call(s)==="[object Undefined]",isObject:s=>r.call(s)==="[object Object]",deepMerge(){let s=arguments[0]||{},{length:a}=arguments,c,u,l;function d(f,p){c=s[p],l=Array.isArray(f),o.isObject(f)||l?(l?(l=!1,u=c&&Array.isArray(c)?c:[]):u=c&&o.isObject(c)?c:{},s[p]=o.deepMerge(u,f)):o.isUndefined(f)||(s[p]=f)}for(let f=0;f<a;f++)o.each(arguments[f],d);return s}};e.exports=o},{}],27:[function(t,e,n){(function(r,i){(function(){"use strict";let o=t("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:c=>new Promise(u=>{r.setImmediate?i(()=>{u(c)}):setTimeout(()=>{u(c)},1)}),inherits:function(c,u,l,d){c.super_=u,d||(d=l,l=null),l&&Object.keys(l).forEach(p=>{Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(l,p))});let f={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(p=>{f[p]=Object.getOwnPropertyDescriptor(d,p)}),c.prototype=Object.create(u.prototype,f)},dateToExcel:(c,u)=>25569+c.getTime()/864e5-(u?1462:0),excelToDate(c,u){let l=Math.round(24*(c-25569+(u?1462:0))*3600*1e3);return new Date(l)},parsePath(c){let u=c.lastIndexOf("/");return{path:c.substring(0,u),name:c.substring(u+1)}},getRelsPath(c){let u=a.parsePath(c);return`${u.path}/_rels/${u.name}.rels`},xmlEncode(c){let u=s.exec(c);if(!u)return c;let l="",d="",f=0,p=u.index;for(;p<c.length;p++){let h=c.charCodeAt(p);switch(h){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(h<=31&&(h<=8||h>=11&&h!==13)){d="";break}continue}f!==p&&(l+=c.substring(f,p)),f=p+1,d&&(l+=d)}return f!==p?l+c.substring(f,p):l},xmlDecode:c=>c.replace(/&([a-z]*);/g,u=>{switch(u){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return u}}),validInt(c){let u=parseInt(c,10);return Number.isNaN(u)?0:u},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(u=>{o.access(c,o.constants.F_OK,l=>{u(!l)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};e.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,e,n){"use strict";let r=t("./under-dash"),i=t("./utils");function o(c,u,l){c.push(` ${u}="${i.xmlEncode(l.toString())}"`)}function s(c,u){if(u){let l=[];r.each(u,(d,f)=>{d!==void 0&&o(l,f,d)}),c.push(l.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(u){let l=this._xml;l.push("<?xml"),s(l,u),l.push(`?>
`)}openNode(u,l){let d=this.tos,f=this._xml;d&&this.open&&f.push(">"),this._stack.push(u),f.push("<"),f.push(u),s(f,l),this.leaf=!0,this.open=!0}addAttribute(u,l){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l!==void 0&&o(this._xml,u,l)}addAttributes(u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,u)}writeText(u){let l=this._xml;this.open&&(l.push(">"),this.open=!1),this.leaf=!1,l.push(i.xmlEncode(u.toString()))}writeXml(u){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(u)}closeNode(){let u=this._stack.pop(),l=this._xml;this.leaf?l.push("/>"):(l.push("</"),l.push(u),l.push(">")),this.open=!1,this.leaf=!1}leafNode(u,l,d){this.openNode(u,l),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let u=this._rollbacks.pop();this._xml.length>u.xml&&this._xml.splice(u.xml,this._xml.length-u.xml),this._stack.length>u.stack&&this._stack.splice(u.stack,this._stack.length-u.stack),this.leaf=u.leaf,this.open=u.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},e.exports=a},{"./under-dash":26,"./utils":27}],29:[function(t,e,n){(function(r){(function(){"use strict";let i=t("events"),o=t("jszip"),s=t("./stream-buf"),{stringToBuffer:a}=t("./browser-buffer-encode");class c extends i.EventEmitter{constructor(l){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},l),this.zip=new o,this.stream=new s}append(l,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,l,{base64:!0}):(r.browser&&typeof l=="string"&&(l=a(l)),this.zip.file(d.name,l))}async finalize(){let l=await this.zip.generateAsync(this.options);this.stream.end(l),this.emit("finish")}read(l){return this.stream.read(l)}setEncoding(l){return this.stream.setEncoding(l)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(l,d){return this.stream.pipe(l,d)}unpipe(l){return this.stream.unpipe(l)}unshift(l){return this.stream.unshift(l)}wrap(l){return this.stream.wrap(l)}}e.exports={ZipWriter:c}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,e,n){"use strict";e.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,e,n){"use strict";e.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,e,n){"use strict";let r=t("../../utils/parse-sax"),i=t("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof o?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(let c of a)for(let{eventType:u,value:l}of c)if(u==="opentag")this.parseOpen(l);else if(u==="text")this.parseText(l);else if(u==="closetag"&&!this.parseClose(l.name))return this.model;return this.model}async parseStream(a){return this.parse(r(a))}get xml(){return this.toXml(this.model)}toXml(a){let c=new i;return this.render(c,a),c.xml}static toAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(u)return c}else if(u||a!==c)return a.toString()}static toStringAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,c,u)}static toStringValue(a,c){return a===void 0?c:a}static toBoolAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(u)return c}else if(u||a!==c)return a?"1":"0"}static toBoolValue(a,c){return a===void 0?c:a==="1"}static toIntAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,c,u)}static toIntValue(a,c){return a===void 0?c:parseInt(a,10)}static toFloatAttribute(a,c){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,c,u)}static toFloatValue(a,c){return a===void 0?c:parseFloat(a)}}e.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/col-cache");function o(a){try{return i.decodeEx(a),!0}catch{return!1}}function s(a){let c=[],u=!1,l="";return a.split(",").forEach(d=>{if(!d)return;let f=(d.match(/'/g)||[]).length;if(!f)return void(u?l+=d+",":o(d)&&c.push(d));let p=f%2==0;!u&&p&&o(d)?c.push(d):u&&!p?(u=!1,o(l+d)&&c.push(l+d),l=""):(u=!0,l+=d+",")}),c}e.exports=class extends r{render(a,c){a.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),a.writeText(c.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform");e.exports=class extends i{render(o,s){o.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:r.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,o){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,o){i.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,o){let s={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(s.visibility=o.visibility),i.leafNode("workbookView",s)}parseOpen(i){if(i.name==="workbookView"){let o=this.model={},s=function(c,u,l){let d=u!==void 0?o[c]=u:l;d!==void 0&&(o[c]=d)},a=function(c,u,l){let d=u!==void 0?o[c]=parseInt(u,10):l;d!==void 0&&(o[c]=d)};return a("x",i.attributes.xWindow,0),a("y",i.attributes.yWindow,0),a("width",i.attributes.windowWidth,25e3),a("height",i.attributes.windowHeight,1e4),s("visibility",i.attributes.visibility,"visible"),a("activeTab",i.attributes.activeTab,void 0),a("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),s=t("../base-xform"),a=t("../static-xform"),c=t("../list-xform"),u=t("./defined-name-xform"),l=t("./sheet-xform"),d=t("./workbook-view-xform"),f=t("./workbook-properties-xform"),p=t("./workbook-calc-properties-xform");class h extends s{constructor(){super(),this.map={fileVersion:h.STATIC_XFORMS.fileVersion,workbookPr:new f,bookViews:new c({tag:"bookViews",count:!1,childXform:new d}),sheets:new c({tag:"sheets",count:!1,childXform:new l}),definedNames:new c({tag:"definedNames",count:!1,childXform:new u}),calcPr:new p}}prepare(m){m.sheets=m.worksheets;let _=[],x=0;m.sheets.forEach(D=>{if(D.pageSetup&&D.pageSetup.printArea&&D.pageSetup.printArea.split("&&").forEach(L=>{let $=L.split(":"),V={name:"_xlnm.Print_Area",ranges:[`'${D.name}'!$${$[0]}:$${$[1]}`],localSheetId:x};_.push(V)}),D.pageSetup&&(D.pageSetup.printTitlesRow||D.pageSetup.printTitlesColumn)){let L=[];if(D.pageSetup.printTitlesColumn){let V=D.pageSetup.printTitlesColumn.split(":");L.push(`'${D.name}'!$${V[0]}:$${V[1]}`)}if(D.pageSetup.printTitlesRow){let V=D.pageSetup.printTitlesRow.split(":");L.push(`'${D.name}'!$${V[0]}:$${V[1]}`)}let $={name:"_xlnm.Print_Titles",ranges:L,localSheetId:x};_.push($)}x++}),_.length&&(m.definedNames=m.definedNames.concat(_)),(m.media||[]).forEach((D,L)=>{D.name=D.type+(L+1)})}render(m,_){m.openXml(o.StdDocAttributes),m.openNode("workbook",h.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,_.properties),this.map.bookViews.render(m,_.views),this.map.sheets.render(m,_.sheets),this.map.definedNames.render(m,_.definedNames),this.map.calcPr.render(m,_.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){let _=(m.workbookRels||[]).reduce((V,R)=>(V[R.Id]=R,V),{}),x=[],D,L=0;(m.sheets||[]).forEach(V=>{let R=_[V.rId];R&&(D=m.worksheetHash["xl/"+R.Target.replace(/^(\s|\/xl\/)+/,"")],D&&(D.name=V.name,D.id=V.id,D.state=V.state,x[L++]=D))});let $=[];r.each(m.definedNames,V=>{if(V.name==="_xlnm.Print_Area"){if(D=x[V.localSheetId],D){D.pageSetup||(D.pageSetup={});let R=i.decodeEx(V.ranges[0]);D.pageSetup.printArea=D.pageSetup.printArea?`${D.pageSetup.printArea}&&${R.dimensions}`:R.dimensions}}else if(V.name==="_xlnm.Print_Titles"){if(D=x[V.localSheetId],D){D.pageSetup||(D.pageSetup={});let R=V.ranges.join(","),N=/\$/g,j=/\$\d+:\$\d+/,O=R.match(j);if(O&&O.length){let A=O[0];D.pageSetup.printTitlesRow=A.replace(N,"")}let E=/\$[A-Z]+:\$[A-Z]+/,I=R.match(E);if(I&&I.length){let A=I[0];D.pageSetup.printTitlesColumn=A.replace(N,"")}}}else $.push(V)}),m.definedNames=$,m.media.forEach((V,R)=>{V.index=R})}}h.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},h.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},e.exports=h},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,e,n){"use strict";let r=t("../strings/rich-text-xform"),i=t("../../../utils/utils"),o=t("../base-xform"),s=e.exports=function(a){this.model=a};i.inherits(s,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new r),this._richTextXform},render(a,c){c=c||this.model,a.openNode("comment",{ref:c.ref,authorId:0}),a.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(u=>{this.richTextXform.render(a,u)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=ye({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../../../utils/utils"),o=t("../base-xform"),s=t("./comment-xform"),a=e.exports=function(){this.map={comment:new s}};i.inherits(a,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,u){u=u||this.model,c.openXml(r.StdDocAttributes),c.openNode("comments",a.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),u.comments.forEach(l=>{this.map.comment.render(c,l)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,o,s){(o===s[2]||this.tag==="x:SizeWithCells"&&o===s[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"x:Anchor"}getAnchorRect(i){let o=Math.floor(i.left),s=Math.floor(68*(i.left-o)),a=Math.floor(i.top),c=Math.floor(18*(i.top-a)),u=Math.floor(i.right),l=Math.floor(68*(i.right-u)),d=Math.floor(i.bottom);return[o,s,a,c,u,l,d,Math.floor(18*(i.bottom-d))]}getDefaultRect(i){let o=i.col,s=Math.max(i.row-2,0);return[o,6,s,14,o+2,2,s+4,16]}render(i,o){let s=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);i.leafNode("x:Anchor",null,s.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./vml-anchor-xform"),o=t("./style/vml-protection-xform"),s=t("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];e.exports=class extends r{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,u){let{protection:l,editAs:d}=u.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,d,a),this.map["x:SizeWithCells"].render(c,d,a),this.map["x:Anchor"].render(c,u),this.map["x:Locked"].render(c,l.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,l.lockText),c.leafNode("x:Row",null,u.refAddress.row-1),c.leafNode("x:Column",null,u.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),u=Object.keys(c).length;this.model.editAs=a[u],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("./vml-shape-xform");class s extends i{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(c,u){c.openXml(r.StdDocAttributes),c.openNode(this.tag,s.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),u.comments.forEach((l,d)=>{this.map["v:shape"].render(c,l,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,u){c.anchors.forEach(l=>{l.br?this.map["xdr:twoCellAnchor"].reconcile(l,u):this.map["xdr:oneCellAnchor"].reconcile(l,u)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./vml-textbox-xform"),o=t("./vml-client-data-xform");class s extends r{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new o}}get tag(){return"v:shape"}render(c,u,l){c.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(u,l)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,u),this.map["x:ClientData"].render(c,u),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(a,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),e.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"v:textbox"}conversionUnit(i,o,s){return`${parseFloat(i)*o.toFixed(2)}${s}`}reverseConversionUnit(i){return(i||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(i,o){let s={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:a}=o.note&&o.note.margins;Array.isArray(a)&&(a=a.map(c=>this.conversionUnit(c,10,"mm")).join(",")),a&&(s.inset=a)}i.openNode("v:textbox",s),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,e,n){"use strict";let r=t("./base-xform");e.exports=class extends r{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,o){this.model[i]=o.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,o){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,o.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,o){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(s=>{i.leafNode("vt:lpstr",void 0,s.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("../simple/string-xform"),s=t("./app-heading-pairs-xform"),a=t("./app-titles-of-parts-xform");class c extends i{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new a}}render(l,d){l.openXml(r.StdDocAttributes),l.openNode("Properties",c.PROPERTY_ATTRIBUTES),l.leafNode("Application",void 0,"Microsoft Excel"),l.leafNode("DocSecurity",void 0,"0"),l.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(l,d.worksheets),this.map.TitleOfParts.render(l,d.worksheets),this.map.Company.render(l,d.company||""),this.map.Manager.render(l,d.manager),l.leafNode("LinksUpToDate",void 0,"false"),l.leafNode("SharedDoc",void 0,"false"),l.leafNode("HyperlinksChanged",void 0,"false"),l.leafNode("AppVersion",void 0,"16.0300"),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Properties":return!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(u){return u.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},e.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform");class o extends i{render(a,c){a.openXml(r.StdDocAttributes),a.openNode("Types",o.PROPERTY_ATTRIBUTES);let u={};(c.media||[]).forEach(l=>{if(l.type==="image"){let d=l.extension;u[d]||(u[d]=!0,a.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(l=>{let d=`/xl/worksheets/sheet${l.id}.xml`;a.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(l=>{a.leafNode("Override",{PartName:"/xl/tables/"+l.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(l=>{a.leafNode("Override",{PartName:`/xl/drawings/${l.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(l=>{let{commentName:d}=l;a.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},e.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("../simple/date-xform"),s=t("../simple/string-xform"),a=t("../simple/integer-xform");class c extends i{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(l,d){l.openXml(r.StdDocAttributes),l.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(l,d.creator),this.map["dc:title"].render(l,d.title),this.map["dc:subject"].render(l,d.subject),this.map["dc:description"].render(l,d.description),this.map["dc:identifier"].render(l,d.identifier),this.map["dc:language"].render(l,d.language),this.map["cp:keywords"].render(l,d.keywords),this.map["cp:category"].render(l,d.category),this.map["cp:lastModifiedBy"].render(l,d.lastModifiedBy),this.map["cp:lastPrinted"].render(l,d.lastPrinted),this.map["cp:revision"].render(l,d.revision),this.map["cp:version"].render(l,d.version),this.map["cp:contentStatus"].render(l,d.contentStatus),this.map["cp:contentType"].render(l,d.contentType),this.map["dcterms:created"].render(l,d.created),this.map["dcterms:modified"].render(l,d.modified),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}c.DateFormat=function(u){return u.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},e.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,o){i.leafNode("Relationship",o)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("./relationship-xform");class s extends i{constructor(){super(),this.map={Relationship:new o}}render(c,u){u=u||this._values,c.openXml(r.StdDocAttributes),c.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),u.forEach(l=>{this.map.Relationship.render(c,l)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,o){if(i&&i.rId){let s=o.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){let a=s[1],c=o.mediaIndex[a];return o.media[c]}}}}},{"../base-xform":32}],57:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./blip-xform");e.exports=class extends r{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(o,s){o.openNode(this.tag),this.map["a:blip"].render(o,s),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:blip"}render(i,o){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./hlink-click-xform"),o=t("./ext-lst-xform");e.exports=class extends r{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(s,a){s.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(s,a),this.map["a:extLst"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../simple/integer-xform");e.exports=class extends r{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(o,s){o.openNode(this.tag),this.map["xdr:col"].render(o,s.nativeCol),this.map["xdr:colOff"].render(o,s.nativeColOff),this.map["xdr:row"].render(o,s.nativeRow),this.map["xdr:rowOff"].render(o,s.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../../../utils/xml-stream"),o=t("../base-xform"),s=t("./two-cell-anchor-xform"),a=t("./one-cell-anchor-xform");class c extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new a}}prepare(l){l.anchors.forEach((d,f)=>{d.anchorType=(function(p){return(typeof p.range=="string"?r.decode(p.range):p.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:f})})}get tag(){return"xdr:wsDr"}render(l,d){l.openXml(i.StdDocAttributes),l.openNode(this.tag,c.DRAWING_ATTRIBUTES),d.anchors.forEach(f=>{this.map[f.anchorType].render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,d){l.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},e.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,o){i.openNode(this.tag);let s=Math.floor(9525*o.width),a=Math.floor(9525*o.height);i.addAttribute("cx",s),i.addAttribute("cy",a),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:hlinkClick"}render(i,o){o.hyperlinks&&o.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./c-nv-pr-xform"),o=t("./c-nv-pic-pr-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(s,a){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,a),this.map["xdr:cNvPicPr"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,e,n){"use strict";let r=t("./base-cell-anchor-xform"),i=t("../static-xform"),o=t("./cell-position-xform"),s=t("./ext-xform"),a=t("./pic-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:ext"].render(c,u.range.ext),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../static-xform"),o=t("./blip-fill-xform"),s=t("./nv-pic-pr-xform"),a=t("./sp-pr");e.exports=class extends r{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new o,"xdr:spPr":new i(a)}}get tag(){return"xdr:pic"}prepare(c,u){c.index=u.index+1}render(c,u){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,u),this.map["xdr:blipFill"].render(c,u),this.map["xdr:spPr"].render(c,u),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,e,n){"use strict";e.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,e,n){"use strict";let r=t("./base-cell-anchor-xform"),i=t("../static-xform"),o=t("./cell-position-xform"),s=t("./pic-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,c){this.map["xdr:pic"].prepare(a.picture,c)}render(a,c){a.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,c.range.tl),this.map["xdr:to"].render(a,c.range.br),this.map["xdr:pic"].render(a,c.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,c){a.medium=this.reconcilePicture(a.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,e,n){"use strict";let r=t("./base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,o){let{childXform:s}=this;i&&i.forEach((a,c)=>{o.index=c,s.prepare(a,o)})}render(i,o){if(this.always||o&&o.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,o&&o.length||0);let{childXform:s}=this;(o||[]).forEach((a,c)=>{s.render(i,a,c)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,o){if(i){let{childXform:s}=this;i.forEach(a=>{s.reconcile(a,o)})}}}},{"./base-xform":32}],72:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../base-xform");e.exports=class extends i{get tag(){return"autoFilter"}render(o,s){if(s)if(typeof s=="string")o.leafNode("autoFilter",{ref:s});else{let a=function(l){return typeof l=="string"?l:r.getAddress(l.row,l.column).address},c=a(s.from),u=a(s.to);c&&u&&o.leafNode("autoFilter",{ref:`${c}:${u}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform"),o=t("../../../doc/range"),s=t("../../../doc/enums"),a=t("../strings/rich-text-xform");function c(u){if(u==null)return s.ValueType.Null;if(u instanceof String||typeof u=="string")return s.ValueType.String;if(typeof u=="number")return s.ValueType.Number;if(typeof u=="boolean")return s.ValueType.Boolean;if(u instanceof Date)return s.ValueType.Date;if(u.text&&u.hyperlink)return s.ValueType.Hyperlink;if(u.formula)return s.ValueType.Formula;if(u.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}e.exports=class extends i{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(u,l){let d=l.styles.addStyleModel(u.style||{},(function(f){switch(f.type){case s.ValueType.Formula:return c(f.result);default:return f.type}})(u));switch(d&&(u.styleId=d),u.comment&&l.comments.push(Ne(ye({},u.comment),{ref:u.address})),u.type){case s.ValueType.String:case s.ValueType.RichText:l.sharedStrings&&(u.ssId=l.sharedStrings.add(u.value));break;case s.ValueType.Date:l.date1904&&(u.date1904=!0);break;case s.ValueType.Hyperlink:l.sharedStrings&&u.text!==void 0&&u.text!==null&&(u.ssId=l.sharedStrings.add(u.text)),l.hyperlinks.push({address:u.address,target:u.hyperlink,tooltip:u.tooltip});break;case s.ValueType.Merge:l.merges.add(u);break;case s.ValueType.Formula:if(l.date1904&&(u.date1904=!0),u.shareType==="shared"&&(u.si=l.siFormulae++),u.formula)l.formulae[u.address]=u;else if(u.sharedFormula){let f=l.formulae[u.sharedFormula];if(!f)throw new Error("Shared Formula master must exist above and or left of clone for cell "+u.address);f.si===void 0?(f.shareType="shared",f.si=l.siFormulae++,f.range=new o(f.address,u.address)):f.range&&f.range.expandToAddress(u.address),u.si=f.si}}}renderFormula(u,l){let d=null;switch(l.shareType){case"shared":d={t:"shared",ref:l.ref||l.range.range,si:l.si};break;case"array":d={t:"array",ref:l.ref};break;default:l.si!==void 0&&(d={t:"shared",si:l.si})}switch(c(l.result)){case s.ValueType.Null:u.leafNode("f",d,l.formula);break;case s.ValueType.String:u.addAttribute("t","str"),u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result);break;case s.ValueType.Number:u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result);break;case s.ValueType.Boolean:u.addAttribute("t","b"),u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result?1:0);break;case s.ValueType.Error:u.addAttribute("t","e"),u.leafNode("f",d,l.formula),u.leafNode("v",null,l.result.error);break;case s.ValueType.Date:u.leafNode("f",d,l.formula),u.leafNode("v",null,r.dateToExcel(l.result,l.date1904));break;default:throw new Error("I could not understand type of value")}}render(u,l){if(l.type!==s.ValueType.Null||l.styleId){switch(u.openNode("c"),u.addAttribute("r",l.address),l.styleId&&u.addAttribute("s",l.styleId),l.type){case s.ValueType.Null:break;case s.ValueType.Number:u.leafNode("v",null,l.value);break;case s.ValueType.Boolean:u.addAttribute("t","b"),u.leafNode("v",null,l.value?"1":"0");break;case s.ValueType.Error:u.addAttribute("t","e"),u.leafNode("v",null,l.value.error);break;case s.ValueType.String:case s.ValueType.RichText:l.ssId!==void 0?(u.addAttribute("t","s"),u.leafNode("v",null,l.ssId)):l.value&&l.value.richText?(u.addAttribute("t","inlineStr"),u.openNode("is"),l.value.richText.forEach(d=>{this.richTextXForm.render(u,d)}),u.closeNode("is")):(u.addAttribute("t","str"),u.leafNode("v",null,l.value));break;case s.ValueType.Date:u.leafNode("v",null,r.dateToExcel(l.value,l.date1904));break;case s.ValueType.Hyperlink:l.ssId!==void 0?(u.addAttribute("t","s"),u.leafNode("v",null,l.ssId)):(u.addAttribute("t","str"),u.leafNode("v",null,l.text));break;case s.ValueType.Formula:this.renderFormula(u,l);break;case s.ValueType.Merge:}u.closeNode()}}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"c":return this.model={address:u.attributes.r},this.t=u.attributes.t,u.attributes.s&&(this.model.styleId=parseInt(u.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=u.attributes.si,this.model.shareType=u.attributes.t,this.model.ref=u.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){if(this.parser)this.parser.parseText(u);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+u:u;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+u:u:this.model.value=this.model.value?this.model.value+u:u}}parseClose(u){switch(u){case"c":{let{model:l}=this;if(l.formula||l.shareType)l.type=s.ValueType.Formula,l.value&&(this.t==="str"?l.result=r.xmlDecode(l.value):this.t==="b"?l.result=parseInt(l.value,10)!==0:this.t==="e"?l.result={error:l.value}:l.result=parseFloat(l.value),l.value=void 0);else if(l.value!==void 0)switch(this.t){case"s":l.type=s.ValueType.String,l.value=parseInt(l.value,10);break;case"str":l.type=s.ValueType.String,l.value=r.xmlDecode(l.value);break;case"inlineStr":l.type=s.ValueType.String;break;case"b":l.type=s.ValueType.Boolean,l.value=parseInt(l.value,10)!==0;break;case"e":l.type=s.ValueType.Error,l.value={error:l.value};break;default:l.type=s.ValueType.Number,l.value=parseFloat(l.value)}else l.styleId?l.type=s.ValueType.Null:l.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(u),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(u),!0)}}reconcile(u,l){let d=u.styleId&&l.styles&&l.styles.getStyleModel(u.styleId);switch(d&&(u.style=d),u.styleId!==void 0&&(u.styleId=void 0),u.type){case s.ValueType.String:typeof u.value=="number"&&l.sharedStrings&&(u.value=l.sharedStrings.getString(u.value)),u.value.richText&&(u.type=s.ValueType.RichText);break;case s.ValueType.Number:d&&r.isDateFmt(d.numFmt)&&(u.type=s.ValueType.Date,u.value=r.excelToDate(u.value,l.date1904));break;case s.ValueType.Formula:u.result!==void 0&&d&&r.isDateFmt(d.numFmt)&&(u.result=r.excelToDate(u.result,l.date1904)),u.shareType==="shared"&&(u.ref?l.formulae[u.si]=u.address:(u.sharedFormula=l.formulae[u.si],delete u.shareType),delete u.si)}let f=l.hyperlinkMap[u.address];f&&(u.type===s.ValueType.Formula?(u.text=u.result,u.result=void 0):(u.text=u.value,u.value=void 0),u.type=s.ValueType.Hyperlink,u.hyperlink=f);let p=l.commentsMap&&l.commentsMap[u.address];p&&(u.comment=p)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"x14:cfIcon"}render(i,o){i.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(i){let{attributes:o}=i;this.model={iconSet:o.iconSet,iconId:r.toIntValue(o.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(t,e,n){"use strict";let{v4:r}=t("uuid"),i=t("../../base-xform"),o=t("../../composite-xform"),s=t("./databar-ext-xform"),a=t("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class u extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?s.isExt(d):!(d.type!=="iconSet"||!d.custom&&!c[d.iconSet])}prepare(d){u.isExt(d)&&(d.x14Id=`{${r()}}`.toUpperCase())}render(d,f){if(u.isExt(f))switch(f.type){case"dataBar":this.renderDataBar(d,f);break;case"iconSet":this.renderIconSet(d,f)}}renderDataBar(d,f){d.openNode(this.tag,{type:"dataBar",id:f.x14Id}),this.databarXform.render(d,f),d.closeNode()}renderIconSet(d,f){d.openNode(this.tag,{type:"iconSet",priority:f.priority,id:f.x14Id||`{${r()}}`}),this.iconSetXform.render(d,f),d.closeNode()}createNewModel(d){let{attributes:f}=d;return{type:f.type,x14Id:f.id,priority:i.toIntValue(f.priority)}}onParserClose(d,f){Object.assign(this.model,f.model)}}e.exports=u},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./f-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(o,s){o.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(o,s.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,s){switch(o){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./sqref-ext-xform"),o=t("./cf-rule-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(s,a){s.rules.forEach(c=>{this.cfRule.prepare(c,a)})}render(s,a){a.rules.some(o.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(o.isExt).forEach(c=>this.cfRule.render(s,c)),this.sqRef.render(s,a.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,a){switch(s){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./cf-rule-ext-xform"),o=t("./conditional-formatting-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(a=>a.rules.some(i.isExt))),s.hasExtContent}prepare(s,a){s.forEach(c=>{this.cfXform.prepare(c,a)})}render(s,a){this.hasContent(a)&&(s.openNode(this.tag),a.forEach(c=>this.cfXform.render(s,c)),s.closeNode())}createNewModel(){return[]}onParserClose(s,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),o=t("../../style/color-xform"),s=t("./cfvo-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,c){a.openNode(this.tag,{minLength:r.toIntAttribute(c.minLength,0,!0),maxLength:r.toIntAttribute(c.maxLength,100,!0),border:r.toBoolAttribute(c.border,!1),gradient:r.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:r.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toAttribute(c.axisPosition,"auto"),direction:r.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),this.borderColorXform.render(a,c.borderColor),this.negativeBorderColorXform.render(a,c.negativeBorderColor),this.negativeFillColorXform.render(a,c.negativeFillColor),this.axisColorXform.render(a,c.axisColor),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],minLength:r.toIntValue(c.minLength,0),maxLength:r.toIntValue(c.maxLength,100),border:r.toBoolValue(c.border,!1),gradient:r.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:r.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toStringValue(c.axisPosition,"auto"),direction:r.toStringValue(c.direction,"leftToRight")}}onParserClose(a,c){let[,u]=a.split(":");switch(u){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[u]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"xm:f"}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),o=t("./cfvo-ext-xform"),s=t("./cf-icon-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(a,c){a.openNode(this.tag,{iconSet:r.toStringAttribute(c.iconSet),reverse:r.toBoolAttribute(c.reverse,!1),showValue:r.toBoolAttribute(c.showValue,!0),custom:r.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),c.icons&&c.icons.forEach((u,l)=>{u.iconId=l,this.cfIconXform.render(a,u)}),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],iconSet:r.toStringValue(c.iconSet,"3TrafficLights"),reverse:r.toBoolValue(c.reverse,!1),showValue:r.toBoolValue(c.showValue,!0)}}onParserClose(a,c){let[,u]=a.split(":");switch(u){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[u]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"xm:sqref"}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),o=t("../../../../doc/range"),s=t("./databar-xform"),a=t("./ext-lst-ref-xform"),c=t("./formula-xform"),u=t("./color-scale-xform"),l=t("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},f=h=>{let{type:y,operator:m}=h;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:m}}};class p extends i{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new u,iconSet:this.iconSetXform=new l}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!d[y.iconSet]}render(y,m){switch(m.type){case"expression":this.renderExpression(y,m);break;case"cellIs":this.renderCellIs(y,m);break;case"top10":this.renderTop10(y,m);break;case"aboveAverage":this.renderAboveAverage(y,m);break;case"dataBar":this.renderDataBar(y,m);break;case"colorScale":this.renderColorScale(y,m);break;case"iconSet":this.renderIconSet(y,m);break;case"containsText":this.renderText(y,m);break;case"timePeriod":this.renderTimePeriod(y,m)}}renderExpression(y,m){y.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(y,m.formulae[0]),y.closeNode()}renderCellIs(y,m){y.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(_=>{this.formulaXform.render(y,_)}),y.closeNode()}renderTop10(y,m){y.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:r.toBoolAttribute(m.percent,!1),bottom:r.toBoolAttribute(m.bottom,!1),rank:r.toIntValue(m.rank,10,!0)})}renderAboveAverage(y,m){y.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:r.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(y,m){y.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(y,m),this.extLstRefXform.render(y,m),y.closeNode()}renderColorScale(y,m){y.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(y,m),y.closeNode()}renderIconSet(y,m){p.isPrimitive(m)&&(y.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(y,m),y.closeNode())}renderText(y,m){y.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:r.toStringAttribute(m.operator,"containsText")});let _=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let D=new o(x.ref),{tl:L}=D;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${L})))`;case"containsBlanks":return`LEN(TRIM(${L}))=0`;case"notContainsBlanks":return`LEN(TRIM(${L}))>0`;case"containsErrors":return`ISERROR(${L})`;case"notContainsErrors":return`NOT(ISERROR(${L}))`;default:return}})(m);_&&this.formulaXform.render(y,_),y.closeNode()}renderTimePeriod(y,m){y.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});let _=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let D=new o(x.ref),{tl:L}=D;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${L},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${L},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${L},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${L},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${L},1)=TODAY()-1`;case"today":return`FLOOR(${L},1)=TODAY()`;case"tomorrow":return`FLOOR(${L},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${L},1)<=6,FLOOR(${L},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0-1)),YEAR(${L})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${L})=MONTH(TODAY()),YEAR(${L})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0+1)),YEAR(${L})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);_&&this.formulaXform.render(y,_),y.closeNode()}createNewModel(y){let{attributes:m}=y;return Ne(ye({},f(m)),{dxfId:r.toIntValue(m.dxfId),priority:r.toIntValue(m.priority),timePeriod:m.timePeriod,percent:r.toBoolValue(m.percent),bottom:r.toBoolValue(m.bottom),rank:r.toIntValue(m.rank),aboveAverage:r.toBoolValue(m.aboveAverage)})}onParserClose(y,m){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}e.exports=p},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"cfvo"}render(i,o){i.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(i){this.model={type:i.attributes.type,value:r.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("../../style/color-xform"),o=t("./cfvo-xform");e.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new i}}get tag(){return"colorScale"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(s,c)}),a.color.forEach(c=>{this.colorXform.render(s,c)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./cf-rule-xform");e.exports=class extends r{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(o,s){s.rules.some(i.isPrimitive)&&(o.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(a=>{i.isPrimitive(a)&&(a.ref=s.ref,this.map.cfRule.render(o,a))}),o.closeNode())}createNewModel(o){let{attributes:s}=o;return{ref:s.sqref,rules:[]}}onParserClose(o,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("./conditional-formatting-xform");e.exports=class extends r{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,s){let a=o.reduce((c,u)=>Math.max(c,...u.rules.map(l=>l.priority||0)),1);o.forEach(c=>{c.rules.forEach(u=>{u.priority||(u.priority=a++),u.style&&(u.dxfId=s.styles.addDxfStyle(u.style))})})}render(o,s){s.forEach(a=>{this.cfXform.render(o,a)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,s){o.forEach(a=>{a.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=s.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("../../style/color-xform"),o=t("./cfvo-xform");e.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new i}}get tag(){return"dataBar"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(s,c)}),this.colorXform.render(s,a.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,a){switch(s){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform");class o extends r{get tag(){return"x14:id"}render(c,u){c.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class s extends i{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(c,u){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,u.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model.x14Id=u.model}}e.exports=class extends i{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(a,c){a.openNode(this.tag),this.map.ext.render(a,c),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"formula"}render(i,o){i.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),o=t("./cfvo-xform");e.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(s,a){s.openNode(this.tag,{iconSet:r.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:r.toBoolAttribute(a.reverse,!1),showValue:r.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(c=>{this.cfvoXform.render(s,c)}),s.closeNode()}createNewModel(s){let{attributes:a}=s;return{iconSet:r.toStringValue(a.iconSet,"3TrafficLights"),reverse:r.toBoolValue(a.reverse),showValue:r.toBoolValue(a.showValue),cfvo:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform");e.exports=class extends i{get tag(){return"col"}prepare(o,s){let a=s.styles.addStyleModel(o.style||{});a&&(o.styleId=a)}render(o,s){o.openNode("col"),o.addAttribute("min",s.min),o.addAttribute("max",s.max),s.width&&o.addAttribute("width",s.width),s.styleId&&o.addAttribute("style",s.styleId),s.hidden&&o.addAttribute("hidden","1"),s.bestFit&&o.addAttribute("bestFit","1"),s.outlineLevel&&o.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){let s=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(s.styleId=parseInt(o.attributes.style,10)),r.parseBoolean(o.attributes.hidden)&&(s.hidden=!0),r.parseBoolean(o.attributes.bestFit)&&(s.bestFit=!0),o.attributes.outlineLevel&&(s.outlineLevel=parseInt(o.attributes.outlineLevel,10)),r.parseBoolean(o.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,s){o.styleId&&(o.style=s.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/utils"),o=t("../../../utils/col-cache"),s=t("../base-xform"),a=t("../../../doc/range");function c(l,d,f,p){let h=d[f];h!==void 0?l[f]=h:p!==void 0&&(l[f]=p)}function u(l,d,f,p){let h=d[f];h!==void 0?l[f]=i.parseBoolean(h):p!==void 0&&(l[f]=p)}e.exports=class extends s{get tag(){return"dataValidations"}render(l,d){let f=(function(p){let h=r.map(p,(_,x)=>({address:x,dataValidation:_,marked:!1})).sort((_,x)=>r.strcmp(_.address,x.address)),y=r.keyBy(h,"address"),m=(_,x,D)=>{for(let L=0;L<x;L++){let $=o.encodeAddress(_.row+L,D);if(!p[$]||!r.isEqual(p[_.address],p[$]))return!1}return!0};return h.map(_=>{if(!_.marked){let x=o.decodeEx(_.address);if(x.dimensions)return y[x.dimensions].marked=!0,Ne(ye({},_.dataValidation),{sqref:_.address});let D=1,L=o.encodeAddress(x.row+D,x.col);for(;p[L]&&r.isEqual(_.dataValidation,p[L]);)D++,L=o.encodeAddress(x.row+D,x.col);let $=1;for(;m(x,D,x.col+$);)$++;for(let V=0;V<D;V++)for(let R=0;R<$;R++)L=o.encodeAddress(x.row+V,x.col+R),y[L].marked=!0;if(D>1||$>1){let V=x.row+(D-1),R=x.col+($-1);return Ne(ye({},_.dataValidation),{sqref:`${_.address}:${o.encodeAddress(V,R)}`})}return Ne(ye({},_.dataValidation),{sqref:_.address})}return null}).filter(Boolean)})(d);f.length&&(l.openNode("dataValidations",{count:f.length}),f.forEach(p=>{l.openNode("dataValidation"),p.type!=="any"&&(l.addAttribute("type",p.type),p.operator&&p.type!=="list"&&p.operator!=="between"&&l.addAttribute("operator",p.operator),p.allowBlank&&l.addAttribute("allowBlank","1")),p.showInputMessage&&l.addAttribute("showInputMessage","1"),p.promptTitle&&l.addAttribute("promptTitle",p.promptTitle),p.prompt&&l.addAttribute("prompt",p.prompt),p.showErrorMessage&&l.addAttribute("showErrorMessage","1"),p.errorStyle&&l.addAttribute("errorStyle",p.errorStyle),p.errorTitle&&l.addAttribute("errorTitle",p.errorTitle),p.error&&l.addAttribute("error",p.error),l.addAttribute("sqref",p.sqref),(p.formulae||[]).forEach((h,y)=>{l.openNode("formula"+(y+1)),p.type==="date"?l.writeText(i.dateToExcel(new Date(h))):l.writeText(h),l.closeNode()}),l.closeNode()}),l.closeNode())}parseOpen(l){switch(l.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=l.attributes.sqref;let d={type:l.attributes.type||"any",formulae:[]};switch(l.attributes.type&&u(d,l.attributes,"allowBlank"),u(d,l.attributes,"showInputMessage"),u(d,l.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:c(d,l.attributes,"operator","between")}return c(d,l.attributes,"promptTitle"),c(d,l.attributes,"prompt"),c(d,l.attributes,"errorStyle"),c(d,l.attributes,"errorTitle"),c(d,l.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(l){this._formula&&this._formula.push(l)}parseClose(l){switch(l){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new a(d).forEachAddress(f=>{this.model[f]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=i.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"dimension"}render(i,o){o&&i.leafNode("dimension",{ref:o})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"drawing"}render(i,o){o&&i.leafNode(this.tag,{"r:id":o.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,e,n){"use strict";let r=t("../composite-xform"),i=t("./cf-ext/conditional-formattings-ext-xform");class o extends r{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,c){this.conditionalFormattings.prepare(a.conditionalFormattings,c)}render(a,c){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,c.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){this.model[a]=c.model}}e.exports=class extends r{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(s,a){this.ext.prepare(s,a)}hasContent(s){return this.ext.hasContent(s)}render(s,a){this.hasContent(a)&&(s.openNode("extLst"),this.ext.render(s,a),s.closeNode())}createNewModel(){return{}}onParserClose(s,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"headerFooter"}render(i,o){if(o){i.addRollback();let s=!1;i.openNode("headerFooter"),o.differentFirst&&(i.addAttribute("differentFirst","1"),s=!0),o.differentOddEven&&(i.addAttribute("differentOddEven","1"),s=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(i.leafNode("oddHeader",null,o.oddHeader),s=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(i.leafNode("oddFooter",null,o.oddFooter),s=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(i.leafNode("evenHeader",null,o.evenHeader),s=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(i.leafNode("evenFooter",null,o.evenFooter),s=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(i.leafNode("firstHeader",null,o.firstHeader),s=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(i.leafNode("firstFooter",null,o.firstFooter),s=!0),s?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"hyperlink"}render(i,o){this.isInternalLink(o)?i.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):i.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"mergeCell"}render(i,o){i.leafNode("mergeCell",{ref:o})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../doc/range"),o=t("../../../utils/col-cache"),s=t("../../../doc/enums");e.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let c=`${a.master}:${a.address}`;this.merges[a.master]=new i(c)}}get mergeCells(){return r.map(this.merges,a=>a.range)}reconcile(a,c){r.each(a,u=>{let l=o.decode(u);for(let d=l.top;d<=l.bottom;d++){let f=c[d-1];for(let p=l.left;p<=l.right;p++){let h=f.cells[p-1];h?h.type===s.ValueType.Merge&&(h.master=l.tl):f.cells[p]={type:s.ValueType.Null,address:o.encodeAddress(d,p)}}}})}getMasterAddress(a){let c=this.hash[a];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,e,n){"use strict";let r=t("../base-xform"),i=o=>o!==void 0;e.exports=class extends r{get tag(){return"outlinePr"}render(o,s){return!(!s||!i(s.summaryBelow)&&!i(s.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:i(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:i(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:i(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:i(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"brk"}render(i,o){i.leafNode("brk",o)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");e.exports=class extends i{get tag(){return"pageMargins"}render(o,s){if(s){let a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};r.some(a,c=>c!==void 0)&&o.leafNode(this.tag,a)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"pageSetUpPr"}render(i,o){return!(!o||!o.fitToPage)&&(i.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function o(u){return u?"1":void 0}function s(u){switch(u){case"overThenDown":return u;default:return}}function a(u){switch(u){case"atEnd":case"asDisplyed":return u;default:return}}function c(u){switch(u){case"dash":case"blank":case"NA":return u;default:return}}e.exports=class extends i{get tag(){return"pageSetup"}render(u,l){if(l){let d={paperSize:l.paperSize,orientation:l.orientation,horizontalDpi:l.horizontalDpi,verticalDpi:l.verticalDpi,pageOrder:s(l.pageOrder),blackAndWhite:o(l.blackAndWhite),draft:o(l.draft),cellComments:a(l.cellComments),errors:c(l.errors),scale:l.scale,fitToWidth:l.fitToWidth,fitToHeight:l.fitToHeight,firstPageNumber:l.firstPageNumber,useFirstPageNumber:o(l.firstPageNumber),usePrinterDefaults:o(l.usePrinterDefaults),copies:l.copies};r.some(d,f=>f!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={paperSize:(l=u.attributes.paperSize,l!==void 0?parseInt(l,10):void 0),orientation:u.attributes.orientation||"portrait",horizontalDpi:parseInt(u.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(u.attributes.verticalDpi||"4294967295",10),pageOrder:u.attributes.pageOrder||"downThenOver",blackAndWhite:u.attributes.blackAndWhite==="1",draft:u.attributes.draft==="1",cellComments:u.attributes.cellComments||"None",errors:u.attributes.errors||"displayed",scale:parseInt(u.attributes.scale||"100",10),fitToWidth:parseInt(u.attributes.fitToWidth||"1",10),fitToHeight:parseInt(u.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(u.attributes.firstPageNumber||"1",10),useFirstPageNumber:u.attributes.useFirstPageNumber==="1",usePrinterDefaults:u.attributes.usePrinterDefaults==="1",copies:parseInt(u.attributes.copies||"1",10)},!0;default:return!1}var l}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"picture"}render(i,o){o&&i.leafNode(this.tag,{"r:id":o.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function o(s){return s?"1":void 0}e.exports=class extends i{get tag(){return"printOptions"}render(s,a){if(a){let c={headings:o(a.showRowColHeaders),gridLines:o(a.showGridLines),horizontalCentered:o(a.horizontalCentered),verticalCentered:o(a.verticalCentered)};r.some(c,u=>u!==void 0)&&s.leafNode(this.tag,c)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,e,n){"use strict";let r=t("./page-breaks-xform"),i=t("../list-xform");e.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new r})}render(o,s){if(s&&s.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,s.length),o.addAttribute("manualBreakCount",s.length));let{childXform:a}=this;s.forEach(c=>{a.render(o,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/utils"),o=t("./cell-xform");e.exports=class extends r{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(s,a){let c=a.styles.addStyleModel(s.style);c&&(s.styleId=c);let u=this.map.c;s.cells.forEach(l=>{u.prepare(l,a)})}render(s,a,c){s.openNode("row"),s.addAttribute("r",a.number),a.height&&(s.addAttribute("ht",a.height),s.addAttribute("customHeight","1")),a.hidden&&s.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&s.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(s.addAttribute("s",a.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&s.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&s.addAttribute("collapsed","1");let u=this.map.c;a.cells.forEach(l=>{u.render(s,l,c)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;let a=s.attributes.spans?s.attributes.spans.split(":").map(u=>parseInt(u,10)):[void 0,void 0],c=this.model={number:parseInt(s.attributes.r,10),min:a[0],max:a[1],cells:[]};return s.attributes.s&&(c.styleId=parseInt(s.attributes.s,10)),i.parseBoolean(s.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(s.attributes.bestFit)&&(c.bestFit=!0),s.attributes.ht&&(c.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(c.outlineLevel=parseInt(s.attributes.outlineLevel,10)),i.parseBoolean(s.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,a){s.style=s.styleId?a.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);let c=this.map.c;s.cells.forEach(u=>{c.reconcile(u,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");e.exports=class extends i{get tag(){return"sheetFormatPr"}render(o,s){if(s){let a={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(a.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(a.customHeight="1"),r.some(a,c=>c!==void 0)&&o.leafNode("sheetFormatPr",a)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../style/color-xform"),o=t("./page-setup-properties-xform"),s=t("./outline-properties-xform");e.exports=class extends r{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new o,outlinePr:new s}}get tag(){return"sheetPr"}render(a,c){if(c){a.addRollback(),a.openNode("sheetPr");let u=!1;u=this.map.tabColor.render(a,c.tabColor)||u,u=this.map.pageSetUpPr.render(a,c.pageSetup)||u,u=this.map.outlinePr.render(a,c.outlineProperties)||u,u?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function o(a,c){return a?c:void 0}function s(a,c){return a===c||void 0}e.exports=class extends i{get tag(){return"sheetProtection"}render(a,c){if(c){let u={sheet:o(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:o(c.formatCells,"0"),formatColumns:o(c.formatColumns,"0"),formatRows:o(c.formatRows,"0"),insertColumns:o(c.insertColumns,"0"),insertRows:o(c.insertRows,"0"),insertHyperlinks:o(c.insertHyperlinks,"0"),deleteColumns:o(c.deleteColumns,"0"),deleteRows:o(c.deleteRows,"0"),sort:o(c.sort,"0"),autoFilter:o(c.autoFilter,"0"),pivotTables:o(c.pivotTables,"0")};c.sheet&&(u.algorithmName=c.algorithmName,u.hashValue=c.hashValue,u.saltValue=c.saltValue,u.spinCount=c.spinCount,u.objects=o(c.objects===!1,"1"),u.scenarios=o(c.scenarios===!1,"1")),r.some(u,l=>l!==void 0)&&a.leafNode(this.tag,u)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:s(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(a.attributes.formatCells,"0"),formatColumns:s(a.attributes.formatColumns,"0"),formatRows:s(a.attributes.formatRows,"0"),insertColumns:s(a.attributes.insertColumns,"0"),insertRows:s(a.attributes.insertRows,"0"),insertHyperlinks:s(a.attributes.insertHyperlinks,"0"),deleteColumns:s(a.attributes.deleteColumns,"0"),deleteRows:s(a.attributes.deleteRows,"0"),sort:s(a.attributes.sort,"0"),autoFilter:s(a.attributes.autoFilter,"0"),pivotTables:s(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};e.exports=class extends i{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,a){s.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let c=function(p,h,y){y&&s.addAttribute(p,h)},u,l,d,f;switch(c("rightToLeft","1",a.rightToLeft===!0),c("tabSelected","1",a.tabSelected),c("showRuler","0",a.showRuler===!1),c("showRowColHeaders","0",a.showRowColHeaders===!1),c("showGridLines","0",a.showGridLines===!1),c("zoomScale",a.zoomScale,a.zoomScale),c("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),c("view",a.style,a.style),a.state){case"frozen":l=a.xSplit||0,d=a.ySplit||0,u=a.topLeftCell||r.getAddress(d+1,l+1).address,f=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:u,activePane:f,state:"frozen"}),s.leafNode("selection",{pane:f,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),s.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&s.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{let a=s.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let a,c;switch(s){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tablePart"}render(i,o){o&&i.leafNode(this.tag,{"r:id":o.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),s=t("../../rel-type"),a=t("./merges"),c=t("../base-xform"),u=t("../list-xform"),l=t("./row-xform"),d=t("./col-xform"),f=t("./dimension-xform"),p=t("./hyperlink-xform"),h=t("./merge-cell-xform"),y=t("./data-validations-xform"),m=t("./sheet-properties-xform"),_=t("./sheet-format-properties-xform"),x=t("./sheet-view-xform"),D=t("./sheet-protection-xform"),L=t("./page-margins-xform"),$=t("./page-setup-xform"),V=t("./print-options-xform"),R=t("./auto-filter-xform"),N=t("./picture-xform"),j=t("./drawing-xform"),O=t("./table-part-xform"),E=t("./row-breaks-xform"),I=t("./header-footer-xform"),A=t("./cf/conditional-formattings-xform"),g=t("./ext-lst-xform"),v=(b,C)=>{if(!C||!C.length)return b;if(!b||!b.length)return C;let S={},F={};return b.forEach(q=>{S[q.ref]=q,q.rules.forEach(z=>{let{x14Id:Y}=z;Y&&(F[Y]=z)})}),C.forEach(q=>{q.rules.forEach(z=>{let Y=F[z.x14Id];Y?((P,K)=>{Object.keys(K).forEach(k=>{let M=P[k],H=K[k];M===void 0&&H!==void 0&&(P[k]=H)})})(Y,z):S[q.ref]?S[q.ref].rules.push(z):b.push({ref:q.ref,rules:[z]})})}),b};class w extends c{constructor(C){super();let{maxRows:S,maxCols:F,ignoreNodes:q}=C||{};this.ignoreNodes=q||[],this.map={sheetPr:new m,dimension:new f,sheetViews:new u({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new _,cols:new u({tag:"cols",count:!1,childXform:new d}),sheetData:new u({tag:"sheetData",count:!1,empty:!0,childXform:new l({maxItems:F}),maxItems:S}),autoFilter:new R,mergeCells:new u({tag:"mergeCells",count:!0,childXform:new h}),rowBreaks:new E,hyperlinks:new u({tag:"hyperlinks",count:!1,childXform:new p}),pageMargins:new L,dataValidations:new y,pageSetup:new $,headerFooter:new I,printOptions:new V,picture:new N,drawing:new j,sheetProtection:new D,tableParts:new u({tag:"tableParts",count:!0,childXform:new O}),conditionalFormatting:new A,extLst:new g}}prepare(C,S){S.merges=new a,C.hyperlinks=S.hyperlinks=[],C.comments=S.comments=[],S.formulae={},S.siFormulae=0,this.map.cols.prepare(C.cols,S),this.map.sheetData.prepare(C.rows,S),this.map.conditionalFormatting.prepare(C.conditionalFormattings,S),C.mergeCells=S.merges.mergeCells;let F=C.rels=[];function q(P){return"rId"+(P.length+1)}if(C.hyperlinks.forEach(P=>{let K=q(F);P.rId=K,F.push({Id:K,Type:s.Hyperlink,Target:P.target,TargetMode:"External"})}),C.comments.length>0){let P={Id:q(F),Type:s.Comments,Target:`../comments${C.id}.xml`};F.push(P);let K={Id:q(F),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};F.push(K),C.comments.forEach(k=>{k.refAddress=i.decodeAddress(k.ref)}),S.commentRefs.push({commentName:"comments"+C.id,vmlDrawing:"vmlDrawing"+C.id})}let z=[],Y;C.media.forEach(P=>{if(P.type==="background"){let K=q(F);Y=S.media[P.imageId],F.push({Id:K,Type:s.Image,Target:`../media/${Y.name}.${Y.extension}`}),C.background={rId:K},C.image=S.media[P.imageId]}else if(P.type==="image"){let{drawing:K}=C;Y=S.media[P.imageId],K||(K=C.drawing={rId:q(F),name:"drawing"+ ++S.drawingsCount,anchors:[],rels:[]},S.drawings.push(K),F.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let k=this.preImageId===P.imageId?z[P.imageId]:z[K.rels.length];k||(k=q(K.rels),z[K.rels.length]=k,K.rels.push({Id:k,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));let M={picture:{rId:k},range:P.range};if(P.hyperlinks&&P.hyperlinks.hyperlink){let H=q(K.rels);z[K.rels.length]=H,M.picture.hyperlinks={tooltip:P.hyperlinks.tooltip,rId:H},K.rels.push({Id:H,Type:s.Hyperlink,Target:P.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=P.imageId,K.anchors.push(M)}}),C.tables.forEach(P=>{let K=q(F);P.rId=K,F.push({Id:K,Type:s.Table,Target:"../tables/"+P.target}),P.columns.forEach(k=>{let{style:M}=k;M&&(k.dxfId=S.styles.addDxfStyle(M))})}),this.map.extLst.prepare(C,S)}render(C,S){C.openXml(o.StdDocAttributes),C.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);let F=S.properties?{defaultRowHeight:S.properties.defaultRowHeight,dyDescent:S.properties.dyDescent,outlineLevelCol:S.properties.outlineLevelCol,outlineLevelRow:S.properties.outlineLevelRow}:void 0;S.properties&&S.properties.defaultColWidth&&(F.defaultColWidth=S.properties.defaultColWidth);let q={outlineProperties:S.properties&&S.properties.outlineProperties,tabColor:S.properties&&S.properties.tabColor,pageSetup:S.pageSetup&&S.pageSetup.fitToPage?{fitToPage:S.pageSetup.fitToPage}:void 0},z=S.pageSetup&&S.pageSetup.margins,Y={showRowColHeaders:S.pageSetup&&S.pageSetup.showRowColHeaders,showGridLines:S.pageSetup&&S.pageSetup.showGridLines,horizontalCentered:S.pageSetup&&S.pageSetup.horizontalCentered,verticalCentered:S.pageSetup&&S.pageSetup.verticalCentered},P=S.sheetProtection;this.map.sheetPr.render(C,q),this.map.dimension.render(C,S.dimensions),this.map.sheetViews.render(C,S.views),this.map.sheetFormatPr.render(C,F),this.map.cols.render(C,S.cols),this.map.sheetData.render(C,S.rows),this.map.sheetProtection.render(C,P),this.map.autoFilter.render(C,S.autoFilter),this.map.mergeCells.render(C,S.mergeCells),this.map.conditionalFormatting.render(C,S.conditionalFormattings),this.map.dataValidations.render(C,S.dataValidations),this.map.hyperlinks.render(C,S.hyperlinks),this.map.printOptions.render(C,Y),this.map.pageMargins.render(C,z),this.map.pageSetup.render(C,S.pageSetup),this.map.headerFooter.render(C,S.headerFooter),this.map.rowBreaks.render(C,S.rowBreaks),this.map.drawing.render(C,S.drawing),this.map.picture.render(C,S.background),this.map.tableParts.render(C,S.tables),this.map.extLst.render(C,S),S.rels&&S.rels.forEach(K=>{K.Type===s.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":K.Id})}),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name==="worksheet"?(r.each(this.map,S=>{S.reset()}),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"worksheet":{let S=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(S.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(S.outlineProperties=this.map.sheetPr.model.outlineProperties);let F={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},q=Object.assign(F,this.map.pageSetup.model,this.map.printOptions.model),z=v(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:S,views:this.map.sheetViews.model,pageSetup:q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(C,S){let F=(C.relationships||[]).reduce((z,Y)=>{if(z[Y.Id]=Y,Y.Type===s.Comments&&(C.comments=S.comments[Y.Target].comments),Y.Type===s.VmlDrawing&&C.comments&&C.comments.length){let P=S.vmlDrawings[Y.Target].comments;C.comments.forEach((K,k)=>{K.note=Object.assign({},K.note,P[k])})}return z},{});if(S.commentsMap=(C.comments||[]).reduce((z,Y)=>(Y.ref&&(z[Y.ref]=Y),z),{}),S.hyperlinkMap=(C.hyperlinks||[]).reduce((z,Y)=>(Y.rId&&(z[Y.address]=F[Y.rId].Target),z),{}),S.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach(z=>{z.cells=z.cells&&z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(C.cols,S),this.map.sheetData.reconcile(C.rows,S),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,S),C.media=[],C.drawing){let z=F[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(z){let Y=z[1];S.drawings[Y].anchors.forEach(P=>{if(P.medium){let K={type:"image",imageId:P.medium.index,range:P.range,hyperlinks:P.picture.hyperlinks};C.media.push(K)}})}}let q=C.background&&F[C.background.rId];if(q){let z=q.Target.split("/media/")[1],Y=S.mediaIndex&&S.mediaIndex[z];Y!==void 0&&C.media.push({type:"background",imageId:Y})}C.tables=(C.tables||[]).map(z=>{let Y=F[z.rId];return S.tables[Y.Target]}),delete C.relationships,delete C.hyperlinks,delete C.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},e.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,o){o&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=i.parse||function(o){return new Date(o)}}render(i,o){o&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(o)):i.writeText(this._format(o)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,o){(o||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,o):i.writeText(o),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,o){o!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,o):i.writeText(o),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,e,n){"use strict";let r=t("./base-xform"),i=t("../../utils/xml-stream");e.exports=class extends r{constructor(o){super(),this._model=o}render(o){if(!this._xml){let s=new i;(function a(c,u){c.openNode(u.tag,u.$),u.c&&u.c.forEach(l=>{a(c,l)}),u.t&&c.writeText(u.t),c.closeNode()})(s,this._model),this._xml=s.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("./rich-text-xform"),o=t("../base-xform");e.exports=class extends o{constructor(){super(),this.map={r:new i,t:new r}}get tag(){return"rPh"}render(s,a){if(s.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:c}=this.map;a.richText.forEach(u=>{c.render(s,u)})}else a&&this.map.t.render(s,a.text);s.closeNode()}parseOpen(s){let{name:a}=s;return this.parser?(this.parser.parseOpen(s),!0):a===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("../style/font-xform"),o=t("../base-xform");class s extends o{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new r)}get fontXform(){return this._fontXform||(this._fontXform=new i(s.FONT_OPTIONS))}render(c,u){u=u||this.model,c.openNode("r"),u.font&&this.fontXform.render(c,u.font),this.textXform.render(c,u.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},e.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("./rich-text-xform"),o=t("./phonetic-text-xform"),s=t("../base-xform");e.exports=class extends s{constructor(a){super(),this.model=a,this.map={r:new i,t:new r,rPh:new o}}get tag(){return"si"}render(a,c){a.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(u=>{this.map.r.render(a,u)}):this.map.t.render(a,""):c!=null&&this.map.t.render(a,c),a.closeNode()}parseOpen(a){let{name:c}=a;return this.parser?(this.parser.parseOpen(a),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("./shared-string-xform");e.exports=class extends i{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let a=this.hash[s];return a===void 0&&(a=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,a}addRichText(s){let a=this.sharedStringXform.toXml(s),c=this.rich[a];return c===void 0&&(c=this.rich[a]=this.model.values.length,this.model.values.push(s)),this.model.count++,c}render(s,a){a=a||this._values,s.openXml(r.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let c=this.sharedStringXform;a.values.forEach(u=>{c.render(s,u)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"t"}render(i,o){i.openNode("t"),/^\s|\n|\s$/.test(o)&&i.addAttribute("xml:space","preserve"),i.writeText(o),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,e,n){"use strict";let r=t("../../../doc/enums"),i=t("../../../utils/utils"),o=t("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,u)=>(c[u]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,u)=>(c[u]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=i.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=i.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return r.ReadingOrder.LeftToRight;case"rtl":return r.ReadingOrder.RightToLeft;default:return}}},a={toXml(c){if(c=s.textRotation(c)){if(c==="vertical")return 255;let u=Math.round(c);if(u>=0&&u<=90)return u;if(u<0&&u>=-90)return 90-u}},toModel(c){let u=i.validInt(c);if(u!==void 0){if(u===255)return"vertical";if(u>=0&&u<=90)return u;if(u>90&&u<=180)return 90-u}}};e.exports=class extends o{get tag(){return"alignment"}render(c,u){c.addRollback(),c.openNode("alignment");let l=!1;function d(f,p){p&&(c.addAttribute(f,p),l=!0)}d("horizontal",s.horizontal(u.horizontal)),d("vertical",s.vertical(u.vertical)),d("wrapText",!!s.wrapText(u.wrapText)&&"1"),d("shrinkToFit",!!s.shrinkToFit(u.shrinkToFit)&&"1"),d("indent",s.indent(u.indent)),d("textRotation",a.toXml(u.textRotation)),d("readingOrder",s.readingOrder(u.readingOrder)),c.closeNode(),l?c.commit():c.rollback()}parseOpen(c){let u={},l=!1;function d(f,p,h){f&&(u[p]=h,l=!0)}d(c.attributes.horizontal,"horizontal",c.attributes.horizontal),d(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),d(c.attributes.wrapText,"wrapText",i.parseBoolean(c.attributes.wrapText)),d(c.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(c.attributes.shrinkToFit)),d(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),d(c.attributes.textRotation,"textRotation",a.toModel(c.attributes.textRotation)),d(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=l?u:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/utils"),o=t("./color-xform");class s extends r{constructor(c){super(),this.name=c,this.map={color:new o}}get tag(){return this.name}render(c,u,l){let d=u&&u.color||l||this.defaultColor;c.openNode(this.name),u&&u.style&&(c.addAttribute("style",u.style),d&&this.map.color.render(c,d)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{let{style:u}=c.attributes;return this.model=u?{style:u}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return s.validStyleValues[c]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,c)=>(a[c]=!0,a),{}),e.exports=class extends r{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(a,c){let{color:u}=c;function l(d,f){d&&!d.color&&c.color&&(d=Ne(ye({},d),{color:c.color})),f.render(a,d,u)}a.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&a.addAttribute("diagonalUp","1"),c.diagonal.down&&a.addAttribute("diagonalDown","1")),l(c.left,this.map.left),l(c.right,this.map.right),l(c.top,this.map.top),l(c.bottom,this.map.bottom),l(c.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let c=this.model={},u=function(l,d,f){d&&(f&&Object.assign(d,f),c[l]=d)};u("left",this.map.left.model),u("right",this.map.right.model),u("top",this.map.top.model),u("bottom",this.map.bottom.model),u("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,o){return!!o&&(i.openNode(this.name),o.argb?i.addAttribute("rgb",o.argb):o.theme!==void 0?(i.addAttribute("theme",o.theme),o.tint!==void 0&&i.addAttribute("tint",o.tint)):o.indexed!==void 0?i.addAttribute("indexed",o.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./alignment-xform"),o=t("./border-xform"),s=t("./fill-xform"),a=t("./font-xform"),c=t("./numfmt-xform"),u=t("./protection-xform");e.exports=class extends r{constructor(){super(),this.map={alignment:new i,border:new o,fill:new s,font:new a,numFmt:new c,protection:new u}}get tag(){return"dxf"}render(l,d){if(l.openNode(this.tag),d.font&&this.map.font.render(l,d.font),d.numFmt&&d.numFmtId){let f={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(l,f)}d.fill&&this.map.fill.render(l,d.fill),d.alignment&&this.map.alignment.render(l,d.alignment),d.border&&this.map.border.render(l,d.border),d.protection&&this.map.protection.render(l,d.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l),!0}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):l!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./color-xform");class o extends r{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(l,d){l.openNode("stop"),l.addAttribute("position",d.position),this.map.color.render(l,d.color),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"stop":return this.model={position:parseFloat(l.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(){}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends r{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(l,d){l.openNode("patternFill"),l.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(l,d.fgColor),d.bgColor&&this.map.bgColor.render(l,d.bgColor),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"patternFill":return this.model={type:"pattern",pattern:l.attributes.patternType},!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.parser.model&&(this.model[l]=this.parser.model),this.parser=void 0),!0)}}class a extends r{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(l,d){switch(l.openNode("gradientFill"),d.gradient){case"angle":l.addAttribute("degree",d.degree);break;case"path":l.addAttribute("type","path"),d.center.left&&(l.addAttribute("left",d.center.left),d.center.right===void 0&&l.addAttribute("right",d.center.left)),d.center.right&&l.addAttribute("right",d.center.right),d.center.top&&(l.addAttribute("top",d.center.top),d.center.bottom===void 0&&l.addAttribute("bottom",d.center.top)),d.center.bottom&&l.addAttribute("bottom",d.center.bottom)}let f=this.map.stop;d.stops.forEach(p=>{f.render(l,p)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"gradientFill":{let d=this.model={stops:[]};return l.attributes.degree?(d.gradient="angle",d.degree=parseInt(l.attributes.degree,10)):l.attributes.type==="path"&&(d.gradient="path",d.center={left:l.attributes.left?parseFloat(l.attributes.left):0,top:l.attributes.top?parseFloat(l.attributes.top):0},l.attributes.right!==l.attributes.left&&(d.center.right=l.attributes.right?parseFloat(l.attributes.right):0),l.attributes.bottom!==l.attributes.top&&(d.center.bottom=l.attributes.bottom?parseFloat(l.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends r{constructor(){super(),this.map={patternFill:new s,gradientFill:new a}}get tag(){return"fill"}render(l,d){switch(l.addRollback(),l.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(l,d);break;case"gradient":this.map.gradientFill.render(l,d);break;default:return void l.rollback()}l.closeNode(),l.commit()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"fill":return this.model={},!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(this.parser.parseClose(l)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(l){return c.validPatternValues[l]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((u,l)=>(u[l]=!0,u),{}),c.StopXform=o,c.PatternFillXform=s,c.GradientFillXform=a,e.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(t,e,n){"use strict";let r=t("./color-xform"),i=t("../simple/boolean-xform"),o=t("../simple/integer-xform"),s=t("../simple/string-xform"),a=t("./underline-xform"),c=t("../../../utils/under-dash"),u=t("../base-xform");class l extends u{constructor(f){super(),this.options=f||l.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new r},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(f,p){let{map:h}=this;f.openNode(this.options.tagName),c.each(this.map,(y,m)=>{h[m].xform.render(f,p[y.prop])}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;if(this.map[f.name])return this.parser=this.map[f.name].xform,this.parser.parseOpen(f);switch(f.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser&&!this.parser.parseClose(f)){let p=this.map[f];return this.parser.model&&(this.model[p.prop]=this.parser.model),this.parser=void 0,!0}switch(f){case this.options.tagName:return!1;default:return!0}}}l.OPTIONS={tagName:"font",fontNameTag:"name"},e.exports=l},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../defaultnumformats"),o=t("../base-xform"),s=(function(){let c={};return r.each(i,(u,l)=>{u.f&&(c[u.f]=parseInt(l,10))}),c})();class a extends o{constructor(u,l){super(),this.id=u,this.formatCode=l}get tag(){return"numFmt"}render(u,l){u.leafNode("numFmt",{numFmtId:l.id,formatCode:l.formatCode})}parseOpen(u){switch(u.name){case"numFmt":return this.model={id:parseInt(u.attributes.numFmtId,10),formatCode:u.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(c){return s[c]},a.getDefaultFmtCode=function(c){return i[c]&&i[c].f},e.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,e,n){"use strict";let r=t("../base-xform"),i={boolean:(o,s)=>o===void 0?s:o};e.exports=class extends r{get tag(){return"protection"}render(o,s){o.addRollback(),o.openNode("protection");let a=!1;function c(u,l){l!==void 0&&(o.addAttribute(u,l),a=!0)}c("locked",i.boolean(s.locked,!0)?void 0:"0"),c("hidden",i.boolean(s.hidden,!1)?"1":void 0),o.closeNode(),a?o.commit():o.rollback()}parseOpen(o){let s={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},a=!s.locked||s.hidden;this.model=a?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./alignment-xform"),o=t("./protection-xform");e.exports=class extends r{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new i,protection:new o}}get tag(){return"xf"}render(s,a){s.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&s.addAttribute("xfId",a.xfId||0),a.numFmtId&&s.addAttribute("applyNumberFormat","1"),a.fontId&&s.addAttribute("applyFont","1"),a.fillId&&s.addAttribute("applyFill","1"),a.borderId&&s.addAttribute("applyBorder","1"),a.alignment&&s.addAttribute("applyAlignment","1"),a.protection&&s.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(s,a.alignment),a.protection&&this.map.protection.render(s,a.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,e,n){"use strict";let r=t("../../../doc/enums"),i=t("../../../utils/xml-stream"),o=t("../base-xform"),s=t("../static-xform"),a=t("../list-xform"),c=t("./font-xform"),u=t("./fill-xform"),l=t("./border-xform"),d=t("./numfmt-xform"),f=t("./style-xform"),p=t("./dxf-xform");class h extends o{constructor(m){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new d}),fonts:new a({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new u}),borders:new a({tag:"borders",count:!0,childXform:new l}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new f}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new f({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new p}),numFmt:new d,font:new c,fill:new u,border:new l,style:new f({xfId:!0}),cellStyles:h.STATIC_XFORMS.cellStyles,tableStyles:h.STATIC_XFORMS.tableStyles,extLst:h.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,_){_=_||this.model,m.openXml(i.StdDocAttributes),m.openNode("styleSheet",h.STYLESHEET_ATTRIBUTES),this.index?(_.numFmts&&_.numFmts.length&&(m.openNode("numFmts",{count:_.numFmts.length}),_.numFmts.forEach(x=>{m.writeXml(x)}),m.closeNode()),_.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:_.fonts.length,"x14ac:knownFonts":1}),_.fonts.forEach(x=>{m.writeXml(x)}),m.closeNode(),m.openNode("fills",{count:_.fills.length}),_.fills.forEach(x=>{m.writeXml(x)}),m.closeNode(),m.openNode("borders",{count:_.borders.length}),_.borders.forEach(x=>{m.writeXml(x)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:_.styles.length}),_.styles.forEach(x=>{m.writeXml(x)}),m.closeNode()):(this.map.numFmts.render(m,_.numFmts),this.map.fonts.render(m,_.fonts),this.map.fills.render(m,_.fills),this.map.borders.render(m,_.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,_.styles)),h.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,_.dxfs),h.STATIC_XFORMS.tableStyles.render(m),h.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};let _=(x,D)=>{D.model&&D.model.length&&(this.model[x]=D.model)};if(_("numFmts",this.map.numFmts),_("fonts",this.map.fonts),_("fills",this.map.fills),_("borders",this.map.borders),_("styles",this.map.cellXfs),_("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let x=this.index.numFmt;this.model.numFmts.forEach(D=>{x[D.id]=D.formatCode})}return!1}default:return!0}}addStyleModel(m,_){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);let x={};if(_=_||r.ValueType.Number,m.numFmt)x.numFmtId=this._addNumFmtStr(m.numFmt);else switch(_){case r.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case r.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(x.fontId=this._addFont(m.font)),m.border&&(x.borderId=this._addBorder(m.border)),m.fill&&(x.fillId=this._addFill(m.fill)),m.alignment&&(x.alignment=m.alignment),m.protection&&(x.protection=m.protection);let D=this._addStyle(x);return this.weakMap&&this.weakMap.set(m,D),D}getStyleModel(m){let _=this.model.styles[m];if(!_)return null;let x=this.index.model[m];if(x)return x;if(x=this.index.model[m]={},_.numFmtId){let L=this.index.numFmt[_.numFmtId]||d.getDefaultFmtCode(_.numFmtId);L&&(x.numFmt=L)}function D(L,$,V){if(V||V===0){let R=$[V];R&&(x[L]=R)}}return D("font",this.model.fonts,_.fontId),D("border",this.model.borders,_.borderId),D("fill",this.model.fills,_.fillId),_.alignment&&(x.alignment=_.alignment),_.protection&&(x.protection=_.protection),x}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){let _=this.map.style.toXml(m),x=this.index.style[_];return x===void 0&&(x=this.index.style[_]=this.model.styles.length,this.model.styles.push(_)),x}_addNumFmtStr(m){let _=d.getDefaultFmtId(m);if(_!==void 0||(_=this.index.numFmt[m],_!==void 0))return _;_=this.index.numFmt[m]=164+this.model.numFmts.length;let x=this.map.numFmt.toXml({id:_,formatCode:m});return this.model.numFmts.push(x),_}_addFont(m){let _=this.map.font.toXml(m),x=this.index.font[_];return x===void 0&&(x=this.index.font[_]=this.model.fonts.length,this.model.fonts.push(_)),x}_addBorder(m){let _=this.map.border.toXml(m),x=this.index.border[_];return x===void 0&&(x=this.index.border[_]=this.model.borders.length,this.model.borders.push(_)),x}_addFill(m){let _=this.map.fill.toXml(m),x=this.index.fill[_];return x===void 0&&(x=this.index.fill[_]=this.model.fills.length,this.model.fills.push(_)),x}}h.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},h.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},h.Mock=class extends h{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,m){switch(m){case r.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let y={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},e.exports=h},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,e,n){"use strict";let r=t("../base-xform");class i extends r{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,a){if((a=a||this.model)===!0)s.leafNode("u");else{let c=i.Attributes[a];c&&s.leafNode("u",c)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},e.exports=i},{"../base-xform":32}],137:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./filter-column-xform");e.exports=class extends r{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((s,a)=>{this.map.filterColumn.prepare(s,{index:a})})}render(o,s){return o.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(a=>{this.map.filterColumn.render(o,a)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"customFilter"}render(i,o){i.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../list-xform"),o=t("./custom-filter-xform"),s=t("./filter-xform");e.exports=class extends r{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(a,c){a.colId=c.index.toString()}render(a,c){return c.customFilters?(a.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(a,c.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:c}=a;switch(a.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"filter"}render(i,o){i.leafNode(this.tag,{val:o.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tableColumn"}prepare(i,o){i.id=o.index+1}render(i,o){return i.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:o}=i;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tableStyleInfo"}render(i,o){return i.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:o}=i;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),o=t("../list-xform"),s=t("./auto-filter-xform"),a=t("./table-column-xform"),c=t("./table-style-info-xform");class u extends i{constructor(){super(),this.map={autoFilter:new s,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new c}}prepare(d,f){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,f)}get tag(){return"table"}render(d,f){d.openXml(r.StdDocAttributes),d.openNode(this.tag,Ne(ye({},u.TABLE_ATTRIBUTES),{id:f.id,name:f.name,displayName:f.displayName||f.name,ref:f.tableRef,totalsRowCount:f.totalsRow?"1":void 0,totalsRowShown:f.totalsRow?void 0:"1",headerRowCount:f.headerRow?"1":"0"})),this.map.autoFilter.render(d,f),this.map.tableColumns.render(d,f.columns),this.map.tableStyleInfo.render(d,f.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;let{name:f,attributes:p}=d;switch(f){case this.tag:this.reset(),this.model={name:p.name,displayName:p.displayName||p.name,tableRef:p.ref,totalsRow:p.totalsRowCount==="1",headerRow:p.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((f,p)=>{this.model.columns[p].filterButton=f.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,f){d.columns.forEach(p=>{p.dxfId!==void 0&&(p.style=f.styles.getDxfStyle(p.dxfId))})}}u.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},e.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,e,n){(function(r,i){(function(){"use strict";let o=t("fs"),s=t("jszip"),{PassThrough:a}=t("readable-stream"),c=t("../utils/zip-stream"),u=t("../utils/stream-buf"),l=t("../utils/utils"),d=t("../utils/xml-stream"),{bufferToString:f}=t("../utils/browser-buffer-decode"),p=t("./xform/style/styles-xform"),h=t("./xform/core/core-xform"),y=t("./xform/strings/shared-strings-xform"),m=t("./xform/core/relationships-xform"),_=t("./xform/core/content-types-xform"),x=t("./xform/core/app-xform"),D=t("./xform/book/workbook-xform"),L=t("./xform/sheet/worksheet-xform"),$=t("./xform/drawing/drawing-xform"),V=t("./xform/table/table-xform"),R=t("./xform/comment/comments-xform"),N=t("./xform/comment/vml-notes-xform"),j=t("./xml/theme1");class O{constructor(I){this.workbook=I}async readFile(I,A){if(!await l.fs.exists(I))throw new Error("File not found: "+I);let g=o.createReadStream(I);try{let v=await this.read(g,A);return g.close(),v}catch(v){throw g.close(),v}}parseRels(I){return new m().parseStream(I)}parseWorkbook(I){return new D().parseStream(I)}parseSharedStrings(I){return new y().parseStream(I)}reconcile(I,A){let g=new D,v=new L(A),w=new $,b=new V;g.reconcile(I);let C={media:I.media,mediaIndex:I.mediaIndex};Object.keys(I.drawings).forEach(q=>{let z=I.drawings[q],Y=I.drawingRels[q];Y&&(C.rels=Y.reduce((P,K)=>(P[K.Id]=K,P),{}),(z.anchors||[]).forEach(P=>{let K=P.picture&&P.picture.hyperlinks;K&&C.rels[K.rId]&&(K.hyperlink=C.rels[K.rId].Target,delete K.rId)}),w.reconcile(z,C))});let S={styles:I.styles};Object.values(I.tables).forEach(q=>{b.reconcile(q,S)});let F={styles:I.styles,sharedStrings:I.sharedStrings,media:I.media,mediaIndex:I.mediaIndex,date1904:I.properties&&I.properties.date1904,drawings:I.drawings,comments:I.comments,tables:I.tables,vmlDrawings:I.vmlDrawings};I.worksheets.forEach(q=>{q.relationships=I.worksheetRels[q.sheetNo],v.reconcile(q,F)}),delete I.worksheetHash,delete I.worksheetRels,delete I.globalRels,delete I.sharedStrings,delete I.workbookRels,delete I.sheetDefs,delete I.styles,delete I.mediaIndex,delete I.drawings,delete I.drawingRels,delete I.vmlDrawings}async _processWorksheetEntry(I,A,g,v,w){let b=new L(v),C=await b.parseStream(I);C.sheetNo=g,A.worksheetHash[w]=C,A.worksheets.push(C)}async _processCommentEntry(I,A,g){let v=new R,w=await v.parseStream(I);A.comments[`../${g}.xml`]=w}async _processTableEntry(I,A,g){let v=new V,w=await v.parseStream(I);A.tables[`../tables/${g}.xml`]=w}async _processWorksheetRelsEntry(I,A,g){let v=new m,w=await v.parseStream(I);A.worksheetRels[g]=w}async _processMediaEntry(I,A,g){let v=g.lastIndexOf(".");if(v>=1){let w=g.substr(v+1),b=g.substr(0,v);await new Promise((C,S)=>{let F=new u;F.on("finish",()=>{A.mediaIndex[g]=A.media.length,A.mediaIndex[b]=A.media.length;let q={type:"image",name:b,extension:w,buffer:F.toBuffer()};A.media.push(q),C()}),I.on("error",q=>{S(q)}),I.pipe(F)})}}async _processDrawingEntry(I,A,g){let v=new $,w=await v.parseStream(I);A.drawings[g]=w}async _processDrawingRelsEntry(I,A,g){let v=new m,w=await v.parseStream(I);A.drawingRels[g]=w}async _processVmlDrawingEntry(I,A,g){let v=new N,w=await v.parseStream(I);A.vmlDrawings[`../drawings/${g}.vml`]=w}async _processThemeEntry(I,A,g){await new Promise((v,w)=>{let b=new u;I.on("error",w),b.on("error",w),b.on("finish",()=>{A.themes[g]=b.read().toString(),v()}),I.pipe(b)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(I,A){!I[Symbol.asyncIterator]&&I.pipe&&(I=I.pipe(new a));let g=[];for await(let v of I)g.push(v);return this.load(i.concat(g),A)}async load(I,A){let g;g=A&&A.base64?i.from(I.toString(),"base64"):I;let v={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await s.loadAsync(g);for(let b of Object.values(w.files))if(!b.dir){let C,S=b.name;if(S[0]==="/"&&(S=S.substr(1)),S.match(/xl\/media\//)||S.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))C=new a,C.write(await b.async("nodebuffer"));else{let F;C=new a({writableObjectMode:!0,readableObjectMode:!0}),F=r.browser?f(await b.async("nodebuffer")):await b.async("string");let q=16384;for(let z=0;z<F.length;z+=q)C.write(F.substring(z,z+q))}switch(C.end(),S){case"_rels/.rels":v.globalRels=await this.parseRels(C);break;case"xl/workbook.xml":{let F=await this.parseWorkbook(C);v.sheets=F.sheets,v.definedNames=F.definedNames,v.views=F.views,v.properties=F.properties,v.calcProperties=F.calcProperties;break}case"xl/_rels/workbook.xml.rels":v.workbookRels=await this.parseRels(C);break;case"xl/sharedStrings.xml":v.sharedStrings=new y,await v.sharedStrings.parseStream(C);break;case"xl/styles.xml":v.styles=new p,await v.styles.parseStream(C);break;case"docProps/app.xml":{let F=new x,q=await F.parseStream(C);v.company=q.company,v.manager=q.manager;break}case"docProps/core.xml":{let F=new h,q=await F.parseStream(C);Object.assign(v,q);break}default:{let F=S.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(F){await this._processWorksheetEntry(C,v,F[1],A,S);break}if(F=S.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),F){await this._processWorksheetRelsEntry(C,v,F[1]);break}if(F=S.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),F){await this._processThemeEntry(C,v,F[1]);break}if(F=S.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),F){await this._processMediaEntry(C,v,F[1]);break}if(F=S.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),F){await this._processDrawingEntry(C,v,F[1]);break}if(F=S.match(/xl\/(comments\d+)[.]xml/),F){await this._processCommentEntry(C,v,F[1]);break}if(F=S.match(/xl\/tables\/(table\d+)[.]xml/),F){await this._processTableEntry(C,v,F[1]);break}if(F=S.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),F){await this._processDrawingRelsEntry(C,v,F[1]);break}if(F=S.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),F){await this._processVmlDrawingEntry(C,v,F[1]);break}}}}return this.reconcile(v,A),this.workbook.model=v,this.workbook}async addMedia(I,A){await Promise.all(A.media.map(async g=>{if(g.type==="image"){let v=`xl/media/${g.name}.${g.extension}`;if(g.filename){let w=await(function(b,C){return new Promise((S,F)=>{o.readFile(b,C,(q,z)=>{q?F(q):S(z)})})})(g.filename);return I.append(w,{name:v})}if(g.buffer)return I.append(g.buffer,{name:v});if(g.base64){let w=g.base64,b=w.substring(w.indexOf(",")+1);return I.append(b,{name:v,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(I,A){let g=new $,v=new m;A.worksheets.forEach(w=>{let{drawing:b}=w;if(b){g.prepare(b,{});let C=g.toXml(b);I.append(C,{name:`xl/drawings/${b.name}.xml`}),C=v.toXml(b.rels),I.append(C,{name:`xl/drawings/_rels/${b.name}.xml.rels`})}})}addTables(I,A){let g=new V;A.worksheets.forEach(v=>{let{tables:w}=v;w.forEach(b=>{g.prepare(b,{});let C=g.toXml(b);I.append(C,{name:"xl/tables/"+b.target})})})}async addContentTypes(I,A){let g=new _().toXml(A);I.append(g,{name:"[Content_Types].xml"})}async addApp(I,A){let g=new x().toXml(A);I.append(g,{name:"docProps/app.xml"})}async addCore(I,A){let g=new h;I.append(g.toXml(A),{name:"docProps/core.xml"})}async addThemes(I,A){let g=A.themes||{theme1:j};Object.keys(g).forEach(v=>{let w=g[v],b=`xl/theme/${v}.xml`;I.append(w,{name:b})})}async addOfficeRels(I){let A=new m().toXml([{Id:"rId1",Type:O.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:O.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:O.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);I.append(A,{name:"_rels/.rels"})}async addWorkbookRels(I,A){let g=1,v=[{Id:"rId"+g++,Type:O.RelType.Styles,Target:"styles.xml"},{Id:"rId"+g++,Type:O.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&v.push({Id:"rId"+g++,Type:O.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(b=>{b.rId="rId"+g++,v.push({Id:b.rId,Type:O.RelType.Worksheet,Target:`worksheets/sheet${b.id}.xml`})});let w=new m().toXml(v);I.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(I,A){A.sharedStrings&&A.sharedStrings.count&&I.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(I,A){let{xml:g}=A.styles;g&&I.append(g,{name:"xl/styles.xml"})}async addWorkbook(I,A){let g=new D;I.append(g.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(I,A){let g=new L,v=new m,w=new R,b=new N;A.worksheets.forEach(C=>{let S=new d;g.render(S,C),I.append(S.xml,{name:`xl/worksheets/sheet${C.id}.xml`}),C.rels&&C.rels.length&&(S=new d,v.render(S,C.rels),I.append(S.xml,{name:`xl/worksheets/_rels/sheet${C.id}.xml.rels`})),C.comments.length>0&&(S=new d,w.render(S,C),I.append(S.xml,{name:`xl/comments${C.id}.xml`}),S=new d,b.render(S,C),I.append(S.xml,{name:`xl/drawings/vmlDrawing${C.id}.vml`}))})}_finalize(I){return new Promise((A,g)=>{I.on("finish",()=>{A(this)}),I.on("error",g),I.finalize()})}prepareModel(I,A){I.creator=I.creator||"ExcelJS",I.lastModifiedBy=I.lastModifiedBy||"ExcelJS",I.created=I.created||new Date,I.modified=I.modified||new Date,I.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,I.useStyles=A.useStyles===void 0||A.useStyles,I.sharedStrings=new y,I.styles=I.useStyles?new p(!0):new p.Mock;let g=new D,v=new L;g.prepare(I);let w={sharedStrings:I.sharedStrings,styles:I.styles,date1904:I.properties.date1904,drawingsCount:0,media:I.media};w.drawings=I.drawings=[],w.commentRefs=I.commentRefs=[];let b=0;I.tables=[],I.worksheets.forEach(C=>{C.tables.forEach(S=>{b++,S.target=`table${b}.xml`,S.id=b,I.tables.push(S)}),v.prepare(C,w)})}async write(I,A){A=A||{};let{model:g}=this.workbook,v=new c.ZipWriter(A.zip);return v.pipe(I),this.prepareModel(g,A),await this.addContentTypes(v,g),await this.addOfficeRels(v,g),await this.addWorkbookRels(v,g),await this.addWorksheets(v,g),await this.addSharedStrings(v,g),await this.addDrawings(v,g),await this.addTables(v,g),await Promise.all([this.addThemes(v,g),this.addStyles(v,g)]),await this.addMedia(v,g),await Promise.all([this.addApp(v,g),this.addCore(v,g)]),await this.addWorkbook(v,g),this._finalize(v)}writeFile(I,A){let g=o.createWriteStream(I);return new Promise((v,w)=>{g.on("finish",()=>{v()}),g.on("error",b=>{w(b)}),this.write(g,A).then(()=>{g.end()}).catch(b=>{w(b)})})}async writeBuffer(I){let A=new u;return await this.write(A,I),A.read()}}O.RelType=t("./rel-type"),e.exports=O}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,e,n){"use strict";e.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,e,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;let i=t("stream"),o=t("./formatter");class s extends i.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new o.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,u,l){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(f,p)=>f?(d=!0,l(f)):(p&&p.forEach(h=>{this.push(r.from(h,"utf8"))}),d=!0,l()))}catch(f){if(d)throw f;l(f)}}_flush(c){this.rowFormatter.finish((u,l)=>u?c(u):(l&&l.forEach(d=>{this.push(r.from(d,"utf8"))}),c()))}}n.CsvFormatterStream=s}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,r||{}),r?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),r?.quote===!0?this.quote='"':r?.quote===!1&&(this.quote=""),typeof r?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=r.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,e,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;let i=r(t("lodash.isboolean")),o=r(t("lodash.isnil")),s=r(t("lodash.escaperegexp"));n.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let c=`[${a.delimiter}${s.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(a){this._headers=a}shouldQuote(a,c){let u=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(u)?u:Array.isArray(u)?u[a]:this._headers!==null&&u[this._headers[a]]}format(a,c,u){let l=(""+(o.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&l.indexOf(d.quote)!==-1?this.quoteField(l.replace(this.REPLACE_REGEXP,d.escapedQuote)):l.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,u)?this.quoteField(l):l}quoteField(a){let{quote:c}=this.formatterOptions;return`${c}${a}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,e,n){"use strict";var r=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;let i=r(t("lodash.isfunction")),o=r(t("lodash.isequal")),s=t("./FieldFormatter"),a=t("../types");class c{constructor(l){this.rowCount=0,this.formatterOptions=l,this.fieldFormatter=new s.FieldFormatter(l),this.headers=l.headers,this.shouldWriteHeaders=l.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),l.transform&&(this.rowTransform=l.transform)}static isRowHashArray(l){return!!Array.isArray(l)&&Array.isArray(l[0])&&l[0].length===2}static isRowArray(l){return Array.isArray(l)&&!this.isRowHashArray(l)}static gatherHeaders(l){return c.isRowHashArray(l)?l.map(d=>d[0]):Array.isArray(l)?l:Object.keys(l)}static createTransform(l){return a.isSyncTransform(l)?(d,f)=>{let p=null;try{p=l(d)}catch(h){return f(h)}return f(null,p)}:(d,f)=>{l(d,f)}}set rowTransform(l){if(!i.default(l))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(l)}format(l,d){this.callTransformer(l,(f,p)=>{if(f)return d(f);if(!l)return d(null);let h=[];if(p){let{shouldFormatColumns:y,headers:m}=this.checkHeaders(p);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(h.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),y){let _=this.gatherColumns(p);h.push(this.formatColumns(_,!1))}}return d(null,h)})}finish(l){let d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return l(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),l(null,d)}checkHeaders(l){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let d=c.gatherHeaders(l);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(d,l),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(l){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(l)?c.isRowHashArray(l)?this.headers.map((d,f)=>{let p=l[f];return p?p[1]:""}):c.isRowArray(l)&&!this.shouldWriteHeaders?l:this.headers.map((d,f)=>l[f]):this.headers.map(d=>l[d])}callTransformer(l,d){return this._rowTransform?this._rowTransform(l,d):d(null,l)}formatColumns(l,d){let f=l.map((h,y)=>this.fieldFormatter.format(h,y,d)).join(this.formatterOptions.delimiter),{rowCount:p}=this;return this.rowCount+=1,p?[this.formatterOptions.rowDelimiter,f].join(""):f}}n.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var r=t("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return r.RowFormatter}});var i=t("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,e,n){(function(r){(function(){"use strict";var i=Object.create?function(y,m,_,x){x===void 0&&(x=_),Object.defineProperty(y,x,{enumerable:!0,get:function(){return m[_]}})}:function(y,m,_,x){x===void 0&&(x=_),y[x]=m[_]},o=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},s=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var _ in y)_!=="default"&&Object.prototype.hasOwnProperty.call(y,_)&&i(m,y,_);return o(m,y),m},a=function(y,m){for(var _ in y)_==="default"||Object.prototype.hasOwnProperty.call(m,_)||i(m,y,_)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;let c=t("util"),u=t("stream"),l=s(t("fs")),d=t("./FormatterOptions"),f=t("./CsvFormatterStream");a(t("./types"),n);var p=t("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return p.CsvFormatterStream}});var h=t("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return h.FormatterOptions}}),n.format=y=>new f.CsvFormatterStream(new d.FormatterOptions(y)),n.write=(y,m)=>{let _=n.format(m),x=c.promisify((D,L)=>{_.write(D,void 0,L)});return y.reduce((D,L)=>D.then(()=>x(L)),Promise.resolve()).then(()=>_.end()).catch(D=>{_.emit("error",D)}),_},n.writeToStream=(y,m,_)=>n.write(m,_).pipe(y),n.writeToBuffer=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=[],x=new u.Writable({write(D,L,$){_.push(D),$()}});return new Promise((D,L)=>{x.on("error",L).on("finish",()=>D(r.concat(_))),n.write(y,m).pipe(x)})},n.writeToString=(y,m)=>n.writeToBuffer(y,m).then(_=>_.toString()),n.writeToPath=(y,m,_)=>{let x=l.createWriteStream(y,{encoding:"utf8"});return n.write(m,_).pipe(x)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1},{}],153:[function(t,e,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;let i=t("string_decoder"),o=t("stream"),s=t("./transforms"),a=t("./parser");class c extends o.Transform{constructor(l){super({objectMode:l.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=l,this.parser=new a.Parser(l),this.headerTransformer=new s.HeaderTransformer(l),this.decoder=new i.StringDecoder(l.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(l){return this.rowTransformerValidator.rowTransform=l,this}validate(l){return this.rowTransformerValidator.rowValidator=l,this}emit(l){if(l==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return super.emit(l,...f)}_transform(l,d,f){if(this.hasHitRowLimit)return f();let p=c.wrapDoneCallback(f);try{let{lines:h}=this,y=h+this.decoder.write(l),m=this.parse(y,!0);return this.processRows(m,p)}catch(h){return p(h)}}_flush(l){let d=c.wrapDoneCallback(l);if(this.hasHitRowLimit)return d();try{let f=this.lines+this.decoder.end(),p=this.parse(f,!1);return this.processRows(p,d)}catch(f){return d(f)}}parse(l,d){if(!l)return[];let{line:f,rows:p}=this.parser.parse(l,d);return this.lines=f,p}processRows(l,d){let f=l.length,p=h=>{let y=x=>x?d(x):h%100!=0?p(h+1):void r(()=>p(h+1));if(this.checkAndEmitHeaders(),h>=f||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();let m=l[h];this.rowCount+=1,this.parsedRowCount+=1;let _=this.rowCount;return this.transformRow(m,(x,D)=>{if(x)return this.rowCount-=1,y(x);if(!D)return y(new Error("expected transform result"));if(D.isValid){if(D.row)return this.pushRow(D.row,y)}else this.emit("data-invalid",D.row,_,D.reason);return y()})};p(0)}transformRow(l,d){try{this.headerTransformer.transform(l,(f,p)=>f?d(f):p?p.isValid?p.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(p.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:l}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(f){d(f)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(l){return this.rowCount-=1,l(null,{row:null,isValid:!0})}pushRow(l,d){try{this.parserOptions.objectMode?this.push(l):this.push(JSON.stringify(l)),d()}catch(f){d(f)}}static wrapDoneCallback(l){let d=!1;return function(f){if(f){if(d)throw f;return d=!0,void l(f)}for(var p=arguments.length,h=new Array(p>1?p-1:0),y=1;y<p;y++)h[y-1]=arguments[y];l(...h)}}}n.CsvParserStream=c}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,e,n){"use strict";var r=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;let i=r(t("lodash.escaperegexp")),o=r(t("lodash.isnil"));n.ParserOptions=class{constructor(s){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,e,n){"use strict";var r=Object.create?function(p,h,y,m){m===void 0&&(m=y),Object.defineProperty(p,m,{enumerable:!0,get:function(){return h[y]}})}:function(p,h,y,m){m===void 0&&(m=y),p[m]=h[y]},i=Object.create?function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}:function(p,h){p.default=h},o=function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var y in p)y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)&&r(h,p,y);return i(h,p),h},s=function(p,h){for(var y in p)y==="default"||Object.prototype.hasOwnProperty.call(h,y)||r(h,p,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;let a=o(t("fs")),c=t("stream"),u=t("./ParserOptions"),l=t("./CsvParserStream");s(t("./types"),n);var d=t("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var f=t("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return f.ParserOptions}}),n.parse=p=>new l.CsvParserStream(new u.ParserOptions(p)),n.parseStream=(p,h)=>p.pipe(new l.CsvParserStream(new u.ParserOptions(h))),n.parseFile=function(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(p).pipe(new l.CsvParserStream(new u.ParserOptions(h)))},n.parseString=(p,h)=>{let y=new c.Readable;return y.push(p),y.push(null),y.pipe(new l.CsvParserStream(new u.ParserOptions(h)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;let r=t("./Scanner"),i=t("./RowParser"),o=t("./Token");class s{constructor(c){this.parserOptions=c,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,u){let l=new r.Scanner({line:s.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:u});return this.parserOptions.supportsComments?this.parseWithComments(l):this.parseWithoutComments(l)}parseWithoutComments(c){let u=[],l=!0;for(;l;)l=this.parseRow(c,u);return{line:c.line,rows:u}}parseWithComments(c){let{parserOptions:u}=this,l=[];for(let d=c.nextCharacterToken;d!==null;d=c.nextCharacterToken)if(o.Token.isTokenComment(d,u)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:l};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:l};c.truncateToCursor()}else if(!this.parseRow(c,l))break;return{line:c.line,rows:l}}parseRow(c,u){if(!c.nextNonSpaceToken)return!1;let l=this.rowParser.parse(c);return l!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(l)||u.push(l),!0)}}n.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;let r=t("./column"),i=t("./Token");n.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new r.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){let{parserOptions:s}=this,{hasMoreData:a}=o,c=o,u=[],l=this.getStartToken(c,u);for(;l;){if(i.Token.isTokenRowDelimiter(l))return c.advancePastToken(l),!c.hasMoreCharacters&&i.Token.isTokenCarriageReturn(l,s)&&a?null:(c.truncateToCursor(),u);if(!this.shouldSkipColumnParse(c,l,u)){let d=this.columnParser.parse(c);if(d===null)return null;u.push(d)}l=c.nextNonSpaceToken}return a?null:(c.truncateToCursor(),u)}getStartToken(o,s){let a=o.nextNonSpaceToken;return a!==null&&i.Token.isTokenDelimiter(a,this.parserOptions)?(s.push(""),o.nextNonSpaceToken):a}shouldSkipColumnParse(o,s,a){let{parserOptions:c}=this;if(i.Token.isTokenDelimiter(s,c)){o.advancePastToken(s);let u=o.nextCharacterToken;if(!o.hasMoreCharacters||u!==null&&i.Token.isTokenRowDelimiter(u)||u!==null&&i.Token.isTokenDelimiter(u,c))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;let r=t("./Token"),i=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:o}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(s)===-1)return null;let a=s.exec(o);if(a==null)return null;let c=a[1],u=this.cursor+(a.index||0);return new r.Token({token:c,startCursor:u,endCursor:u+c.length-1})}get nextCharacterToken(){let{cursor:o,lineLength:s}=this;return s<=o?null:new r.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let o=i.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(r){this.token=r.token,this.startCursor=r.startCursor,this.endCursor=r.endCursor}static isTokenRowDelimiter(r){let i=r.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(r,i){return r.token===i.carriageReturn}static isTokenComment(r,i){return i.supportsComments&&!!r&&r.token===i.comment}static isTokenEscapeCharacter(r,i){return r.token===i.escapeChar}static isTokenQuote(r,i){return r.token===i.quote}static isTokenDelimiter(r,i){return r.token===i.delimiter}}},{}],160:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(r){r.trim?this.format=i=>i.trim():r.ltrim?this.format=i=>i.trimLeft():r.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;let r=t("./NonQuotedColumnParser"),i=t("./QuotedColumnParser"),o=t("../Token");n.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new i.QuotedColumnParser(s),this.nonQuotedColumnParser=new r.NonQuotedColumnParser(s)}parse(s){let{nextNonSpaceToken:a}=s;return a!==null&&o.Token.isTokenQuote(a,this.parserOptions)?(s.advanceToToken(a),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;let r=t("./ColumnFormatter"),i=t("../Token");n.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new r.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let{parserOptions:s}=this,a=[],c=o.nextCharacterToken;for(;c&&!i.Token.isTokenDelimiter(c,s)&&!i.Token.isTokenRowDelimiter(c);c=o.nextCharacterToken)a.push(c.token),o.advancePastToken(c);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;let r=t("./ColumnFormatter"),i=t("../Token");n.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new r.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let s=o.cursor,{foundClosingQuote:a,col:c}=this.gatherDataBetweenQuotes(o);if(!a){if(o.advanceTo(s),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),c}gatherDataBetweenQuotes(o){let{parserOptions:s}=this,a=!1,c=!1,u=[],l=o.nextCharacterToken;for(;!c&&l!==null;l=o.nextCharacterToken){let d=i.Token.isTokenQuote(l,s);if(!a&&d)a=!0;else if(a)if(i.Token.isTokenEscapeCharacter(l,s)){o.advancePastToken(l);let f=o.nextCharacterToken;f!==null&&(i.Token.isTokenQuote(f,s)||i.Token.isTokenEscapeCharacter(f,s))?(u.push(f.token),l=f):d?c=!0:u.push(l.token)}else d?c=!0:u.push(l.token);o.advancePastToken(l)}return{col:this.columnFormatter.format(u.join("")),foundClosingQuote:c}}checkForMalformedColumn(o){let{parserOptions:s}=this,{nextNonSpaceToken:a}=o;if(a){let c=i.Token.isTokenDelimiter(a,s),u=i.Token.isTokenRowDelimiter(a);if(!c&&!u){let l=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${a.token}'. at '${l}`)}o.advanceToToken(a)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var r=t("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}});var i=t("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var o=t("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var s=t("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var r=t("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=t("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var o=t("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var s=t("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return s.Token}});var a=t("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,e,n){"use strict";var r=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;let i=r(t("lodash.isundefined")),o=r(t("lodash.isfunction")),s=r(t("lodash.uniq")),a=r(t("lodash.groupby"));n.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):o.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,u){return this.shouldMapRow(c)?u(null,this.processRow(c)):u(null,{row:null,isValid:!0})}shouldMapRow(c){let{parserOptions:u}=this;if(!this.headersTransform&&u.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};let{parserOptions:u}=this;if(!u.discardUnmappedColumns&&c.length>this.headersLength){if(!u.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return u.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){let u={},{headers:l,headersLength:d}=this;for(let f=0;f<d;f+=1){let p=l[f];if(!i.default(p)){let h=c[f];i.default(h)?u[p]="":u[p]=h}}return u}setHeaders(c){var u;let l=c.filter(d=>!!d);if(s.default(l).length!==l.length){let d=a.default(l),f=Object.keys(d).filter(p=>d[p].length>1);throw new Error("Duplicate headers found "+JSON.stringify(f))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((u=this.headers)===null||u===void 0?void 0:u.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,e,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;let i=r(t("lodash.isfunction")),o=t("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return o.isSyncTransform(c)?(u,l)=>{let d=null;try{d=c(u)}catch(f){return l(f)}return l(null,d)}:c}static createValidator(c){return o.isSyncValidate(c)?(u,l)=>{l(null,{row:u,isValid:c(u)})}:(u,l)=>{c(u,(d,f,p)=>d?l(d):l(null,f?{row:u,isValid:f,reason:p}:{row:u,isValid:!1,reason:p}))}}set rowTransform(c){if(!i.default(c))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(c)}set rowValidator(c){if(!i.default(c))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(c)}transformAndValidate(c,u){return this.callTransformer(c,(l,d)=>l?u(l):d?this.callValidator(d,(f,p)=>f?u(f):p&&!p.isValid?u(null,{row:d,isValid:!1,reason:p.reason}):u(null,{row:d,isValid:!0})):u(null,{row:null,isValid:!0}))}callTransformer(c,u){return this._rowTransform?this._rowTransform(c,u):u(null,c)}callValidator(c,u){return this._rowValidator?this._rowValidator(c,u):u(null,{row:c,isValid:!0})}}n.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var r=t("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return r.RowTransformerValidator}});var i=t("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1,n.isSyncValidate=r=>r.length===1},{}],170:[function(t,e,n){"use strict";let r=n;r.bignum=t("bn.js"),r.define=t("./asn1/api").define,r.base=t("./asn1/base"),r.constants=t("./asn1/constants"),r.decoders=t("./asn1/decoders"),r.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,e,n){"use strict";let r=t("./encoders"),i=t("./decoders"),o=t("inherits");function s(a,c){this.name=a,this.body=c,this.decoders={},this.encoders={}}n.define=function(a,c){return new s(a,c)},s.prototype._createNamed=function(a){let c=this.name;function u(l){this._initNamed(l,c)}return o(u,a),u.prototype._initNamed=function(l,d){a.call(this,l,d)},new u(this)},s.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(i[a])),this.decoders[a]},s.prototype.decode=function(a,c,u){return this._getDecoder(c).decode(a,u)},s.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(r[a])),this.encoders[a]},s.prototype.encode=function(a,c,u){return this._getEncoder(c).encode(a,u)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,e,n){"use strict";let r=t("inherits"),i=t("../base/reporter").Reporter,o=t("safer-buffer").Buffer;function s(c,u){i.call(this,u),o.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function a(c,u){if(Array.isArray(c))this.length=0,this.value=c.map(function(l){return a.isEncoderBuffer(l)||(l=new a(l,u)),this.length+=l.length,l},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return u.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=o.byteLength(c);else{if(!o.isBuffer(c))return u.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}r(s,i),n.DecoderBuffer=s,s.isDecoderBuffer=function(c){return c instanceof s?!0:typeof c=="object"&&o.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(c){let u=new s(this.base);return u.offset=c.offset,u.length=this.offset,this.offset=c.offset,i.prototype.restore.call(this,c.reporter),u},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},s.prototype.skip=function(c,u){if(!(this.offset+c<=this.length))return this.error(u||"DecoderBuffer overrun");let l=new s(this.base);return l._reporterState=this._reporterState,l.offset=this.offset,l.length=this.offset+c,this.offset+=c,l},s.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},n.EncoderBuffer=a,a.isEncoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},a.prototype.join=function(c,u){return c||(c=o.alloc(this.length)),u||(u=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(l){l.join(c,u),u+=l.length}):(typeof this.value=="number"?c[u]=this.value:typeof this.value=="string"?c.write(this.value,u):o.isBuffer(this.value)&&this.value.copy(c,u),u+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,e,n){"use strict";let r=n;r.Reporter=t("./reporter").Reporter,r.DecoderBuffer=t("./buffer").DecoderBuffer,r.EncoderBuffer=t("./buffer").EncoderBuffer,r.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,e,n){"use strict";let r=t("../base/reporter").Reporter,i=t("../base/buffer").EncoderBuffer,o=t("../base/buffer").DecoderBuffer,s=t("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(d,f,p){let h={};this._baseState=h,h.name=p,h.enc=d,h.parent=f||null,h.children=null,h.tag=null,h.args=null,h.reverseArgs=null,h.choice=null,h.optional=!1,h.any=!1,h.obj=!1,h.use=null,h.useDecoder=null,h.key=null,h.default=null,h.explicit=null,h.implicit=null,h.contains=null,h.parent||(h.children=[],this._wrap())}e.exports=u;let l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){let d=this._baseState,f={};l.forEach(function(h){f[h]=d[h]});let p=new this.constructor(f.parent);return p._baseState=f,p},u.prototype._wrap=function(){let d=this._baseState;c.forEach(function(f){this[f]=function(){let p=new this.constructor(this);return d.children.push(p),p[f].apply(p,arguments)}},this)},u.prototype._init=function(d){let f=this._baseState;s(f.parent===null),d.call(this),f.children=f.children.filter(function(p){return p._baseState.parent===this},this),s.equal(f.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(d){let f=this._baseState,p=d.filter(function(h){return h instanceof this.constructor},this);d=d.filter(function(h){return!(h instanceof this.constructor)},this),p.length!==0&&(s(f.children===null),f.children=p,p.forEach(function(h){h._baseState.parent=this},this)),d.length!==0&&(s(f.args===null),f.args=d,f.reverseArgs=d.map(function(h){if(typeof h!="object"||h.constructor!==Object)return h;let y={};return Object.keys(h).forEach(function(m){m==(0|m)&&(m|=0);let _=h[m];y[_]=m}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){u.prototype[d]=function(){let f=this._baseState;throw new Error(d+" not implemented for encoding: "+f.enc)}}),a.forEach(function(d){u.prototype[d]=function(){let f=this._baseState,p=Array.prototype.slice.call(arguments);return s(f.tag===null),f.tag=d,this._useArgs(p),this}}),u.prototype.use=function(d){s(d);let f=this._baseState;return s(f.use===null),f.use=d,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(d){let f=this._baseState;return s(f.default===null),f.default=d,f.optional=!0,this},u.prototype.explicit=function(d){let f=this._baseState;return s(f.explicit===null&&f.implicit===null),f.explicit=d,this},u.prototype.implicit=function(d){let f=this._baseState;return s(f.explicit===null&&f.implicit===null),f.implicit=d,this},u.prototype.obj=function(){let d=this._baseState,f=Array.prototype.slice.call(arguments);return d.obj=!0,f.length!==0&&this._useArgs(f),this},u.prototype.key=function(d){let f=this._baseState;return s(f.key===null),f.key=d,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(d){let f=this._baseState;return s(f.choice===null),f.choice=d,this._useArgs(Object.keys(d).map(function(p){return d[p]})),this},u.prototype.contains=function(d){let f=this._baseState;return s(f.use===null),f.contains=d,this},u.prototype._decode=function(d,f){let p=this._baseState;if(p.parent===null)return d.wrapResult(p.children[0]._decode(d,f));let h,y=p.default,m=!0,_=null;if(p.key!==null&&(_=d.enterKey(p.key)),p.optional){let x=null;if(p.explicit!==null?x=p.explicit:p.implicit!==null?x=p.implicit:p.tag!==null&&(x=p.tag),x!==null||p.any){if(m=this._peekTag(d,x,p.any),d.isError(m))return m}else{let D=d.save();try{p.choice===null?this._decodeGeneric(p.tag,d,f):this._decodeChoice(d,f),m=!0}catch{m=!1}d.restore(D)}}if(p.obj&&m&&(h=d.enterObject()),m){if(p.explicit!==null){let D=this._decodeTag(d,p.explicit);if(d.isError(D))return D;d=D}let x=d.offset;if(p.use===null&&p.choice===null){let D;p.any&&(D=d.save());let L=this._decodeTag(d,p.implicit!==null?p.implicit:p.tag,p.any);if(d.isError(L))return L;p.any?y=d.raw(D):d=L}if(f&&f.track&&p.tag!==null&&f.track(d.path(),x,d.length,"tagged"),f&&f.track&&p.tag!==null&&f.track(d.path(),d.offset,d.length,"content"),p.any||(y=p.choice===null?this._decodeGeneric(p.tag,d,f):this._decodeChoice(d,f)),d.isError(y))return y;if(p.any||p.choice!==null||p.children===null||p.children.forEach(function(D){D._decode(d,f)}),p.contains&&(p.tag==="octstr"||p.tag==="bitstr")){let D=new o(y);y=this._getUse(p.contains,d._reporterState.obj)._decode(D,f)}}return p.obj&&m&&(y=d.leaveObject(h)),p.key===null||y===null&&m!==!0?_!==null&&d.exitKey(_):d.leaveKey(_,p.key,y),y},u.prototype._decodeGeneric=function(d,f,p){let h=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(f,d,h.args[0],p):/str$/.test(d)?this._decodeStr(f,d,p):d==="objid"&&h.args?this._decodeObjid(f,h.args[0],h.args[1],p):d==="objid"?this._decodeObjid(f,null,null,p):d==="gentime"||d==="utctime"?this._decodeTime(f,d,p):d==="null_"?this._decodeNull(f,p):d==="bool"?this._decodeBool(f,p):d==="objDesc"?this._decodeStr(f,d,p):d==="int"||d==="enum"?this._decodeInt(f,h.args&&h.args[0],p):h.use!==null?this._getUse(h.use,f._reporterState.obj)._decode(f,p):f.error("unknown tag: "+d)},u.prototype._getUse=function(d,f){let p=this._baseState;return p.useDecoder=this._use(d,f),s(p.useDecoder._baseState.parent===null),p.useDecoder=p.useDecoder._baseState.children[0],p.implicit!==p.useDecoder._baseState.implicit&&(p.useDecoder=p.useDecoder.clone(),p.useDecoder._baseState.implicit=p.implicit),p.useDecoder},u.prototype._decodeChoice=function(d,f){let p=this._baseState,h=null,y=!1;return Object.keys(p.choice).some(function(m){let _=d.save(),x=p.choice[m];try{let D=x._decode(d,f);if(d.isError(D))return!1;h={type:m,value:D},y=!0}catch{return d.restore(_),!1}return!0},this),y?h:d.error("Choice not matched")},u.prototype._createEncoderBuffer=function(d){return new i(d,this.reporter)},u.prototype._encode=function(d,f,p){let h=this._baseState;if(h.default!==null&&h.default===d)return;let y=this._encodeValue(d,f,p);return y===void 0||this._skipDefault(y,f,p)?void 0:y},u.prototype._encodeValue=function(d,f,p){let h=this._baseState;if(h.parent===null)return h.children[0]._encode(d,f||new r);let y=null;if(this.reporter=f,h.optional&&d===void 0){if(h.default===null)return;d=h.default}let m=null,_=!1;if(h.any)y=this._createEncoderBuffer(d);else if(h.choice)y=this._encodeChoice(d,f);else if(h.contains)m=this._getUse(h.contains,p)._encode(d,f),_=!0;else if(h.children)m=h.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,f,d);if(x._baseState.key===null)return f.error("Child should have a key");let D=f.enterKey(x._baseState.key);if(typeof d!="object")return f.error("Child expected, but input is not object");let L=x._encode(d[x._baseState.key],f,d);return f.leaveKey(D),L},this).filter(function(x){return x}),m=this._createEncoderBuffer(m);else if(h.tag==="seqof"||h.tag==="setof"){if(!h.args||h.args.length!==1)return f.error("Too many args for : "+h.tag);if(!Array.isArray(d))return f.error("seqof/setof, but data is not Array");let x=this.clone();x._baseState.implicit=null,m=this._createEncoderBuffer(d.map(function(D){let L=this._baseState;return this._getUse(L.args[0],d)._encode(D,f)},x))}else h.use!==null?y=this._getUse(h.use,p)._encode(d,f):(m=this._encodePrimitive(h.tag,d),_=!0);if(!h.any&&h.choice===null){let x=h.implicit!==null?h.implicit:h.tag,D=h.implicit===null?"universal":"context";x===null?h.use===null&&f.error("Tag could be omitted only for .use()"):h.use===null&&(y=this._encodeComposite(x,_,D,m))}return h.explicit!==null&&(y=this._encodeComposite(h.explicit,!1,"context",y)),y},u.prototype._encodeChoice=function(d,f){let p=this._baseState,h=p.choice[d.type];return h||s(!1,d.type+" not found in "+JSON.stringify(Object.keys(p.choice))),h._encode(d.value,f)},u.prototype._encodePrimitive=function(d,f){let p=this._baseState;if(/str$/.test(d))return this._encodeStr(f,d);if(d==="objid"&&p.args)return this._encodeObjid(f,p.reverseArgs[0],p.args[1]);if(d==="objid")return this._encodeObjid(f,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(f,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(f,p.args&&p.reverseArgs[0]);if(d==="bool")return this._encodeBool(f);if(d==="objDesc")return this._encodeStr(f,d);throw new Error("Unsupported tag: "+d)},u.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},u.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,e,n){"use strict";let r=t("inherits");function i(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function o(s,a){this.path=s,this.rethrow(a)}n.Reporter=i,i.prototype.isError=function(s){return s instanceof o},i.prototype.save=function(){let s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},i.prototype.restore=function(s){let a=this._reporterState;a.obj=s.obj,a.path=a.path.slice(0,s.pathLen)},i.prototype.enterKey=function(s){return this._reporterState.path.push(s)},i.prototype.exitKey=function(s){let a=this._reporterState;a.path=a.path.slice(0,s-1)},i.prototype.leaveKey=function(s,a,c){let u=this._reporterState;this.exitKey(s),u.obj!==null&&(u.obj[a]=c)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let s=this._reporterState,a=s.obj;return s.obj={},a},i.prototype.leaveObject=function(s){let a=this._reporterState,c=a.obj;return a.obj=s,c},i.prototype.error=function(s){let a,c=this._reporterState,u=s instanceof o;if(a=u?s:new o(c.path.map(function(l){return"["+JSON.stringify(l)+"]"}).join(""),s.message||s,s.stack),!c.options.partial)throw a;return u||c.errors.push(a),a},i.prototype.wrapResult=function(s){let a=this._reporterState;return a.options.partial?{result:this.isError(s)?null:s,errors:a.errors}:s},r(o,Error),o.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(t,e,n){"use strict";function r(i){let o={};return Object.keys(i).forEach(function(s){(0|s)==s&&(s|=0);let a=i[s];o[a]=s}),o}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r(n.tag)},{}],177:[function(t,e,n){"use strict";let r=n;r._reverse=function(i){let o={};return Object.keys(i).forEach(function(s){(0|s)==s&&(s|=0);let a=i[s];o[a]=s}),o},r.der=t("./der")},{"./der":176}],178:[function(t,e,n){"use strict";let r=t("inherits"),i=t("bn.js"),o=t("../base/buffer").DecoderBuffer,s=t("../base/node"),a=t("../constants/der");function c(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){s.call(this,"der",f)}function l(f,p){let h=f.readUInt8(p);if(f.isError(h))return h;let y=a.tagClass[h>>6],m=(32&h)==0;if((31&h)==31){let _=h;for(h=0;(128&_)==128;){if(_=f.readUInt8(p),f.isError(_))return _;h<<=7,h|=127&_}}else h&=31;return{cls:y,primitive:m,tag:h,tagStr:a.tag[h]}}function d(f,p,h){let y=f.readUInt8(h);if(f.isError(y))return y;if(!p&&y===128)return null;if((128&y)==0)return y;let m=127&y;if(m>4)return f.error("length octect is too long");y=0;for(let _=0;_<m;_++){y<<=8;let x=f.readUInt8(h);if(f.isError(x))return x;y|=x}return y}e.exports=c,c.prototype.decode=function(f,p){return o.isDecoderBuffer(f)||(f=new o(f,p)),this.tree._decode(f,p)},r(u,s),u.prototype._peekTag=function(f,p,h){if(f.isEmpty())return!1;let y=f.save(),m=l(f,'Failed to peek tag: "'+p+'"');return f.isError(m)?m:(f.restore(y),m.tag===p||m.tagStr===p||m.tagStr+"of"===p||h)},u.prototype._decodeTag=function(f,p,h){let y=l(f,'Failed to decode tag of "'+p+'"');if(f.isError(y))return y;let m=d(f,y.primitive,'Failed to get length of "'+p+'"');if(f.isError(m))return m;if(!h&&y.tag!==p&&y.tagStr!==p&&y.tagStr+"of"!==p)return f.error('Failed to match tag: "'+p+'"');if(y.primitive||m!==null)return f.skip(m,'Failed to match body of: "'+p+'"');let _=f.save(),x=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(x)?x:(m=f.offset-_.offset,f.restore(_),f.skip(m,'Failed to match body of: "'+p+'"'))},u.prototype._skipUntilEnd=function(f,p){for(;;){let h=l(f,p);if(f.isError(h))return h;let y=d(f,h.primitive,p);if(f.isError(y))return y;let m;if(m=h.primitive||y!==null?f.skip(y):this._skipUntilEnd(f,p),f.isError(m))return m;if(h.tagStr==="end")break}},u.prototype._decodeList=function(f,p,h,y){let m=[];for(;!f.isEmpty();){let _=this._peekTag(f,"end");if(f.isError(_))return _;let x=h.decode(f,"der",y);if(f.isError(x)&&_)break;m.push(x)}return m},u.prototype._decodeStr=function(f,p){if(p==="bitstr"){let h=f.readUInt8();return f.isError(h)?h:{unused:h,data:f.raw()}}if(p==="bmpstr"){let h=f.raw();if(h.length%2==1)return f.error("Decoding of string type: bmpstr length mismatch");let y="";for(let m=0;m<h.length/2;m++)y+=String.fromCharCode(h.readUInt16BE(2*m));return y}if(p==="numstr"){let h=f.raw().toString("ascii");return this._isNumstr(h)?h:f.error("Decoding of string type: numstr unsupported characters")}if(p==="octstr"||p==="objDesc")return f.raw();if(p==="printstr"){let h=f.raw().toString("ascii");return this._isPrintstr(h)?h:f.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(p)?f.raw().toString():f.error("Decoding of string type: "+p+" unsupported")},u.prototype._decodeObjid=function(f,p,h){let y,m=[],_=0,x=0;for(;!f.isEmpty();)x=f.readUInt8(),_<<=7,_|=127&x,(128&x)==0&&(m.push(_),_=0);128&x&&m.push(_);let D=m[0]/40|0,L=m[0]%40;if(y=h?m:[D,L].concat(m.slice(1)),p){let $=p[y.join(" ")];$===void 0&&($=p[y.join(".")]),$!==void 0&&(y=$)}return y},u.prototype._decodeTime=function(f,p){let h=f.raw().toString(),y,m,_,x,D,L;if(p==="gentime")y=0|h.slice(0,4),m=0|h.slice(4,6),_=0|h.slice(6,8),x=0|h.slice(8,10),D=0|h.slice(10,12),L=0|h.slice(12,14);else{if(p!=="utctime")return f.error("Decoding "+p+" time is not supported yet");y=0|h.slice(0,2),m=0|h.slice(2,4),_=0|h.slice(4,6),x=0|h.slice(6,8),D=0|h.slice(8,10),L=0|h.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,m-1,_,x,D,L,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(f){let p=f.readUInt8();return f.isError(p)?p:p!==0},u.prototype._decodeInt=function(f,p){let h=f.raw(),y=new i(h);return p&&(y=p[y.toString(10)]||y),y},u.prototype._use=function(f,p){return typeof f=="function"&&(f=f(p)),f._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,e,n){"use strict";let r=n;r.der=t("./der"),r.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,e,n){"use strict";let r=t("inherits"),i=t("safer-buffer").Buffer,o=t("./der");function s(a){o.call(this,a),this.enc="pem"}r(s,o),e.exports=s,s.prototype.decode=function(a,c){let u=a.toString().split(/[\r\n]+/g),l=c.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,p=-1;for(let m=0;m<u.length;m++){let _=u[m].match(d);if(_!==null&&_[2]===l){if(f!==-1){if(_[1]!=="END")break;p=m;break}if(_[1]!=="BEGIN")break;f=m}}if(f===-1||p===-1)throw new Error("PEM section not found for: "+l);let h=u.slice(f+1,p).join("");h.replace(/[^a-z0-9+/=]+/gi,"");let y=i.from(h,"base64");return o.prototype.decode.call(this,y,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,e,n){"use strict";let r=t("inherits"),i=t("safer-buffer").Buffer,o=t("../base/node"),s=t("../constants/der");function a(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new c,this.tree._init(l.body)}function c(l){o.call(this,"der",l)}function u(l){return l<10?"0"+l:l}e.exports=a,a.prototype.encode=function(l,d){return this.tree._encode(l,d).join()},r(c,o),c.prototype._encodeComposite=function(l,d,f,p){let h=(function(_,x,D,L){let $;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),s.tagByName.hasOwnProperty(_))$=s.tagByName[_];else{if(typeof _!="number"||(0|_)!==_)return L.error("Unknown tag: "+_);$=_}return $>=31?L.error("Multi-octet tag encoding unsupported"):(x||($|=32),$|=s.tagClassByName[D||"universal"]<<6,$)})(l,d,f,this.reporter);if(p.length<128){let _=i.alloc(2);return _[0]=h,_[1]=p.length,this._createEncoderBuffer([_,p])}let y=1;for(let _=p.length;_>=256;_>>=8)y++;let m=i.alloc(2+y);m[0]=h,m[1]=128|y;for(let _=1+y,x=p.length;x>0;_--,x>>=8)m[_]=255&x;return this._createEncoderBuffer([m,p])},c.prototype._encodeStr=function(l,d){if(d==="bitstr")return this._createEncoderBuffer([0|l.unused,l.data]);if(d==="bmpstr"){let f=i.alloc(2*l.length);for(let p=0;p<l.length;p++)f.writeUInt16BE(l.charCodeAt(p),2*p);return this._createEncoderBuffer(f)}return d==="numstr"?this._isNumstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: "+d+" unsupported")},c.prototype._encodeObjid=function(l,d,f){if(typeof l=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(l))return this.reporter.error("objid not found in values map");l=d[l].split(/[\s.]+/g);for(let m=0;m<l.length;m++)l[m]|=0}else if(Array.isArray(l)){l=l.slice();for(let m=0;m<l.length;m++)l[m]|=0}if(!Array.isArray(l))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(l));if(!f){if(l[1]>=40)return this.reporter.error("Second objid identifier OOB");l.splice(0,2,40*l[0]+l[1])}let p=0;for(let m=0;m<l.length;m++){let _=l[m];for(p++;_>=128;_>>=7)p++}let h=i.alloc(p),y=h.length-1;for(let m=l.length-1;m>=0;m--){let _=l[m];for(h[y--]=127&_;(_>>=7)>0;)h[y--]=128|127&_}return this._createEncoderBuffer(h)},c.prototype._encodeTime=function(l,d){let f,p=new Date(l);return d==="gentime"?f=[u(p.getUTCFullYear()),u(p.getUTCMonth()+1),u(p.getUTCDate()),u(p.getUTCHours()),u(p.getUTCMinutes()),u(p.getUTCSeconds()),"Z"].join(""):d==="utctime"?f=[u(p.getUTCFullYear()%100),u(p.getUTCMonth()+1),u(p.getUTCDate()),u(p.getUTCHours()),u(p.getUTCMinutes()),u(p.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(f,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(l,d){if(typeof l=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(l))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(l));l=d[l]}if(typeof l!="number"&&!i.isBuffer(l)){let h=l.toArray();!l.sign&&128&h[0]&&h.unshift(0),l=i.from(h)}if(i.isBuffer(l)){let h=l.length;l.length===0&&h++;let y=i.alloc(h);return l.copy(y),l.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(l<128)return this._createEncoderBuffer(l);if(l<256)return this._createEncoderBuffer([0,l]);let f=1;for(let h=l;h>=256;h>>=8)f++;let p=new Array(f);for(let h=p.length-1;h>=0;h--)p[h]=255&l,l>>=8;return 128&p[0]&&p.unshift(0),this._createEncoderBuffer(i.from(p))},c.prototype._encodeBool=function(l){return this._createEncoderBuffer(l?255:0)},c.prototype._use=function(l,d){return typeof l=="function"&&(l=l(d)),l._getEncoder("der").tree},c.prototype._skipDefault=function(l,d,f){let p=this._baseState,h;if(p.default===null)return!1;let y=l.join();if(p.defaultBuffer===void 0&&(p.defaultBuffer=this._encodeValue(p.default,d,f).join()),y.length!==p.defaultBuffer.length)return!1;for(h=0;h<y.length;h++)if(y[h]!==p.defaultBuffer[h])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,e,n){"use strict";let r=n;r.der=t("./der"),r.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,e,n){"use strict";let r=t("inherits"),i=t("./der");function o(s){i.call(this,s),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(s,a){let c=i.prototype.encode.call(this,s).toString("base64"),u=["-----BEGIN "+a.label+"-----"];for(let l=0;l<c.length;l+=64)u.push(c.slice(l,l+64));return u.push("-----END "+a.label+"-----"),u.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,e,n){"use strict";(function(r,i){function o(E,I){if(!E)throw new Error(I||"Assertion failed")}function s(E,I){E.super_=I;var A=function(){};A.prototype=I.prototype,E.prototype=new A,E.prototype.constructor=E}function a(E,I,A){if(a.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(I!=="le"&&I!=="be"||(A=I,I=10),this._init(E||0,I||10,A||"be"))}var c;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function u(E,I){var A=E.charCodeAt(I);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function l(E,I,A){var g=u(E,A);return A-1>=I&&(g|=u(E,A-1)<<4),g}function d(E,I,A,g){for(var v=0,w=Math.min(E.length,A),b=I;b<w;b++){var C=E.charCodeAt(b)-48;v*=g,v+=C>=49?C-49+10:C>=17?C-17+10:C}return v}a.isBN=function(E){return E instanceof a||E!==null&&typeof E=="object"&&E.constructor.wordSize===a.wordSize&&Array.isArray(E.words)},a.max=function(E,I){return E.cmp(I)>0?E:I},a.min=function(E,I){return E.cmp(I)<0?E:I},a.prototype._init=function(E,I,A){if(typeof E=="number")return this._initNumber(E,I,A);if(typeof E=="object")return this._initArray(E,I,A);I==="hex"&&(I=16),o(I===(0|I)&&I>=2&&I<=36);var g=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(g++,this.negative=1),g<E.length&&(I===16?this._parseHex(E,g,A):(this._parseBase(E,I,g),A==="le"&&this._initArray(this.toArray(),I,A)))},a.prototype._initNumber=function(E,I,A){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(o(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),I,A)},a.prototype._initArray=function(E,I,A){if(o(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var v,w,b=0;if(A==="be")for(g=E.length-1,v=0;g>=0;g-=3)w=E[g]|E[g-1]<<8|E[g-2]<<16,this.words[v]|=w<<b&67108863,this.words[v+1]=w>>>26-b&67108863,(b+=24)>=26&&(b-=26,v++);else if(A==="le")for(g=0,v=0;g<E.length;g+=3)w=E[g]|E[g+1]<<8|E[g+2]<<16,this.words[v]|=w<<b&67108863,this.words[v+1]=w>>>26-b&67108863,(b+=24)>=26&&(b-=26,v++);return this.strip()},a.prototype._parseHex=function(E,I,A){this.length=Math.ceil((E.length-I)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var v,w=0,b=0;if(A==="be")for(g=E.length-1;g>=I;g-=2)v=l(E,I,g)<<w,this.words[b]|=67108863&v,w>=18?(w-=18,b+=1,this.words[b]|=v>>>26):w+=8;else for(g=(E.length-I)%2==0?I+1:I;g<E.length;g+=2)v=l(E,I,g)<<w,this.words[b]|=67108863&v,w>=18?(w-=18,b+=1,this.words[b]|=v>>>26):w+=8;this.strip()},a.prototype._parseBase=function(E,I,A){this.words=[0],this.length=1;for(var g=0,v=1;v<=67108863;v*=I)g++;g--,v=v/I|0;for(var w=E.length-A,b=w%g,C=Math.min(w,w-b)+A,S=0,F=A;F<C;F+=g)S=d(E,F,F+g,I),this.imuln(v),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(b!==0){var q=1;for(S=d(E,F,E.length,I),F=0;F<b;F++)q*=I;this.imuln(q),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this.strip()},a.prototype.copy=function(E){E.words=new Array(this.length);for(var I=0;I<this.length;I++)E.words[I]=this.words[I];E.length=this.length,E.negative=this.negative,E.red=this.red},a.prototype.clone=function(){var E=new a(null);return this.copy(E),E},a.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(E,I,A){A.negative=I.negative^E.negative;var g=E.length+I.length|0;A.length=g,g=g-1|0;var v=0|E.words[0],w=0|I.words[0],b=v*w,C=67108863&b,S=b/67108864|0;A.words[0]=C;for(var F=1;F<g;F++){for(var q=S>>>26,z=67108863&S,Y=Math.min(F,I.length-1),P=Math.max(0,F-E.length+1);P<=Y;P++){var K=F-P|0;q+=(b=(v=0|E.words[K])*(w=0|I.words[P])+z)/67108864|0,z=67108863&b}A.words[F]=0|z,S=0|q}return S!==0?A.words[F]=0|S:A.length--,A.strip()}a.prototype.toString=function(E,I){var A;if(I=0|I||1,(E=E||10)===16||E==="hex"){A="";for(var g=0,v=0,w=0;w<this.length;w++){var b=this.words[w],C=(16777215&(b<<g|v)).toString(16);A=(v=b>>>24-g&16777215)!==0||w!==this.length-1?f[6-C.length]+C+A:C+A,(g+=2)>=26&&(g-=26,w--)}for(v!==0&&(A=v.toString(16)+A);A.length%I!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(E===(0|E)&&E>=2&&E<=36){var S=p[E],F=h[E];A="";var q=this.clone();for(q.negative=0;!q.isZero();){var z=q.modn(F).toString(E);A=(q=q.idivn(F)).isZero()?z+A:f[S-z.length]+z+A}for(this.isZero()&&(A="0"+A);A.length%I!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(E,I){return o(c!==void 0),this.toArrayLike(c,E,I)},a.prototype.toArray=function(E,I){return this.toArrayLike(Array,E,I)},a.prototype.toArrayLike=function(E,I,A){var g=this.byteLength(),v=A||Math.max(1,g);o(g<=v,"byte array longer than desired length"),o(v>0,"Requested array length <= 0"),this.strip();var w,b,C=I==="le",S=new E(v),F=this.clone();if(C){for(b=0;!F.isZero();b++)w=F.andln(255),F.iushrn(8),S[b]=w;for(;b<v;b++)S[b]=0}else{for(b=0;b<v-g;b++)S[b]=0;for(b=0;!F.isZero();b++)w=F.andln(255),F.iushrn(8),S[v-b-1]=w}return S},Math.clz32?a.prototype._countBits=function(E){return 32-Math.clz32(E)}:a.prototype._countBits=function(E){var I=E,A=0;return I>=4096&&(A+=13,I>>>=13),I>=64&&(A+=7,I>>>=7),I>=8&&(A+=4,I>>>=4),I>=2&&(A+=2,I>>>=2),A+I},a.prototype._zeroBits=function(E){if(E===0)return 26;var I=E,A=0;return(8191&I)==0&&(A+=13,I>>>=13),(127&I)==0&&(A+=7,I>>>=7),(15&I)==0&&(A+=4,I>>>=4),(3&I)==0&&(A+=2,I>>>=2),(1&I)==0&&A++,A},a.prototype.bitLength=function(){var E=this.words[this.length-1],I=this._countBits(E);return 26*(this.length-1)+I},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,I=0;I<this.length;I++){var A=this._zeroBits(this.words[I]);if(E+=A,A!==26)break}return E},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},a.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]|E.words[I];return this.strip()},a.prototype.ior=function(E){return o((this.negative|E.negative)==0),this.iuor(E)},a.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},a.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},a.prototype.iuand=function(E){var I;I=this.length>E.length?E:this;for(var A=0;A<I.length;A++)this.words[A]=this.words[A]&E.words[A];return this.length=I.length,this.strip()},a.prototype.iand=function(E){return o((this.negative|E.negative)==0),this.iuand(E)},a.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},a.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},a.prototype.iuxor=function(E){var I,A;this.length>E.length?(I=this,A=E):(I=E,A=this);for(var g=0;g<A.length;g++)this.words[g]=I.words[g]^A.words[g];if(this!==I)for(;g<I.length;g++)this.words[g]=I.words[g];return this.length=I.length,this.strip()},a.prototype.ixor=function(E){return o((this.negative|E.negative)==0),this.iuxor(E)},a.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},a.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},a.prototype.inotn=function(E){o(typeof E=="number"&&E>=0);var I=0|Math.ceil(E/26),A=E%26;this._expand(I),A>0&&I--;for(var g=0;g<I;g++)this.words[g]=67108863&~this.words[g];return A>0&&(this.words[g]=~this.words[g]&67108863>>26-A),this.strip()},a.prototype.notn=function(E){return this.clone().inotn(E)},a.prototype.setn=function(E,I){o(typeof E=="number"&&E>=0);var A=E/26|0,g=E%26;return this._expand(A+1),this.words[A]=I?this.words[A]|1<<g:this.words[A]&~(1<<g),this.strip()},a.prototype.iadd=function(E){var I,A,g;if(this.negative!==0&&E.negative===0)return this.negative=0,I=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,I=this.isub(E),E.negative=1,I._normSign();this.length>E.length?(A=this,g=E):(A=E,g=this);for(var v=0,w=0;w<g.length;w++)I=(0|A.words[w])+(0|g.words[w])+v,this.words[w]=67108863&I,v=I>>>26;for(;v!==0&&w<A.length;w++)I=(0|A.words[w])+v,this.words[w]=67108863&I,v=I>>>26;if(this.length=A.length,v!==0)this.words[this.length]=v,this.length++;else if(A!==this)for(;w<A.length;w++)this.words[w]=A.words[w];return this},a.prototype.add=function(E){var I;return E.negative!==0&&this.negative===0?(E.negative=0,I=this.sub(E),E.negative^=1,I):E.negative===0&&this.negative!==0?(this.negative=0,I=E.sub(this),this.negative=1,I):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},a.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var I=this.iadd(E);return E.negative=1,I._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var A,g,v=this.cmp(E);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(A=this,g=E):(A=E,g=this);for(var w=0,b=0;b<g.length;b++)w=(I=(0|A.words[b])-(0|g.words[b])+w)>>26,this.words[b]=67108863&I;for(;w!==0&&b<A.length;b++)w=(I=(0|A.words[b])+w)>>26,this.words[b]=67108863&I;if(w===0&&b<A.length&&A!==this)for(;b<A.length;b++)this.words[b]=A.words[b];return this.length=Math.max(this.length,b),A!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(E){return this.clone().isub(E)};var m=function(E,I,A){var g,v,w,b=E.words,C=I.words,S=A.words,F=0,q=0|b[0],z=8191&q,Y=q>>>13,P=0|b[1],K=8191&P,k=P>>>13,M=0|b[2],H=8191&M,Z=M>>>13,ie=0|b[3],J=8191&ie,ne=ie>>>13,de=0|b[4],ue=8191&de,ee=de>>>13,le=0|b[5],te=8191&le,ae=le>>>13,he=0|b[6],fe=8191&he,ve=he>>>13,Ae=0|b[7],Re=8191&Ae,Oe=Ae>>>13,ut=0|b[8],He=8191&ut,Ye=ut>>>13,Ht=0|b[9],dt=8191&Ht,Qe=Ht>>>13,pt=0|C[0],Ue=8191&pt,Ve=pt>>>13,Nt=0|C[1],nt=8191&Nt,mt=Nt>>>13,Ar=0|C[2],gt=8191&Ar,bt=Ar>>>13,Jn=0|C[3],It=8191&Jn,Mt=Jn>>>13,Mn=0|C[4],Ct=8191&Mn,vt=Mn>>>13,er=0|C[5],kt=8191&er,_t=er>>>13,Br=0|C[6],Pt=8191&Br,ce=Br>>>13,we=0|C[7],xe=8191&we,ke=we>>>13,tn=0|C[8],We=8191&tn,tt=tn>>>13,nn=0|C[9],yt=8191&nn,et=nn>>>13;A.negative=E.negative^I.negative,A.length=19;var fn=(F+(g=Math.imul(z,Ue))|0)+((8191&(v=(v=Math.imul(z,Ve))+Math.imul(Y,Ue)|0))<<13)|0;F=((w=Math.imul(Y,Ve))+(v>>>13)|0)+(fn>>>26)|0,fn&=67108863,g=Math.imul(K,Ue),v=(v=Math.imul(K,Ve))+Math.imul(k,Ue)|0,w=Math.imul(k,Ve);var Wt=(F+(g=g+Math.imul(z,nt)|0)|0)+((8191&(v=(v=v+Math.imul(z,mt)|0)+Math.imul(Y,nt)|0))<<13)|0;F=((w=w+Math.imul(Y,mt)|0)+(v>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,g=Math.imul(H,Ue),v=(v=Math.imul(H,Ve))+Math.imul(Z,Ue)|0,w=Math.imul(Z,Ve),g=g+Math.imul(K,nt)|0,v=(v=v+Math.imul(K,mt)|0)+Math.imul(k,nt)|0,w=w+Math.imul(k,mt)|0;var Kt=(F+(g=g+Math.imul(z,gt)|0)|0)+((8191&(v=(v=v+Math.imul(z,bt)|0)+Math.imul(Y,gt)|0))<<13)|0;F=((w=w+Math.imul(Y,bt)|0)+(v>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,g=Math.imul(J,Ue),v=(v=Math.imul(J,Ve))+Math.imul(ne,Ue)|0,w=Math.imul(ne,Ve),g=g+Math.imul(H,nt)|0,v=(v=v+Math.imul(H,mt)|0)+Math.imul(Z,nt)|0,w=w+Math.imul(Z,mt)|0,g=g+Math.imul(K,gt)|0,v=(v=v+Math.imul(K,bt)|0)+Math.imul(k,gt)|0,w=w+Math.imul(k,bt)|0;var Sn=(F+(g=g+Math.imul(z,It)|0)|0)+((8191&(v=(v=v+Math.imul(z,Mt)|0)+Math.imul(Y,It)|0))<<13)|0;F=((w=w+Math.imul(Y,Mt)|0)+(v>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,g=Math.imul(ue,Ue),v=(v=Math.imul(ue,Ve))+Math.imul(ee,Ue)|0,w=Math.imul(ee,Ve),g=g+Math.imul(J,nt)|0,v=(v=v+Math.imul(J,mt)|0)+Math.imul(ne,nt)|0,w=w+Math.imul(ne,mt)|0,g=g+Math.imul(H,gt)|0,v=(v=v+Math.imul(H,bt)|0)+Math.imul(Z,gt)|0,w=w+Math.imul(Z,bt)|0,g=g+Math.imul(K,It)|0,v=(v=v+Math.imul(K,Mt)|0)+Math.imul(k,It)|0,w=w+Math.imul(k,Mt)|0;var Gn=(F+(g=g+Math.imul(z,Ct)|0)|0)+((8191&(v=(v=v+Math.imul(z,vt)|0)+Math.imul(Y,Ct)|0))<<13)|0;F=((w=w+Math.imul(Y,vt)|0)+(v>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(te,Ue),v=(v=Math.imul(te,Ve))+Math.imul(ae,Ue)|0,w=Math.imul(ae,Ve),g=g+Math.imul(ue,nt)|0,v=(v=v+Math.imul(ue,mt)|0)+Math.imul(ee,nt)|0,w=w+Math.imul(ee,mt)|0,g=g+Math.imul(J,gt)|0,v=(v=v+Math.imul(J,bt)|0)+Math.imul(ne,gt)|0,w=w+Math.imul(ne,bt)|0,g=g+Math.imul(H,It)|0,v=(v=v+Math.imul(H,Mt)|0)+Math.imul(Z,It)|0,w=w+Math.imul(Z,Mt)|0,g=g+Math.imul(K,Ct)|0,v=(v=v+Math.imul(K,vt)|0)+Math.imul(k,Ct)|0,w=w+Math.imul(k,vt)|0;var gr=(F+(g=g+Math.imul(z,kt)|0)|0)+((8191&(v=(v=v+Math.imul(z,_t)|0)+Math.imul(Y,kt)|0))<<13)|0;F=((w=w+Math.imul(Y,_t)|0)+(v>>>13)|0)+(gr>>>26)|0,gr&=67108863,g=Math.imul(fe,Ue),v=(v=Math.imul(fe,Ve))+Math.imul(ve,Ue)|0,w=Math.imul(ve,Ve),g=g+Math.imul(te,nt)|0,v=(v=v+Math.imul(te,mt)|0)+Math.imul(ae,nt)|0,w=w+Math.imul(ae,mt)|0,g=g+Math.imul(ue,gt)|0,v=(v=v+Math.imul(ue,bt)|0)+Math.imul(ee,gt)|0,w=w+Math.imul(ee,bt)|0,g=g+Math.imul(J,It)|0,v=(v=v+Math.imul(J,Mt)|0)+Math.imul(ne,It)|0,w=w+Math.imul(ne,Mt)|0,g=g+Math.imul(H,Ct)|0,v=(v=v+Math.imul(H,vt)|0)+Math.imul(Z,Ct)|0,w=w+Math.imul(Z,vt)|0,g=g+Math.imul(K,kt)|0,v=(v=v+Math.imul(K,_t)|0)+Math.imul(k,kt)|0,w=w+Math.imul(k,_t)|0;var Mr=(F+(g=g+Math.imul(z,Pt)|0)|0)+((8191&(v=(v=v+Math.imul(z,ce)|0)+Math.imul(Y,Pt)|0))<<13)|0;F=((w=w+Math.imul(Y,ce)|0)+(v>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,g=Math.imul(Re,Ue),v=(v=Math.imul(Re,Ve))+Math.imul(Oe,Ue)|0,w=Math.imul(Oe,Ve),g=g+Math.imul(fe,nt)|0,v=(v=v+Math.imul(fe,mt)|0)+Math.imul(ve,nt)|0,w=w+Math.imul(ve,mt)|0,g=g+Math.imul(te,gt)|0,v=(v=v+Math.imul(te,bt)|0)+Math.imul(ae,gt)|0,w=w+Math.imul(ae,bt)|0,g=g+Math.imul(ue,It)|0,v=(v=v+Math.imul(ue,Mt)|0)+Math.imul(ee,It)|0,w=w+Math.imul(ee,Mt)|0,g=g+Math.imul(J,Ct)|0,v=(v=v+Math.imul(J,vt)|0)+Math.imul(ne,Ct)|0,w=w+Math.imul(ne,vt)|0,g=g+Math.imul(H,kt)|0,v=(v=v+Math.imul(H,_t)|0)+Math.imul(Z,kt)|0,w=w+Math.imul(Z,_t)|0,g=g+Math.imul(K,Pt)|0,v=(v=v+Math.imul(K,ce)|0)+Math.imul(k,Pt)|0,w=w+Math.imul(k,ce)|0;var rr=(F+(g=g+Math.imul(z,xe)|0)|0)+((8191&(v=(v=v+Math.imul(z,ke)|0)+Math.imul(Y,xe)|0))<<13)|0;F=((w=w+Math.imul(Y,ke)|0)+(v>>>13)|0)+(rr>>>26)|0,rr&=67108863,g=Math.imul(He,Ue),v=(v=Math.imul(He,Ve))+Math.imul(Ye,Ue)|0,w=Math.imul(Ye,Ve),g=g+Math.imul(Re,nt)|0,v=(v=v+Math.imul(Re,mt)|0)+Math.imul(Oe,nt)|0,w=w+Math.imul(Oe,mt)|0,g=g+Math.imul(fe,gt)|0,v=(v=v+Math.imul(fe,bt)|0)+Math.imul(ve,gt)|0,w=w+Math.imul(ve,bt)|0,g=g+Math.imul(te,It)|0,v=(v=v+Math.imul(te,Mt)|0)+Math.imul(ae,It)|0,w=w+Math.imul(ae,Mt)|0,g=g+Math.imul(ue,Ct)|0,v=(v=v+Math.imul(ue,vt)|0)+Math.imul(ee,Ct)|0,w=w+Math.imul(ee,vt)|0,g=g+Math.imul(J,kt)|0,v=(v=v+Math.imul(J,_t)|0)+Math.imul(ne,kt)|0,w=w+Math.imul(ne,_t)|0,g=g+Math.imul(H,Pt)|0,v=(v=v+Math.imul(H,ce)|0)+Math.imul(Z,Pt)|0,w=w+Math.imul(Z,ce)|0,g=g+Math.imul(K,xe)|0,v=(v=v+Math.imul(K,ke)|0)+Math.imul(k,xe)|0,w=w+Math.imul(k,ke)|0;var kr=(F+(g=g+Math.imul(z,We)|0)|0)+((8191&(v=(v=v+Math.imul(z,tt)|0)+Math.imul(Y,We)|0))<<13)|0;F=((w=w+Math.imul(Y,tt)|0)+(v>>>13)|0)+(kr>>>26)|0,kr&=67108863,g=Math.imul(dt,Ue),v=(v=Math.imul(dt,Ve))+Math.imul(Qe,Ue)|0,w=Math.imul(Qe,Ve),g=g+Math.imul(He,nt)|0,v=(v=v+Math.imul(He,mt)|0)+Math.imul(Ye,nt)|0,w=w+Math.imul(Ye,mt)|0,g=g+Math.imul(Re,gt)|0,v=(v=v+Math.imul(Re,bt)|0)+Math.imul(Oe,gt)|0,w=w+Math.imul(Oe,bt)|0,g=g+Math.imul(fe,It)|0,v=(v=v+Math.imul(fe,Mt)|0)+Math.imul(ve,It)|0,w=w+Math.imul(ve,Mt)|0,g=g+Math.imul(te,Ct)|0,v=(v=v+Math.imul(te,vt)|0)+Math.imul(ae,Ct)|0,w=w+Math.imul(ae,vt)|0,g=g+Math.imul(ue,kt)|0,v=(v=v+Math.imul(ue,_t)|0)+Math.imul(ee,kt)|0,w=w+Math.imul(ee,_t)|0,g=g+Math.imul(J,Pt)|0,v=(v=v+Math.imul(J,ce)|0)+Math.imul(ne,Pt)|0,w=w+Math.imul(ne,ce)|0,g=g+Math.imul(H,xe)|0,v=(v=v+Math.imul(H,ke)|0)+Math.imul(Z,xe)|0,w=w+Math.imul(Z,ke)|0,g=g+Math.imul(K,We)|0,v=(v=v+Math.imul(K,tt)|0)+Math.imul(k,We)|0,w=w+Math.imul(k,tt)|0;var se=(F+(g=g+Math.imul(z,yt)|0)|0)+((8191&(v=(v=v+Math.imul(z,et)|0)+Math.imul(Y,yt)|0))<<13)|0;F=((w=w+Math.imul(Y,et)|0)+(v>>>13)|0)+(se>>>26)|0,se&=67108863,g=Math.imul(dt,nt),v=(v=Math.imul(dt,mt))+Math.imul(Qe,nt)|0,w=Math.imul(Qe,mt),g=g+Math.imul(He,gt)|0,v=(v=v+Math.imul(He,bt)|0)+Math.imul(Ye,gt)|0,w=w+Math.imul(Ye,bt)|0,g=g+Math.imul(Re,It)|0,v=(v=v+Math.imul(Re,Mt)|0)+Math.imul(Oe,It)|0,w=w+Math.imul(Oe,Mt)|0,g=g+Math.imul(fe,Ct)|0,v=(v=v+Math.imul(fe,vt)|0)+Math.imul(ve,Ct)|0,w=w+Math.imul(ve,vt)|0,g=g+Math.imul(te,kt)|0,v=(v=v+Math.imul(te,_t)|0)+Math.imul(ae,kt)|0,w=w+Math.imul(ae,_t)|0,g=g+Math.imul(ue,Pt)|0,v=(v=v+Math.imul(ue,ce)|0)+Math.imul(ee,Pt)|0,w=w+Math.imul(ee,ce)|0,g=g+Math.imul(J,xe)|0,v=(v=v+Math.imul(J,ke)|0)+Math.imul(ne,xe)|0,w=w+Math.imul(ne,ke)|0,g=g+Math.imul(H,We)|0,v=(v=v+Math.imul(H,tt)|0)+Math.imul(Z,We)|0,w=w+Math.imul(Z,tt)|0;var be=(F+(g=g+Math.imul(K,yt)|0)|0)+((8191&(v=(v=v+Math.imul(K,et)|0)+Math.imul(k,yt)|0))<<13)|0;F=((w=w+Math.imul(k,et)|0)+(v>>>13)|0)+(be>>>26)|0,be&=67108863,g=Math.imul(dt,gt),v=(v=Math.imul(dt,bt))+Math.imul(Qe,gt)|0,w=Math.imul(Qe,bt),g=g+Math.imul(He,It)|0,v=(v=v+Math.imul(He,Mt)|0)+Math.imul(Ye,It)|0,w=w+Math.imul(Ye,Mt)|0,g=g+Math.imul(Re,Ct)|0,v=(v=v+Math.imul(Re,vt)|0)+Math.imul(Oe,Ct)|0,w=w+Math.imul(Oe,vt)|0,g=g+Math.imul(fe,kt)|0,v=(v=v+Math.imul(fe,_t)|0)+Math.imul(ve,kt)|0,w=w+Math.imul(ve,_t)|0,g=g+Math.imul(te,Pt)|0,v=(v=v+Math.imul(te,ce)|0)+Math.imul(ae,Pt)|0,w=w+Math.imul(ae,ce)|0,g=g+Math.imul(ue,xe)|0,v=(v=v+Math.imul(ue,ke)|0)+Math.imul(ee,xe)|0,w=w+Math.imul(ee,ke)|0,g=g+Math.imul(J,We)|0,v=(v=v+Math.imul(J,tt)|0)+Math.imul(ne,We)|0,w=w+Math.imul(ne,tt)|0;var De=(F+(g=g+Math.imul(H,yt)|0)|0)+((8191&(v=(v=v+Math.imul(H,et)|0)+Math.imul(Z,yt)|0))<<13)|0;F=((w=w+Math.imul(Z,et)|0)+(v>>>13)|0)+(De>>>26)|0,De&=67108863,g=Math.imul(dt,It),v=(v=Math.imul(dt,Mt))+Math.imul(Qe,It)|0,w=Math.imul(Qe,Mt),g=g+Math.imul(He,Ct)|0,v=(v=v+Math.imul(He,vt)|0)+Math.imul(Ye,Ct)|0,w=w+Math.imul(Ye,vt)|0,g=g+Math.imul(Re,kt)|0,v=(v=v+Math.imul(Re,_t)|0)+Math.imul(Oe,kt)|0,w=w+Math.imul(Oe,_t)|0,g=g+Math.imul(fe,Pt)|0,v=(v=v+Math.imul(fe,ce)|0)+Math.imul(ve,Pt)|0,w=w+Math.imul(ve,ce)|0,g=g+Math.imul(te,xe)|0,v=(v=v+Math.imul(te,ke)|0)+Math.imul(ae,xe)|0,w=w+Math.imul(ae,ke)|0,g=g+Math.imul(ue,We)|0,v=(v=v+Math.imul(ue,tt)|0)+Math.imul(ee,We)|0,w=w+Math.imul(ee,tt)|0;var Ie=(F+(g=g+Math.imul(J,yt)|0)|0)+((8191&(v=(v=v+Math.imul(J,et)|0)+Math.imul(ne,yt)|0))<<13)|0;F=((w=w+Math.imul(ne,et)|0)+(v>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,g=Math.imul(dt,Ct),v=(v=Math.imul(dt,vt))+Math.imul(Qe,Ct)|0,w=Math.imul(Qe,vt),g=g+Math.imul(He,kt)|0,v=(v=v+Math.imul(He,_t)|0)+Math.imul(Ye,kt)|0,w=w+Math.imul(Ye,_t)|0,g=g+Math.imul(Re,Pt)|0,v=(v=v+Math.imul(Re,ce)|0)+Math.imul(Oe,Pt)|0,w=w+Math.imul(Oe,ce)|0,g=g+Math.imul(fe,xe)|0,v=(v=v+Math.imul(fe,ke)|0)+Math.imul(ve,xe)|0,w=w+Math.imul(ve,ke)|0,g=g+Math.imul(te,We)|0,v=(v=v+Math.imul(te,tt)|0)+Math.imul(ae,We)|0,w=w+Math.imul(ae,tt)|0;var Be=(F+(g=g+Math.imul(ue,yt)|0)|0)+((8191&(v=(v=v+Math.imul(ue,et)|0)+Math.imul(ee,yt)|0))<<13)|0;F=((w=w+Math.imul(ee,et)|0)+(v>>>13)|0)+(Be>>>26)|0,Be&=67108863,g=Math.imul(dt,kt),v=(v=Math.imul(dt,_t))+Math.imul(Qe,kt)|0,w=Math.imul(Qe,_t),g=g+Math.imul(He,Pt)|0,v=(v=v+Math.imul(He,ce)|0)+Math.imul(Ye,Pt)|0,w=w+Math.imul(Ye,ce)|0,g=g+Math.imul(Re,xe)|0,v=(v=v+Math.imul(Re,ke)|0)+Math.imul(Oe,xe)|0,w=w+Math.imul(Oe,ke)|0,g=g+Math.imul(fe,We)|0,v=(v=v+Math.imul(fe,tt)|0)+Math.imul(ve,We)|0,w=w+Math.imul(ve,tt)|0;var st=(F+(g=g+Math.imul(te,yt)|0)|0)+((8191&(v=(v=v+Math.imul(te,et)|0)+Math.imul(ae,yt)|0))<<13)|0;F=((w=w+Math.imul(ae,et)|0)+(v>>>13)|0)+(st>>>26)|0,st&=67108863,g=Math.imul(dt,Pt),v=(v=Math.imul(dt,ce))+Math.imul(Qe,Pt)|0,w=Math.imul(Qe,ce),g=g+Math.imul(He,xe)|0,v=(v=v+Math.imul(He,ke)|0)+Math.imul(Ye,xe)|0,w=w+Math.imul(Ye,ke)|0,g=g+Math.imul(Re,We)|0,v=(v=v+Math.imul(Re,tt)|0)+Math.imul(Oe,We)|0,w=w+Math.imul(Oe,tt)|0;var at=(F+(g=g+Math.imul(fe,yt)|0)|0)+((8191&(v=(v=v+Math.imul(fe,et)|0)+Math.imul(ve,yt)|0))<<13)|0;F=((w=w+Math.imul(ve,et)|0)+(v>>>13)|0)+(at>>>26)|0,at&=67108863,g=Math.imul(dt,xe),v=(v=Math.imul(dt,ke))+Math.imul(Qe,xe)|0,w=Math.imul(Qe,ke),g=g+Math.imul(He,We)|0,v=(v=v+Math.imul(He,tt)|0)+Math.imul(Ye,We)|0,w=w+Math.imul(Ye,tt)|0;var Yt=(F+(g=g+Math.imul(Re,yt)|0)|0)+((8191&(v=(v=v+Math.imul(Re,et)|0)+Math.imul(Oe,yt)|0))<<13)|0;F=((w=w+Math.imul(Oe,et)|0)+(v>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,g=Math.imul(dt,We),v=(v=Math.imul(dt,tt))+Math.imul(Qe,We)|0,w=Math.imul(Qe,tt);var Dt=(F+(g=g+Math.imul(He,yt)|0)|0)+((8191&(v=(v=v+Math.imul(He,et)|0)+Math.imul(Ye,yt)|0))<<13)|0;F=((w=w+Math.imul(Ye,et)|0)+(v>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var St=(F+(g=Math.imul(dt,yt))|0)+((8191&(v=(v=Math.imul(dt,et))+Math.imul(Qe,yt)|0))<<13)|0;return F=((w=Math.imul(Qe,et))+(v>>>13)|0)+(St>>>26)|0,St&=67108863,S[0]=fn,S[1]=Wt,S[2]=Kt,S[3]=Sn,S[4]=Gn,S[5]=gr,S[6]=Mr,S[7]=rr,S[8]=kr,S[9]=se,S[10]=be,S[11]=De,S[12]=Ie,S[13]=Be,S[14]=st,S[15]=at,S[16]=Yt,S[17]=Dt,S[18]=St,F!==0&&(S[19]=F,A.length++),A};function _(E,I,A){return new x().mulp(E,I,A)}function x(E,I){this.x=E,this.y=I}Math.imul||(m=y),a.prototype.mulTo=function(E,I){var A=this.length+E.length;return this.length===10&&E.length===10?m(this,E,I):A<63?y(this,E,I):A<1024?(function(g,v,w){w.negative=v.negative^g.negative,w.length=g.length+v.length;for(var b=0,C=0,S=0;S<w.length-1;S++){var F=C;C=0;for(var q=67108863&b,z=Math.min(S,v.length-1),Y=Math.max(0,S-g.length+1);Y<=z;Y++){var P=S-Y,K=(0|g.words[P])*(0|v.words[Y]),k=67108863&K;q=67108863&(k=k+q|0),C+=(F=(F=F+(K/67108864|0)|0)+(k>>>26)|0)>>>26,F&=67108863}w.words[S]=q,b=F,F=C}return b!==0?w.words[S]=b:w.length--,w.strip()})(this,E,I):_(this,E,I)},x.prototype.makeRBT=function(E){for(var I=new Array(E),A=a.prototype._countBits(E)-1,g=0;g<E;g++)I[g]=this.revBin(g,A,E);return I},x.prototype.revBin=function(E,I,A){if(E===0||E===A-1)return E;for(var g=0,v=0;v<I;v++)g|=(1&E)<<I-v-1,E>>=1;return g},x.prototype.permute=function(E,I,A,g,v,w){for(var b=0;b<w;b++)g[b]=I[E[b]],v[b]=A[E[b]]},x.prototype.transform=function(E,I,A,g,v,w){this.permute(w,E,I,A,g,v);for(var b=1;b<v;b<<=1)for(var C=b<<1,S=Math.cos(2*Math.PI/C),F=Math.sin(2*Math.PI/C),q=0;q<v;q+=C)for(var z=S,Y=F,P=0;P<b;P++){var K=A[q+P],k=g[q+P],M=A[q+P+b],H=g[q+P+b],Z=z*M-Y*H;H=z*H+Y*M,M=Z,A[q+P]=K+M,g[q+P]=k+H,A[q+P+b]=K-M,g[q+P+b]=k-H,P!==C&&(Z=S*z-F*Y,Y=S*Y+F*z,z=Z)}},x.prototype.guessLen13b=function(E,I){var A=1|Math.max(I,E),g=1&A,v=0;for(A=A/2|0;A;A>>>=1)v++;return 1<<v+1+g},x.prototype.conjugate=function(E,I,A){if(!(A<=1))for(var g=0;g<A/2;g++){var v=E[g];E[g]=E[A-g-1],E[A-g-1]=v,v=I[g],I[g]=-I[A-g-1],I[A-g-1]=-v}},x.prototype.normalize13b=function(E,I){for(var A=0,g=0;g<I/2;g++){var v=8192*Math.round(E[2*g+1]/I)+Math.round(E[2*g]/I)+A;E[g]=67108863&v,A=v<67108864?0:v/67108864|0}return E},x.prototype.convert13b=function(E,I,A,g){for(var v=0,w=0;w<I;w++)v+=0|E[w],A[2*w]=8191&v,v>>>=13,A[2*w+1]=8191&v,v>>>=13;for(w=2*I;w<g;++w)A[w]=0;o(v===0),o((-8192&v)==0)},x.prototype.stub=function(E){for(var I=new Array(E),A=0;A<E;A++)I[A]=0;return I},x.prototype.mulp=function(E,I,A){var g=2*this.guessLen13b(E.length,I.length),v=this.makeRBT(g),w=this.stub(g),b=new Array(g),C=new Array(g),S=new Array(g),F=new Array(g),q=new Array(g),z=new Array(g),Y=A.words;Y.length=g,this.convert13b(E.words,E.length,b,g),this.convert13b(I.words,I.length,F,g),this.transform(b,w,C,S,g,v),this.transform(F,w,q,z,g,v);for(var P=0;P<g;P++){var K=C[P]*q[P]-S[P]*z[P];S[P]=C[P]*z[P]+S[P]*q[P],C[P]=K}return this.conjugate(C,S,g),this.transform(C,S,Y,w,g,v),this.conjugate(Y,w,g),this.normalize13b(Y,g),A.negative=E.negative^I.negative,A.length=E.length+I.length,A.strip()},a.prototype.mul=function(E){var I=new a(null);return I.words=new Array(this.length+E.length),this.mulTo(E,I)},a.prototype.mulf=function(E){var I=new a(null);return I.words=new Array(this.length+E.length),_(this,E,I)},a.prototype.imul=function(E){return this.clone().mulTo(E,this)},a.prototype.imuln=function(E){o(typeof E=="number"),o(E<67108864);for(var I=0,A=0;A<this.length;A++){var g=(0|this.words[A])*E,v=(67108863&g)+(67108863&I);I>>=26,I+=g/67108864|0,I+=v>>>26,this.words[A]=67108863&v}return I!==0&&(this.words[A]=I,this.length++),this},a.prototype.muln=function(E){return this.clone().imuln(E)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(E){var I=(function(w){for(var b=new Array(w.bitLength()),C=0;C<b.length;C++){var S=C/26|0,F=C%26;b[C]=(w.words[S]&1<<F)>>>F}return b})(E);if(I.length===0)return new a(1);for(var A=this,g=0;g<I.length&&I[g]===0;g++,A=A.sqr());if(++g<I.length)for(var v=A.sqr();g<I.length;g++,v=v.sqr())I[g]!==0&&(A=A.mul(v));return A},a.prototype.iushln=function(E){o(typeof E=="number"&&E>=0);var I,A=E%26,g=(E-A)/26,v=67108863>>>26-A<<26-A;if(A!==0){var w=0;for(I=0;I<this.length;I++){var b=this.words[I]&v,C=(0|this.words[I])-b<<A;this.words[I]=C|w,w=b>>>26-A}w&&(this.words[I]=w,this.length++)}if(g!==0){for(I=this.length-1;I>=0;I--)this.words[I+g]=this.words[I];for(I=0;I<g;I++)this.words[I]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(E){return o(this.negative===0),this.iushln(E)},a.prototype.iushrn=function(E,I,A){var g;o(typeof E=="number"&&E>=0),g=I?(I-I%26)/26:0;var v=E%26,w=Math.min((E-v)/26,this.length),b=67108863^67108863>>>v<<v,C=A;if(g-=w,g=Math.max(0,g),C){for(var S=0;S<w;S++)C.words[S]=this.words[S];C.length=w}if(w!==0)if(this.length>w)for(this.length-=w,S=0;S<this.length;S++)this.words[S]=this.words[S+w];else this.words[0]=0,this.length=1;var F=0;for(S=this.length-1;S>=0&&(F!==0||S>=g);S--){var q=0|this.words[S];this.words[S]=F<<26-v|q>>>v,F=q&b}return C&&F!==0&&(C.words[C.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(E,I,A){return o(this.negative===0),this.iushrn(E,I,A)},a.prototype.shln=function(E){return this.clone().ishln(E)},a.prototype.ushln=function(E){return this.clone().iushln(E)},a.prototype.shrn=function(E){return this.clone().ishrn(E)},a.prototype.ushrn=function(E){return this.clone().iushrn(E)},a.prototype.testn=function(E){o(typeof E=="number"&&E>=0);var I=E%26,A=(E-I)/26,g=1<<I;return!(this.length<=A)&&!!(this.words[A]&g)},a.prototype.imaskn=function(E){o(typeof E=="number"&&E>=0);var I=E%26,A=(E-I)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(I!==0&&A++,this.length=Math.min(A,this.length),I!==0){var g=67108863^67108863>>>I<<I;this.words[this.length-1]&=g}return this.strip()},a.prototype.maskn=function(E){return this.clone().imaskn(E)},a.prototype.iaddn=function(E){return o(typeof E=="number"),o(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},a.prototype._iaddn=function(E){this.words[0]+=E;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},a.prototype.isubn=function(E){if(o(typeof E=="number"),o(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},a.prototype.addn=function(E){return this.clone().iaddn(E)},a.prototype.subn=function(E){return this.clone().isubn(E)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(E,I,A){var g,v,w=E.length+A;this._expand(w);var b=0;for(g=0;g<E.length;g++){v=(0|this.words[g+A])+b;var C=(0|E.words[g])*I;b=((v-=67108863&C)>>26)-(C/67108864|0),this.words[g+A]=67108863&v}for(;g<this.length-A;g++)b=(v=(0|this.words[g+A])+b)>>26,this.words[g+A]=67108863&v;if(b===0)return this.strip();for(o(b===-1),b=0,g=0;g<this.length;g++)b=(v=-(0|this.words[g])+b)>>26,this.words[g]=67108863&v;return this.negative=1,this.strip()},a.prototype._wordDiv=function(E,I){var A=(this.length,E.length),g=this.clone(),v=E,w=0|v.words[v.length-1];(A=26-this._countBits(w))!==0&&(v=v.ushln(A),g.iushln(A),w=0|v.words[v.length-1]);var b,C=g.length-v.length;if(I!=="mod"){(b=new a(null)).length=C+1,b.words=new Array(b.length);for(var S=0;S<b.length;S++)b.words[S]=0}var F=g.clone()._ishlnsubmul(v,1,C);F.negative===0&&(g=F,b&&(b.words[C]=1));for(var q=C-1;q>=0;q--){var z=67108864*(0|g.words[v.length+q])+(0|g.words[v.length+q-1]);for(z=Math.min(z/w|0,67108863),g._ishlnsubmul(v,z,q);g.negative!==0;)z--,g.negative=0,g._ishlnsubmul(v,1,q),g.isZero()||(g.negative^=1);b&&(b.words[q]=z)}return b&&b.strip(),g.strip(),I!=="div"&&A!==0&&g.iushrn(A),{div:b||null,mod:g}},a.prototype.divmod=function(E,I,A){return o(!E.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&E.negative===0?(w=this.neg().divmod(E,I),I!=="mod"&&(g=w.div.neg()),I!=="div"&&(v=w.mod.neg(),A&&v.negative!==0&&v.iadd(E)),{div:g,mod:v}):this.negative===0&&E.negative!==0?(w=this.divmod(E.neg(),I),I!=="mod"&&(g=w.div.neg()),{div:g,mod:w.mod}):(this.negative&E.negative)!=0?(w=this.neg().divmod(E.neg(),I),I!=="div"&&(v=w.mod.neg(),A&&v.negative!==0&&v.isub(E)),{div:w.div,mod:v}):E.length>this.length||this.cmp(E)<0?{div:new a(0),mod:this}:E.length===1?I==="div"?{div:this.divn(E.words[0]),mod:null}:I==="mod"?{div:null,mod:new a(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new a(this.modn(E.words[0]))}:this._wordDiv(E,I);var g,v,w},a.prototype.div=function(E){return this.divmod(E,"div",!1).div},a.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},a.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},a.prototype.divRound=function(E){var I=this.divmod(E);if(I.mod.isZero())return I.div;var A=I.div.negative!==0?I.mod.isub(E):I.mod,g=E.ushrn(1),v=E.andln(1),w=A.cmp(g);return w<0||v===1&&w===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},a.prototype.modn=function(E){o(E<=67108863);for(var I=(1<<26)%E,A=0,g=this.length-1;g>=0;g--)A=(I*A+(0|this.words[g]))%E;return A},a.prototype.idivn=function(E){o(E<=67108863);for(var I=0,A=this.length-1;A>=0;A--){var g=(0|this.words[A])+67108864*I;this.words[A]=g/E|0,I=g%E}return this.strip()},a.prototype.divn=function(E){return this.clone().idivn(E)},a.prototype.egcd=function(E){o(E.negative===0),o(!E.isZero());var I=this,A=E.clone();I=I.negative!==0?I.umod(E):I.clone();for(var g=new a(1),v=new a(0),w=new a(0),b=new a(1),C=0;I.isEven()&&A.isEven();)I.iushrn(1),A.iushrn(1),++C;for(var S=A.clone(),F=I.clone();!I.isZero();){for(var q=0,z=1;(I.words[0]&z)==0&&q<26;++q,z<<=1);if(q>0)for(I.iushrn(q);q-- >0;)(g.isOdd()||v.isOdd())&&(g.iadd(S),v.isub(F)),g.iushrn(1),v.iushrn(1);for(var Y=0,P=1;(A.words[0]&P)==0&&Y<26;++Y,P<<=1);if(Y>0)for(A.iushrn(Y);Y-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(S),b.isub(F)),w.iushrn(1),b.iushrn(1);I.cmp(A)>=0?(I.isub(A),g.isub(w),v.isub(b)):(A.isub(I),w.isub(g),b.isub(v))}return{a:w,b,gcd:A.iushln(C)}},a.prototype._invmp=function(E){o(E.negative===0),o(!E.isZero());var I=this,A=E.clone();I=I.negative!==0?I.umod(E):I.clone();for(var g,v=new a(1),w=new a(0),b=A.clone();I.cmpn(1)>0&&A.cmpn(1)>0;){for(var C=0,S=1;(I.words[0]&S)==0&&C<26;++C,S<<=1);if(C>0)for(I.iushrn(C);C-- >0;)v.isOdd()&&v.iadd(b),v.iushrn(1);for(var F=0,q=1;(A.words[0]&q)==0&&F<26;++F,q<<=1);if(F>0)for(A.iushrn(F);F-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);I.cmp(A)>=0?(I.isub(A),v.isub(w)):(A.isub(I),w.isub(v))}return(g=I.cmpn(1)===0?v:w).cmpn(0)<0&&g.iadd(E),g},a.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var I=this.clone(),A=E.clone();I.negative=0,A.negative=0;for(var g=0;I.isEven()&&A.isEven();g++)I.iushrn(1),A.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;A.isEven();)A.iushrn(1);var v=I.cmp(A);if(v<0){var w=I;I=A,A=w}else if(v===0||A.cmpn(1)===0)break;I.isub(A)}return A.iushln(g)},a.prototype.invm=function(E){return this.egcd(E).a.umod(E)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(E){return this.words[0]&E},a.prototype.bincn=function(E){o(typeof E=="number");var I=E%26,A=(E-I)/26,g=1<<I;if(this.length<=A)return this._expand(A+1),this.words[A]|=g,this;for(var v=g,w=A;v!==0&&w<this.length;w++){var b=0|this.words[w];v=(b+=v)>>>26,b&=67108863,this.words[w]=b}return v!==0&&(this.words[w]=v,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(E){var I,A=E<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)I=1;else{A&&(E=-E),o(E<=67108863,"Number is too big");var g=0|this.words[0];I=g===E?0:g<E?-1:1}return this.negative!==0?0|-I:I},a.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var I=this.ucmp(E);return this.negative!==0?0|-I:I},a.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var I=0,A=this.length-1;A>=0;A--){var g=0|this.words[A],v=0|E.words[A];if(g!==v){g<v?I=-1:g>v&&(I=1);break}}return I},a.prototype.gtn=function(E){return this.cmpn(E)===1},a.prototype.gt=function(E){return this.cmp(E)===1},a.prototype.gten=function(E){return this.cmpn(E)>=0},a.prototype.gte=function(E){return this.cmp(E)>=0},a.prototype.ltn=function(E){return this.cmpn(E)===-1},a.prototype.lt=function(E){return this.cmp(E)===-1},a.prototype.lten=function(E){return this.cmpn(E)<=0},a.prototype.lte=function(E){return this.cmp(E)<=0},a.prototype.eqn=function(E){return this.cmpn(E)===0},a.prototype.eq=function(E){return this.cmp(E)===0},a.red=function(E){return new j(E)},a.prototype.toRed=function(E){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(E){return this.red=E,this},a.prototype.forceRed=function(E){return o(!this.red,"Already a number in reduction context"),this._forceRed(E)},a.prototype.redAdd=function(E){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},a.prototype.redIAdd=function(E){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},a.prototype.redSub=function(E){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},a.prototype.redISub=function(E){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},a.prototype.redShl=function(E){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},a.prototype.redMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},a.prototype.redIMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(E){return o(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var D={k256:null,p224:null,p192:null,p25519:null};function L(E,I){this.name=E,this.p=new a(I,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(E){if(typeof E=="string"){var I=a._prime(E);this.m=I.p,this.prime=I}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function O(E){j.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var E=new a(null);return E.words=new Array(Math.ceil(this.n/13)),E},L.prototype.ireduce=function(E){var I,A=E;do this.split(A,this.tmp),I=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(I>this.n);var g=I<this.n?-1:A.ucmp(this.p);return g===0?(A.words[0]=0,A.length=1):g>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},L.prototype.split=function(E,I){E.iushrn(this.n,0,I)},L.prototype.imulK=function(E){return E.imul(this.k)},s($,L),$.prototype.split=function(E,I){for(var A=Math.min(E.length,9),g=0;g<A;g++)I.words[g]=E.words[g];if(I.length=A,E.length<=9)return E.words[0]=0,void(E.length=1);var v=E.words[9];for(I.words[I.length++]=4194303&v,g=10;g<E.length;g++){var w=0|E.words[g];E.words[g-10]=(4194303&w)<<4|v>>>22,v=w}v>>>=22,E.words[g-10]=v,v===0&&E.length>10?E.length-=10:E.length-=9},$.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var I=0,A=0;A<E.length;A++){var g=0|E.words[A];I+=977*g,E.words[A]=67108863&I,I=64*g+(I/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},s(V,L),s(R,L),s(N,L),N.prototype.imulK=function(E){for(var I=0,A=0;A<E.length;A++){var g=19*(0|E.words[A])+I,v=67108863&g;g>>>=26,E.words[A]=v,I=g}return I!==0&&(E.words[E.length++]=I),E},a._prime=function(E){if(D[E])return D[E];var I;if(E==="k256")I=new $;else if(E==="p224")I=new V;else if(E==="p192")I=new R;else{if(E!=="p25519")throw new Error("Unknown prime "+E);I=new N}return D[E]=I,I},j.prototype._verify1=function(E){o(E.negative===0,"red works only with positives"),o(E.red,"red works only with red numbers")},j.prototype._verify2=function(E,I){o((E.negative|I.negative)==0,"red works only with positives"),o(E.red&&E.red===I.red,"red works only with red numbers")},j.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},j.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},j.prototype.add=function(E,I){this._verify2(E,I);var A=E.add(I);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},j.prototype.iadd=function(E,I){this._verify2(E,I);var A=E.iadd(I);return A.cmp(this.m)>=0&&A.isub(this.m),A},j.prototype.sub=function(E,I){this._verify2(E,I);var A=E.sub(I);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},j.prototype.isub=function(E,I){this._verify2(E,I);var A=E.isub(I);return A.cmpn(0)<0&&A.iadd(this.m),A},j.prototype.shl=function(E,I){return this._verify1(E),this.imod(E.ushln(I))},j.prototype.imul=function(E,I){return this._verify2(E,I),this.imod(E.imul(I))},j.prototype.mul=function(E,I){return this._verify2(E,I),this.imod(E.mul(I))},j.prototype.isqr=function(E){return this.imul(E,E.clone())},j.prototype.sqr=function(E){return this.mul(E,E)},j.prototype.sqrt=function(E){if(E.isZero())return E.clone();var I=this.m.andln(3);if(o(I%2==1),I===3){var A=this.m.add(new a(1)).iushrn(2);return this.pow(E,A)}for(var g=this.m.subn(1),v=0;!g.isZero()&&g.andln(1)===0;)v++,g.iushrn(1);o(!g.isZero());var w=new a(1).toRed(this),b=w.redNeg(),C=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new a(2*S*S).toRed(this);this.pow(S,C).cmp(b)!==0;)S.redIAdd(b);for(var F=this.pow(S,g),q=this.pow(E,g.addn(1).iushrn(1)),z=this.pow(E,g),Y=v;z.cmp(w)!==0;){for(var P=z,K=0;P.cmp(w)!==0;K++)P=P.redSqr();o(K<Y);var k=this.pow(F,new a(1).iushln(Y-K-1));q=q.redMul(k),F=k.redSqr(),z=z.redMul(F),Y=K}return q},j.prototype.invm=function(E){var I=E._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},j.prototype.pow=function(E,I){if(I.isZero())return new a(1).toRed(this);if(I.cmpn(1)===0)return E.clone();var A=new Array(16);A[0]=new a(1).toRed(this),A[1]=E;for(var g=2;g<A.length;g++)A[g]=this.mul(A[g-1],E);var v=A[0],w=0,b=0,C=I.bitLength()%26;for(C===0&&(C=26),g=I.length-1;g>=0;g--){for(var S=I.words[g],F=C-1;F>=0;F--){var q=S>>F&1;v!==A[0]&&(v=this.sqr(v)),q!==0||w!==0?(w<<=1,w|=q,(++b===4||g===0&&F===0)&&(v=this.mul(v,A[w]),b=0,w=0)):b=0}C=26}return v},j.prototype.convertTo=function(E){var I=E.umod(this.m);return I===E?I.clone():I},j.prototype.convertFrom=function(E){var I=E.clone();return I.red=null,I},a.mont=function(E){return new O(E)},s(O,j),O.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},O.prototype.convertFrom=function(E){var I=this.imod(E.mul(this.rinv));return I.red=null,I},O.prototype.imul=function(E,I){if(E.isZero()||I.isZero())return E.words[0]=0,E.length=1,E;var A=E.imul(I),g=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=A.isub(g).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},O.prototype.mul=function(E,I){if(E.isZero()||I.isZero())return new a(0)._forceRed(this);var A=E.mul(I),g=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=A.isub(g).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},O.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],185:[function(t,e,n){"use strict";n.byteLength=function(d){var f=u(d),p=f[0],h=f[1];return 3*(p+h)/4-h},n.toByteArray=function(d){var f,p,h=u(d),y=h[0],m=h[1],_=new o((function(L,$,V){return 3*($+V)/4-V})(0,y,m)),x=0,D=m>0?y-4:y;for(p=0;p<D;p+=4)f=i[d.charCodeAt(p)]<<18|i[d.charCodeAt(p+1)]<<12|i[d.charCodeAt(p+2)]<<6|i[d.charCodeAt(p+3)],_[x++]=f>>16&255,_[x++]=f>>8&255,_[x++]=255&f;return m===2&&(f=i[d.charCodeAt(p)]<<2|i[d.charCodeAt(p+1)]>>4,_[x++]=255&f),m===1&&(f=i[d.charCodeAt(p)]<<10|i[d.charCodeAt(p+1)]<<4|i[d.charCodeAt(p+2)]>>2,_[x++]=f>>8&255,_[x++]=255&f),_},n.fromByteArray=function(d){for(var f,p=d.length,h=p%3,y=[],m=0,_=p-h;m<_;m+=16383)y.push(l(d,m,m+16383>_?_:m+16383));return h===1?(f=d[p-1],y.push(r[f>>2]+r[f<<4&63]+"==")):h===2&&(f=(d[p-2]<<8)+d[p-1],y.push(r[f>>10]+r[f>>4&63]+r[f<<2&63]+"=")),y.join("")};for(var r=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(d){var f=d.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=d.indexOf("=");return p===-1&&(p=f),[p,p===f?0:4-p%4]}function l(d,f,p){for(var h,y,m=[],_=f;_<p;_+=3)h=(d[_]<<16&16711680)+(d[_+1]<<8&65280)+(255&d[_+2]),m.push(r[(y=h)>>18&63]+r[y>>12&63]+r[y>>6&63]+r[63&y]);return m.join("")}i[45]=62,i[95]=63},{}],186:[function(t,e,n){"use strict";(function(r,i){function o(g,v){if(!g)throw new Error(v||"Assertion failed")}function s(g,v){g.super_=v;var w=function(){};w.prototype=v.prototype,g.prototype=new w,g.prototype.constructor=g}function a(g,v,w){if(a.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&(v!=="le"&&v!=="be"||(w=v,v=10),this._init(g||0,v||10,w||"be"))}var c;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function u(g,v){var w=g.charCodeAt(v);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void o(!1,"Invalid character in "+g)}function l(g,v,w){var b=u(g,w);return w-1>=v&&(b|=u(g,w-1)<<4),b}function d(g,v,w,b){for(var C=0,S=0,F=Math.min(g.length,w),q=v;q<F;q++){var z=g.charCodeAt(q)-48;C*=b,S=z>=49?z-49+10:z>=17?z-17+10:z,o(z>=0&&S<b,"Invalid character"),C+=S}return C}function f(g,v){g.words=v.words,g.length=v.length,g.negative=v.negative,g.red=v.red}if(a.isBN=function(g){return g instanceof a||g!==null&&typeof g=="object"&&g.constructor.wordSize===a.wordSize&&Array.isArray(g.words)},a.max=function(g,v){return g.cmp(v)>0?g:v},a.min=function(g,v){return g.cmp(v)<0?g:v},a.prototype._init=function(g,v,w){if(typeof g=="number")return this._initNumber(g,v,w);if(typeof g=="object")return this._initArray(g,v,w);v==="hex"&&(v=16),o(v===(0|v)&&v>=2&&v<=36);var b=0;(g=g.toString().replace(/\s+/g,""))[0]==="-"&&(b++,this.negative=1),b<g.length&&(v===16?this._parseHex(g,b,w):(this._parseBase(g,v,b),w==="le"&&this._initArray(this.toArray(),v,w)))},a.prototype._initNumber=function(g,v,w){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[67108863&g],this.length=1):g<4503599627370496?(this.words=[67108863&g,g/67108864&67108863],this.length=2):(o(g<9007199254740992),this.words=[67108863&g,g/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),v,w)},a.prototype._initArray=function(g,v,w){if(o(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var C,S,F=0;if(w==="be")for(b=g.length-1,C=0;b>=0;b-=3)S=g[b]|g[b-1]<<8|g[b-2]<<16,this.words[C]|=S<<F&67108863,this.words[C+1]=S>>>26-F&67108863,(F+=24)>=26&&(F-=26,C++);else if(w==="le")for(b=0,C=0;b<g.length;b+=3)S=g[b]|g[b+1]<<8|g[b+2]<<16,this.words[C]|=S<<F&67108863,this.words[C+1]=S>>>26-F&67108863,(F+=24)>=26&&(F-=26,C++);return this._strip()},a.prototype._parseHex=function(g,v,w){this.length=Math.ceil((g.length-v)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var C,S=0,F=0;if(w==="be")for(b=g.length-1;b>=v;b-=2)C=l(g,v,b)<<S,this.words[F]|=67108863&C,S>=18?(S-=18,F+=1,this.words[F]|=C>>>26):S+=8;else for(b=(g.length-v)%2==0?v+1:v;b<g.length;b+=2)C=l(g,v,b)<<S,this.words[F]|=67108863&C,S>=18?(S-=18,F+=1,this.words[F]|=C>>>26):S+=8;this._strip()},a.prototype._parseBase=function(g,v,w){this.words=[0],this.length=1;for(var b=0,C=1;C<=67108863;C*=v)b++;b--,C=C/v|0;for(var S=g.length-w,F=S%b,q=Math.min(S,S-F)+w,z=0,Y=w;Y<q;Y+=b)z=d(g,Y,Y+b,v),this.imuln(C),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(F!==0){var P=1;for(z=d(g,Y,g.length,v),Y=0;Y<F;Y++)P*=v;this.imuln(P),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},a.prototype.copy=function(g){g.words=new Array(this.length);for(var v=0;v<this.length;v++)g.words[v]=this.words[v];g.length=this.length,g.negative=this.negative,g.red=this.red},a.prototype._move=function(g){f(g,this)},a.prototype.clone=function(){var g=new a(null);return this.copy(g),g},a.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{a.prototype.inspect=p}else a.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(g,v){var w;if(v=0|v||1,(g=g||10)===16||g==="hex"){w="";for(var b=0,C=0,S=0;S<this.length;S++){var F=this.words[S],q=(16777215&(F<<b|C)).toString(16);C=F>>>24-b&16777215,(b+=2)>=26&&(b-=26,S--),w=C!==0||S!==this.length-1?h[6-q.length]+q+w:q+w}for(C!==0&&(w=C.toString(16)+w);w.length%v!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(g===(0|g)&&g>=2&&g<=36){var z=y[g],Y=m[g];w="";var P=this.clone();for(P.negative=0;!P.isZero();){var K=P.modrn(Y).toString(g);w=(P=P.idivn(Y)).isZero()?K+w:h[z-K.length]+K+w}for(this.isZero()&&(w="0"+w);w.length%v!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=67108864*this.words[1]:this.length===3&&this.words[2]===1?g+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(g,v){return this.toArrayLike(c,g,v)}),a.prototype.toArray=function(g,v){return this.toArrayLike(Array,g,v)};function _(g,v,w){w.negative=v.negative^g.negative;var b=g.length+v.length|0;w.length=b,b=b-1|0;var C=0|g.words[0],S=0|v.words[0],F=C*S,q=67108863&F,z=F/67108864|0;w.words[0]=q;for(var Y=1;Y<b;Y++){for(var P=z>>>26,K=67108863&z,k=Math.min(Y,v.length-1),M=Math.max(0,Y-g.length+1);M<=k;M++){var H=Y-M|0;P+=(F=(C=0|g.words[H])*(S=0|v.words[M])+K)/67108864|0,K=67108863&F}w.words[Y]=0|K,z=0|P}return z!==0?w.words[Y]=0|z:w.length--,w._strip()}a.prototype.toArrayLike=function(g,v,w){this._strip();var b=this.byteLength(),C=w||Math.max(1,b);o(b<=C,"byte array longer than desired length"),o(C>0,"Requested array length <= 0");var S=(function(F,q){return F.allocUnsafe?F.allocUnsafe(q):new F(q)})(g,C);return this["_toArrayLike"+(v==="le"?"LE":"BE")](S,b),S},a.prototype._toArrayLikeLE=function(g,v){for(var w=0,b=0,C=0,S=0;C<this.length;C++){var F=this.words[C]<<S|b;g[w++]=255&F,w<g.length&&(g[w++]=F>>8&255),w<g.length&&(g[w++]=F>>16&255),S===6?(w<g.length&&(g[w++]=F>>24&255),b=0,S=0):(b=F>>>24,S+=2)}if(w<g.length)for(g[w++]=b;w<g.length;)g[w++]=0},a.prototype._toArrayLikeBE=function(g,v){for(var w=g.length-1,b=0,C=0,S=0;C<this.length;C++){var F=this.words[C]<<S|b;g[w--]=255&F,w>=0&&(g[w--]=F>>8&255),w>=0&&(g[w--]=F>>16&255),S===6?(w>=0&&(g[w--]=F>>24&255),b=0,S=0):(b=F>>>24,S+=2)}if(w>=0)for(g[w--]=b;w>=0;)g[w--]=0},Math.clz32?a.prototype._countBits=function(g){return 32-Math.clz32(g)}:a.prototype._countBits=function(g){var v=g,w=0;return v>=4096&&(w+=13,v>>>=13),v>=64&&(w+=7,v>>>=7),v>=8&&(w+=4,v>>>=4),v>=2&&(w+=2,v>>>=2),w+v},a.prototype._zeroBits=function(g){if(g===0)return 26;var v=g,w=0;return(8191&v)==0&&(w+=13,v>>>=13),(127&v)==0&&(w+=7,v>>>=7),(15&v)==0&&(w+=4,v>>>=4),(3&v)==0&&(w+=2,v>>>=2),(1&v)==0&&w++,w},a.prototype.bitLength=function(){var g=this.words[this.length-1],v=this._countBits(g);return 26*(this.length-1)+v},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,v=0;v<this.length;v++){var w=this._zeroBits(this.words[v]);if(g+=w,w!==26)break}return g},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},a.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var v=0;v<g.length;v++)this.words[v]=this.words[v]|g.words[v];return this._strip()},a.prototype.ior=function(g){return o((this.negative|g.negative)==0),this.iuor(g)},a.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},a.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},a.prototype.iuand=function(g){var v;v=this.length>g.length?g:this;for(var w=0;w<v.length;w++)this.words[w]=this.words[w]&g.words[w];return this.length=v.length,this._strip()},a.prototype.iand=function(g){return o((this.negative|g.negative)==0),this.iuand(g)},a.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},a.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},a.prototype.iuxor=function(g){var v,w;this.length>g.length?(v=this,w=g):(v=g,w=this);for(var b=0;b<w.length;b++)this.words[b]=v.words[b]^w.words[b];if(this!==v)for(;b<v.length;b++)this.words[b]=v.words[b];return this.length=v.length,this._strip()},a.prototype.ixor=function(g){return o((this.negative|g.negative)==0),this.iuxor(g)},a.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},a.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},a.prototype.inotn=function(g){o(typeof g=="number"&&g>=0);var v=0|Math.ceil(g/26),w=g%26;this._expand(v),w>0&&v--;for(var b=0;b<v;b++)this.words[b]=67108863&~this.words[b];return w>0&&(this.words[b]=~this.words[b]&67108863>>26-w),this._strip()},a.prototype.notn=function(g){return this.clone().inotn(g)},a.prototype.setn=function(g,v){o(typeof g=="number"&&g>=0);var w=g/26|0,b=g%26;return this._expand(w+1),this.words[w]=v?this.words[w]|1<<b:this.words[w]&~(1<<b),this._strip()},a.prototype.iadd=function(g){var v,w,b;if(this.negative!==0&&g.negative===0)return this.negative=0,v=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,v=this.isub(g),g.negative=1,v._normSign();this.length>g.length?(w=this,b=g):(w=g,b=this);for(var C=0,S=0;S<b.length;S++)v=(0|w.words[S])+(0|b.words[S])+C,this.words[S]=67108863&v,C=v>>>26;for(;C!==0&&S<w.length;S++)v=(0|w.words[S])+C,this.words[S]=67108863&v,C=v>>>26;if(this.length=w.length,C!==0)this.words[this.length]=C,this.length++;else if(w!==this)for(;S<w.length;S++)this.words[S]=w.words[S];return this},a.prototype.add=function(g){var v;return g.negative!==0&&this.negative===0?(g.negative=0,v=this.sub(g),g.negative^=1,v):g.negative===0&&this.negative!==0?(this.negative=0,v=g.sub(this),this.negative=1,v):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},a.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var v=this.iadd(g);return g.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var w,b,C=this.cmp(g);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(w=this,b=g):(w=g,b=this);for(var S=0,F=0;F<b.length;F++)S=(v=(0|w.words[F])-(0|b.words[F])+S)>>26,this.words[F]=67108863&v;for(;S!==0&&F<w.length;F++)S=(v=(0|w.words[F])+S)>>26,this.words[F]=67108863&v;if(S===0&&F<w.length&&w!==this)for(;F<w.length;F++)this.words[F]=w.words[F];return this.length=Math.max(this.length,F),w!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(g){return this.clone().isub(g)};var x=function(g,v,w){var b,C,S,F=g.words,q=v.words,z=w.words,Y=0,P=0|F[0],K=8191&P,k=P>>>13,M=0|F[1],H=8191&M,Z=M>>>13,ie=0|F[2],J=8191&ie,ne=ie>>>13,de=0|F[3],ue=8191&de,ee=de>>>13,le=0|F[4],te=8191&le,ae=le>>>13,he=0|F[5],fe=8191&he,ve=he>>>13,Ae=0|F[6],Re=8191&Ae,Oe=Ae>>>13,ut=0|F[7],He=8191&ut,Ye=ut>>>13,Ht=0|F[8],dt=8191&Ht,Qe=Ht>>>13,pt=0|F[9],Ue=8191&pt,Ve=pt>>>13,Nt=0|q[0],nt=8191&Nt,mt=Nt>>>13,Ar=0|q[1],gt=8191&Ar,bt=Ar>>>13,Jn=0|q[2],It=8191&Jn,Mt=Jn>>>13,Mn=0|q[3],Ct=8191&Mn,vt=Mn>>>13,er=0|q[4],kt=8191&er,_t=er>>>13,Br=0|q[5],Pt=8191&Br,ce=Br>>>13,we=0|q[6],xe=8191&we,ke=we>>>13,tn=0|q[7],We=8191&tn,tt=tn>>>13,nn=0|q[8],yt=8191&nn,et=nn>>>13,fn=0|q[9],Wt=8191&fn,Kt=fn>>>13;w.negative=g.negative^v.negative,w.length=19;var Sn=(Y+(b=Math.imul(K,nt))|0)+((8191&(C=(C=Math.imul(K,mt))+Math.imul(k,nt)|0))<<13)|0;Y=((S=Math.imul(k,mt))+(C>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,b=Math.imul(H,nt),C=(C=Math.imul(H,mt))+Math.imul(Z,nt)|0,S=Math.imul(Z,mt);var Gn=(Y+(b=b+Math.imul(K,gt)|0)|0)+((8191&(C=(C=C+Math.imul(K,bt)|0)+Math.imul(k,gt)|0))<<13)|0;Y=((S=S+Math.imul(k,bt)|0)+(C>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,b=Math.imul(J,nt),C=(C=Math.imul(J,mt))+Math.imul(ne,nt)|0,S=Math.imul(ne,mt),b=b+Math.imul(H,gt)|0,C=(C=C+Math.imul(H,bt)|0)+Math.imul(Z,gt)|0,S=S+Math.imul(Z,bt)|0;var gr=(Y+(b=b+Math.imul(K,It)|0)|0)+((8191&(C=(C=C+Math.imul(K,Mt)|0)+Math.imul(k,It)|0))<<13)|0;Y=((S=S+Math.imul(k,Mt)|0)+(C>>>13)|0)+(gr>>>26)|0,gr&=67108863,b=Math.imul(ue,nt),C=(C=Math.imul(ue,mt))+Math.imul(ee,nt)|0,S=Math.imul(ee,mt),b=b+Math.imul(J,gt)|0,C=(C=C+Math.imul(J,bt)|0)+Math.imul(ne,gt)|0,S=S+Math.imul(ne,bt)|0,b=b+Math.imul(H,It)|0,C=(C=C+Math.imul(H,Mt)|0)+Math.imul(Z,It)|0,S=S+Math.imul(Z,Mt)|0;var Mr=(Y+(b=b+Math.imul(K,Ct)|0)|0)+((8191&(C=(C=C+Math.imul(K,vt)|0)+Math.imul(k,Ct)|0))<<13)|0;Y=((S=S+Math.imul(k,vt)|0)+(C>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,b=Math.imul(te,nt),C=(C=Math.imul(te,mt))+Math.imul(ae,nt)|0,S=Math.imul(ae,mt),b=b+Math.imul(ue,gt)|0,C=(C=C+Math.imul(ue,bt)|0)+Math.imul(ee,gt)|0,S=S+Math.imul(ee,bt)|0,b=b+Math.imul(J,It)|0,C=(C=C+Math.imul(J,Mt)|0)+Math.imul(ne,It)|0,S=S+Math.imul(ne,Mt)|0,b=b+Math.imul(H,Ct)|0,C=(C=C+Math.imul(H,vt)|0)+Math.imul(Z,Ct)|0,S=S+Math.imul(Z,vt)|0;var rr=(Y+(b=b+Math.imul(K,kt)|0)|0)+((8191&(C=(C=C+Math.imul(K,_t)|0)+Math.imul(k,kt)|0))<<13)|0;Y=((S=S+Math.imul(k,_t)|0)+(C>>>13)|0)+(rr>>>26)|0,rr&=67108863,b=Math.imul(fe,nt),C=(C=Math.imul(fe,mt))+Math.imul(ve,nt)|0,S=Math.imul(ve,mt),b=b+Math.imul(te,gt)|0,C=(C=C+Math.imul(te,bt)|0)+Math.imul(ae,gt)|0,S=S+Math.imul(ae,bt)|0,b=b+Math.imul(ue,It)|0,C=(C=C+Math.imul(ue,Mt)|0)+Math.imul(ee,It)|0,S=S+Math.imul(ee,Mt)|0,b=b+Math.imul(J,Ct)|0,C=(C=C+Math.imul(J,vt)|0)+Math.imul(ne,Ct)|0,S=S+Math.imul(ne,vt)|0,b=b+Math.imul(H,kt)|0,C=(C=C+Math.imul(H,_t)|0)+Math.imul(Z,kt)|0,S=S+Math.imul(Z,_t)|0;var kr=(Y+(b=b+Math.imul(K,Pt)|0)|0)+((8191&(C=(C=C+Math.imul(K,ce)|0)+Math.imul(k,Pt)|0))<<13)|0;Y=((S=S+Math.imul(k,ce)|0)+(C>>>13)|0)+(kr>>>26)|0,kr&=67108863,b=Math.imul(Re,nt),C=(C=Math.imul(Re,mt))+Math.imul(Oe,nt)|0,S=Math.imul(Oe,mt),b=b+Math.imul(fe,gt)|0,C=(C=C+Math.imul(fe,bt)|0)+Math.imul(ve,gt)|0,S=S+Math.imul(ve,bt)|0,b=b+Math.imul(te,It)|0,C=(C=C+Math.imul(te,Mt)|0)+Math.imul(ae,It)|0,S=S+Math.imul(ae,Mt)|0,b=b+Math.imul(ue,Ct)|0,C=(C=C+Math.imul(ue,vt)|0)+Math.imul(ee,Ct)|0,S=S+Math.imul(ee,vt)|0,b=b+Math.imul(J,kt)|0,C=(C=C+Math.imul(J,_t)|0)+Math.imul(ne,kt)|0,S=S+Math.imul(ne,_t)|0,b=b+Math.imul(H,Pt)|0,C=(C=C+Math.imul(H,ce)|0)+Math.imul(Z,Pt)|0,S=S+Math.imul(Z,ce)|0;var se=(Y+(b=b+Math.imul(K,xe)|0)|0)+((8191&(C=(C=C+Math.imul(K,ke)|0)+Math.imul(k,xe)|0))<<13)|0;Y=((S=S+Math.imul(k,ke)|0)+(C>>>13)|0)+(se>>>26)|0,se&=67108863,b=Math.imul(He,nt),C=(C=Math.imul(He,mt))+Math.imul(Ye,nt)|0,S=Math.imul(Ye,mt),b=b+Math.imul(Re,gt)|0,C=(C=C+Math.imul(Re,bt)|0)+Math.imul(Oe,gt)|0,S=S+Math.imul(Oe,bt)|0,b=b+Math.imul(fe,It)|0,C=(C=C+Math.imul(fe,Mt)|0)+Math.imul(ve,It)|0,S=S+Math.imul(ve,Mt)|0,b=b+Math.imul(te,Ct)|0,C=(C=C+Math.imul(te,vt)|0)+Math.imul(ae,Ct)|0,S=S+Math.imul(ae,vt)|0,b=b+Math.imul(ue,kt)|0,C=(C=C+Math.imul(ue,_t)|0)+Math.imul(ee,kt)|0,S=S+Math.imul(ee,_t)|0,b=b+Math.imul(J,Pt)|0,C=(C=C+Math.imul(J,ce)|0)+Math.imul(ne,Pt)|0,S=S+Math.imul(ne,ce)|0,b=b+Math.imul(H,xe)|0,C=(C=C+Math.imul(H,ke)|0)+Math.imul(Z,xe)|0,S=S+Math.imul(Z,ke)|0;var be=(Y+(b=b+Math.imul(K,We)|0)|0)+((8191&(C=(C=C+Math.imul(K,tt)|0)+Math.imul(k,We)|0))<<13)|0;Y=((S=S+Math.imul(k,tt)|0)+(C>>>13)|0)+(be>>>26)|0,be&=67108863,b=Math.imul(dt,nt),C=(C=Math.imul(dt,mt))+Math.imul(Qe,nt)|0,S=Math.imul(Qe,mt),b=b+Math.imul(He,gt)|0,C=(C=C+Math.imul(He,bt)|0)+Math.imul(Ye,gt)|0,S=S+Math.imul(Ye,bt)|0,b=b+Math.imul(Re,It)|0,C=(C=C+Math.imul(Re,Mt)|0)+Math.imul(Oe,It)|0,S=S+Math.imul(Oe,Mt)|0,b=b+Math.imul(fe,Ct)|0,C=(C=C+Math.imul(fe,vt)|0)+Math.imul(ve,Ct)|0,S=S+Math.imul(ve,vt)|0,b=b+Math.imul(te,kt)|0,C=(C=C+Math.imul(te,_t)|0)+Math.imul(ae,kt)|0,S=S+Math.imul(ae,_t)|0,b=b+Math.imul(ue,Pt)|0,C=(C=C+Math.imul(ue,ce)|0)+Math.imul(ee,Pt)|0,S=S+Math.imul(ee,ce)|0,b=b+Math.imul(J,xe)|0,C=(C=C+Math.imul(J,ke)|0)+Math.imul(ne,xe)|0,S=S+Math.imul(ne,ke)|0,b=b+Math.imul(H,We)|0,C=(C=C+Math.imul(H,tt)|0)+Math.imul(Z,We)|0,S=S+Math.imul(Z,tt)|0;var De=(Y+(b=b+Math.imul(K,yt)|0)|0)+((8191&(C=(C=C+Math.imul(K,et)|0)+Math.imul(k,yt)|0))<<13)|0;Y=((S=S+Math.imul(k,et)|0)+(C>>>13)|0)+(De>>>26)|0,De&=67108863,b=Math.imul(Ue,nt),C=(C=Math.imul(Ue,mt))+Math.imul(Ve,nt)|0,S=Math.imul(Ve,mt),b=b+Math.imul(dt,gt)|0,C=(C=C+Math.imul(dt,bt)|0)+Math.imul(Qe,gt)|0,S=S+Math.imul(Qe,bt)|0,b=b+Math.imul(He,It)|0,C=(C=C+Math.imul(He,Mt)|0)+Math.imul(Ye,It)|0,S=S+Math.imul(Ye,Mt)|0,b=b+Math.imul(Re,Ct)|0,C=(C=C+Math.imul(Re,vt)|0)+Math.imul(Oe,Ct)|0,S=S+Math.imul(Oe,vt)|0,b=b+Math.imul(fe,kt)|0,C=(C=C+Math.imul(fe,_t)|0)+Math.imul(ve,kt)|0,S=S+Math.imul(ve,_t)|0,b=b+Math.imul(te,Pt)|0,C=(C=C+Math.imul(te,ce)|0)+Math.imul(ae,Pt)|0,S=S+Math.imul(ae,ce)|0,b=b+Math.imul(ue,xe)|0,C=(C=C+Math.imul(ue,ke)|0)+Math.imul(ee,xe)|0,S=S+Math.imul(ee,ke)|0,b=b+Math.imul(J,We)|0,C=(C=C+Math.imul(J,tt)|0)+Math.imul(ne,We)|0,S=S+Math.imul(ne,tt)|0,b=b+Math.imul(H,yt)|0,C=(C=C+Math.imul(H,et)|0)+Math.imul(Z,yt)|0,S=S+Math.imul(Z,et)|0;var Ie=(Y+(b=b+Math.imul(K,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(K,Kt)|0)+Math.imul(k,Wt)|0))<<13)|0;Y=((S=S+Math.imul(k,Kt)|0)+(C>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,b=Math.imul(Ue,gt),C=(C=Math.imul(Ue,bt))+Math.imul(Ve,gt)|0,S=Math.imul(Ve,bt),b=b+Math.imul(dt,It)|0,C=(C=C+Math.imul(dt,Mt)|0)+Math.imul(Qe,It)|0,S=S+Math.imul(Qe,Mt)|0,b=b+Math.imul(He,Ct)|0,C=(C=C+Math.imul(He,vt)|0)+Math.imul(Ye,Ct)|0,S=S+Math.imul(Ye,vt)|0,b=b+Math.imul(Re,kt)|0,C=(C=C+Math.imul(Re,_t)|0)+Math.imul(Oe,kt)|0,S=S+Math.imul(Oe,_t)|0,b=b+Math.imul(fe,Pt)|0,C=(C=C+Math.imul(fe,ce)|0)+Math.imul(ve,Pt)|0,S=S+Math.imul(ve,ce)|0,b=b+Math.imul(te,xe)|0,C=(C=C+Math.imul(te,ke)|0)+Math.imul(ae,xe)|0,S=S+Math.imul(ae,ke)|0,b=b+Math.imul(ue,We)|0,C=(C=C+Math.imul(ue,tt)|0)+Math.imul(ee,We)|0,S=S+Math.imul(ee,tt)|0,b=b+Math.imul(J,yt)|0,C=(C=C+Math.imul(J,et)|0)+Math.imul(ne,yt)|0,S=S+Math.imul(ne,et)|0;var Be=(Y+(b=b+Math.imul(H,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(H,Kt)|0)+Math.imul(Z,Wt)|0))<<13)|0;Y=((S=S+Math.imul(Z,Kt)|0)+(C>>>13)|0)+(Be>>>26)|0,Be&=67108863,b=Math.imul(Ue,It),C=(C=Math.imul(Ue,Mt))+Math.imul(Ve,It)|0,S=Math.imul(Ve,Mt),b=b+Math.imul(dt,Ct)|0,C=(C=C+Math.imul(dt,vt)|0)+Math.imul(Qe,Ct)|0,S=S+Math.imul(Qe,vt)|0,b=b+Math.imul(He,kt)|0,C=(C=C+Math.imul(He,_t)|0)+Math.imul(Ye,kt)|0,S=S+Math.imul(Ye,_t)|0,b=b+Math.imul(Re,Pt)|0,C=(C=C+Math.imul(Re,ce)|0)+Math.imul(Oe,Pt)|0,S=S+Math.imul(Oe,ce)|0,b=b+Math.imul(fe,xe)|0,C=(C=C+Math.imul(fe,ke)|0)+Math.imul(ve,xe)|0,S=S+Math.imul(ve,ke)|0,b=b+Math.imul(te,We)|0,C=(C=C+Math.imul(te,tt)|0)+Math.imul(ae,We)|0,S=S+Math.imul(ae,tt)|0,b=b+Math.imul(ue,yt)|0,C=(C=C+Math.imul(ue,et)|0)+Math.imul(ee,yt)|0,S=S+Math.imul(ee,et)|0;var st=(Y+(b=b+Math.imul(J,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(J,Kt)|0)+Math.imul(ne,Wt)|0))<<13)|0;Y=((S=S+Math.imul(ne,Kt)|0)+(C>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(Ue,Ct),C=(C=Math.imul(Ue,vt))+Math.imul(Ve,Ct)|0,S=Math.imul(Ve,vt),b=b+Math.imul(dt,kt)|0,C=(C=C+Math.imul(dt,_t)|0)+Math.imul(Qe,kt)|0,S=S+Math.imul(Qe,_t)|0,b=b+Math.imul(He,Pt)|0,C=(C=C+Math.imul(He,ce)|0)+Math.imul(Ye,Pt)|0,S=S+Math.imul(Ye,ce)|0,b=b+Math.imul(Re,xe)|0,C=(C=C+Math.imul(Re,ke)|0)+Math.imul(Oe,xe)|0,S=S+Math.imul(Oe,ke)|0,b=b+Math.imul(fe,We)|0,C=(C=C+Math.imul(fe,tt)|0)+Math.imul(ve,We)|0,S=S+Math.imul(ve,tt)|0,b=b+Math.imul(te,yt)|0,C=(C=C+Math.imul(te,et)|0)+Math.imul(ae,yt)|0,S=S+Math.imul(ae,et)|0;var at=(Y+(b=b+Math.imul(ue,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(ue,Kt)|0)+Math.imul(ee,Wt)|0))<<13)|0;Y=((S=S+Math.imul(ee,Kt)|0)+(C>>>13)|0)+(at>>>26)|0,at&=67108863,b=Math.imul(Ue,kt),C=(C=Math.imul(Ue,_t))+Math.imul(Ve,kt)|0,S=Math.imul(Ve,_t),b=b+Math.imul(dt,Pt)|0,C=(C=C+Math.imul(dt,ce)|0)+Math.imul(Qe,Pt)|0,S=S+Math.imul(Qe,ce)|0,b=b+Math.imul(He,xe)|0,C=(C=C+Math.imul(He,ke)|0)+Math.imul(Ye,xe)|0,S=S+Math.imul(Ye,ke)|0,b=b+Math.imul(Re,We)|0,C=(C=C+Math.imul(Re,tt)|0)+Math.imul(Oe,We)|0,S=S+Math.imul(Oe,tt)|0,b=b+Math.imul(fe,yt)|0,C=(C=C+Math.imul(fe,et)|0)+Math.imul(ve,yt)|0,S=S+Math.imul(ve,et)|0;var Yt=(Y+(b=b+Math.imul(te,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(te,Kt)|0)+Math.imul(ae,Wt)|0))<<13)|0;Y=((S=S+Math.imul(ae,Kt)|0)+(C>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,b=Math.imul(Ue,Pt),C=(C=Math.imul(Ue,ce))+Math.imul(Ve,Pt)|0,S=Math.imul(Ve,ce),b=b+Math.imul(dt,xe)|0,C=(C=C+Math.imul(dt,ke)|0)+Math.imul(Qe,xe)|0,S=S+Math.imul(Qe,ke)|0,b=b+Math.imul(He,We)|0,C=(C=C+Math.imul(He,tt)|0)+Math.imul(Ye,We)|0,S=S+Math.imul(Ye,tt)|0,b=b+Math.imul(Re,yt)|0,C=(C=C+Math.imul(Re,et)|0)+Math.imul(Oe,yt)|0,S=S+Math.imul(Oe,et)|0;var Dt=(Y+(b=b+Math.imul(fe,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(fe,Kt)|0)+Math.imul(ve,Wt)|0))<<13)|0;Y=((S=S+Math.imul(ve,Kt)|0)+(C>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,b=Math.imul(Ue,xe),C=(C=Math.imul(Ue,ke))+Math.imul(Ve,xe)|0,S=Math.imul(Ve,ke),b=b+Math.imul(dt,We)|0,C=(C=C+Math.imul(dt,tt)|0)+Math.imul(Qe,We)|0,S=S+Math.imul(Qe,tt)|0,b=b+Math.imul(He,yt)|0,C=(C=C+Math.imul(He,et)|0)+Math.imul(Ye,yt)|0,S=S+Math.imul(Ye,et)|0;var St=(Y+(b=b+Math.imul(Re,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(Re,Kt)|0)+Math.imul(Oe,Wt)|0))<<13)|0;Y=((S=S+Math.imul(Oe,Kt)|0)+(C>>>13)|0)+(St>>>26)|0,St&=67108863,b=Math.imul(Ue,We),C=(C=Math.imul(Ue,tt))+Math.imul(Ve,We)|0,S=Math.imul(Ve,tt),b=b+Math.imul(dt,yt)|0,C=(C=C+Math.imul(dt,et)|0)+Math.imul(Qe,yt)|0,S=S+Math.imul(Qe,et)|0;var Ot=(Y+(b=b+Math.imul(He,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(He,Kt)|0)+Math.imul(Ye,Wt)|0))<<13)|0;Y=((S=S+Math.imul(Ye,Kt)|0)+(C>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,b=Math.imul(Ue,yt),C=(C=Math.imul(Ue,et))+Math.imul(Ve,yt)|0,S=Math.imul(Ve,et);var Kn=(Y+(b=b+Math.imul(dt,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(dt,Kt)|0)+Math.imul(Qe,Wt)|0))<<13)|0;Y=((S=S+Math.imul(Qe,Kt)|0)+(C>>>13)|0)+(Kn>>>26)|0,Kn&=67108863;var tr=(Y+(b=Math.imul(Ue,Wt))|0)+((8191&(C=(C=Math.imul(Ue,Kt))+Math.imul(Ve,Wt)|0))<<13)|0;return Y=((S=Math.imul(Ve,Kt))+(C>>>13)|0)+(tr>>>26)|0,tr&=67108863,z[0]=Sn,z[1]=Gn,z[2]=gr,z[3]=Mr,z[4]=rr,z[5]=kr,z[6]=se,z[7]=be,z[8]=De,z[9]=Ie,z[10]=Be,z[11]=st,z[12]=at,z[13]=Yt,z[14]=Dt,z[15]=St,z[16]=Ot,z[17]=Kn,z[18]=tr,Y!==0&&(z[19]=Y,w.length++),w};function D(g,v,w){w.negative=v.negative^g.negative,w.length=g.length+v.length;for(var b=0,C=0,S=0;S<w.length-1;S++){var F=C;C=0;for(var q=67108863&b,z=Math.min(S,v.length-1),Y=Math.max(0,S-g.length+1);Y<=z;Y++){var P=S-Y,K=(0|g.words[P])*(0|v.words[Y]),k=67108863&K;q=67108863&(k=k+q|0),C+=(F=(F=F+(K/67108864|0)|0)+(k>>>26)|0)>>>26,F&=67108863}w.words[S]=q,b=F,F=C}return b!==0?w.words[S]=b:w.length--,w._strip()}function L(g,v,w){return D(g,v,w)}function $(g,v){this.x=g,this.y=v}Math.imul||(x=_),a.prototype.mulTo=function(g,v){var w=this.length+g.length;return this.length===10&&g.length===10?x(this,g,v):w<63?_(this,g,v):w<1024?D(this,g,v):L(this,g,v)},$.prototype.makeRBT=function(g){for(var v=new Array(g),w=a.prototype._countBits(g)-1,b=0;b<g;b++)v[b]=this.revBin(b,w,g);return v},$.prototype.revBin=function(g,v,w){if(g===0||g===w-1)return g;for(var b=0,C=0;C<v;C++)b|=(1&g)<<v-C-1,g>>=1;return b},$.prototype.permute=function(g,v,w,b,C,S){for(var F=0;F<S;F++)b[F]=v[g[F]],C[F]=w[g[F]]},$.prototype.transform=function(g,v,w,b,C,S){this.permute(S,g,v,w,b,C);for(var F=1;F<C;F<<=1)for(var q=F<<1,z=Math.cos(2*Math.PI/q),Y=Math.sin(2*Math.PI/q),P=0;P<C;P+=q)for(var K=z,k=Y,M=0;M<F;M++){var H=w[P+M],Z=b[P+M],ie=w[P+M+F],J=b[P+M+F],ne=K*ie-k*J;J=K*J+k*ie,ie=ne,w[P+M]=H+ie,b[P+M]=Z+J,w[P+M+F]=H-ie,b[P+M+F]=Z-J,M!==q&&(ne=z*K-Y*k,k=z*k+Y*K,K=ne)}},$.prototype.guessLen13b=function(g,v){var w=1|Math.max(v,g),b=1&w,C=0;for(w=w/2|0;w;w>>>=1)C++;return 1<<C+1+b},$.prototype.conjugate=function(g,v,w){if(!(w<=1))for(var b=0;b<w/2;b++){var C=g[b];g[b]=g[w-b-1],g[w-b-1]=C,C=v[b],v[b]=-v[w-b-1],v[w-b-1]=-C}},$.prototype.normalize13b=function(g,v){for(var w=0,b=0;b<v/2;b++){var C=8192*Math.round(g[2*b+1]/v)+Math.round(g[2*b]/v)+w;g[b]=67108863&C,w=C<67108864?0:C/67108864|0}return g},$.prototype.convert13b=function(g,v,w,b){for(var C=0,S=0;S<v;S++)C+=0|g[S],w[2*S]=8191&C,C>>>=13,w[2*S+1]=8191&C,C>>>=13;for(S=2*v;S<b;++S)w[S]=0;o(C===0),o((-8192&C)==0)},$.prototype.stub=function(g){for(var v=new Array(g),w=0;w<g;w++)v[w]=0;return v},$.prototype.mulp=function(g,v,w){var b=2*this.guessLen13b(g.length,v.length),C=this.makeRBT(b),S=this.stub(b),F=new Array(b),q=new Array(b),z=new Array(b),Y=new Array(b),P=new Array(b),K=new Array(b),k=w.words;k.length=b,this.convert13b(g.words,g.length,F,b),this.convert13b(v.words,v.length,Y,b),this.transform(F,S,q,z,b,C),this.transform(Y,S,P,K,b,C);for(var M=0;M<b;M++){var H=q[M]*P[M]-z[M]*K[M];z[M]=q[M]*K[M]+z[M]*P[M],q[M]=H}return this.conjugate(q,z,b),this.transform(q,z,k,S,b,C),this.conjugate(k,S,b),this.normalize13b(k,b),w.negative=g.negative^v.negative,w.length=g.length+v.length,w._strip()},a.prototype.mul=function(g){var v=new a(null);return v.words=new Array(this.length+g.length),this.mulTo(g,v)},a.prototype.mulf=function(g){var v=new a(null);return v.words=new Array(this.length+g.length),L(this,g,v)},a.prototype.imul=function(g){return this.clone().mulTo(g,this)},a.prototype.imuln=function(g){var v=g<0;v&&(g=-g),o(typeof g=="number"),o(g<67108864);for(var w=0,b=0;b<this.length;b++){var C=(0|this.words[b])*g,S=(67108863&C)+(67108863&w);w>>=26,w+=C/67108864|0,w+=S>>>26,this.words[b]=67108863&S}return w!==0&&(this.words[b]=w,this.length++),v?this.ineg():this},a.prototype.muln=function(g){return this.clone().imuln(g)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(g){var v=(function(S){for(var F=new Array(S.bitLength()),q=0;q<F.length;q++){var z=q/26|0,Y=q%26;F[q]=S.words[z]>>>Y&1}return F})(g);if(v.length===0)return new a(1);for(var w=this,b=0;b<v.length&&v[b]===0;b++,w=w.sqr());if(++b<v.length)for(var C=w.sqr();b<v.length;b++,C=C.sqr())v[b]!==0&&(w=w.mul(C));return w},a.prototype.iushln=function(g){o(typeof g=="number"&&g>=0);var v,w=g%26,b=(g-w)/26,C=67108863>>>26-w<<26-w;if(w!==0){var S=0;for(v=0;v<this.length;v++){var F=this.words[v]&C,q=(0|this.words[v])-F<<w;this.words[v]=q|S,S=F>>>26-w}S&&(this.words[v]=S,this.length++)}if(b!==0){for(v=this.length-1;v>=0;v--)this.words[v+b]=this.words[v];for(v=0;v<b;v++)this.words[v]=0;this.length+=b}return this._strip()},a.prototype.ishln=function(g){return o(this.negative===0),this.iushln(g)},a.prototype.iushrn=function(g,v,w){var b;o(typeof g=="number"&&g>=0),b=v?(v-v%26)/26:0;var C=g%26,S=Math.min((g-C)/26,this.length),F=67108863^67108863>>>C<<C,q=w;if(b-=S,b=Math.max(0,b),q){for(var z=0;z<S;z++)q.words[z]=this.words[z];q.length=S}if(S!==0)if(this.length>S)for(this.length-=S,z=0;z<this.length;z++)this.words[z]=this.words[z+S];else this.words[0]=0,this.length=1;var Y=0;for(z=this.length-1;z>=0&&(Y!==0||z>=b);z--){var P=0|this.words[z];this.words[z]=Y<<26-C|P>>>C,Y=P&F}return q&&Y!==0&&(q.words[q.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(g,v,w){return o(this.negative===0),this.iushrn(g,v,w)},a.prototype.shln=function(g){return this.clone().ishln(g)},a.prototype.ushln=function(g){return this.clone().iushln(g)},a.prototype.shrn=function(g){return this.clone().ishrn(g)},a.prototype.ushrn=function(g){return this.clone().iushrn(g)},a.prototype.testn=function(g){o(typeof g=="number"&&g>=0);var v=g%26,w=(g-v)/26,b=1<<v;return!(this.length<=w)&&!!(this.words[w]&b)},a.prototype.imaskn=function(g){o(typeof g=="number"&&g>=0);var v=g%26,w=(g-v)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(v!==0&&w++,this.length=Math.min(w,this.length),v!==0){var b=67108863^67108863>>>v<<v;this.words[this.length-1]&=b}return this._strip()},a.prototype.maskn=function(g){return this.clone().imaskn(g)},a.prototype.iaddn=function(g){return o(typeof g=="number"),o(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(0|this.words[0])<=g?(this.words[0]=g-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},a.prototype._iaddn=function(g){this.words[0]+=g;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(g){if(o(typeof g=="number"),o(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},a.prototype.addn=function(g){return this.clone().iaddn(g)},a.prototype.subn=function(g){return this.clone().isubn(g)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(g,v,w){var b,C,S=g.length+w;this._expand(S);var F=0;for(b=0;b<g.length;b++){C=(0|this.words[b+w])+F;var q=(0|g.words[b])*v;F=((C-=67108863&q)>>26)-(q/67108864|0),this.words[b+w]=67108863&C}for(;b<this.length-w;b++)F=(C=(0|this.words[b+w])+F)>>26,this.words[b+w]=67108863&C;if(F===0)return this._strip();for(o(F===-1),F=0,b=0;b<this.length;b++)F=(C=-(0|this.words[b])+F)>>26,this.words[b]=67108863&C;return this.negative=1,this._strip()},a.prototype._wordDiv=function(g,v){var w=(this.length,g.length),b=this.clone(),C=g,S=0|C.words[C.length-1];(w=26-this._countBits(S))!==0&&(C=C.ushln(w),b.iushln(w),S=0|C.words[C.length-1]);var F,q=b.length-C.length;if(v!=="mod"){(F=new a(null)).length=q+1,F.words=new Array(F.length);for(var z=0;z<F.length;z++)F.words[z]=0}var Y=b.clone()._ishlnsubmul(C,1,q);Y.negative===0&&(b=Y,F&&(F.words[q]=1));for(var P=q-1;P>=0;P--){var K=67108864*(0|b.words[C.length+P])+(0|b.words[C.length+P-1]);for(K=Math.min(K/S|0,67108863),b._ishlnsubmul(C,K,P);b.negative!==0;)K--,b.negative=0,b._ishlnsubmul(C,1,P),b.isZero()||(b.negative^=1);F&&(F.words[P]=K)}return F&&F._strip(),b._strip(),v!=="div"&&w!==0&&b.iushrn(w),{div:F||null,mod:b}},a.prototype.divmod=function(g,v,w){return o(!g.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&g.negative===0?(S=this.neg().divmod(g,v),v!=="mod"&&(b=S.div.neg()),v!=="div"&&(C=S.mod.neg(),w&&C.negative!==0&&C.iadd(g)),{div:b,mod:C}):this.negative===0&&g.negative!==0?(S=this.divmod(g.neg(),v),v!=="mod"&&(b=S.div.neg()),{div:b,mod:S.mod}):(this.negative&g.negative)!=0?(S=this.neg().divmod(g.neg(),v),v!=="div"&&(C=S.mod.neg(),w&&C.negative!==0&&C.isub(g)),{div:S.div,mod:C}):g.length>this.length||this.cmp(g)<0?{div:new a(0),mod:this}:g.length===1?v==="div"?{div:this.divn(g.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new a(this.modrn(g.words[0]))}:this._wordDiv(g,v);var b,C,S},a.prototype.div=function(g){return this.divmod(g,"div",!1).div},a.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},a.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},a.prototype.divRound=function(g){var v=this.divmod(g);if(v.mod.isZero())return v.div;var w=v.div.negative!==0?v.mod.isub(g):v.mod,b=g.ushrn(1),C=g.andln(1),S=w.cmp(b);return S<0||C===1&&S===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modrn=function(g){var v=g<0;v&&(g=-g),o(g<=67108863);for(var w=(1<<26)%g,b=0,C=this.length-1;C>=0;C--)b=(w*b+(0|this.words[C]))%g;return v?-b:b},a.prototype.modn=function(g){return this.modrn(g)},a.prototype.idivn=function(g){var v=g<0;v&&(g=-g),o(g<=67108863);for(var w=0,b=this.length-1;b>=0;b--){var C=(0|this.words[b])+67108864*w;this.words[b]=C/g|0,w=C%g}return this._strip(),v?this.ineg():this},a.prototype.divn=function(g){return this.clone().idivn(g)},a.prototype.egcd=function(g){o(g.negative===0),o(!g.isZero());var v=this,w=g.clone();v=v.negative!==0?v.umod(g):v.clone();for(var b=new a(1),C=new a(0),S=new a(0),F=new a(1),q=0;v.isEven()&&w.isEven();)v.iushrn(1),w.iushrn(1),++q;for(var z=w.clone(),Y=v.clone();!v.isZero();){for(var P=0,K=1;(v.words[0]&K)==0&&P<26;++P,K<<=1);if(P>0)for(v.iushrn(P);P-- >0;)(b.isOdd()||C.isOdd())&&(b.iadd(z),C.isub(Y)),b.iushrn(1),C.iushrn(1);for(var k=0,M=1;(w.words[0]&M)==0&&k<26;++k,M<<=1);if(k>0)for(w.iushrn(k);k-- >0;)(S.isOdd()||F.isOdd())&&(S.iadd(z),F.isub(Y)),S.iushrn(1),F.iushrn(1);v.cmp(w)>=0?(v.isub(w),b.isub(S),C.isub(F)):(w.isub(v),S.isub(b),F.isub(C))}return{a:S,b:F,gcd:w.iushln(q)}},a.prototype._invmp=function(g){o(g.negative===0),o(!g.isZero());var v=this,w=g.clone();v=v.negative!==0?v.umod(g):v.clone();for(var b,C=new a(1),S=new a(0),F=w.clone();v.cmpn(1)>0&&w.cmpn(1)>0;){for(var q=0,z=1;(v.words[0]&z)==0&&q<26;++q,z<<=1);if(q>0)for(v.iushrn(q);q-- >0;)C.isOdd()&&C.iadd(F),C.iushrn(1);for(var Y=0,P=1;(w.words[0]&P)==0&&Y<26;++Y,P<<=1);if(Y>0)for(w.iushrn(Y);Y-- >0;)S.isOdd()&&S.iadd(F),S.iushrn(1);v.cmp(w)>=0?(v.isub(w),C.isub(S)):(w.isub(v),S.isub(C))}return(b=v.cmpn(1)===0?C:S).cmpn(0)<0&&b.iadd(g),b},a.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var v=this.clone(),w=g.clone();v.negative=0,w.negative=0;for(var b=0;v.isEven()&&w.isEven();b++)v.iushrn(1),w.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;w.isEven();)w.iushrn(1);var C=v.cmp(w);if(C<0){var S=v;v=w,w=S}else if(C===0||w.cmpn(1)===0)break;v.isub(w)}return w.iushln(b)},a.prototype.invm=function(g){return this.egcd(g).a.umod(g)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(g){return this.words[0]&g},a.prototype.bincn=function(g){o(typeof g=="number");var v=g%26,w=(g-v)/26,b=1<<v;if(this.length<=w)return this._expand(w+1),this.words[w]|=b,this;for(var C=b,S=w;C!==0&&S<this.length;S++){var F=0|this.words[S];C=(F+=C)>>>26,F&=67108863,this.words[S]=F}return C!==0&&(this.words[S]=C,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(g){var v,w=g<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)v=1;else{w&&(g=-g),o(g<=67108863,"Number is too big");var b=0|this.words[0];v=b===g?0:b<g?-1:1}return this.negative!==0?0|-v:v},a.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var v=this.ucmp(g);return this.negative!==0?0|-v:v},a.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var v=0,w=this.length-1;w>=0;w--){var b=0|this.words[w],C=0|g.words[w];if(b!==C){b<C?v=-1:b>C&&(v=1);break}}return v},a.prototype.gtn=function(g){return this.cmpn(g)===1},a.prototype.gt=function(g){return this.cmp(g)===1},a.prototype.gten=function(g){return this.cmpn(g)>=0},a.prototype.gte=function(g){return this.cmp(g)>=0},a.prototype.ltn=function(g){return this.cmpn(g)===-1},a.prototype.lt=function(g){return this.cmp(g)===-1},a.prototype.lten=function(g){return this.cmpn(g)<=0},a.prototype.lte=function(g){return this.cmp(g)<=0},a.prototype.eqn=function(g){return this.cmpn(g)===0},a.prototype.eq=function(g){return this.cmp(g)===0},a.red=function(g){return new I(g)},a.prototype.toRed=function(g){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(g){return this.red=g,this},a.prototype.forceRed=function(g){return o(!this.red,"Already a number in reduction context"),this._forceRed(g)},a.prototype.redAdd=function(g){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},a.prototype.redIAdd=function(g){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},a.prototype.redSub=function(g){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},a.prototype.redISub=function(g){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},a.prototype.redShl=function(g){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},a.prototype.redMul=function(g){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},a.prototype.redIMul=function(g){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(g){return o(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var V={k256:null,p224:null,p192:null,p25519:null};function R(g,v){this.name=g,this.p=new a(v,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function N(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(g){if(typeof g=="string"){var v=a._prime(g);this.m=v.p,this.prime=v}else o(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}function A(g){I.call(this,g),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var g=new a(null);return g.words=new Array(Math.ceil(this.n/13)),g},R.prototype.ireduce=function(g){var v,w=g;do this.split(w,this.tmp),v=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(v>this.n);var b=v<this.n?-1:w.ucmp(this.p);return b===0?(w.words[0]=0,w.length=1):b>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},R.prototype.split=function(g,v){g.iushrn(this.n,0,v)},R.prototype.imulK=function(g){return g.imul(this.k)},s(N,R),N.prototype.split=function(g,v){for(var w=Math.min(g.length,9),b=0;b<w;b++)v.words[b]=g.words[b];if(v.length=w,g.length<=9)return g.words[0]=0,void(g.length=1);var C=g.words[9];for(v.words[v.length++]=4194303&C,b=10;b<g.length;b++){var S=0|g.words[b];g.words[b-10]=(4194303&S)<<4|C>>>22,C=S}C>>>=22,g.words[b-10]=C,C===0&&g.length>10?g.length-=10:g.length-=9},N.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var v=0,w=0;w<g.length;w++){var b=0|g.words[w];v+=977*b,g.words[w]=67108863&v,v=64*b+(v/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g},s(j,R),s(O,R),s(E,R),E.prototype.imulK=function(g){for(var v=0,w=0;w<g.length;w++){var b=19*(0|g.words[w])+v,C=67108863&b;b>>>=26,g.words[w]=C,v=b}return v!==0&&(g.words[g.length++]=v),g},a._prime=function(g){if(V[g])return V[g];var v;if(g==="k256")v=new N;else if(g==="p224")v=new j;else if(g==="p192")v=new O;else{if(g!=="p25519")throw new Error("Unknown prime "+g);v=new E}return V[g]=v,v},I.prototype._verify1=function(g){o(g.negative===0,"red works only with positives"),o(g.red,"red works only with red numbers")},I.prototype._verify2=function(g,v){o((g.negative|v.negative)==0,"red works only with positives"),o(g.red&&g.red===v.red,"red works only with red numbers")},I.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(f(g,g.umod(this.m)._forceRed(this)),g)},I.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},I.prototype.add=function(g,v){this._verify2(g,v);var w=g.add(v);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},I.prototype.iadd=function(g,v){this._verify2(g,v);var w=g.iadd(v);return w.cmp(this.m)>=0&&w.isub(this.m),w},I.prototype.sub=function(g,v){this._verify2(g,v);var w=g.sub(v);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},I.prototype.isub=function(g,v){this._verify2(g,v);var w=g.isub(v);return w.cmpn(0)<0&&w.iadd(this.m),w},I.prototype.shl=function(g,v){return this._verify1(g),this.imod(g.ushln(v))},I.prototype.imul=function(g,v){return this._verify2(g,v),this.imod(g.imul(v))},I.prototype.mul=function(g,v){return this._verify2(g,v),this.imod(g.mul(v))},I.prototype.isqr=function(g){return this.imul(g,g.clone())},I.prototype.sqr=function(g){return this.mul(g,g)},I.prototype.sqrt=function(g){if(g.isZero())return g.clone();var v=this.m.andln(3);if(o(v%2==1),v===3){var w=this.m.add(new a(1)).iushrn(2);return this.pow(g,w)}for(var b=this.m.subn(1),C=0;!b.isZero()&&b.andln(1)===0;)C++,b.iushrn(1);o(!b.isZero());var S=new a(1).toRed(this),F=S.redNeg(),q=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new a(2*z*z).toRed(this);this.pow(z,q).cmp(F)!==0;)z.redIAdd(F);for(var Y=this.pow(z,b),P=this.pow(g,b.addn(1).iushrn(1)),K=this.pow(g,b),k=C;K.cmp(S)!==0;){for(var M=K,H=0;M.cmp(S)!==0;H++)M=M.redSqr();o(H<k);var Z=this.pow(Y,new a(1).iushln(k-H-1));P=P.redMul(Z),Y=Z.redSqr(),K=K.redMul(Y),k=H}return P},I.prototype.invm=function(g){var v=g._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},I.prototype.pow=function(g,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return g.clone();var w=new Array(16);w[0]=new a(1).toRed(this),w[1]=g;for(var b=2;b<w.length;b++)w[b]=this.mul(w[b-1],g);var C=w[0],S=0,F=0,q=v.bitLength()%26;for(q===0&&(q=26),b=v.length-1;b>=0;b--){for(var z=v.words[b],Y=q-1;Y>=0;Y--){var P=z>>Y&1;C!==w[0]&&(C=this.sqr(C)),P!==0||S!==0?(S<<=1,S|=P,(++F===4||b===0&&Y===0)&&(C=this.mul(C,w[S]),F=0,S=0)):F=0}q=26}return C},I.prototype.convertTo=function(g){var v=g.umod(this.m);return v===g?v.clone():v},I.prototype.convertFrom=function(g){var v=g.clone();return v.red=null,v},a.mont=function(g){return new A(g)},s(A,I),A.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},A.prototype.convertFrom=function(g){var v=this.imod(g.mul(this.rinv));return v.red=null,v},A.prototype.imul=function(g,v){if(g.isZero()||v.isZero())return g.words[0]=0,g.length=1,g;var w=g.imul(v),b=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=w.isub(b).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},A.prototype.mul=function(g,v){if(g.isZero()||v.isZero())return new a(0)._forceRed(this);var w=g.mul(v),b=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=w.isub(b).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},A.prototype.invm=function(g){return this.imod(g._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],187:[function(t,e,n){"use strict";var r;function i(s){this.rand=s}if(e.exports=function(s){return r||(r=new i(null)),r.generate(s)},e.exports.Rand=i,i.prototype.generate=function(s){return this._rand(s)},i.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var a=new Uint8Array(s),c=0;c<a.length;c++)a[c]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(s){var a=new Uint8Array(s);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(s){var a=new Uint8Array(s);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=t("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(s){return o.randomBytes(s)}}catch{}},{crypto:188}],188:[function(t,e,n){},{}],189:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(l){r.isBuffer(l)||(l=r.from(l));for(var d=l.length/4|0,f=new Array(d),p=0;p<d;p++)f[p]=l.readUInt32BE(4*p);return f}function o(l){for(;0<l.length;l++)l[0]=0}function s(l,d,f,p,h){for(var y,m,_,x,D=f[0],L=f[1],$=f[2],V=f[3],R=l[0]^d[0],N=l[1]^d[1],j=l[2]^d[2],O=l[3]^d[3],E=4,I=1;I<h;I++)y=D[R>>>24]^L[N>>>16&255]^$[j>>>8&255]^V[255&O]^d[E++],m=D[N>>>24]^L[j>>>16&255]^$[O>>>8&255]^V[255&R]^d[E++],_=D[j>>>24]^L[O>>>16&255]^$[R>>>8&255]^V[255&N]^d[E++],x=D[O>>>24]^L[R>>>16&255]^$[N>>>8&255]^V[255&j]^d[E++],R=y,N=m,j=_,O=x;return y=(p[R>>>24]<<24|p[N>>>16&255]<<16|p[j>>>8&255]<<8|p[255&O])^d[E++],m=(p[N>>>24]<<24|p[j>>>16&255]<<16|p[O>>>8&255]<<8|p[255&R])^d[E++],_=(p[j>>>24]<<24|p[O>>>16&255]<<16|p[R>>>8&255]<<8|p[255&N])^d[E++],x=(p[O>>>24]<<24|p[R>>>16&255]<<16|p[N>>>8&255]<<8|p[255&j])^d[E++],[y>>>=0,m>>>=0,_>>>=0,x>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=(function(){for(var l=new Array(256),d=0;d<256;d++)l[d]=d<128?d<<1:d<<1^283;for(var f=[],p=[],h=[[],[],[],[]],y=[[],[],[],[]],m=0,_=0,x=0;x<256;++x){var D=_^_<<1^_<<2^_<<3^_<<4;D=D>>>8^255&D^99,f[m]=D,p[D]=m;var L=l[m],$=l[L],V=l[$],R=257*l[D]^16843008*D;h[0][m]=R<<24|R>>>8,h[1][m]=R<<16|R>>>16,h[2][m]=R<<8|R>>>24,h[3][m]=R,R=16843009*V^65537*$^257*L^16843008*m,y[0][D]=R<<24|R>>>8,y[1][D]=R<<16|R>>>16,y[2][D]=R<<8|R>>>24,y[3][D]=R,m===0?m=_=1:(m=L^l[l[l[V^L]]],_^=l[l[_]])}return{SBOX:f,INV_SBOX:p,SUB_MIX:h,INV_SUB_MIX:y}})();function u(l){this._key=i(l),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var l=this._key,d=l.length,f=d+6,p=4*(f+1),h=[],y=0;y<d;y++)h[y]=l[y];for(y=d;y<p;y++){var m=h[y-1];y%d==0?(m=m<<8|m>>>24,m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m],m^=a[y/d|0]<<24):d>6&&y%d==4&&(m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m]),h[y]=h[y-d]^m}for(var _=[],x=0;x<p;x++){var D=p-x,L=h[D-(x%4?0:4)];_[x]=x<4||D<=4?L:c.INV_SUB_MIX[0][c.SBOX[L>>>24]]^c.INV_SUB_MIX[1][c.SBOX[L>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[L>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&L]]}this._nRounds=f,this._keySchedule=h,this._invKeySchedule=_},u.prototype.encryptBlockRaw=function(l){return s(l=i(l),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(l){var d=this.encryptBlockRaw(l),f=r.allocUnsafe(16);return f.writeUInt32BE(d[0],0),f.writeUInt32BE(d[1],4),f.writeUInt32BE(d[2],8),f.writeUInt32BE(d[3],12),f},u.prototype.decryptBlock=function(l){var d=(l=i(l))[1];l[1]=l[3],l[3]=d;var f=s(l,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),p=r.allocUnsafe(16);return p.writeUInt32BE(f[0],0),p.writeUInt32BE(f[3],4),p.writeUInt32BE(f[2],8),p.writeUInt32BE(f[1],12),p},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},{"safe-buffer":494}],190:[function(t,e,n){"use strict";var r=t("./aes"),i=t("safe-buffer").Buffer,o=t("cipher-base"),s=t("inherits"),a=t("./ghash"),c=t("buffer-xor"),u=t("./incr32");function l(d,f,p,h){o.call(this);var y=i.alloc(4,0);this._cipher=new r.AES(f);var m=this._cipher.encryptBlock(y);this._ghash=new a(m),p=(function(_,x,D){if(x.length===12)return _._finID=i.concat([x,i.from([0,0,0,1])]),i.concat([x,i.from([0,0,0,2])]);var L=new a(D),$=x.length,V=$%16;L.update(x),V&&(V=16-V,L.update(i.alloc(V,0))),L.update(i.alloc(8,0));var R=8*$,N=i.alloc(8);N.writeUIntBE(R,0,8),L.update(N),_._finID=L.state;var j=i.from(_._finID);return u(j),j})(this,p,m),this._prev=i.from(p),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=h,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}s(l,o),l.prototype._update=function(d){if(!this._called&&this._alen){var f=16-this._alen%16;f<16&&(f=i.alloc(f,0),this._ghash.update(f))}this._called=!0;var p=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(p),this._len+=d.length,p},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(f,p){var h=0;f.length!==p.length&&h++;for(var y=Math.min(f.length,p.length),m=0;m<y;++m)h+=f[m]^p[m];return h})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},l.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},e.exports=l},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,e,n){"use strict";var r=t("./encrypter"),i=t("./decrypter"),o=t("./modes/list.json");n.createCipher=n.Cipher=r.createCipher,n.createCipheriv=n.Cipheriv=r.createCipheriv,n.createDecipher=n.Decipher=i.createDecipher,n.createDecipheriv=n.Decipheriv=i.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,e,n){"use strict";var r=t("./authCipher"),i=t("safe-buffer").Buffer,o=t("./modes"),s=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),u=t("evp_bytestokey");function l(p,h,y){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(h),this._prev=i.from(y),this._mode=p,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function f(p,h,y){var m=o[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=i.from(y)),m.mode!=="GCM"&&y.length!==m.iv)throw new TypeError("invalid iv length "+y.length);if(typeof h=="string"&&(h=i.from(h)),h.length!==m.key/8)throw new TypeError("invalid key length "+h.length);return m.type==="stream"?new s(m.module,h,y,!0):m.type==="auth"?new r(m.module,h,y,!0):new l(m.module,h,y)}t("inherits")(l,a),l.prototype._update=function(p){var h,y;this._cache.add(p);for(var m=[];h=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,h),m.push(y);return i.concat(m)},l.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return(function(h){var y=h[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var m=-1;++m<y;)if(h[m+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return h.slice(0,16-y)})(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},d.prototype.add=function(p){this.cache=i.concat([this.cache,p])},d.prototype.get=function(p){var h;if(p){if(this.cache.length>16)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h}else if(this.cache.length>=16)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(p,h){var y=o[p.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var m=u(h,!1,y.key,y.iv);return f(p,m.key,m.iv)},n.createDecipheriv=f},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,e,n){"use strict";var r=t("./modes"),i=t("./authCipher"),o=t("safe-buffer").Buffer,s=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),u=t("evp_bytestokey");function l(h,y,m){a.call(this),this._cache=new f,this._cipher=new c.AES(y),this._prev=o.from(m),this._mode=h,this._autopadding=!0}t("inherits")(l,a),l.prototype._update=function(h){var y,m;this._cache.add(h);for(var _=[];y=this._cache.get();)m=this._mode.encrypt(this,y),_.push(m);return o.concat(_)};var d=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function p(h,y,m){var _=r[h.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=o.from(y)),y.length!==_.key/8)throw new TypeError("invalid key length "+y.length);if(typeof m=="string"&&(m=o.from(m)),_.mode!=="GCM"&&m.length!==_.iv)throw new TypeError("invalid iv length "+m.length);return _.type==="stream"?new s(_.module,y,m):_.type==="auth"?new i(_.module,y,m):new l(_.module,y,m)}l.prototype._final=function(){var h=this._cache.flush();if(this._autopadding)return h=this._mode.encrypt(this,h),this._cipher.scrub(),h;if(!h.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(h){return this._autopadding=!!h,this},f.prototype.add=function(h){this.cache=o.concat([this.cache,h])},f.prototype.get=function(){if(this.cache.length>15){var h=this.cache.slice(0,16);return this.cache=this.cache.slice(16),h}return null},f.prototype.flush=function(){for(var h=16-this.cache.length,y=o.allocUnsafe(h),m=-1;++m<h;)y.writeUInt8(h,m);return o.concat([this.cache,y])},n.createCipheriv=p,n.createCipher=function(h,y){var m=r[h.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var _=u(y,!1,m.key,m.iv);return p(h,_.key,_.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.alloc(16,0);function o(a){var c=r.allocUnsafe(16);return c.writeUInt32BE(a[0]>>>0,0),c.writeUInt32BE(a[1]>>>0,4),c.writeUInt32BE(a[2]>>>0,8),c.writeUInt32BE(a[3]>>>0,12),c}function s(a){this.h=a,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}s.prototype.ghash=function(a){for(var c=-1;++c<a.length;)this.state[c]^=a[c];this._multiply()},s.prototype._multiply=function(){for(var a,c,u,l=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],d=[0,0,0,0],f=-1;++f<128;){for((this.state[~~(f/8)]&1<<7-f%8)!=0&&(d[0]^=l[0],d[1]^=l[1],d[2]^=l[2],d[3]^=l[3]),u=(1&l[3])!=0,c=3;c>0;c--)l[c]=l[c]>>>1|(1&l[c-1])<<31;l[0]=l[0]>>>1,u&&(l[0]=l[0]^225<<24)}this.state=o(d)},s.prototype.update=function(a){var c;for(this.cache=r.concat([this.cache,a]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},s.prototype.final=function(a,c){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,a,0,c])),this.state},e.exports=s},{"safe-buffer":494}],195:[function(t,e,n){"use strict";e.exports=function(r){for(var i,o=r.length;o--;){if((i=r.readUInt8(o))!==255){i++,r.writeUInt8(i,o);break}r.writeUInt8(0,o)}}},{}],196:[function(t,e,n){"use strict";var r=t("buffer-xor");n.encrypt=function(i,o){var s=r(o,i._prev);return i._prev=i._cipher.encryptBlock(s),i._prev},n.decrypt=function(i,o){var s=i._prev;i._prev=o;var a=i._cipher.decryptBlock(o);return r(a,s)}},{"buffer-xor":219}],197:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("buffer-xor");function o(s,a,c){var u=a.length,l=i(a,s._cache);return s._cache=s._cache.slice(u),s._prev=r.concat([s._prev,c?a:l]),l}n.encrypt=function(s,a,c){for(var u,l=r.allocUnsafe(0);a.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=r.allocUnsafe(0)),!(s._cache.length<=a.length)){l=r.concat([l,o(s,a,c)]);break}u=s._cache.length,l=r.concat([l,o(s,a.slice(0,u),c)]),a=a.slice(u)}return l}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(s,a,c){for(var u,l,d=-1,f=0;++d<8;)u=a&1<<7-d?128:0,f+=(128&(l=s._cipher.encryptBlock(s._prev)[0]^u))>>d%8,s._prev=o(s._prev,c?u:l);return f}function o(s,a){var c=s.length,u=-1,l=r.allocUnsafe(s.length);for(s=r.concat([s,r.from([a])]);++u<c;)l[u]=s[u]<<1|s[u+1]>>7;return l}n.encrypt=function(s,a,c){for(var u=a.length,l=r.allocUnsafe(u),d=-1;++d<u;)l[d]=i(s,a[d],c);return l}},{"safe-buffer":494}],199:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(o,s,a){var c=o._cipher.encryptBlock(o._prev)[0]^s;return o._prev=r.concat([o._prev.slice(1),r.from([a?s:c])]),c}n.encrypt=function(o,s,a){for(var c=s.length,u=r.allocUnsafe(c),l=-1;++l<c;)u[l]=i(o,s[l],a);return u}},{"safe-buffer":494}],200:[function(t,e,n){"use strict";var r=t("buffer-xor"),i=t("safe-buffer").Buffer,o=t("../incr32");function s(a){var c=a._cipher.encryptBlockRaw(a._prev);return o(a._prev),c}n.encrypt=function(a,c){var u=Math.ceil(c.length/16),l=a._cache.length;a._cache=i.concat([a._cache,i.allocUnsafe(16*u)]);for(var d=0;d<u;d++){var f=s(a),p=l+16*d;a._cache.writeUInt32BE(f[0],p+0),a._cache.writeUInt32BE(f[1],p+4),a._cache.writeUInt32BE(f[2],p+8),a._cache.writeUInt32BE(f[3],p+12)}var h=a._cache.slice(0,c.length);return a._cache=a._cache.slice(c.length),r(c,h)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,e,n){"use strict";n.encrypt=function(r,i){return r._cipher.encryptBlock(i)},n.decrypt=function(r,i){return r._cipher.decryptBlock(i)}},{}],202:[function(t,e,n){"use strict";var r={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},i=t("./list.json");for(var o in i)i[o].module=r[i[o].mode];e.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,e,n){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,e,n){(function(r){(function(){"use strict";var i=t("buffer-xor");function o(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}n.encrypt=function(s,a){for(;s._cache.length<a.length;)s._cache=r.concat([s._cache,o(s)]);var c=s._cache.slice(0,a.length);return s._cache=s._cache.slice(a.length),i(a,c)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,e,n){"use strict";var r=t("./aes"),i=t("safe-buffer").Buffer,o=t("cipher-base");function s(a,c,u,l){o.call(this),this._cipher=new r.AES(c),this._prev=i.from(u),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=l,this._mode=a}t("inherits")(s,o),s.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,e,n){"use strict";var r=t("browserify-des"),i=t("browserify-aes/browser"),o=t("browserify-aes/modes"),s=t("browserify-des/modes"),a=t("evp_bytestokey");function c(l,d,f){if(l=l.toLowerCase(),o[l])return i.createCipheriv(l,d,f);if(s[l])return new r({key:d,iv:f,mode:l});throw new TypeError("invalid suite type")}function u(l,d,f){if(l=l.toLowerCase(),o[l])return i.createDecipheriv(l,d,f);if(s[l])return new r({key:d,iv:f,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(l,d){var f,p;if(l=l.toLowerCase(),o[l])f=o[l].key,p=o[l].iv;else{if(!s[l])throw new TypeError("invalid suite type");f=8*s[l].key,p=s[l].iv}var h=a(d,!1,f,p);return c(l,h.key,h.iv)},n.createCipheriv=n.Cipheriv=c,n.createDecipher=n.Decipher=function(l,d){var f,p;if(l=l.toLowerCase(),o[l])f=o[l].key,p=o[l].iv;else{if(!s[l])throw new TypeError("invalid suite type");f=8*s[l].key,p=s[l].iv}var h=a(d,!1,f,p);return u(l,h.key,h.iv)},n.createDecipheriv=n.Decipheriv=u,n.listCiphers=n.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,e,n){"use strict";var r=t("cipher-base"),i=t("des.js"),o=t("inherits"),s=t("safe-buffer").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(u){r.call(this);var l,d=u.mode.toLowerCase(),f=a[d];l=u.decrypt?"decrypt":"encrypt";var p=u.key;s.isBuffer(p)||(p=s.from(p)),d!=="des-ede"&&d!=="des-ede-cbc"||(p=s.concat([p,p.slice(0,8)]));var h=u.iv;s.isBuffer(h)||(h=s.from(h)),this._des=f.create({key:p,iv:h,type:l})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=c,o(c,r),c.prototype._update=function(u){return s.from(this._des.update(u))},c.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,e,n){"use strict";n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(t,e,n){(function(r){(function(){"use strict";var i=t("bn.js"),o=t("randombytes");function s(c){var u,l=c.modulus.byteLength();do u=new i(o(l));while(u.cmp(c.modulus)>=0||!u.umod(c.prime1)||!u.umod(c.prime2));return u}function a(c,u){var l=(function($){var V=s($);return{blinder:V.toRed(i.mont($.modulus)).redPow(new i($.publicExponent)).fromRed(),unblinder:V.invm($.modulus)}})(u),d=u.modulus.byteLength(),f=new i(c).mul(l.blinder).umod(u.modulus),p=f.toRed(i.mont(u.prime1)),h=f.toRed(i.mont(u.prime2)),y=u.coefficient,m=u.prime1,_=u.prime2,x=p.redPow(u.exponent1).fromRed(),D=h.redPow(u.exponent2).fromRed(),L=x.isub(D).imul(y).umod(m).imul(_);return D.iadd(L).imul(l.unblinder).umod(u.modulus).toArrayLike(r,"be",d)}a.getr=s,e.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,e,n){"use strict";e.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,e,n){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,e,n){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("create-hash"),o=t("readable-stream"),s=t("inherits"),a=t("./sign"),c=t("./verify"),u=t("./algorithms.json");function l(h){o.Writable.call(this);var y=u[h];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=i(y.hash),this._tag=y.id,this._signType=y.sign}function d(h){o.Writable.call(this);var y=u[h];if(!y)throw new Error("Unknown message digest");this._hash=i(y.hash),this._tag=y.id,this._signType=y.sign}function f(h){return new l(h)}function p(h){return new d(h)}Object.keys(u).forEach(function(h){u[h].id=r.from(u[h].id,"hex"),u[h.toLowerCase()]=u[h]}),s(l,o.Writable),l.prototype._write=function(h,y,m){this._hash.update(h),m()},l.prototype.update=function(h,y){return typeof h=="string"&&(h=r.from(h,y)),this._hash.update(h),this},l.prototype.sign=function(h,y){this.end();var m=this._hash.digest(),_=a(m,h,this._hashType,this._signType,this._tag);return y?_.toString(y):_},s(d,o.Writable),d.prototype._write=function(h,y,m){this._hash.update(h),m()},d.prototype.update=function(h,y){return typeof h=="string"&&(h=r.from(h,y)),this._hash.update(h),this},d.prototype.verify=function(h,y,m){typeof y=="string"&&(y=r.from(y,m)),this.end();var _=this._hash.digest();return c(y,_,h,this._signType,this._tag)},e.exports={Sign:f,Verify:p,createSign:f,createVerify:p}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("create-hmac"),o=t("browserify-rsa"),s=t("elliptic").ec,a=t("bn.js"),c=t("parse-asn1"),u=t("./curves.json");function l(h,y,m,_){if((h=r.from(h.toArray())).length<y.byteLength()){var x=r.alloc(y.byteLength()-h.length);h=r.concat([x,h])}var D=m.length,L=(function(R,N){R=(R=d(R,N)).mod(N);var j=r.from(R.toArray());if(j.length<N.byteLength()){var O=r.alloc(N.byteLength()-j.length);j=r.concat([O,j])}return j})(m,y),$=r.alloc(D);$.fill(1);var V=r.alloc(D);return V=i(_,V).update($).update(r.from([0])).update(h).update(L).digest(),$=i(_,V).update($).digest(),{k:V=i(_,V).update($).update(r.from([1])).update(h).update(L).digest(),v:$=i(_,V).update($).digest()}}function d(h,y){var m=new a(h),_=(h.length<<3)-y.bitLength();return _>0&&m.ishrn(_),m}function f(h,y,m){var _,x;do{for(_=r.alloc(0);8*_.length<h.bitLength();)y.v=i(m,y.k).update(y.v).digest(),_=r.concat([_,y.v]);x=d(_,h),y.k=i(m,y.k).update(y.v).update(r.from([0])).digest(),y.v=i(m,y.k).update(y.v).digest()}while(x.cmp(h)!==-1);return x}function p(h,y,m,_){return h.toRed(a.mont(m)).redPow(y).fromRed().mod(_)}e.exports=function(h,y,m,_,x){var D=c(y);if(D.curve){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(R,N){var j=u[N.curve.join(".")];if(!j)throw new Error("unknown curve "+N.curve.join("."));var O=new s(j).keyFromPrivate(N.privateKey).sign(R);return r.from(O.toDER())})(h,D)}if(D.type==="dsa"){if(_!=="dsa")throw new Error("wrong private key type");return(function(R,N,j){for(var O,E=N.params.priv_key,I=N.params.p,A=N.params.q,g=N.params.g,v=new a(0),w=d(R,A).mod(A),b=!1,C=l(E,A,R,j);b===!1;)O=f(A,C,j),v=p(g,O,I,A),(b=O.invm(A).imul(w.add(E.mul(v))).mod(A)).cmpn(0)===0&&(b=!1,v=new a(0));return(function(S,F){S=S.toArray(),F=F.toArray(),128&S[0]&&(S=[0].concat(S)),128&F[0]&&(F=[0].concat(F));var q=[48,S.length+F.length+4,2,S.length];return q=q.concat(S,[2,F.length],F),r.from(q)})(v,b)})(h,D,m)}if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");h=r.concat([x,h]);for(var L=D.modulus.byteLength(),$=[0,1];h.length+$.length+1<L;)$.push(255);$.push(0);for(var V=-1;++V<h.length;)$.push(h[V]);return o($,D)},e.exports.getKey=l,e.exports.makeKey=f},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("bn.js"),o=t("elliptic").ec,s=t("parse-asn1"),a=t("./curves.json");function c(u,l){if(u.cmpn(0)<=0)throw new Error("invalid sig");if(u.cmp(l)>=l)throw new Error("invalid sig")}e.exports=function(u,l,d,f,p){var h=s(d);if(h.type==="ec"){if(f!=="ecdsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");return(function($,V,R){var N=a[R.data.algorithm.curve.join(".")];if(!N)throw new Error("unknown curve "+R.data.algorithm.curve.join("."));var j=new o(N),O=R.data.subjectPrivateKey.data;return j.verify(V,$,O)})(u,l,h)}if(h.type==="dsa"){if(f!=="dsa")throw new Error("wrong public key type");return(function($,V,R){var N=R.data.p,j=R.data.q,O=R.data.g,E=R.data.pub_key,I=s.signature.decode($,"der"),A=I.s,g=I.r;c(A,j),c(g,j);var v=i.mont(N),w=A.invm(j);return O.toRed(v).redPow(new i(V).mul(w).mod(j)).fromRed().mul(E.toRed(v).redPow(g.mul(w).mod(j)).fromRed()).mod(N).mod(j).cmp(g)===0})(u,l,h)}if(f!=="rsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");l=r.concat([p,l]);for(var y=h.modulus.byteLength(),m=[1],_=0;l.length+m.length+2<y;)m.push(255),_++;m.push(0);for(var x=-1;++x<l.length;)m.push(l[x]);m=r.from(m);var D=i.mont(h.modulus);u=(u=new i(u).toRed(D)).redPow(new i(h.publicExponent)),u=r.from(u.fromRed().toArray());var L=_<8?1:0;for(y=Math.min(u.length,m.length),u.length!==m.length&&(L=1),x=-1;++x<y;)L|=u[x]^m[x];return L===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,e,n){},{}],217:[function(t,e,n){"use strict";var r=t("buffer"),i=r.Buffer;function o(a,c){for(var u in a)c[u]=a[u]}function s(a,c,u){return i(a,c,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,n),n.Buffer=s),o(i,s),s.from=function(a,c,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,c,u)},s.alloc=function(a,c,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=i(a);return c!==void 0?typeof u=="string"?l.fill(c,u):l.fill(c):l.fill(0),l},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],218:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.isEncoding||function(h){switch((h=""+h)&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(h){var y;switch(this.encoding=(function(m){var _=(function(x){if(!x)return"utf8";for(var D;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(D)return;x=(""+x).toLowerCase(),D=!0}})(m);if(typeof _!="string"&&(r.isEncoding===i||!i(m)))throw new Error("Unknown encoding: "+m);return _||m})(h),this.encoding){case"utf16le":this.text=c,this.end=u,y=4;break;case"utf8":this.fillLast=a,y=4;break;case"base64":this.text=l,this.end=d,y=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(y)}function s(h){return h<=127?0:h>>5==6?2:h>>4==14?3:h>>3==30?4:h>>6==2?-1:-2}function a(h){var y=this.lastTotal-this.lastNeed,m=(function(_,x,D){if((192&x[0])!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&x.length>1){if((192&x[1])!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&x.length>2&&(192&x[2])!=128)return _.lastNeed=2,"\uFFFD"}})(this,h);return m!==void 0?m:this.lastNeed<=h.length?(h.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,y,0,h.length),void(this.lastNeed-=h.length))}function c(h,y){if((h.length-y)%2==0){var m=h.toString("utf16le",y);if(m){var _=m.charCodeAt(m.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",y,h.length-1)}function u(h){var y=h&&h.length?this.write(h):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,m)}return y}function l(h,y){var m=(h.length-y)%3;return m===0?h.toString("base64",y):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",y,h.length-m))}function d(h){var y=h&&h.length?this.write(h):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function f(h){return h.toString(this.encoding)}function p(h){return h&&h.length?this.write(h):""}n.StringDecoder=o,o.prototype.write=function(h){if(h.length===0)return"";var y,m;if(this.lastNeed){if((y=this.fillLast(h))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<h.length?y?y+this.text(h,m):this.text(h,m):y||""},o.prototype.end=function(h){var y=h&&h.length?this.write(h):"";return this.lastNeed?y+"\uFFFD":y},o.prototype.text=function(h,y){var m=(function(x,D,L){var $=D.length-1;if($<L)return 0;var V=s(D[$]);return V>=0?(V>0&&(x.lastNeed=V-1),V):--$<L||V===-2?0:(V=s(D[$]))>=0?(V>0&&(x.lastNeed=V-2),V):--$<L||V===-2?0:(V=s(D[$]))>=0?(V>0&&(V===2?V=0:x.lastNeed=V-3),V):0})(this,h,y);if(!this.lastNeed)return h.toString("utf8",y);this.lastTotal=m;var _=h.length-(m-this.lastNeed);return h.copy(this.lastChar,0,_),h.toString("utf8",y,_)},o.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length}},{"safe-buffer":217}],219:[function(t,e,n){(function(r){(function(){"use strict";e.exports=function(i,o){for(var s=Math.min(i.length,o.length),a=new r(s),c=0;c<s;++c)a[c]=i[c]^o[c];return a}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,e,n){(function(r){(function(){"use strict";var i=t("base64-js"),o=t("ieee754");n.Buffer=a,n.SlowBuffer=function(k){return+k!=k&&(k=0),a.alloc(+k)},n.INSPECT_MAX_BYTES=50;function s(k){if(k>2147483647)throw new RangeError('The value "'+k+'" is invalid for option "size"');var M=new Uint8Array(k);return M.__proto__=a.prototype,M}function a(k,M,H){if(typeof k=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(k)}return c(k,M,H)}function c(k,M,H){if(typeof k=="string")return(function(J,ne){if(typeof ne=="string"&&ne!==""||(ne="utf8"),!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var de=0|p(J,ne),ue=s(de),ee=ue.write(J,ne);return ee!==de&&(ue=ue.slice(0,ee)),ue})(k,M);if(ArrayBuffer.isView(k))return d(k);if(k==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(P(k,ArrayBuffer)||k&&P(k.buffer,ArrayBuffer))return(function(J,ne,de){if(ne<0||J.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<ne+(de||0))throw new RangeError('"length" is outside of buffer bounds');var ue;return ue=ne===void 0&&de===void 0?new Uint8Array(J):de===void 0?new Uint8Array(J,ne):new Uint8Array(J,ne,de),ue.__proto__=a.prototype,ue})(k,M,H);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=k.valueOf&&k.valueOf();if(Z!=null&&Z!==k)return a.from(Z,M,H);var ie=(function(J){if(a.isBuffer(J)){var ne=0|f(J.length),de=s(ne);return de.length===0||J.copy(de,0,0,ne),de}if(J.length!==void 0)return typeof J.length!="number"||K(J.length)?s(0):d(J);if(J.type==="Buffer"&&Array.isArray(J.data))return d(J.data)})(k);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),M,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}function u(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function l(k){return u(k),s(k<0?0:0|f(k))}function d(k){for(var M=k.length<0?0:0|f(k.length),H=s(M),Z=0;Z<M;Z+=1)H[Z]=255&k[Z];return H}function f(k){if(k>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|k}function p(k,M){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||P(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var H=k.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&H===0)return 0;for(var ie=!1;;)switch(M){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return q(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return z(k).length;default:if(ie)return Z?-1:q(k).length;M=(""+M).toLowerCase(),ie=!0}}function h(k,M,H){var Z=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(M>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return I(this,M,H);case"utf8":case"utf-8":return j(this,M,H);case"ascii":return O(this,M,H);case"latin1":case"binary":return E(this,M,H);case"base64":return N(this,M,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,M,H);default:if(Z)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),Z=!0}}function y(k,M,H){var Z=k[M];k[M]=k[H],k[H]=Z}function m(k,M,H,Z,ie){if(k.length===0)return-1;if(typeof H=="string"?(Z=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),K(H=+H)&&(H=ie?0:k.length-1),H<0&&(H=k.length+H),H>=k.length){if(ie)return-1;H=k.length-1}else if(H<0){if(!ie)return-1;H=0}if(typeof M=="string"&&(M=a.from(M,Z)),a.isBuffer(M))return M.length===0?-1:_(k,M,H,Z,ie);if(typeof M=="number")return M&=255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(k,M,H):Uint8Array.prototype.lastIndexOf.call(k,M,H):_(k,[M],H,Z,ie);throw new TypeError("val must be string, number or Buffer")}function _(k,M,H,Z,ie){var J,ne=1,de=k.length,ue=M.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(k.length<2||M.length<2)return-1;ne=2,de/=2,ue/=2,H/=2}function ee(he,fe){return ne===1?he[fe]:he.readUInt16BE(fe*ne)}if(ie){var le=-1;for(J=H;J<de;J++)if(ee(k,J)===ee(M,le===-1?0:J-le)){if(le===-1&&(le=J),J-le+1===ue)return le*ne}else le!==-1&&(J-=J-le),le=-1}else for(H+ue>de&&(H=de-ue),J=H;J>=0;J--){for(var te=!0,ae=0;ae<ue;ae++)if(ee(k,J+ae)!==ee(M,ae)){te=!1;break}if(te)return J}return-1}function x(k,M,H,Z){H=Number(H)||0;var ie=k.length-H;Z?(Z=Number(Z))>ie&&(Z=ie):Z=ie;var J=M.length;Z>J/2&&(Z=J/2);for(var ne=0;ne<Z;++ne){var de=parseInt(M.substr(2*ne,2),16);if(K(de))return ne;k[H+ne]=de}return ne}function D(k,M,H,Z){return Y(q(M,k.length-H),k,H,Z)}function L(k,M,H,Z){return Y((function(ie){for(var J=[],ne=0;ne<ie.length;++ne)J.push(255&ie.charCodeAt(ne));return J})(M),k,H,Z)}function $(k,M,H,Z){return L(k,M,H,Z)}function V(k,M,H,Z){return Y(z(M),k,H,Z)}function R(k,M,H,Z){return Y((function(ie,J){for(var ne,de,ue,ee=[],le=0;le<ie.length&&!((J-=2)<0);++le)ne=ie.charCodeAt(le),de=ne>>8,ue=ne%256,ee.push(ue),ee.push(de);return ee})(M,k.length-H),k,H,Z)}function N(k,M,H){return M===0&&H===k.length?i.fromByteArray(k):i.fromByteArray(k.slice(M,H))}function j(k,M,H){H=Math.min(k.length,H);for(var Z=[],ie=M;ie<H;){var J,ne,de,ue,ee=k[ie],le=null,te=ee>239?4:ee>223?3:ee>191?2:1;if(ie+te<=H)switch(te){case 1:ee<128&&(le=ee);break;case 2:(192&(J=k[ie+1]))==128&&(ue=(31&ee)<<6|63&J)>127&&(le=ue);break;case 3:J=k[ie+1],ne=k[ie+2],(192&J)==128&&(192&ne)==128&&(ue=(15&ee)<<12|(63&J)<<6|63&ne)>2047&&(ue<55296||ue>57343)&&(le=ue);break;case 4:J=k[ie+1],ne=k[ie+2],de=k[ie+3],(192&J)==128&&(192&ne)==128&&(192&de)==128&&(ue=(15&ee)<<18|(63&J)<<12|(63&ne)<<6|63&de)>65535&&ue<1114112&&(le=ue)}le===null?(le=65533,te=1):le>65535&&(le-=65536,Z.push(le>>>10&1023|55296),le=56320|1023&le),Z.push(le),ie+=te}return(function(ae){var he=ae.length;if(he<=4096)return String.fromCharCode.apply(String,ae);for(var fe="",ve=0;ve<he;)fe+=String.fromCharCode.apply(String,ae.slice(ve,ve+=4096));return fe})(Z)}n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=(function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42}catch{return!1}})(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(k,M,H){return c(k,M,H)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(k,M,H){return(function(Z,ie,J){return u(Z),Z<=0?s(Z):ie!==void 0?typeof J=="string"?s(Z).fill(ie,J):s(Z).fill(ie):s(Z)})(k,M,H)},a.allocUnsafe=function(k){return l(k)},a.allocUnsafeSlow=function(k){return l(k)},a.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==a.prototype},a.compare=function(k,M){if(P(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),P(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(k)||!a.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===M)return 0;for(var H=k.length,Z=M.length,ie=0,J=Math.min(H,Z);ie<J;++ie)if(k[ie]!==M[ie]){H=k[ie],Z=M[ie];break}return H<Z?-1:Z<H?1:0},a.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(k,M){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return a.alloc(0);var H;if(M===void 0)for(M=0,H=0;H<k.length;++H)M+=k[H].length;var Z=a.allocUnsafe(M),ie=0;for(H=0;H<k.length;++H){var J=k[H];if(P(J,Uint8Array)&&(J=a.from(J)),!a.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy(Z,ie),ie+=J.length}return Z},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<k;M+=2)y(this,M,M+1);return this},a.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<k;M+=4)y(this,M,M+3),y(this,M+1,M+2);return this},a.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<k;M+=8)y(this,M,M+7),y(this,M+1,M+6),y(this,M+2,M+5),y(this,M+3,M+4);return this},a.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?j(this,0,k):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(k){if(!a.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||a.compare(this,k)===0},a.prototype.inspect=function(){var k="",M=n.INSPECT_MAX_BYTES;return k=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(k+=" ... "),"<Buffer "+k+">"},a.prototype.compare=function(k,M,H,Z,ie){if(P(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(M===void 0&&(M=0),H===void 0&&(H=k?k.length:0),Z===void 0&&(Z=0),ie===void 0&&(ie=this.length),M<0||H>k.length||Z<0||ie>this.length)throw new RangeError("out of range index");if(Z>=ie&&M>=H)return 0;if(Z>=ie)return-1;if(M>=H)return 1;if(this===k)return 0;for(var J=(ie>>>=0)-(Z>>>=0),ne=(H>>>=0)-(M>>>=0),de=Math.min(J,ne),ue=this.slice(Z,ie),ee=k.slice(M,H),le=0;le<de;++le)if(ue[le]!==ee[le]){J=ue[le],ne=ee[le];break}return J<ne?-1:ne<J?1:0},a.prototype.includes=function(k,M,H){return this.indexOf(k,M,H)!==-1},a.prototype.indexOf=function(k,M,H){return m(this,k,M,H,!0)},a.prototype.lastIndexOf=function(k,M,H){return m(this,k,M,H,!1)},a.prototype.write=function(k,M,H,Z){if(M===void 0)Z="utf8",H=this.length,M=0;else if(H===void 0&&typeof M=="string")Z=M,H=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(H)?(H>>>=0,Z===void 0&&(Z="utf8")):(Z=H,H=void 0)}var ie=this.length-M;if((H===void 0||H>ie)&&(H=ie),k.length>0&&(H<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var J=!1;;)switch(Z){case"hex":return x(this,k,M,H);case"utf8":case"utf-8":return D(this,k,M,H);case"ascii":return L(this,k,M,H);case"latin1":case"binary":return $(this,k,M,H);case"base64":return V(this,k,M,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,k,M,H);default:if(J)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(k,M,H){var Z="";H=Math.min(k.length,H);for(var ie=M;ie<H;++ie)Z+=String.fromCharCode(127&k[ie]);return Z}function E(k,M,H){var Z="";H=Math.min(k.length,H);for(var ie=M;ie<H;++ie)Z+=String.fromCharCode(k[ie]);return Z}function I(k,M,H){var Z=k.length;(!M||M<0)&&(M=0),(!H||H<0||H>Z)&&(H=Z);for(var ie="",J=M;J<H;++J)ie+=F(k[J]);return ie}function A(k,M,H){for(var Z=k.slice(M,H),ie="",J=0;J<Z.length;J+=2)ie+=String.fromCharCode(Z[J]+256*Z[J+1]);return ie}function g(k,M,H){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+M>H)throw new RangeError("Trying to access beyond buffer length")}function v(k,M,H,Z,ie,J){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>ie||M<J)throw new RangeError('"value" argument is out of bounds');if(H+Z>k.length)throw new RangeError("Index out of range")}function w(k,M,H,Z,ie,J){if(H+Z>k.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function b(k,M,H,Z,ie){return M=+M,H>>>=0,ie||w(k,0,H,4),o.write(k,M,H,Z,23,4),H+4}function C(k,M,H,Z,ie){return M=+M,H>>>=0,ie||w(k,0,H,8),o.write(k,M,H,Z,52,8),H+8}a.prototype.slice=function(k,M){var H=this.length;(k=~~k)<0?(k+=H)<0&&(k=0):k>H&&(k=H),(M=M===void 0?H:~~M)<0?(M+=H)<0&&(M=0):M>H&&(M=H),M<k&&(M=k);var Z=this.subarray(k,M);return Z.__proto__=a.prototype,Z},a.prototype.readUIntLE=function(k,M,H){k>>>=0,M>>>=0,H||g(k,M,this.length);for(var Z=this[k],ie=1,J=0;++J<M&&(ie*=256);)Z+=this[k+J]*ie;return Z},a.prototype.readUIntBE=function(k,M,H){k>>>=0,M>>>=0,H||g(k,M,this.length);for(var Z=this[k+--M],ie=1;M>0&&(ie*=256);)Z+=this[k+--M]*ie;return Z},a.prototype.readUInt8=function(k,M){return k>>>=0,M||g(k,1,this.length),this[k]},a.prototype.readUInt16LE=function(k,M){return k>>>=0,M||g(k,2,this.length),this[k]|this[k+1]<<8},a.prototype.readUInt16BE=function(k,M){return k>>>=0,M||g(k,2,this.length),this[k]<<8|this[k+1]},a.prototype.readUInt32LE=function(k,M){return k>>>=0,M||g(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},a.prototype.readUInt32BE=function(k,M){return k>>>=0,M||g(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},a.prototype.readIntLE=function(k,M,H){k>>>=0,M>>>=0,H||g(k,M,this.length);for(var Z=this[k],ie=1,J=0;++J<M&&(ie*=256);)Z+=this[k+J]*ie;return Z>=(ie*=128)&&(Z-=Math.pow(2,8*M)),Z},a.prototype.readIntBE=function(k,M,H){k>>>=0,M>>>=0,H||g(k,M,this.length);for(var Z=M,ie=1,J=this[k+--Z];Z>0&&(ie*=256);)J+=this[k+--Z]*ie;return J>=(ie*=128)&&(J-=Math.pow(2,8*M)),J},a.prototype.readInt8=function(k,M){return k>>>=0,M||g(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},a.prototype.readInt16LE=function(k,M){k>>>=0,M||g(k,2,this.length);var H=this[k]|this[k+1]<<8;return 32768&H?4294901760|H:H},a.prototype.readInt16BE=function(k,M){k>>>=0,M||g(k,2,this.length);var H=this[k+1]|this[k]<<8;return 32768&H?4294901760|H:H},a.prototype.readInt32LE=function(k,M){return k>>>=0,M||g(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},a.prototype.readInt32BE=function(k,M){return k>>>=0,M||g(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},a.prototype.readFloatLE=function(k,M){return k>>>=0,M||g(k,4,this.length),o.read(this,k,!0,23,4)},a.prototype.readFloatBE=function(k,M){return k>>>=0,M||g(k,4,this.length),o.read(this,k,!1,23,4)},a.prototype.readDoubleLE=function(k,M){return k>>>=0,M||g(k,8,this.length),o.read(this,k,!0,52,8)},a.prototype.readDoubleBE=function(k,M){return k>>>=0,M||g(k,8,this.length),o.read(this,k,!1,52,8)},a.prototype.writeUIntLE=function(k,M,H,Z){k=+k,M>>>=0,H>>>=0,Z||v(this,k,M,H,Math.pow(2,8*H)-1,0);var ie=1,J=0;for(this[M]=255&k;++J<H&&(ie*=256);)this[M+J]=k/ie&255;return M+H},a.prototype.writeUIntBE=function(k,M,H,Z){k=+k,M>>>=0,H>>>=0,Z||v(this,k,M,H,Math.pow(2,8*H)-1,0);var ie=H-1,J=1;for(this[M+ie]=255&k;--ie>=0&&(J*=256);)this[M+ie]=k/J&255;return M+H},a.prototype.writeUInt8=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,1,255,0),this[M]=255&k,M+1},a.prototype.writeUInt16LE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,2,65535,0),this[M]=255&k,this[M+1]=k>>>8,M+2},a.prototype.writeUInt16BE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,2,65535,0),this[M]=k>>>8,this[M+1]=255&k,M+2},a.prototype.writeUInt32LE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,4,4294967295,0),this[M+3]=k>>>24,this[M+2]=k>>>16,this[M+1]=k>>>8,this[M]=255&k,M+4},a.prototype.writeUInt32BE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,4,4294967295,0),this[M]=k>>>24,this[M+1]=k>>>16,this[M+2]=k>>>8,this[M+3]=255&k,M+4},a.prototype.writeIntLE=function(k,M,H,Z){if(k=+k,M>>>=0,!Z){var ie=Math.pow(2,8*H-1);v(this,k,M,H,ie-1,-ie)}var J=0,ne=1,de=0;for(this[M]=255&k;++J<H&&(ne*=256);)k<0&&de===0&&this[M+J-1]!==0&&(de=1),this[M+J]=(k/ne>>0)-de&255;return M+H},a.prototype.writeIntBE=function(k,M,H,Z){if(k=+k,M>>>=0,!Z){var ie=Math.pow(2,8*H-1);v(this,k,M,H,ie-1,-ie)}var J=H-1,ne=1,de=0;for(this[M+J]=255&k;--J>=0&&(ne*=256);)k<0&&de===0&&this[M+J+1]!==0&&(de=1),this[M+J]=(k/ne>>0)-de&255;return M+H},a.prototype.writeInt8=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,1,127,-128),k<0&&(k=255+k+1),this[M]=255&k,M+1},a.prototype.writeInt16LE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,2,32767,-32768),this[M]=255&k,this[M+1]=k>>>8,M+2},a.prototype.writeInt16BE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,2,32767,-32768),this[M]=k>>>8,this[M+1]=255&k,M+2},a.prototype.writeInt32LE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,4,2147483647,-2147483648),this[M]=255&k,this[M+1]=k>>>8,this[M+2]=k>>>16,this[M+3]=k>>>24,M+4},a.prototype.writeInt32BE=function(k,M,H){return k=+k,M>>>=0,H||v(this,k,M,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[M]=k>>>24,this[M+1]=k>>>16,this[M+2]=k>>>8,this[M+3]=255&k,M+4},a.prototype.writeFloatLE=function(k,M,H){return b(this,k,M,!0,H)},a.prototype.writeFloatBE=function(k,M,H){return b(this,k,M,!1,H)},a.prototype.writeDoubleLE=function(k,M,H){return C(this,k,M,!0,H)},a.prototype.writeDoubleBE=function(k,M,H){return C(this,k,M,!1,H)},a.prototype.copy=function(k,M,H,Z){if(!a.isBuffer(k))throw new TypeError("argument should be a Buffer");if(H||(H=0),Z||Z===0||(Z=this.length),M>=k.length&&(M=k.length),M||(M=0),Z>0&&Z<H&&(Z=H),Z===H||k.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),k.length-M<Z-H&&(Z=k.length-M+H);var ie=Z-H;if(this===k&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(M,H,Z);else if(this===k&&H<M&&M<Z)for(var J=ie-1;J>=0;--J)k[J+M]=this[J+H];else Uint8Array.prototype.set.call(k,this.subarray(H,Z),M);return ie},a.prototype.fill=function(k,M,H,Z){if(typeof k=="string"){if(typeof M=="string"?(Z=M,M=0,H=this.length):typeof H=="string"&&(Z=H,H=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(k.length===1){var ie=k.charCodeAt(0);(Z==="utf8"&&ie<128||Z==="latin1")&&(k=ie)}}else typeof k=="number"&&(k&=255);if(M<0||this.length<M||this.length<H)throw new RangeError("Out of range index");if(H<=M)return this;var J;if(M>>>=0,H=H===void 0?this.length:H>>>0,k||(k=0),typeof k=="number")for(J=M;J<H;++J)this[J]=k;else{var ne=a.isBuffer(k)?k:a.from(k,Z),de=ne.length;if(de===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(J=0;J<H-M;++J)this[J+M]=ne[J%de]}return this};var S=/[^+/0-9A-Za-z-_]/g;function F(k){return k<16?"0"+k.toString(16):k.toString(16)}function q(k,M){var H;M=M||1/0;for(var Z=k.length,ie=null,J=[],ne=0;ne<Z;++ne){if((H=k.charCodeAt(ne))>55295&&H<57344){if(!ie){if(H>56319){(M-=3)>-1&&J.push(239,191,189);continue}if(ne+1===Z){(M-=3)>-1&&J.push(239,191,189);continue}ie=H;continue}if(H<56320){(M-=3)>-1&&J.push(239,191,189),ie=H;continue}H=65536+(ie-55296<<10|H-56320)}else ie&&(M-=3)>-1&&J.push(239,191,189);if(ie=null,H<128){if((M-=1)<0)break;J.push(H)}else if(H<2048){if((M-=2)<0)break;J.push(H>>6|192,63&H|128)}else if(H<65536){if((M-=3)<0)break;J.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;J.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return J}function z(k){return i.toByteArray((function(M){if((M=(M=M.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;M.length%4!=0;)M+="=";return M})(k))}function Y(k,M,H,Z){for(var ie=0;ie<Z&&!(ie+H>=M.length||ie>=k.length);++ie)M[ie+H]=k[ie];return ie}function P(k,M){return k instanceof M||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===M.name}function K(k){return k!=k}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("stream").Transform,o=t("string_decoder").StringDecoder;function s(a){i.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(s,i),s.prototype.update=function(a,c,u){typeof a=="string"&&(a=r.from(a,c));var l=this._update(a);return this.hashMode?this:(u&&(l=this._toString(l,u)),l)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(a,c,u){var l;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(d){l=d}finally{u(l)}},s.prototype._flush=function(a){var c;try{this.push(this.__final())}catch(u){c=u}a(c)},s.prototype._finalOrDigest=function(a){var c=this.__final()||r.alloc(0);return a&&(c=this._toString(c,a,!0)),c},s.prototype._toString=function(a,c,u){if(this._decoder||(this._decoder=new o(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var l=this._decoder.write(a);return u&&(l+=this._decoder.end()),l},e.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/try-to-string"),o=TypeError;e.exports=function(s){if(r(s))return s;throw new o(i(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,e,n){"use strict";var r=t("../internals/is-constructor"),i=t("../internals/try-to-string"),o=TypeError;e.exports=function(s){if(r(s))return s;throw new o(i(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=String,o=TypeError;e.exports=function(s){if(typeof s=="object"||r(s))return s;throw new o("Can't set "+i(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol"),i=t("../internals/object-create"),o=t("../internals/object-define-property").f,s=r("unscopables"),a=Array.prototype;a[s]===void 0&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(c){a[s][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,e,n){"use strict";var r=t("../internals/object-is-prototype-of"),i=TypeError;e.exports=function(o,s){if(r(s,o))return o;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,e,n){"use strict";var r=t("../internals/is-object"),i=String,o=TypeError;e.exports=function(s){if(r(s))return s;throw new o(i(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),s=function(a){return function(c,u,l){var d,f=r(c),p=o(f),h=i(l,p);if(a&&u!=u){for(;p>h;)if((d=f[h++])!=d)return!0}else for(;p>h;h++)if((a||h in f)&&f[h]===u)return a||h||0;return!a&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,e,n){"use strict";var r=t("../internals/function-bind-context"),i=t("../internals/function-uncurry-this"),o=t("../internals/indexed-object"),s=t("../internals/to-object"),a=t("../internals/length-of-array-like"),c=t("../internals/array-species-create"),u=i([].push),l=function(d){var f=d===1,p=d===2,h=d===3,y=d===4,m=d===6,_=d===7,x=d===5||m;return function(D,L,$,V){for(var R,N,j=s(D),O=o(j),E=r(L,$),I=a(O),A=0,g=V||c,v=f?g(D,I):p||_?g(D,0):void 0;I>A;A++)if((x||A in O)&&(N=E(R=O[A],A,j),d))if(f)v[A]=N;else if(N)switch(d){case 3:return!0;case 5:return R;case 6:return A;case 2:u(v,R)}else switch(d){case 4:return!1;case 7:u(v,R)}return m?-1:h||y?y:v}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,e,n){"use strict";var r=t("../internals/to-absolute-index"),i=t("../internals/length-of-array-like"),o=t("../internals/create-property"),s=Array,a=Math.max;e.exports=function(c,u,l){for(var d=i(c),f=r(u,d),p=r(l===void 0?d:l,d),h=s(a(p-f,0)),y=0;f<p;f++,y++)o(h,y,c[f]);return h.length=y,h}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this");e.exports=r([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,e,n){"use strict";var r=t("../internals/is-array"),i=t("../internals/is-constructor"),o=t("../internals/is-object"),s=t("../internals/well-known-symbol")("species"),a=Array;e.exports=function(c){var u;return r(c)&&(u=c.constructor,(i(u)&&(u===a||r(u.prototype))||o(u)&&(u=u[s])===null)&&(u=void 0)),u===void 0?a:u}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,e,n){"use strict";var r=t("../internals/array-species-constructor");e.exports=function(i,o){return new(r(i))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol")("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch{}e.exports=function(a,c){try{if(!c&&!i)return!1}catch{return!1}var u=!1;try{var l={};l[r]=function(){return{next:function(){return{done:u=!0}}}},a(l)}catch{}return u}},{"../internals/well-known-symbol":357}],235:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=r({}.toString),o=r("".slice);e.exports=function(s){return o(i(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,e,n){"use strict";var r=t("../internals/to-string-tag-support"),i=t("../internals/is-callable"),o=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),a=Object,c=o((function(){return arguments})())==="Arguments";e.exports=r?o:function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=(function(p,h){try{return p[h]}catch{}})(l=a(u),s))=="string"?d:c?o(l):(f=o(l))==="Object"&&i(l.callee)?"Arguments":f}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,e,n){"use strict";var r=t("../internals/has-own-property"),i=t("../internals/own-keys"),o=t("../internals/object-get-own-property-descriptor"),s=t("../internals/object-define-property");e.exports=function(a,c,u){for(var l=i(c),d=s.f,f=o.f,p=0;p<l.length;p++){var h=l[p];r(a,h)||u&&r(u,h)||d(a,h,f(c,h))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol")("match");e.exports=function(i){var o=/./;try{"/./"[i](o)}catch{try{return o[r]=!1,"/./"[i](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":260}],240:[function(t,e,n){"use strict";e.exports=function(r,i){return{value:r,done:i}}},{}],241:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");e.exports=r?function(s,a,c){return i.f(s,a,o(1,c))}:function(s,a,c){return s[a]=c,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,e,n){"use strict";e.exports=function(r,i){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:i}}},{}],243:[function(t,e,n){"use strict";var r=t("../internals/to-property-key"),i=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");e.exports=function(s,a,c){var u=r(a);u in s?i.f(s,u,o(0,c)):s[u]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,e,n){"use strict";var r=t("../internals/make-built-in"),i=t("../internals/object-define-property");e.exports=function(o,s,a){return a.get&&r(a.get,s,{getter:!0}),a.set&&r(a.set,s,{setter:!0}),i.f(o,s,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/object-define-property"),o=t("../internals/make-built-in"),s=t("../internals/define-global-property");e.exports=function(a,c,u,l){l||(l={});var d=l.enumerable,f=l.name!==void 0?l.name:c;if(r(u)&&o(u,f,l),l.global)d?a[c]=u:s(c,u);else{try{l.unsafe?a[c]&&(d=!0):delete a[c]}catch{}d?a[c]=u:i.f(a,c,{value:u,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,e,n){"use strict";var r=t("../internals/global"),i=Object.defineProperty;e.exports=function(o,s){try{i(r,o,{value:s,configurable:!0,writable:!0})}catch{r[o]=s}return s}},{"../internals/global":274}],247:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,e,n){"use strict";var r=typeof document=="object"&&document.all,i=r===void 0&&r!==void 0;e.exports={all:r,IS_HTMLDDA:i}},{}],249:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-object"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(a){return s?o.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,e,n){"use strict";var r=t("../internals/engine-is-deno"),i=t("../internals/engine-is-node");e.exports=!r&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,e,n){"use strict";e.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},{"../internals/engine-user-agent":256}],254:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/classof-raw");e.exports=i(r.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/web0s(?!.*chrome)/i.test(r)},{"../internals/engine-user-agent":256}],256:[function(t,e,n){"use strict";e.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,e,n){"use strict";var r,i,o=t("../internals/global"),s=t("../internals/engine-user-agent"),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,e,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/create-non-enumerable-property"),s=t("../internals/define-built-in"),a=t("../internals/define-global-property"),c=t("../internals/copy-constructor-properties"),u=t("../internals/is-forced");e.exports=function(l,d){var f,p,h,y,m,_=l.target,x=l.global,D=l.stat;if(f=x?r:D?r[_]||a(_,{}):(r[_]||{}).prototype)for(p in d){if(y=d[p],h=l.dontCallGetSet?(m=i(f,p))&&m.value:f[p],!u(x?p:_+(D?".":"#")+p,l.forced)&&h!==void 0){if(typeof y==typeof h)continue;c(y,h)}(l.sham||h&&h.sham)&&o(y,"sham",!0),s(f,p,y,l)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,e,n){"use strict";e.exports=function(r){try{return!!r()}catch{return!0}}},{}],261:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype,o=i.apply,s=i.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this-clause"),i=t("../internals/a-callable"),o=t("../internals/function-bind-native"),s=r(r.bind);e.exports=function(a,c){return i(a),c===void 0?a:o?s(a,c):function(){return a.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/has-own-property"),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&function(){}.name==="something",u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/a-callable");e.exports=function(o,s,a){try{return r(i(Object.getOwnPropertyDescriptor(o,s)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,e,n){"use strict";var r=t("../internals/classof-raw"),i=t("../internals/function-uncurry-this");e.exports=function(o){if(r(o)==="Function")return i(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(a){return function(){return o.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-callable"),o=function(s){return i(s)?s:void 0};e.exports=function(s,a){return arguments.length<2?o(r[s]):r[s]&&r[s][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,e,n){"use strict";var r=t("../internals/classof"),i=t("../internals/get-method"),o=t("../internals/is-null-or-undefined"),s=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");e.exports=function(c){if(!o(c))return i(c,a)||i(c,"@@iterator")||s[r(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/a-callable"),o=t("../internals/an-object"),s=t("../internals/try-to-string"),a=t("../internals/get-iterator-method"),c=TypeError;e.exports=function(u,l){var d=arguments.length<2?a(u):l;if(i(d))return o(r(d,u));throw new c(s(u)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/is-array"),o=t("../internals/is-callable"),s=t("../internals/classof-raw"),a=t("../internals/to-string"),c=r([].push);e.exports=function(u){if(o(u))return u;if(i(u)){for(var l=u.length,d=[],f=0;f<l;f++){var p=u[f];typeof p=="string"?c(d,p):typeof p!="number"&&s(p)!=="Number"&&s(p)!=="String"||c(d,a(p))}var h=d.length,y=!0;return function(m,_){if(y)return y=!1,_;if(i(this))return _;for(var x=0;x<h;x++)if(d[x]===m)return _}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,e,n){"use strict";var r=t("../internals/a-callable"),i=t("../internals/is-null-or-undefined");e.exports=function(o,s){var a=o[s];return i(a)?void 0:r(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,e,n){(function(r){(function(){"use strict";var i=function(o){return o&&o.Math===Math&&o};e.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof r=="object"&&r)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/to-object"),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(s,a){return o(i(s),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,e,n){"use strict";e.exports={}},{}],277:[function(t,e,n){"use strict";e.exports=function(r,i){try{arguments.length===1?console.error(r):console.error(r,i)}catch{}}},{}],278:[function(t,e,n){"use strict";var r=t("../internals/get-built-in");e.exports=r("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails"),o=t("../internals/document-create-element");e.exports=!r&&!i(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),o=t("../internals/classof-raw"),s=Object,a=r("".split);e.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(c){return o(c)==="String"?a(c,""):s(c)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/is-callable"),o=t("../internals/shared-store"),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(a){return s(a)}),e.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,e,n){"use strict";var r,i,o,s=t("../internals/weak-map-basic-detection"),a=t("../internals/global"),c=t("../internals/is-object"),u=t("../internals/create-non-enumerable-property"),l=t("../internals/has-own-property"),d=t("../internals/shared-store"),f=t("../internals/shared-key"),p=t("../internals/hidden-keys"),h=a.TypeError,y=a.WeakMap;if(s||d.state){var m=d.state||(d.state=new y);m.get=m.get,m.has=m.has,m.set=m.set,r=function(x,D){if(m.has(x))throw new h("Object already initialized");return D.facade=x,m.set(x,D),D},i=function(x){return m.get(x)||{}},o=function(x){return m.has(x)}}else{var _=f("state");p[_]=!0,r=function(x,D){if(l(x,_))throw new h("Object already initialized");return D.facade=x,u(x,_,D),D},i=function(x){return l(x,_)?x[_]:{}},o=function(x){return l(x,_)}}e.exports={set:r,get:i,has:o,enforce:function(x){return o(x)?i(x):r(x,{})},getterFor:function(x){return function(D){var L;if(!c(D)||(L=i(D)).type!==x)throw new h("Incompatible receiver, "+x+" required");return L}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol"),i=t("../internals/iterators"),o=r("iterator"),s=Array.prototype;e.exports=function(a){return a!==void 0&&(i.Array===a||s[o]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,e,n){"use strict";var r=t("../internals/classof-raw");e.exports=Array.isArray||function(i){return r(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,e,n){"use strict";var r=t("../internals/document-all"),i=r.all;e.exports=r.IS_HTMLDDA?function(o){return typeof o=="function"||o===i}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),o=t("../internals/is-callable"),s=t("../internals/classof"),a=t("../internals/get-built-in"),c=t("../internals/inspect-source"),u=function(){},l=[],d=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.test(u),y=function(_){if(!o(_))return!1;try{return d(u,l,_),!0}catch{return!1}},m=function(_){if(!o(_))return!1;switch(s(_)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(f,c(_))}catch{return!0}};m.sham=!0,e.exports=!d||i(function(){var _;return y(y.call)||!y(Object)||!y(function(){_=!0})||_})?m:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,e,n){"use strict";var r=t("../internals/fails"),i=t("../internals/is-callable"),o=/#|\.prototype\./,s=function(d,f){var p=c[a(d)];return p===l||p!==u&&(i(f)?r(f):!!f)},a=s.normalize=function(d){return String(d).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,e,n){"use strict";e.exports=function(r){return r==null}},{}],289:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/document-all"),o=i.all;e.exports=i.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:r(s)||s===o}:function(s){return typeof s=="object"?s!==null:r(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,e,n){"use strict";e.exports=!1},{}],291:[function(t,e,n){"use strict";var r=t("../internals/is-object"),i=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");e.exports=function(s){var a;return r(s)&&((a=s[o])!==void 0?!!a:i(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/is-callable"),o=t("../internals/object-is-prototype-of"),s=t("../internals/use-symbol-as-uid"),a=Object;e.exports=s?function(c){return typeof c=="symbol"}:function(c){var u=r("Symbol");return i(u)&&o(u.prototype,a(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,e,n){"use strict";var r=t("../internals/function-bind-context"),i=t("../internals/function-call"),o=t("../internals/an-object"),s=t("../internals/try-to-string"),a=t("../internals/is-array-iterator-method"),c=t("../internals/length-of-array-like"),u=t("../internals/object-is-prototype-of"),l=t("../internals/get-iterator"),d=t("../internals/get-iterator-method"),f=t("../internals/iterator-close"),p=TypeError,h=function(m,_){this.stopped=m,this.result=_},y=h.prototype;e.exports=function(m,_,x){var D,L,$,V,R,N,j,O=x&&x.that,E=!(!x||!x.AS_ENTRIES),I=!(!x||!x.IS_RECORD),A=!(!x||!x.IS_ITERATOR),g=!(!x||!x.INTERRUPTED),v=r(_,O),w=function(C){return D&&f(D,"normal",C),new h(!0,C)},b=function(C){return E?(o(C),g?v(C[0],C[1],w):v(C[0],C[1])):g?v(C,w):v(C)};if(I)D=m.iterator;else if(A)D=m;else{if(!(L=d(m)))throw new p(s(m)+" is not iterable");if(a(L)){for($=0,V=c(m);V>$;$++)if((R=b(m[$]))&&u(y,R))return R;return new h(!1)}D=l(m,L)}for(N=I?m.next:D.next;!(j=i(N,D)).done;){try{R=b(j.value)}catch(C){f(D,"throw",C)}if(typeof R=="object"&&R&&u(y,R))return R}return new h(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/an-object"),o=t("../internals/get-method");e.exports=function(s,a,c){var u,l;i(s);try{if(!(u=o(s,"return"))){if(a==="throw")throw c;return c}u=r(u,s)}catch(d){l=!0,u=d}if(a==="throw")throw c;if(l)throw u;return i(u),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,e,n){"use strict";var r=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),o=t("../internals/create-property-descriptor"),s=t("../internals/set-to-string-tag"),a=t("../internals/iterators"),c=function(){return this};e.exports=function(u,l,d,f){var p=l+" Iterator";return u.prototype=i(r,{next:o(+!f,d)}),s(u,p,!1,!0),a[p]=c,u}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/is-pure"),s=t("../internals/function-name"),a=t("../internals/is-callable"),c=t("../internals/iterator-create-constructor"),u=t("../internals/object-get-prototype-of"),l=t("../internals/object-set-prototype-of"),d=t("../internals/set-to-string-tag"),f=t("../internals/create-non-enumerable-property"),p=t("../internals/define-built-in"),h=t("../internals/well-known-symbol"),y=t("../internals/iterators"),m=t("../internals/iterators-core"),_=s.PROPER,x=s.CONFIGURABLE,D=m.IteratorPrototype,L=m.BUGGY_SAFARI_ITERATORS,$=h("iterator"),V=function(){return this};e.exports=function(R,N,j,O,E,I,A){c(j,N,O);var g,v,w,b=function(P){if(P===E&&z)return z;if(!L&&P&&P in F)return F[P];switch(P){case"keys":case"values":case"entries":return function(){return new j(this,P)}}return function(){return new j(this)}},C=N+" Iterator",S=!1,F=R.prototype,q=F[$]||F["@@iterator"]||E&&F[E],z=!L&&q||b(E),Y=N==="Array"&&F.entries||q;if(Y&&(g=u(Y.call(new R)))!==Object.prototype&&g.next&&(o||u(g)===D||(l?l(g,D):a(g[$])||p(g,$,V)),d(g,C,!0,!0),o&&(y[C]=V)),_&&E==="values"&&q&&q.name!=="values"&&(!o&&x?f(F,"name","values"):(S=!0,z=function(){return i(q,this)})),E)if(v={values:b("values"),keys:I?z:b("keys"),entries:b("entries")},A)for(w in v)(L||S||!(w in F))&&p(F,w,v[w]);else r({target:N,proto:!0,forced:L||S},v);return o&&!A||F[$]===z||p(F,$,z,{name:E}),y[N]=z,v}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,e,n){"use strict";var r,i,o,s=t("../internals/fails"),a=t("../internals/is-callable"),c=t("../internals/is-object"),u=t("../internals/object-create"),l=t("../internals/object-get-prototype-of"),d=t("../internals/define-built-in"),f=t("../internals/well-known-symbol"),p=t("../internals/is-pure"),h=f("iterator"),y=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):y=!0),!c(r)||s(function(){var m={};return r[h].call(m)!==m})?r={}:p&&(r=u(r)),a(r[h])||d(r,h,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,e,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(t,e,n){"use strict";var r=t("../internals/to-length");e.exports=function(i){return r(i.length)}},{"../internals/to-length":343}],300:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),o=t("../internals/is-callable"),s=t("../internals/has-own-property"),a=t("../internals/descriptors"),c=t("../internals/function-name").CONFIGURABLE,u=t("../internals/inspect-source"),l=t("../internals/internal-state"),d=l.enforce,f=l.get,p=String,h=Object.defineProperty,y=r("".slice),m=r("".replace),_=r([].join),x=a&&!i(function(){return h(function(){},"length",{value:8}).length!==8}),D=String(String).split("String"),L=e.exports=function($,V,R){y(p(V),0,7)==="Symbol("&&(V="["+m(p(V),/^Symbol\(([^)]*)\)/,"$1")+"]"),R&&R.getter&&(V="get "+V),R&&R.setter&&(V="set "+V),(!s($,"name")||c&&$.name!==V)&&(a?h($,"name",{value:V,configurable:!0}):$.name=V),x&&R&&s(R,"arity")&&$.length!==R.arity&&h($,"length",{value:R.arity});try{R&&s(R,"constructor")&&R.constructor?a&&h($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var N=d($);return s(N,"source")||(N.source=_(D,typeof V=="string"?V:"")),$};Function.prototype.toString=L(function(){return o(this)&&f(this).source||u(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,e,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(o){var s=+o;return(s>0?i:r)(s)}},{}],302:[function(t,e,n){"use strict";var r,i,o,s,a,c=t("../internals/global"),u=t("../internals/function-bind-context"),l=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,f=t("../internals/queue"),p=t("../internals/engine-is-ios"),h=t("../internals/engine-is-ios-pebble"),y=t("../internals/engine-is-webos-webkit"),m=t("../internals/engine-is-node"),_=c.MutationObserver||c.WebKitMutationObserver,x=c.document,D=c.process,L=c.Promise,$=l(c,"queueMicrotask"),V=$&&$.value;if(!V){var R=new f,N=function(){var j,O;for(m&&(j=D.domain)&&j.exit();O=R.get();)try{O()}catch(E){throw R.head&&r(),E}j&&j.enter()};p||m||y||!_||!x?!h&&L&&L.resolve?((s=L.resolve(void 0)).constructor=L,a=u(s.then,s),r=function(){a(N)}):m?r=function(){D.nextTick(N)}:(d=u(d,c),r=function(){d(N)}):(i=!0,o=x.createTextNode(""),new _(N).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),V=function(j){R.head||r(),R.add(j)}}e.exports=V},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,e,n){"use strict";var r=t("../internals/a-callable"),i=TypeError,o=function(s){var a,c;this.promise=new s(function(u,l){if(a!==void 0||c!==void 0)throw new i("Bad Promise constructor");a=u,c=l}),this.resolve=r(a),this.reject=r(c)};e.exports.f=function(s){return new o(s)}},{"../internals/a-callable":222}],304:[function(t,e,n){"use strict";var r=t("../internals/is-regexp"),i=TypeError;e.exports=function(o){if(r(o))throw new i("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/function-uncurry-this"),o=t("../internals/function-call"),s=t("../internals/fails"),a=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),u=t("../internals/object-property-is-enumerable"),l=t("../internals/to-object"),d=t("../internals/indexed-object"),f=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!f||s(function(){if(r&&f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},m={},_=Symbol("assign detection");return y[_]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){m[x]=x}),f({},y)[_]!==7||a(f({},m)).join("")!=="abcdefghijklmnopqrst"})?function(y,m){for(var _=l(y),x=arguments.length,D=1,L=c.f,$=u.f;x>D;)for(var V,R=d(arguments[D++]),N=L?h(a(R),L(R)):a(R),j=N.length,O=0;j>O;)V=N[O++],r&&!o($,R,V)||(_[V]=R[V]);return _}:f},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,e,n){"use strict";var r,i=t("../internals/an-object"),o=t("../internals/object-define-properties"),s=t("../internals/enum-bug-keys"),a=t("../internals/hidden-keys"),c=t("../internals/html"),u=t("../internals/document-create-element"),l=t("../internals/shared-key"),d=l("IE_PROTO"),f=function(){},p=function(m){return"<script>"+m+"<\/script>"},h=function(m){m.write(p("")),m.close();var _=m.parentWindow.Object;return m=null,_},y=function(){try{r=new ActiveXObject("htmlfile")}catch{}var m,_;y=typeof document<"u"?document.domain&&r?h(r):((_=u("iframe")).style.display="none",c.appendChild(_),_.src="javascript:",(m=_.contentWindow.document).open(),m.write(p("document.F=Object")),m.close(),m.F):h(r);for(var x=s.length;x--;)delete y.prototype[s[x]];return y()};a[d]=!0,e.exports=Object.create||function(m,_){var x;return m!==null?(f.prototype=i(m),x=new f,f.prototype=null,x[d]=m):x=y(),_===void 0?x:o.f(x,_)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/v8-prototype-define-bug"),o=t("../internals/object-define-property"),s=t("../internals/an-object"),a=t("../internals/to-indexed-object"),c=t("../internals/object-keys");n.f=r&&!i?Object.defineProperties:function(u,l){s(u);for(var d,f=a(l),p=c(l),h=p.length,y=0;h>y;)o.f(u,d=p[y++],f[d]);return u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),o=t("../internals/v8-prototype-define-bug"),s=t("../internals/an-object"),a=t("../internals/to-property-key"),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor;n.f=r?o?function(d,f,p){if(s(d),f=a(f),s(p),typeof d=="function"&&f==="prototype"&&"value"in p&&"writable"in p&&!p.writable){var h=l(d,f);h&&h.writable&&(d[f]=p.value,p={configurable:"configurable"in p?p.configurable:h.configurable,enumerable:"enumerable"in p?p.enumerable:h.enumerable,writable:!1})}return u(d,f,p)}:u:function(d,f,p){if(s(d),f=a(f),s(p),i)try{return u(d,f,p)}catch{}if("get"in p||"set"in p)throw new c("Accessors not supported");return"value"in p&&(d[f]=p.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/function-call"),o=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),a=t("../internals/to-indexed-object"),c=t("../internals/to-property-key"),u=t("../internals/has-own-property"),l=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;n.f=r?d:function(f,p){if(f=a(f),p=c(p),l)try{return d(f,p)}catch{}if(u(f,p))return s(!i(o.f,f,p),f[p])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,e,n){"use strict";var r=t("../internals/classof-raw"),i=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,s=t("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(c){return a&&r(c)==="Window"?(function(u){try{return o(u)}catch{return s(a)}})(c):o(i(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,e,n){"use strict";var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(o){return r(o,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,e,n){"use strict";n.f=Object.getOwnPropertySymbols},{}],313:[function(t,e,n){"use strict";var r=t("../internals/has-own-property"),i=t("../internals/is-callable"),o=t("../internals/to-object"),s=t("../internals/shared-key"),a=t("../internals/correct-prototype-getter"),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(d){var f=o(d);if(r(f,c))return f[c];var p=f.constructor;return i(p)&&f instanceof p?p.prototype:f instanceof u?l:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this");e.exports=r({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/has-own-property"),o=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,a=t("../internals/hidden-keys"),c=r([].push);e.exports=function(u,l){var d,f=o(u),p=0,h=[];for(d in f)!i(a,d)&&i(f,d)&&c(h,d);for(;l.length>p;)i(f,d=l[p++])&&(~s(h,d)||c(h,d));return h}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,e,n){"use strict";var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");e.exports=Object.keys||function(o){return r(o,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);n.f=o?function(s){var a=i(this,s);return!!a&&a.enumerable}:r},{}],318:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this-accessor"),i=t("../internals/an-object"),o=t("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var s,a=!1,c={};try{(s=r(Object.prototype,"__proto__","set"))(c,[]),a=c instanceof Array}catch{}return function(u,l){return i(u),o(l),a?s(u,l):u.__proto__=l,u}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails"),o=t("../internals/function-uncurry-this"),s=t("../internals/object-get-prototype-of"),a=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),u=o(t("../internals/object-property-is-enumerable").f),l=o([].push),d=r&&i(function(){var p=Object.create(null);return p[2]=2,!u(p,2)}),f=function(p){return function(h){for(var y,m=c(h),_=a(m),x=d&&s(m)===null,D=_.length,L=0,$=[];D>L;)y=_[L++],r&&!(x?y in m:u(m,y))||l($,p?[y,m[y]]:m[y]);return $}};e.exports={entries:f(!0),values:f(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/is-callable"),o=t("../internals/is-object"),s=TypeError;e.exports=function(a,c){var u,l;if(c==="string"&&i(u=a.toString)&&!o(l=r(u,a))||i(u=a.valueOf)&&!o(l=r(u,a))||c!=="string"&&i(u=a.toString)&&!o(l=r(u,a)))return l;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/function-uncurry-this"),o=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),a=t("../internals/an-object"),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(u){var l=o.f(a(u)),d=s.f;return d?c(l,d(u)):l}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,e,n){"use strict";var r=t("../internals/global");e.exports=r},{"../internals/global":274}],323:[function(t,e,n){"use strict";e.exports=function(r){try{return{error:!1,value:r()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/promise-native-constructor"),o=t("../internals/is-callable"),s=t("../internals/is-forced"),a=t("../internals/inspect-source"),c=t("../internals/well-known-symbol"),u=t("../internals/engine-is-browser"),l=t("../internals/engine-is-deno"),d=t("../internals/is-pure"),f=t("../internals/engine-v8-version"),p=i&&i.prototype,h=c("species"),y=!1,m=o(r.PromiseRejectionEvent),_=s("Promise",function(){var x=a(i),D=x!==String(i);if(!D&&f===66||d&&(!p.catch||!p.finally))return!0;if(!f||f<51||!/native code/.test(x)){var L=new i(function(V){V(1)}),$=function(V){V(function(){},function(){})};if((L.constructor={})[h]=$,!(y=L.then(function(){})instanceof $))return!0}return!D&&(u||l)&&!m});e.exports={CONSTRUCTOR:_,REJECTION_EVENT:m,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,e,n){"use strict";var r=t("../internals/global");e.exports=r.Promise},{"../internals/global":274}],326:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/is-object"),o=t("../internals/new-promise-capability");e.exports=function(s,a){if(r(s),i(a)&&a.constructor===s)return a;var c=o.f(s);return(0,c.resolve)(a),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,e,n){"use strict";var r=t("../internals/promise-native-constructor"),i=t("../internals/check-correctness-of-iteration"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR;e.exports=o||!i(function(s){r.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,e,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(i){var o={item:i,next:null},s=this.tail;s?s.next=o:this.head=o,this.tail=o},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},e.exports=r},{}],329:[function(t,e,n){"use strict";var r=t("../internals/is-null-or-undefined"),i=TypeError;e.exports=function(o){if(r(o))throw new i("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/define-built-in-accessor"),o=t("../internals/well-known-symbol"),s=t("../internals/descriptors"),a=o("species");e.exports=function(c){var u=r(c);s&&u&&!u[a]&&i(u,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,e,n){"use strict";var r=t("../internals/object-define-property").f,i=t("../internals/has-own-property"),o=t("../internals/well-known-symbol")("toStringTag");e.exports=function(s,a,c){s&&!c&&(s=s.prototype),s&&!i(s,o)&&r(s,o,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,e,n){"use strict";var r=t("../internals/shared"),i=t("../internals/uid"),o=r("keys");e.exports=function(s){return o[s]||(o[s]=i(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/define-global-property"),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,e,n){"use strict";var r=t("../internals/is-pure"),i=t("../internals/shared-store");(e.exports=function(o,s){return i[o]||(i[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:r?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/a-constructor"),o=t("../internals/is-null-or-undefined"),s=t("../internals/well-known-symbol")("species");e.exports=function(a,c){var u,l=r(a).constructor;return l===void 0||o(u=r(l)[s])?c:i(u)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,e,n){"use strict";var r=t("../internals/engine-v8-version"),i=t("../internals/fails"),o=t("../internals/global").String;e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var s=Symbol("symbol detection");return!o(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&r&&r<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/get-built-in"),o=t("../internals/well-known-symbol"),s=t("../internals/define-built-in");e.exports=function(){var a=i("Symbol"),c=a&&a.prototype,u=c&&c.valueOf,l=o("toPrimitive");c&&!c[l]&&s(c,l,function(d){return r(u,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,e,n){"use strict";var r=t("../internals/symbol-constructor-detection");e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,e,n){"use strict";var r,i,o,s,a=t("../internals/global"),c=t("../internals/function-apply"),u=t("../internals/function-bind-context"),l=t("../internals/is-callable"),d=t("../internals/has-own-property"),f=t("../internals/fails"),p=t("../internals/html"),h=t("../internals/array-slice"),y=t("../internals/document-create-element"),m=t("../internals/validate-arguments-length"),_=t("../internals/engine-is-ios"),x=t("../internals/engine-is-node"),D=a.setImmediate,L=a.clearImmediate,$=a.process,V=a.Dispatch,R=a.Function,N=a.MessageChannel,j=a.String,O=0,E={};f(function(){r=a.location});var I=function(w){if(d(E,w)){var b=E[w];delete E[w],b()}},A=function(w){return function(){I(w)}},g=function(w){I(w.data)},v=function(w){a.postMessage(j(w),r.protocol+"//"+r.host)};D&&L||(D=function(w){m(arguments.length,1);var b=l(w)?w:R(w),C=h(arguments,1);return E[++O]=function(){c(b,void 0,C)},i(O),O},L=function(w){delete E[w]},x?i=function(w){$.nextTick(A(w))}:V&&V.now?i=function(w){V.now(A(w))}:N&&!_?(s=(o=new N).port2,o.port1.onmessage=g,i=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&r.protocol!=="file:"&&!f(v)?(i=v,a.addEventListener("message",g,!1)):i="onreadystatechange"in y("script")?function(w){p.appendChild(y("script")).onreadystatechange=function(){p.removeChild(this),I(w)}}:function(w){setTimeout(A(w),0)}),e.exports={set:D,clear:L}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,e,n){"use strict";var r=t("../internals/to-integer-or-infinity"),i=Math.max,o=Math.min;e.exports=function(s,a){var c=r(s);return c<0?i(c+a,0):o(c,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,e,n){"use strict";var r=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");e.exports=function(o){return r(i(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,e,n){"use strict";var r=t("../internals/math-trunc");e.exports=function(i){var o=+i;return o!=o||o===0?0:r(o)}},{"../internals/math-trunc":301}],343:[function(t,e,n){"use strict";var r=t("../internals/to-integer-or-infinity"),i=Math.min;e.exports=function(o){return o>0?i(r(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,e,n){"use strict";var r=t("../internals/require-object-coercible"),i=Object;e.exports=function(o){return i(r(o))}},{"../internals/require-object-coercible":329}],345:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/is-object"),o=t("../internals/is-symbol"),s=t("../internals/get-method"),a=t("../internals/ordinary-to-primitive"),c=t("../internals/well-known-symbol"),u=TypeError,l=c("toPrimitive");e.exports=function(d,f){if(!i(d)||o(d))return d;var p,h=s(d,l);if(h){if(f===void 0&&(f="default"),p=r(h,d,f),!i(p)||o(p))return p;throw new u("Can't convert object to primitive value")}return f===void 0&&(f="number"),a(d,f)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,e,n){"use strict";var r=t("../internals/to-primitive"),i=t("../internals/is-symbol");e.exports=function(o){var s=r(o,"string");return i(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,e,n){"use strict";var r={};r[t("../internals/well-known-symbol")("toStringTag")]="z",e.exports=String(r)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,e,n){"use strict";var r=t("../internals/classof"),i=String;e.exports=function(o){if(r(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(o)}},{"../internals/classof":236}],349:[function(t,e,n){"use strict";var r=String;e.exports=function(i){try{return r(i)}catch{return"Object"}}},{}],350:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=0,o=Math.random(),s=r(1 .toString);e.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++i+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,e,n){"use strict";var r=t("../internals/symbol-constructor-detection");e.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails");e.exports=r&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,e,n){"use strict";var r=TypeError;e.exports=function(i,o){if(i<o)throw new r("Not enough arguments");return i}},{}],354:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-callable"),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,e,n){"use strict";var r=t("../internals/path"),i=t("../internals/has-own-property"),o=t("../internals/well-known-symbol-wrapped"),s=t("../internals/object-define-property").f;e.exports=function(a){var c=r.Symbol||(r.Symbol={});i(c,a)||s(c,a,{value:o.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol");n.f=r},{"../internals/well-known-symbol":357}],357:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/shared"),o=t("../internals/has-own-property"),s=t("../internals/uid"),a=t("../internals/symbol-constructor-detection"),c=t("../internals/use-symbol-as-uid"),u=r.Symbol,l=i("wks"),d=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(f){return o(l,f)||(l[f]=a&&o(u,f)?u[f]:d("Symbol."+f)),l[f]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").findIndex,o=t("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").find,o=t("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-includes").includes,o=t("../internals/fails"),s=t("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),o=t("../internals/iterators"),s=t("../internals/internal-state"),a=t("../internals/object-define-property").f,c=t("../internals/iterator-define"),u=t("../internals/create-iter-result-object"),l=t("../internals/is-pure"),d=t("../internals/descriptors"),f=s.set,p=s.getterFor("Array Iterator");e.exports=c(Array,"Array",function(y,m){f(this,{type:"Array Iterator",target:r(y),index:0,kind:m})},function(){var y=p(this),m=y.target,_=y.kind,x=y.index++;if(!m||x>=m.length)return y.target=void 0,u(void 0,!0);switch(_){case"keys":return u(x,!1);case"values":return u(m[x],!1)}return u([x,m[x]],!1)},"values");var h=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&h.name!=="values")try{a(h,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/function-apply"),s=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),c=t("../internals/fails"),u=t("../internals/is-callable"),l=t("../internals/is-symbol"),d=t("../internals/array-slice"),f=t("../internals/get-json-replacer-function"),p=t("../internals/symbol-constructor-detection"),h=String,y=i("JSON","stringify"),m=a(/./.exec),_=a("".charAt),x=a("".charCodeAt),D=a("".replace),L=a(1 .toString),$=/[\uD800-\uDFFF]/g,V=/^[\uD800-\uDBFF]$/,R=/^[\uDC00-\uDFFF]$/,N=!p||c(function(){var I=i("Symbol")("stringify detection");return y([I])!=="[null]"||y({a:I})!=="{}"||y(Object(I))!=="{}"}),j=c(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),O=function(I,A){var g=d(arguments),v=f(A);if(u(v)||I!==void 0&&!l(I))return g[1]=function(w,b){if(u(v)&&(b=s(v,this,h(w),b)),!l(b))return b},o(y,null,g)},E=function(I,A,g){var v=_(g,A-1),w=_(g,A+1);return m(V,I)&&!m(R,w)||m(R,I)&&!m(V,v)?"\\u"+L(x(I,0),16):I};y&&r({target:"JSON",stat:!0,arity:3,forced:N||j},{stringify:function(I,A,g){var v=d(arguments),w=o(N?O:y,null,v);return j&&typeof w=="string"?D(w,$,E):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,e,n){"use strict";t("../internals/export")({target:"Number",stat:!0},{isNaN:function(r){return r!=r}})},{"../internals/export":259}],364:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-assign");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/symbol-constructor-detection"),o=t("../internals/fails"),s=t("../internals/object-get-own-property-symbols"),a=t("../internals/to-object");r({target:"Object",stat:!0,forced:!i||o(function(){s.f(1)})},{getOwnPropertySymbols:function(c){var u=s.f;return u?u(a(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/to-object"),o=t("../internals/object-keys");r({target:"Object",stat:!0,forced:t("../internals/fails")(function(){o(1)})},{keys:function(s){return o(i(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(o){return i(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/a-callable"),s=t("../internals/new-promise-capability"),a=t("../internals/perform"),c=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(u){var l=this,d=s.f(l),f=d.resolve,p=d.reject,h=a(function(){var y=o(l.resolve),m=[],_=0,x=1;c(u,function(D){var L=_++,$=!1;x++,i(y,l,D).then(function(V){$||($=!0,m[L]=V,--x||f(m))},p)}),--x||f(m)});return h.error&&p(h.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/is-pure"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,s=t("../internals/promise-native-constructor"),a=t("../internals/get-built-in"),c=t("../internals/is-callable"),u=t("../internals/define-built-in"),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(f){return this.then(void 0,f)}}),!i&&c(s)){var d=a("Promise").prototype.catch;l.catch!==d&&u(l,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,e,n){"use strict";var r,i,o,s=t("../internals/export"),a=t("../internals/is-pure"),c=t("../internals/engine-is-node"),u=t("../internals/global"),l=t("../internals/function-call"),d=t("../internals/define-built-in"),f=t("../internals/object-set-prototype-of"),p=t("../internals/set-to-string-tag"),h=t("../internals/set-species"),y=t("../internals/a-callable"),m=t("../internals/is-callable"),_=t("../internals/is-object"),x=t("../internals/an-instance"),D=t("../internals/species-constructor"),L=t("../internals/task").set,$=t("../internals/microtask"),V=t("../internals/host-report-errors"),R=t("../internals/perform"),N=t("../internals/queue"),j=t("../internals/internal-state"),O=t("../internals/promise-native-constructor"),E=t("../internals/promise-constructor-detection"),I=t("../internals/new-promise-capability"),A=E.CONSTRUCTOR,g=E.REJECTION_EVENT,v=E.SUBCLASSING,w=j.getterFor("Promise"),b=j.set,C=O&&O.prototype,S=O,F=C,q=u.TypeError,z=u.document,Y=u.process,P=I.f,K=P,k=!!(z&&z.createEvent&&u.dispatchEvent),M=function(te){var ae;return!(!_(te)||!m(ae=te.then))&&ae},H=function(te,ae){var he,fe,ve,Ae=ae.value,Re=ae.state===1,Oe=Re?te.ok:te.fail,ut=te.resolve,He=te.reject,Ye=te.domain;try{Oe?(Re||(ae.rejection===2&&de(ae),ae.rejection=1),Oe===!0?he=Ae:(Ye&&Ye.enter(),he=Oe(Ae),Ye&&(Ye.exit(),ve=!0)),he===te.promise?He(new q("Promise-chain cycle")):(fe=M(he))?l(fe,he,ut,He):ut(he)):He(Ae)}catch(Ht){Ye&&!ve&&Ye.exit(),He(Ht)}},Z=function(te,ae){te.notified||(te.notified=!0,$(function(){for(var he,fe=te.reactions;he=fe.get();)H(he,te);te.notified=!1,ae&&!te.rejection&&J(te)}))},ie=function(te,ae,he){var fe,ve;k?((fe=z.createEvent("Event")).promise=ae,fe.reason=he,fe.initEvent(te,!1,!0),u.dispatchEvent(fe)):fe={promise:ae,reason:he},!g&&(ve=u["on"+te])?ve(fe):te==="unhandledrejection"&&V("Unhandled promise rejection",he)},J=function(te){l(L,u,function(){var ae,he=te.facade,fe=te.value;if(ne(te)&&(ae=R(function(){c?Y.emit("unhandledRejection",fe,he):ie("unhandledrejection",he,fe)}),te.rejection=c||ne(te)?2:1,ae.error))throw ae.value})},ne=function(te){return te.rejection!==1&&!te.parent},de=function(te){l(L,u,function(){var ae=te.facade;c?Y.emit("rejectionHandled",ae):ie("rejectionhandled",ae,te.value)})},ue=function(te,ae,he){return function(fe){te(ae,fe,he)}},ee=function(te,ae,he){te.done||(te.done=!0,he&&(te=he),te.value=ae,te.state=2,Z(te,!0))},le=function(te,ae,he){if(!te.done){te.done=!0,he&&(te=he);try{if(te.facade===ae)throw new q("Promise can't be resolved itself");var fe=M(ae);fe?$(function(){var ve={done:!1};try{l(fe,ae,ue(le,ve,te),ue(ee,ve,te))}catch(Ae){ee(ve,Ae,te)}}):(te.value=ae,te.state=1,Z(te,!1))}catch(ve){ee({done:!1},ve,te)}}};if(A&&(F=(S=function(te){x(this,F),y(te),l(r,this);var ae=w(this);try{te(ue(le,ae),ue(ee,ae))}catch(he){ee(ae,he)}}).prototype,(r=function(te){b(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new N,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",function(te,ae){var he=w(this),fe=P(D(this,S));return he.parent=!0,fe.ok=!m(te)||te,fe.fail=m(ae)&&ae,fe.domain=c?Y.domain:void 0,he.state===0?he.reactions.add(fe):$(function(){H(fe,he)}),fe.promise}),i=function(){var te=new r,ae=w(te);this.promise=te,this.resolve=ue(le,ae),this.reject=ue(ee,ae)},I.f=P=function(te){return te===S||te===void 0?new i(te):K(te)},!a&&m(O)&&C!==Object.prototype)){o=C.then,v||d(C,"then",function(te,ae){var he=this;return new S(function(fe,ve){l(o,he,fe,ve)}).then(te,ae)},{unsafe:!0});try{delete C.constructor}catch{}f&&f(C,F)}s({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:S}),p(S,"Promise",!1,!0),h("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),s=t("../internals/fails"),a=t("../internals/get-built-in"),c=t("../internals/is-callable"),u=t("../internals/species-constructor"),l=t("../internals/promise-resolve"),d=t("../internals/define-built-in"),f=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(h){var y=u(this,a("Promise")),m=c(h);return this.then(m?function(_){return l(y,h()).then(function(){return _})}:h,m?function(_){return l(y,h()).then(function(){throw _})}:h)}}),!i&&c(o)){var p=a("Promise").prototype.finally;f.finally!==p&&d(f,"finally",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,e,n){"use strict";t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/a-callable"),s=t("../internals/new-promise-capability"),a=t("../internals/perform"),c=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(u){var l=this,d=s.f(l),f=d.reject,p=a(function(){var h=o(l.resolve);c(u,function(y){i(h,l,y).then(d.resolve,f)})});return p.error&&f(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),o=t("../internals/new-promise-capability");r({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var a=o.f(this);return i(a.reject,void 0,s),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/is-pure"),s=t("../internals/promise-native-constructor"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-resolve"),u=i("Promise"),l=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(d){return c(l&&this===u?s:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-uncurry-this"),o=t("../internals/to-absolute-index"),s=RangeError,a=String.fromCharCode,c=String.fromCodePoint,u=i([].join);r({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(l){for(var d,f=[],p=arguments.length,h=0;p>h;){if(d=+arguments[h++],o(d,1114111)!==d)throw new s(d+" is not a valid code point");f[h]=d<65536?a(d):a(55296+((d-=65536)>>10),d%1024+56320)}return u(f,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-uncurry-this"),o=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible"),a=t("../internals/to-string"),c=t("../internals/correct-is-regexp-logic"),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(l){return!!~u(a(s(this)),a(o(l)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,e,n){"use strict";t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/global"),o=t("../internals/function-call"),s=t("../internals/function-uncurry-this"),a=t("../internals/is-pure"),c=t("../internals/descriptors"),u=t("../internals/symbol-constructor-detection"),l=t("../internals/fails"),d=t("../internals/has-own-property"),f=t("../internals/object-is-prototype-of"),p=t("../internals/an-object"),h=t("../internals/to-indexed-object"),y=t("../internals/to-property-key"),m=t("../internals/to-string"),_=t("../internals/create-property-descriptor"),x=t("../internals/object-create"),D=t("../internals/object-keys"),L=t("../internals/object-get-own-property-names"),$=t("../internals/object-get-own-property-names-external"),V=t("../internals/object-get-own-property-symbols"),R=t("../internals/object-get-own-property-descriptor"),N=t("../internals/object-define-property"),j=t("../internals/object-define-properties"),O=t("../internals/object-property-is-enumerable"),E=t("../internals/define-built-in"),I=t("../internals/define-built-in-accessor"),A=t("../internals/shared"),g=t("../internals/shared-key"),v=t("../internals/hidden-keys"),w=t("../internals/uid"),b=t("../internals/well-known-symbol"),C=t("../internals/well-known-symbol-wrapped"),S=t("../internals/well-known-symbol-define"),F=t("../internals/symbol-define-to-primitive"),q=t("../internals/set-to-string-tag"),z=t("../internals/internal-state"),Y=t("../internals/array-iteration").forEach,P=g("hidden"),K=z.set,k=z.getterFor("Symbol"),M=Object.prototype,H=i.Symbol,Z=H&&H.prototype,ie=i.RangeError,J=i.TypeError,ne=i.QObject,de=R.f,ue=N.f,ee=$.f,le=O.f,te=s([].push),ae=A("symbols"),he=A("op-symbols"),fe=A("wks"),ve=!ne||!ne.prototype||!ne.prototype.findChild,Ae=function(pt,Ue,Ve){var Nt=de(M,Ue);Nt&&delete M[Ue],ue(pt,Ue,Ve),Nt&&pt!==M&&ue(M,Ue,Nt)},Re=c&&l(function(){return x(ue({},"a",{get:function(){return ue(this,"a",{value:7}).a}})).a!==7})?Ae:ue,Oe=function(pt,Ue){var Ve=ae[pt]=x(Z);return K(Ve,{type:"Symbol",tag:pt,description:Ue}),c||(Ve.description=Ue),Ve},ut=function(pt,Ue,Ve){pt===M&&ut(he,Ue,Ve),p(pt);var Nt=y(Ue);return p(Ve),d(ae,Nt)?(Ve.enumerable?(d(pt,P)&&pt[P][Nt]&&(pt[P][Nt]=!1),Ve=x(Ve,{enumerable:_(0,!1)})):(d(pt,P)||ue(pt,P,_(1,{})),pt[P][Nt]=!0),Re(pt,Nt,Ve)):ue(pt,Nt,Ve)},He=function(pt,Ue){p(pt);var Ve=h(Ue),Nt=D(Ve).concat(Qe(Ve));return Y(Nt,function(nt){c&&!o(Ye,Ve,nt)||ut(pt,nt,Ve[nt])}),pt},Ye=function(pt){var Ue=y(pt),Ve=o(le,this,Ue);return!(this===M&&d(ae,Ue)&&!d(he,Ue))&&(!(Ve||!d(this,Ue)||!d(ae,Ue)||d(this,P)&&this[P][Ue])||Ve)},Ht=function(pt,Ue){var Ve=h(pt),Nt=y(Ue);if(Ve!==M||!d(ae,Nt)||d(he,Nt)){var nt=de(Ve,Nt);return!nt||!d(ae,Nt)||d(Ve,P)&&Ve[P][Nt]||(nt.enumerable=!0),nt}},dt=function(pt){var Ue=ee(h(pt)),Ve=[];return Y(Ue,function(Nt){d(ae,Nt)||d(v,Nt)||te(Ve,Nt)}),Ve},Qe=function(pt){var Ue=pt===M,Ve=ee(Ue?he:h(pt)),Nt=[];return Y(Ve,function(nt){!d(ae,nt)||Ue&&!d(M,nt)||te(Nt,ae[nt])}),Nt};u||(E(Z=(H=function(){if(f(Z,this))throw new J("Symbol is not a constructor");var pt=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,Ue=w(pt),Ve=function(Nt){this===M&&o(Ve,he,Nt),d(this,P)&&d(this[P],Ue)&&(this[P][Ue]=!1);var nt=_(1,Nt);try{Re(this,Ue,nt)}catch(mt){if(!(mt instanceof ie))throw mt;Ae(this,Ue,nt)}};return c&&ve&&Re(M,Ue,{configurable:!0,set:Ve}),Oe(Ue,pt)}).prototype,"toString",function(){return k(this).tag}),E(H,"withoutSetter",function(pt){return Oe(w(pt),pt)}),O.f=Ye,N.f=ut,j.f=He,R.f=Ht,L.f=$.f=dt,V.f=Qe,C.f=function(pt){return Oe(b(pt),pt)},c&&(I(Z,"description",{configurable:!0,get:function(){return k(this).description}}),a||E(M,"propertyIsEnumerable",Ye,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),Y(D(fe),function(pt){S(pt)}),r({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(pt,Ue){return Ue===void 0?x(pt):He(x(pt),Ue)},defineProperty:ut,defineProperties:He,getOwnPropertyDescriptor:Ht}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:dt}),F(),q(H,"Symbol"),v[P]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/has-own-property"),s=t("../internals/to-string"),a=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(d){var f=s(d);if(o(u,f))return u[f];var p=i("Symbol")(f);return u[f]=p,l[p]=f,p}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,e,n){"use strict";t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/has-own-property"),o=t("../internals/is-symbol"),s=t("../internals/try-to-string"),a=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(l){if(!o(l))throw new TypeError(s(l)+" is not a symbol");if(i(u,l))return u[l]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,e,n){"use strict";function r(i){return Object.prototype.toString.call(i)}n.isArray=function(i){return Array.isArray?Array.isArray(i):r(i)==="[object Array]"},n.isBoolean=function(i){return typeof i=="boolean"},n.isNull=function(i){return i===null},n.isNullOrUndefined=function(i){return i==null},n.isNumber=function(i){return typeof i=="number"},n.isString=function(i){return typeof i=="string"},n.isSymbol=function(i){return typeof i=="symbol"},n.isUndefined=function(i){return i===void 0},n.isRegExp=function(i){return r(i)==="[object RegExp]"},n.isObject=function(i){return typeof i=="object"&&i!==null},n.isDate=function(i){return r(i)==="[object Date]"},n.isError=function(i){return r(i)==="[object Error]"||i instanceof Error},n.isFunction=function(i){return typeof i=="function"},n.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},n.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,e,n){(function(r){(function(){"use strict";var i=t("elliptic"),o=t("bn.js");e.exports=function(u){return new a(u)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(u){this.curveType=s[u],this.curveType||(this.curveType={name:u}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(u,l,d){Array.isArray(u)||(u=u.toArray());var f=new r(u);if(d&&f.length<d){var p=new r(d-f.length);p.fill(0),f=r.concat([p,f])}return l?f.toString(l):f}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(u,l){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,l)},a.prototype.computeSecret=function(u,l,d){return l=l||"utf8",r.isBuffer(u)||(u=new r(u,l)),c(this.curve.keyFromPublic(u).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},a.prototype.getPublicKey=function(u,l){var d=this.keys.getPublic(l==="compressed",!0);return l==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),c(d,u)},a.prototype.getPrivateKey=function(u){return c(this.keys.getPrivate(),u)},a.prototype.setPublicKey=function(u,l){return l=l||"utf8",r.isBuffer(u)||(u=new r(u,l)),this.keys._importPublic(u),this},a.prototype.setPrivateKey=function(u,l){l=l||"utf8",r.isBuffer(u)||(u=new r(u,l));var d=new o(u);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(t,e,n){"use strict";var r=t("inherits"),i=t("md5.js"),o=t("ripemd160"),s=t("sha.js"),a=t("cipher-base");function c(u){a.call(this,"digest"),this._hash=u}r(c,a),c.prototype._update=function(u){this._hash.update(u)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(u){return(u=u.toLowerCase())==="md5"?new i:u==="rmd160"||u==="ripemd160"?new o:new c(s(u))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,e,n){"use strict";var r=t("md5.js");e.exports=function(i){return new r().update(i).digest()}},{"md5.js":450}],388:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./legacy"),o=t("cipher-base"),s=t("safe-buffer").Buffer,a=t("create-hash/md5"),c=t("ripemd160"),u=t("sha.js"),l=s.alloc(128);function d(f,p){o.call(this,"digest"),typeof p=="string"&&(p=s.from(p));var h=f==="sha512"||f==="sha384"?128:64;this._alg=f,this._key=p,p.length>h?p=(f==="rmd160"?new c:u(f)).update(p).digest():p.length<h&&(p=s.concat([p,l],h));for(var y=this._ipad=s.allocUnsafe(h),m=this._opad=s.allocUnsafe(h),_=0;_<h;_++)y[_]=54^p[_],m[_]=92^p[_];this._hash=f==="rmd160"?new c:u(f),this._hash.update(y)}r(d,o),d.prototype._update=function(f){this._hash.update(f)},d.prototype._final=function(){var f=this._hash.digest();return(this._alg==="rmd160"?new c:u(this._alg)).update(this._opad).update(f).digest()},e.exports=function(f,p){return(f=f.toLowerCase())==="rmd160"||f==="ripemd160"?new d("rmd160",p):f==="md5"?new i(a,p):new d(f,p)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,e,n){"use strict";var r=t("inherits"),i=t("safe-buffer").Buffer,o=t("cipher-base"),s=i.alloc(128);function a(c,u){o.call(this,"digest"),typeof u=="string"&&(u=i.from(u)),this._alg=c,this._key=u,u.length>64?u=c(u):u.length<64&&(u=i.concat([u,s],64));for(var l=this._ipad=i.allocUnsafe(64),d=this._opad=i.allocUnsafe(64),f=0;f<64;f++)l[f]=54^u[f],d[f]=92^u[f];this._hash=[l]}r(a,o),a.prototype._update=function(c){this._hash.push(c)},a.prototype._final=function(){var c=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,c]))},e.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,e,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=t("randombytes"),n.createHash=n.Hash=t("create-hash"),n.createHmac=n.Hmac=t("create-hmac");var r=t("browserify-sign/algos"),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);n.getHashes=function(){return o};var s=t("pbkdf2");n.pbkdf2=s.pbkdf2,n.pbkdf2Sync=s.pbkdf2Sync;var a=t("browserify-cipher");n.Cipher=a.Cipher,n.createCipher=a.createCipher,n.Cipheriv=a.Cipheriv,n.createCipheriv=a.createCipheriv,n.Decipher=a.Decipher,n.createDecipher=a.createDecipher,n.Decipheriv=a.Decipheriv,n.createDecipheriv=a.createDecipheriv,n.getCiphers=a.getCiphers,n.listCiphers=a.listCiphers;var c=t("diffie-hellman");n.DiffieHellmanGroup=c.DiffieHellmanGroup,n.createDiffieHellmanGroup=c.createDiffieHellmanGroup,n.getDiffieHellman=c.getDiffieHellman,n.createDiffieHellman=c.createDiffieHellman,n.DiffieHellman=c.DiffieHellman;var u=t("browserify-sign");n.createSign=u.createSign,n.Sign=u.Sign,n.createVerify=u.createVerify,n.Verify=u.Verify,n.createECDH=t("create-ecdh");var l=t("public-encrypt");n.publicEncrypt=l.publicEncrypt,n.privateEncrypt=l.privateEncrypt,n.publicDecrypt=l.publicDecrypt,n.privateDecrypt=l.privateDecrypt;var d=t("randomfill");n.randomFill=d.randomFill,n.randomFillSync=d.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(void 0,function(){var r=6e4,i=36e5,o="millisecond",s="second",a="minute",c="hour",u="day",l="week",d="month",f="quarter",p="year",h="date",y="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var v=["th","st","nd","rd"],w=g%100;return"["+g+(v[(w-20)%10]||v[w]||v[0])+"]"}},D=function(g,v,w){var b=String(g);return!b||b.length>=v?g:""+Array(v+1-b.length).join(w)+g},L={s:D,z:function(g){var v=-g.utcOffset(),w=Math.abs(v),b=Math.floor(w/60),C=w%60;return(v<=0?"+":"-")+D(b,2,"0")+":"+D(C,2,"0")},m:function g(v,w){if(v.date()<w.date())return-g(w,v);var b=12*(w.year()-v.year())+(w.month()-v.month()),C=v.clone().add(b,d),S=w-C<0,F=v.clone().add(b+(S?-1:1),d);return+(-(b+(w-C)/(S?C-F:F-C))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:d,y:p,w:l,d:u,D:h,h:c,m:a,s,ms:o,Q:f}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return g===void 0}},$="en",V={};V[$]=x;var R="$isDayjsObject",N=function(g){return g instanceof I||!(!g||!g[R])},j=function g(v,w,b){var C;if(!v)return $;if(typeof v=="string"){var S=v.toLowerCase();V[S]&&(C=S),w&&(V[S]=w,C=S);var F=v.split("-");if(!C&&F.length>1)return g(F[0])}else{var q=v.name;V[q]=v,C=q}return!b&&C&&($=C),C||!b&&$},O=function(g,v){if(N(g))return g.clone();var w=typeof v=="object"?v:{};return w.date=g,w.args=arguments,new I(w)},E=L;E.l=j,E.i=N,E.w=function(g,v){return O(g,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var I=(function(){function g(w){this.$L=j(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[R]=!0}var v=g.prototype;return v.parse=function(w){this.$d=(function(b){var C=b.date,S=b.utc;if(C===null)return new Date(NaN);if(E.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var F=C.match(m);if(F){var q=F[2]-1||0,z=(F[7]||"0").substring(0,3);return S?new Date(Date.UTC(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,z)):new Date(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,z)}}return new Date(C)})(w),this.init()},v.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},v.$utils=function(){return E},v.isValid=function(){return this.$d.toString()!==y},v.isSame=function(w,b){var C=O(w);return this.startOf(b)<=C&&C<=this.endOf(b)},v.isAfter=function(w,b){return O(w)<this.startOf(b)},v.isBefore=function(w,b){return this.endOf(b)<O(w)},v.$g=function(w,b,C){return E.u(w)?this[b]:this.set(C,w)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(w,b){var C=this,S=!!E.u(b)||b,F=E.p(w),q=function(Z,ie){var J=E.w(C.$u?Date.UTC(C.$y,ie,Z):new Date(C.$y,ie,Z),C);return S?J:J.endOf(u)},z=function(Z,ie){return E.w(C.toDate()[Z].apply(C.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(ie)),C)},Y=this.$W,P=this.$M,K=this.$D,k="set"+(this.$u?"UTC":"");switch(F){case p:return S?q(1,0):q(31,11);case d:return S?q(1,P):q(0,P+1);case l:var M=this.$locale().weekStart||0,H=(Y<M?Y+7:Y)-M;return q(S?K-H:K+(6-H),P);case u:case h:return z(k+"Hours",0);case c:return z(k+"Minutes",1);case a:return z(k+"Seconds",2);case s:return z(k+"Milliseconds",3);default:return this.clone()}},v.endOf=function(w){return this.startOf(w,!1)},v.$set=function(w,b){var C,S=E.p(w),F="set"+(this.$u?"UTC":""),q=(C={},C[u]=F+"Date",C[h]=F+"Date",C[d]=F+"Month",C[p]=F+"FullYear",C[c]=F+"Hours",C[a]=F+"Minutes",C[s]=F+"Seconds",C[o]=F+"Milliseconds",C)[S],z=S===u?this.$D+(b-this.$W):b;if(S===d||S===p){var Y=this.clone().set(h,1);Y.$d[q](z),Y.init(),this.$d=Y.set(h,Math.min(this.$D,Y.daysInMonth())).$d}else q&&this.$d[q](z);return this.init(),this},v.set=function(w,b){return this.clone().$set(w,b)},v.get=function(w){return this[E.p(w)]()},v.add=function(w,b){var C,S=this;w=Number(w);var F=E.p(b),q=function(P){var K=O(S);return E.w(K.date(K.date()+Math.round(P*w)),S)};if(F===d)return this.set(d,this.$M+w);if(F===p)return this.set(p,this.$y+w);if(F===u)return q(1);if(F===l)return q(7);var z=(C={},C[a]=r,C[c]=i,C[s]=1e3,C)[F]||1,Y=this.$d.getTime()+w*z;return E.w(Y,this)},v.subtract=function(w,b){return this.add(-1*w,b)},v.format=function(w){var b=this,C=this.$locale();if(!this.isValid())return C.invalidDate||y;var S=w||"YYYY-MM-DDTHH:mm:ssZ",F=E.z(this),q=this.$H,z=this.$m,Y=this.$M,P=C.weekdays,K=C.months,k=C.meridiem,M=function(ie,J,ne,de){return ie&&(ie[J]||ie(b,S))||ne[J].slice(0,de)},H=function(ie){return E.s(q%12||12,ie,"0")},Z=k||function(ie,J,ne){var de=ie<12?"AM":"PM";return ne?de.toLowerCase():de};return S.replace(_,function(ie,J){return J||(function(ne){switch(ne){case"YY":return String(b.$y).slice(-2);case"YYYY":return E.s(b.$y,4,"0");case"M":return Y+1;case"MM":return E.s(Y+1,2,"0");case"MMM":return M(C.monthsShort,Y,K,3);case"MMMM":return M(K,Y);case"D":return b.$D;case"DD":return E.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return M(C.weekdaysMin,b.$W,P,2);case"ddd":return M(C.weekdaysShort,b.$W,P,3);case"dddd":return P[b.$W];case"H":return String(q);case"HH":return E.s(q,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return Z(q,z,!0);case"A":return Z(q,z,!1);case"m":return String(z);case"mm":return E.s(z,2,"0");case"s":return String(b.$s);case"ss":return E.s(b.$s,2,"0");case"SSS":return E.s(b.$ms,3,"0");case"Z":return F}return null})(ie)||F.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(w,b,C){var S,F=this,q=E.p(b),z=O(w),Y=(z.utcOffset()-this.utcOffset())*r,P=this-z,K=function(){return E.m(F,z)};switch(q){case p:S=K()/12;break;case d:S=K();break;case f:S=K()/3;break;case l:S=(P-Y)/6048e5;break;case u:S=(P-Y)/864e5;break;case c:S=P/i;break;case a:S=P/r;break;case s:S=P/1e3;break;default:S=P}return C?S:E.a(S)},v.daysInMonth=function(){return this.endOf(d).$D},v.$locale=function(){return V[this.$L]},v.locale=function(w,b){if(!w)return this.$L;var C=this.clone(),S=j(w,b,!0);return S&&(C.$L=S),C},v.clone=function(){return E.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g})(),A=I.prototype;return O.prototype=A,[["$ms",o],["$s",s],["$m",a],["$H",c],["$W",u],["$M",d],["$y",p],["$D",h]].forEach(function(g){A[g[1]]=function(v){return this.$g(v,g[0],g[1])}}),O.extend=function(g,v){return g.$i||(g(v,I,O),g.$i=!0),O},O.locale=j,O.isDayjs=N,O.unix=function(g){return O(1e3*g)},O.en=V[$],O.Ls=V,O.p={},O})},{}],392:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(void 0,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,c={},u=function(m){return(m=+m)+(m>68?1900:2e3)},l=function(m){return function(_){this[m]=+_}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=(function(_){if(!_||_==="Z")return 0;var x=_.match(/([+-]|\d\d)/g),D=60*x[1]+(+x[2]||0);return D===0?0:x[0]==="+"?-D:D})(m)}],f=function(m){var _=c[m];return _&&(_.indexOf?_:_.s.concat(_.f))},p=function(m,_){var x,D=c.meridiem;if(D){for(var L=1;L<=24;L+=1)if(m.indexOf(D(L,0,_))>-1){x=L>12;break}}else x=m===(_?"pm":"PM");return x},h={A:[a,function(m){this.afternoon=p(m,!1)}],a:[a,function(m){this.afternoon=p(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[o,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,l("seconds")],ss:[s,l("seconds")],m:[s,l("minutes")],mm:[s,l("minutes")],H:[s,l("hours")],h:[s,l("hours")],HH:[s,l("hours")],hh:[s,l("hours")],D:[s,l("day")],DD:[o,l("day")],Do:[a,function(m){var _=c.ordinal,x=m.match(/\d+/);if(this.day=x[0],_)for(var D=1;D<=31;D+=1)_(D).replace(/\[|\]/g,"")===m&&(this.day=D)}],M:[s,l("month")],MM:[o,l("month")],MMM:[a,function(m){var _=f("months"),x=(f("monthsShort")||_.map(function(D){return D.slice(0,3)})).indexOf(m)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(m){var _=f("months").indexOf(m)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,l("year")],YY:[o,function(m){this.year=u(m)}],YYYY:[/\d{4}/,l("year")],Z:d,ZZ:d};function y(m){var _,x;_=m,x=c&&c.formats;for(var D=(m=_.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,E,I){var A=I&&I.toUpperCase();return E||x[I]||r[I]||x[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,v,w){return v||w.slice(1)})})).match(i),L=D.length,$=0;$<L;$+=1){var V=D[$],R=h[V],N=R&&R[0],j=R&&R[1];D[$]=j?{regex:N,parser:j}:V.replace(/^\[|\]$/g,"")}return function(O){for(var E={},I=0,A=0;I<L;I+=1){var g=D[I];if(typeof g=="string")A+=g.length;else{var v=g.regex,w=g.parser,b=O.slice(A),C=v.exec(b)[0];w.call(E,C),O=O.replace(C,"")}}return(function(S){var F=S.afternoon;if(F!==void 0){var q=S.hours;F?q<12&&(S.hours+=12):q===12&&(S.hours=0),delete S.afternoon}})(E),E}}return function(m,_,x){x.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(u=m.parseTwoDigitYear);var D=_.prototype,L=D.parse;D.parse=function($){var V=$.date,R=$.utc,N=$.args;this.$u=R;var j=N[1];if(typeof j=="string"){var O=N[2]===!0,E=N[3]===!0,I=O||E,A=N[2];E&&(A=N[2]),c=this.$locale(),!O&&A&&(c=x.Ls[A]),this.$d=(function(b,C,S){try{if(["x","X"].indexOf(C)>-1)return new Date((C==="X"?1e3:1)*b);var F=y(C)(b),q=F.year,z=F.month,Y=F.day,P=F.hours,K=F.minutes,k=F.seconds,M=F.milliseconds,H=F.zone,Z=new Date,ie=Y||(q||z?1:Z.getDate()),J=q||Z.getFullYear(),ne=0;q&&!z||(ne=z>0?z-1:Z.getMonth());var de=P||0,ue=K||0,ee=k||0,le=M||0;return H?new Date(Date.UTC(J,ne,ie,de,ue,ee,le+60*H.offset*1e3)):S?new Date(Date.UTC(J,ne,ie,de,ue,ee,le)):new Date(J,ne,ie,de,ue,ee,le)}catch{return new Date("")}})(V,j,R),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),I&&V!=this.format(j)&&(this.$d=new Date("")),c={}}else if(j instanceof Array)for(var g=j.length,v=1;v<=g;v+=1){N[1]=j[v-1];var w=x.apply(this,N);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}v===g&&(this.$d=new Date(""))}else L.call(this,$)}}})},{}],393:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=i()})(void 0,function(){var r="minute",i=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(s,a,c){var u=a.prototype;c.utc=function(m){var _={date:m,utc:!0,args:arguments};return new a(_)},u.utc=function(m){var _=c(this.toDate(),{locale:this.$L,utc:!0});return m?_.add(this.utcOffset(),r):_},u.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var l=u.parse;u.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),l.call(this,m)};var d=u.init;u.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else d.call(this)};var f=u.utcOffset;u.utcOffset=function(m,_){var x=this.$utils().u;if(x(m))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=(function(V){V===void 0&&(V="");var R=V.match(i);if(!R)return null;var N=(""+R[0]).match(o)||["-",0,0],j=N[0],O=60*+N[1]+ +N[2];return O===0?0:j==="+"?O:-O})(m))===null)return this;var D=Math.abs(m)<=16?60*m:m,L=this;if(_)return L.$offset=D,L.$u=m===0,L;if(m!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(L=this.local().add(D+$,r)).$offset=D,L.$x.$localOffset=$}else L=this.utc();return L};var p=u.format;u.format=function(m){var _=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,_)},u.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var h=u.toDate;u.toDate=function(m){return m==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var y=u.diff;u.diff=function(m,_,x){if(m&&this.$u===m.$u)return y.call(this,m,_,x);var D=this.local(),L=c(m).local();return y.call(D,L,_,x)}}})},{}],394:[function(t,e,n){"use strict";n.utils=t("./des/utils"),n.Cipher=t("./des/cipher"),n.DES=t("./des/des"),n.CBC=t("./des/cbc"),n.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),o={};function s(a){r.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=a[c]}n.instantiate=function(a){function c(f){a.call(this,f),this._cbcInit()}i(c,a);for(var u=Object.keys(o),l=0;l<u.length;l++){var d=u[l];c.prototype[d]=o[d]}return c.create=function(f){return new c(f)},c},o._cbcInit=function(){var a=new s(this.options.iv);this._cbcState=a},o._update=function(a,c,u,l){var d=this._cbcState,f=this.constructor.super_.prototype,p=d.iv;if(this.type==="encrypt"){for(var h=0;h<this.blockSize;h++)p[h]^=a[c+h];for(f._update.call(this,p,0,u,l),h=0;h<this.blockSize;h++)p[h]=u[l+h]}else{for(f._update.call(this,a,c,u,l),h=0;h<this.blockSize;h++)u[l+h]^=p[h];for(h=0;h<this.blockSize;h++)p[h]=a[c+h]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,e,n){"use strict";var r=t("minimalistic-assert");function i(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},i.prototype._buffer=function(o,s){for(var a=Math.min(this.buffer.length-this.bufferOff,o.length-s),c=0;c<a;c++)this.buffer[this.bufferOff+c]=o[s+c];return this.bufferOff+=a,a},i.prototype._flushBuffer=function(o,s){return this._update(this.buffer,0,o,s),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(o){var s=0,a=0,c=(this.bufferOff+o.length)/this.blockSize|0,u=new Array(c*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(o,s),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(u,a)));for(var l=o.length-(o.length-s)%this.blockSize;s<l;s+=this.blockSize)this._update(o,s,u,a),a+=this.blockSize;for(;s<o.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=o[s];return u},i.prototype._updateDecrypt=function(o){for(var s=0,a=0,c=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,u=new Array(c*this.blockSize);c>0;c--)s+=this._buffer(o,s),a+=this._flushBuffer(u,a);return s+=this._buffer(o,s),u},i.prototype.final=function(o){var s,a;return o&&(s=this.update(o)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(a):a},i.prototype._pad=function(o,s){if(s===0)return!1;for(;s<o.length;)o[s++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},i.prototype._unpad=function(o){return o},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),o=t("./utils"),s=t("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function c(l){s.call(this,l);var d=new a;this._desState=d,this.deriveKeys(d,l.key)}i(c,s),e.exports=c,c.create=function(l){return new c(l)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(l,d){l.keys=new Array(32),r.equal(d.length,this.blockSize,"Invalid key length");var f=o.readUInt32BE(d,0),p=o.readUInt32BE(d,4);o.pc1(f,p,l.tmp,0),f=l.tmp[0],p=l.tmp[1];for(var h=0;h<l.keys.length;h+=2){var y=u[h>>>1];f=o.r28shl(f,y),p=o.r28shl(p,y),o.pc2(f,p,l.keys,h)}},c.prototype._update=function(l,d,f,p){var h=this._desState,y=o.readUInt32BE(l,d),m=o.readUInt32BE(l,d+4);o.ip(y,m,h.tmp,0),y=h.tmp[0],m=h.tmp[1],this.type==="encrypt"?this._encrypt(h,y,m,h.tmp,0):this._decrypt(h,y,m,h.tmp,0),y=h.tmp[0],m=h.tmp[1],o.writeUInt32BE(f,y,p),o.writeUInt32BE(f,m,p+4)},c.prototype._pad=function(l,d){if(this.padding===!1)return!1;for(var f=l.length-d,p=d;p<l.length;p++)l[p]=f;return!0},c.prototype._unpad=function(l){if(this.padding===!1)return l;for(var d=l[l.length-1],f=l.length-d;f<l.length;f++)r.equal(l[f],d);return l.slice(0,l.length-d)},c.prototype._encrypt=function(l,d,f,p,h){for(var y=d,m=f,_=0;_<l.keys.length;_+=2){var x=l.keys[_],D=l.keys[_+1];o.expand(m,l.tmp,0),x^=l.tmp[0],D^=l.tmp[1];var L=o.substitute(x,D),$=m;m=(y^o.permute(L))>>>0,y=$}o.rip(m,y,p,h)},c.prototype._decrypt=function(l,d,f,p,h){for(var y=f,m=d,_=l.keys.length-2;_>=0;_-=2){var x=l.keys[_],D=l.keys[_+1];o.expand(y,l.tmp,0),x^=l.tmp[0],D^=l.tmp[1];var L=o.substitute(x,D),$=y;y=(m^o.permute(L))>>>0,m=$}o.rip(y,m,p,h)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),o=t("./cipher"),s=t("./des");function a(u,l){r.equal(l.length,24,"Invalid key length");var d=l.slice(0,8),f=l.slice(8,16),p=l.slice(16,24);this.ciphers=u==="encrypt"?[s.create({type:"encrypt",key:d}),s.create({type:"decrypt",key:f}),s.create({type:"encrypt",key:p})]:[s.create({type:"decrypt",key:p}),s.create({type:"encrypt",key:f}),s.create({type:"decrypt",key:d})]}function c(u){o.call(this,u);var l=new a(this.type,this.options.key);this._edeState=l}i(c,o),e.exports=c,c.create=function(u){return new c(u)},c.prototype._update=function(u,l,d,f){var p=this._edeState;p.ciphers[0]._update(u,l,d,f),p.ciphers[1]._update(d,f,d,f),p.ciphers[2]._update(d,f,d,f)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,e,n){"use strict";n.readUInt32BE=function(s,a){return(s[0+a]<<24|s[1+a]<<16|s[2+a]<<8|s[3+a])>>>0},n.writeUInt32BE=function(s,a,c){s[0+c]=a>>>24,s[1+c]=a>>>16&255,s[2+c]=a>>>8&255,s[3+c]=255&a},n.ip=function(s,a,c,u){for(var l=0,d=0,f=6;f>=0;f-=2){for(var p=0;p<=24;p+=8)l<<=1,l|=a>>>p+f&1;for(p=0;p<=24;p+=8)l<<=1,l|=s>>>p+f&1}for(f=6;f>=0;f-=2){for(p=1;p<=25;p+=8)d<<=1,d|=a>>>p+f&1;for(p=1;p<=25;p+=8)d<<=1,d|=s>>>p+f&1}c[u+0]=l>>>0,c[u+1]=d>>>0},n.rip=function(s,a,c,u){for(var l=0,d=0,f=0;f<4;f++)for(var p=24;p>=0;p-=8)l<<=1,l|=a>>>p+f&1,l<<=1,l|=s>>>p+f&1;for(f=4;f<8;f++)for(p=24;p>=0;p-=8)d<<=1,d|=a>>>p+f&1,d<<=1,d|=s>>>p+f&1;c[u+0]=l>>>0,c[u+1]=d>>>0},n.pc1=function(s,a,c,u){for(var l=0,d=0,f=7;f>=5;f--){for(var p=0;p<=24;p+=8)l<<=1,l|=a>>p+f&1;for(p=0;p<=24;p+=8)l<<=1,l|=s>>p+f&1}for(p=0;p<=24;p+=8)l<<=1,l|=a>>p+f&1;for(f=1;f<=3;f++){for(p=0;p<=24;p+=8)d<<=1,d|=a>>p+f&1;for(p=0;p<=24;p+=8)d<<=1,d|=s>>p+f&1}for(p=0;p<=24;p+=8)d<<=1,d|=s>>p+f&1;c[u+0]=l>>>0,c[u+1]=d>>>0},n.r28shl=function(s,a){return s<<a&268435455|s>>>28-a};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(s,a,c,u){for(var l=0,d=0,f=r.length>>>1,p=0;p<f;p++)l<<=1,l|=s>>>r[p]&1;for(p=f;p<r.length;p++)d<<=1,d|=a>>>r[p]&1;c[u+0]=l>>>0,c[u+1]=d>>>0},n.expand=function(s,a,c){var u=0,l=0;u=(1&s)<<5|s>>>27;for(var d=23;d>=15;d-=4)u<<=6,u|=s>>>d&63;for(d=11;d>=3;d-=4)l|=s>>>d&63,l<<=6;l|=(31&s)<<1|s>>>31,a[c+0]=u>>>0,a[c+1]=l>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(s,a){for(var c=0,u=0;u<4;u++)c<<=4,c|=i[64*u+(s>>>18-6*u&63)];for(u=0;u<4;u++)c<<=4,c|=i[256+64*u+(a>>>18-6*u&63)];return c>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(s){for(var a=0,c=0;c<o.length;c++)a<<=1,a|=s>>>o[c]&1;return a>>>0},n.padSplit=function(s,a,c){for(var u=s.toString(2);u.length<a;)u="0"+u;for(var l=[],d=0;d<a;d+=c)l.push(u.slice(d,d+c));return l.join(" ")}},{}],400:[function(t,e,n){(function(r){(function(){"use strict";var i=t("./lib/generatePrime"),o=t("./lib/primes.json"),s=t("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(c){var u=new r(o[c].prime,"hex"),l=new r(o[c].gen,"hex");return new s(u,l)},n.createDiffieHellman=n.DiffieHellman=function c(u,l,d,f){return r.isBuffer(l)||a[l]===void 0?c(u,"binary",l,d):(l=l||"binary",f=f||"binary",d=d||new r([2]),r.isBuffer(d)||(d=new r(d,f)),typeof u=="number"?new s(i(u,d),d,!0):(r.isBuffer(u)||(u=new r(u,l)),new s(u,d,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,e,n){(function(r){(function(){"use strict";var i=t("bn.js"),o=new(t("miller-rabin")),s=new i(24),a=new i(11),c=new i(10),u=new i(3),l=new i(7),d=t("./generatePrime"),f=t("randombytes");function p(x,D){return D=D||"utf8",r.isBuffer(x)||(x=new r(x,D)),this._pub=new i(x),this}function h(x,D){return D=D||"utf8",r.isBuffer(x)||(x=new r(x,D)),this._priv=new i(x),this}e.exports=m;var y={};function m(x,D,L){this.setGenerator(D),this.__prime=new i(x),this._prime=i.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=p,this.setPrivateKey=h):this._primeCode=8}function _(x,D){var L=new r(x.toArray());return D?L.toString(D):L}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(x,D){var L=D.toString("hex"),$=[L,x.toString(16)].join("_");if($ in y)return y[$];var V,R=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!o.test(x))return R+=1,R+=L==="02"||L==="05"?8:4,y[$]=R,R;switch(o.test(x.shrn(1))||(R+=2),L){case"02":x.mod(s).cmp(a)&&(R+=8);break;case"05":(V=x.mod(c)).cmp(u)&&V.cmp(l)&&(R+=8);break;default:R+=4}return y[$]=R,R})(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(x){var D=(x=(x=new i(x)).toRed(this._prime)).redPow(this._priv).fromRed(),L=new r(D.toArray()),$=this.getPrime();if(L.length<$.length){var V=new r($.length-L.length);V.fill(0),L=r.concat([V,L])}return L},m.prototype.getPublicKey=function(x){return _(this._pub,x)},m.prototype.getPrivateKey=function(x){return _(this._priv,x)},m.prototype.getPrime=function(x){return _(this.__prime,x)},m.prototype.getGenerator=function(x){return _(this._gen,x)},m.prototype.setGenerator=function(x,D){return D=D||"utf8",r.isBuffer(x)||(x=new r(x,D)),this.__gen=x,this._gen=new i(x),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,e,n){"use strict";var r=t("randombytes");e.exports=x,x.simpleSieve=m,x.fermatTest=_;var i=t("bn.js"),o=new i(24),s=new(t("miller-rabin")),a=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),d=new i(3),f=(new i(7),new i(11)),p=new i(4),h=(new i(12),null);function y(){if(h!==null)return h;var D=[];D[0]=2;for(var L=1,$=3;$<1048576;$+=2){for(var V=Math.ceil(Math.sqrt($)),R=0;R<L&&D[R]<=V&&$%D[R]!=0;R++);L!==R&&D[R]<=V||(D[L++]=$)}return h=D,D}function m(D){for(var L=y(),$=0;$<L.length;$++)if(D.modn(L[$])===0)return D.cmpn(L[$])===0;return!0}function _(D){var L=i.mont(D);return c.toRed(L).redPow(D.subn(1)).fromRed().cmpn(1)===0}function x(D,L){if(D<16)return new i(L===2||L===5?[140,123]:[140,39]);var $,V;for(L=new i(L);;){for($=new i(r(Math.ceil(D/8)));$.bitLength()>D;)$.ishrn(1);if($.isEven()&&$.iadd(a),$.testn(1)||$.iadd(c),L.cmp(c)){if(!L.cmp(u))for(;$.mod(l).cmp(d);)$.iadd(p)}else for(;$.mod(o).cmp(f);)$.iadd(p);if(m(V=$.shrn(1))&&m($)&&_(V)&&_($)&&s.test(V)&&s.test($))return $}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,e,n){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(t,e,n){"use strict";var r=n;r.version=t("../package.json").version,r.utils=t("./elliptic/utils"),r.rand=t("brorand"),r.curve=t("./elliptic/curve"),r.curves=t("./elliptic/curves"),r.ec=t("./elliptic/ec"),r.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),o=i.getNAF,s=i.getJSF,a=i.assert;function c(l,d){this.type=l,this.p=new r(d.p,16),this.red=d.prime?r.red(d.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=d.n&&new r(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(l,d){this.curve=l,this.type=d,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(l,d){a(l.precomputed);var f=l._getDoubles(),p=o(d,1,this._bitLength),h=(1<<f.step+1)-(f.step%2==0?2:1);h/=3;var y,m,_=[];for(y=0;y<p.length;y+=f.step){m=0;for(var x=y+f.step-1;x>=y;x--)m=(m<<1)+p[x];_.push(m)}for(var D=this.jpoint(null,null,null),L=this.jpoint(null,null,null),$=h;$>0;$--){for(y=0;y<_.length;y++)(m=_[y])===$?L=L.mixedAdd(f.points[y]):m===-$&&(L=L.mixedAdd(f.points[y].neg()));D=D.add(L)}return D.toP()},c.prototype._wnafMul=function(l,d){var f=4,p=l._getNAFPoints(f);f=p.wnd;for(var h=p.points,y=o(d,f,this._bitLength),m=this.jpoint(null,null,null),_=y.length-1;_>=0;_--){for(var x=0;_>=0&&y[_]===0;_--)x++;if(_>=0&&x++,m=m.dblp(x),_<0)break;var D=y[_];a(D!==0),m=l.type==="affine"?D>0?m.mixedAdd(h[D-1>>1]):m.mixedAdd(h[-D-1>>1].neg()):D>0?m.add(h[D-1>>1]):m.add(h[-D-1>>1].neg())}return l.type==="affine"?m.toP():m},c.prototype._wnafMulAdd=function(l,d,f,p,h){var y,m,_,x=this._wnafT1,D=this._wnafT2,L=this._wnafT3,$=0;for(y=0;y<p;y++){var V=(_=d[y])._getNAFPoints(l);x[y]=V.wnd,D[y]=V.points}for(y=p-1;y>=1;y-=2){var R=y-1,N=y;if(x[R]===1&&x[N]===1){var j=[d[R],null,null,d[N]];d[R].y.cmp(d[N].y)===0?(j[1]=d[R].add(d[N]),j[2]=d[R].toJ().mixedAdd(d[N].neg())):d[R].y.cmp(d[N].y.redNeg())===0?(j[1]=d[R].toJ().mixedAdd(d[N]),j[2]=d[R].add(d[N].neg())):(j[1]=d[R].toJ().mixedAdd(d[N]),j[2]=d[R].toJ().mixedAdd(d[N].neg()));var O=[-3,-1,-5,-7,0,7,5,1,3],E=s(f[R],f[N]);for($=Math.max(E[0].length,$),L[R]=new Array($),L[N]=new Array($),m=0;m<$;m++){var I=0|E[0][m],A=0|E[1][m];L[R][m]=O[3*(I+1)+(A+1)],L[N][m]=0,D[R]=j}}else L[R]=o(f[R],x[R],this._bitLength),L[N]=o(f[N],x[N],this._bitLength),$=Math.max(L[R].length,$),$=Math.max(L[N].length,$)}var g=this.jpoint(null,null,null),v=this._wnafT4;for(y=$;y>=0;y--){for(var w=0;y>=0;){var b=!0;for(m=0;m<p;m++)v[m]=0|L[m][y],v[m]!==0&&(b=!1);if(!b)break;w++,y--}if(y>=0&&w++,g=g.dblp(w),y<0)break;for(m=0;m<p;m++){var C=v[m];C!==0&&(C>0?_=D[m][C-1>>1]:C<0&&(_=D[m][-C-1>>1].neg()),g=_.type==="affine"?g.mixedAdd(_):g.add(_))}}for(y=0;y<p;y++)D[y]=null;return h?g:g.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(l,d){l=i.toArray(l,d);var f=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1==2*f)return l[0]===6?a(l[l.length-1]%2==0):l[0]===7&&a(l[l.length-1]%2==1),this.point(l.slice(1,1+f),l.slice(1+f,1+2*f));if((l[0]===2||l[0]===3)&&l.length-1===f)return this.pointFromX(l.slice(1,1+f),l[0]===3);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(l){return this.encode(l,!0)},u.prototype._encode=function(l){var d=this.curve.p.byteLength(),f=this.getX().toArray("be",d);return l?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",d))},u.prototype.encode=function(l,d){return i.encode(this._encode(d),l)},u.prototype.precompute=function(l){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,l),d.beta=this._getBeta(),this.precomputed=d,this},u.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((l.bitLength()+1)/d.step)},u.prototype._getDoubles=function(l,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],p=this,h=0;h<d;h+=l){for(var y=0;y<l;y++)p=p.dbl();f.push(p)}return{step:l,points:f}},u.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],f=(1<<l)-1,p=f===1?null:this.dbl(),h=1;h<f;h++)d[h]=d[h-1].add(p);return{wnd:l,points:d}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(l){for(var d=this,f=0;f<l;f++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(t,e,n){"use strict";var r=t("../utils"),i=t("bn.js"),o=t("inherits"),s=t("./base"),a=r.assert;function c(l){this.twisted=(0|l.a)!=1,this.mOneA=this.twisted&&(0|l.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",l),this.a=new i(l.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(l.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(l.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|l.c)==1}function u(l,d,f,p,h){s.BasePoint.call(this,l,"projective"),d===null&&f===null&&p===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(d,16),this.y=new i(f,16),this.z=p?new i(p,16):this.curve.one,this.t=h&&new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),e.exports=c,c.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},c.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},c.prototype.jpoint=function(l,d,f,p){return this.point(l,d,f,p)},c.prototype.pointFromX=function(l,d){(l=new i(l,16)).red||(l=l.toRed(this.red));var f=l.redSqr(),p=this.c2.redSub(this.a.redMul(f)),h=this.one.redSub(this.c2.redMul(this.d).redMul(f)),y=p.redMul(h.redInvm()),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var _=m.fromRed().isOdd();return(d&&!_||!d&&_)&&(m=m.redNeg()),this.point(l,m)},c.prototype.pointFromY=function(l,d){(l=new i(l,16)).red||(l=l.toRed(this.red));var f=l.redSqr(),p=f.redSub(this.c2),h=f.redMul(this.d).redMul(this.c2).redSub(this.a),y=p.redMul(h.redInvm());if(y.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,l)}var m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==d&&(m=m.redNeg()),this.point(m,l)},c.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var d=l.x.redSqr(),f=l.y.redSqr(),p=d.redMul(this.a).redAdd(f),h=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(f)));return p.cmp(h)===0},o(u,s.BasePoint),c.prototype.pointFromJSON=function(l){return u.fromJSON(this,l)},c.prototype.point=function(l,d,f,p){return new u(this,l,d,f,p)},u.fromJSON=function(l,d){return new u(l,d[0],d[1],d[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var l=this.x.redSqr(),d=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var p=this.curve._mulA(l),h=this.x.redAdd(this.y).redSqr().redISub(l).redISub(d),y=p.redAdd(d),m=y.redSub(f),_=p.redSub(d),x=h.redMul(m),D=y.redMul(_),L=h.redMul(_),$=m.redMul(y);return this.curve.point(x,D,$,L)},u.prototype._projDbl=function(){var l,d,f,p,h,y,m=this.x.redAdd(this.y).redSqr(),_=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var D=(p=this.curve._mulA(_)).redAdd(x);this.zOne?(l=m.redSub(_).redSub(x).redMul(D.redSub(this.curve.two)),d=D.redMul(p.redSub(x)),f=D.redSqr().redSub(D).redSub(D)):(h=this.z.redSqr(),y=D.redSub(h).redISub(h),l=m.redSub(_).redISub(x).redMul(y),d=D.redMul(p.redSub(x)),f=D.redMul(y))}else p=_.redAdd(x),h=this.curve._mulC(this.z).redSqr(),y=p.redSub(h).redSub(h),l=this.curve._mulC(m.redISub(p)).redMul(y),d=this.curve._mulC(p).redMul(_.redISub(x)),f=p.redMul(y);return this.curve.point(l,d,f)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(l){var d=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),f=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),p=this.t.redMul(this.curve.dd).redMul(l.t),h=this.z.redMul(l.z.redAdd(l.z)),y=f.redSub(d),m=h.redSub(p),_=h.redAdd(p),x=f.redAdd(d),D=y.redMul(m),L=_.redMul(x),$=y.redMul(x),V=m.redMul(_);return this.curve.point(D,L,V,$)},u.prototype._projAdd=function(l){var d,f,p=this.z.redMul(l.z),h=p.redSqr(),y=this.x.redMul(l.x),m=this.y.redMul(l.y),_=this.curve.d.redMul(y).redMul(m),x=h.redSub(_),D=h.redAdd(_),L=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(y).redISub(m),$=p.redMul(x).redMul(L);return this.curve.twisted?(d=p.redMul(D).redMul(m.redSub(this.curve._mulA(y))),f=x.redMul(D)):(d=p.redMul(D).redMul(m.redSub(y)),f=this.curve._mulC(x).redMul(D)),this.curve.point($,d,f)},u.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},u.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},u.prototype.mulAdd=function(l,d,f){return this.curve._wnafMulAdd(1,[this,d],[l,f],2,!1)},u.prototype.jmulAdd=function(l,d,f){return this.curve._wnafMulAdd(1,[this,d],[l,f],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},u.prototype.eqXToP=function(l){var d=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var f=l.clone(),p=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(p),this.x.cmp(d)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,e,n){"use strict";var r=n;r.base=t("./base"),r.short=t("./short"),r.mont=t("./mont"),r.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("inherits"),o=t("./base"),s=t("../utils");function a(u){o.call(this,"mont",u),this.a=new r(u.a,16).toRed(this.red),this.b=new r(u.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(u,l,d){o.BasePoint.call(this,u,"projective"),l===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(l,16),this.z=new r(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(u){var l=u.normalize().x,d=l.redSqr(),f=d.redMul(l).redAdd(d.redMul(this.a)).redAdd(l);return f.redSqrt().redSqr().cmp(f)===0},i(c,o.BasePoint),a.prototype.decodePoint=function(u,l){return this.point(s.toArray(u,l),1)},a.prototype.point=function(u,l){return new c(this,u,l)},a.prototype.pointFromJSON=function(u){return c.fromJSON(this,u)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(u,l){return new c(u,l[0],l[1]||u.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var u=this.x.redAdd(this.z).redSqr(),l=this.x.redSub(this.z).redSqr(),d=u.redSub(l),f=u.redMul(l),p=d.redMul(l.redAdd(this.curve.a24.redMul(d)));return this.curve.point(f,p)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(u,l){var d=this.x.redAdd(this.z),f=this.x.redSub(this.z),p=u.x.redAdd(u.z),h=u.x.redSub(u.z).redMul(d),y=p.redMul(f),m=l.z.redMul(h.redAdd(y).redSqr()),_=l.x.redMul(h.redISub(y).redSqr());return this.curve.point(m,_)},c.prototype.mul=function(u){for(var l=u.clone(),d=this,f=this.curve.point(null,null),p=[];l.cmpn(0)!==0;l.iushrn(1))p.push(l.andln(1));for(var h=p.length-1;h>=0;h--)p[h]===0?(d=d.diffAdd(f,this),f=f.dbl()):(f=d.diffAdd(f,this),d=d.dbl());return f},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,e,n){"use strict";var r=t("../utils"),i=t("bn.js"),o=t("inherits"),s=t("./base"),a=r.assert;function c(d){s.call(this,"short",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(d,f,p,h){s.BasePoint.call(this,d,"affine"),f===null&&p===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(f,16),this.y=new i(p,16),h&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(d,f,p,h){s.BasePoint.call(this,d,"jacobian"),f===null&&p===null&&h===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(f,16),this.y=new i(p,16),this.z=new i(h,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),e.exports=c,c.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var f,p;if(d.beta)f=new i(d.beta,16).toRed(this.red);else{var h=this._getEndoRoots(this.p);f=(f=h[0].cmp(h[1])<0?h[0]:h[1]).toRed(this.red)}if(d.lambda)p=new i(d.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(f))===0?p=y[0]:(p=y[1],a(this.g.mul(p).x.cmp(this.g.x.redMul(f))===0))}return{beta:f,lambda:p,basis:d.basis?d.basis.map(function(m){return{a:new i(m.a,16),b:new i(m.b,16)}}):this._getEndoBasis(p)}}},c.prototype._getEndoRoots=function(d){var f=d===this.p?this.red:i.mont(d),p=new i(2).toRed(f).redInvm(),h=p.redNeg(),y=new i(3).toRed(f).redNeg().redSqrt().redMul(p);return[h.redAdd(y).fromRed(),h.redSub(y).fromRed()]},c.prototype._getEndoBasis=function(d){for(var f,p,h,y,m,_,x,D,L,$=this.n.ushrn(Math.floor(this.n.bitLength()/2)),V=d,R=this.n.clone(),N=new i(1),j=new i(0),O=new i(0),E=new i(1),I=0;V.cmpn(0)!==0;){var A=R.div(V);D=R.sub(A.mul(V)),L=O.sub(A.mul(N));var g=E.sub(A.mul(j));if(!h&&D.cmp($)<0)f=x.neg(),p=N,h=D.neg(),y=L;else if(h&&++I==2)break;x=D,R=V,V=D,O=N,N=L,E=j,j=g}m=D.neg(),_=L;var v=h.sqr().add(y.sqr());return m.sqr().add(_.sqr()).cmp(v)>=0&&(m=f,_=p),h.negative&&(h=h.neg(),y=y.neg()),m.negative&&(m=m.neg(),_=_.neg()),[{a:h,b:y},{a:m,b:_}]},c.prototype._endoSplit=function(d){var f=this.endo.basis,p=f[0],h=f[1],y=h.b.mul(d).divRound(this.n),m=p.b.neg().mul(d).divRound(this.n),_=y.mul(p.a),x=m.mul(h.a),D=y.mul(p.b),L=m.mul(h.b);return{k1:d.sub(_).sub(x),k2:D.add(L).neg()}},c.prototype.pointFromX=function(d,f){(d=new i(d,16)).red||(d=d.toRed(this.red));var p=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),h=p.redSqrt();if(h.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var y=h.fromRed().isOdd();return(f&&!y||!f&&y)&&(h=h.redNeg()),this.point(d,h)},c.prototype.validate=function(d){if(d.inf)return!0;var f=d.x,p=d.y,h=this.a.redMul(f),y=f.redSqr().redMul(f).redIAdd(h).redIAdd(this.b);return p.redSqr().redISub(y).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(d,f,p){for(var h=this._endoWnafT1,y=this._endoWnafT2,m=0;m<d.length;m++){var _=this._endoSplit(f[m]),x=d[m],D=x._getBeta();_.k1.negative&&(_.k1.ineg(),x=x.neg(!0)),_.k2.negative&&(_.k2.ineg(),D=D.neg(!0)),h[2*m]=x,h[2*m+1]=D,y[2*m]=_.k1,y[2*m+1]=_.k2}for(var L=this._wnafMulAdd(1,h,y,2*m,p),$=0;$<2*m;$++)h[$]=null,y[$]=null;return L},o(u,s.BasePoint),c.prototype.point=function(d,f,p){return new u(this,d,f,p)},c.prototype.pointFromJSON=function(d,f){return u.fromJSON(this,d,f)},u.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var p=this.curve,h=function(y){return p.point(y.x.redMul(p.endo.beta),y.y)};d.beta=f,f.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(h)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(h)}}}return f}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(d,f,p){typeof f=="string"&&(f=JSON.parse(f));var h=d.point(f[0],f[1],p);if(!f[2])return h;function y(_){return d.point(_[0],_[1],p)}var m=f[2];return h.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[h].concat(m.doubles.points.map(y))},naf:m.naf&&{wnd:m.naf.wnd,points:[h].concat(m.naf.points.map(y))}},h},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var f=this.y.redSub(d.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(d.x).redInvm()));var p=f.redSqr().redISub(this.x).redISub(d.x),h=f.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,h)},u.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,p=this.x.redSqr(),h=d.redInvm(),y=p.redAdd(p).redIAdd(p).redIAdd(f).redMul(h),m=y.redSqr().redISub(this.x.redAdd(this.x)),_=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,_)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(d){return d=new i(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},u.prototype.mulAdd=function(d,f,p){var h=[this,f],y=[d,p];return this.curve.endo?this.curve._endoWnafMulAdd(h,y):this.curve._wnafMulAdd(1,h,y,2)},u.prototype.jmulAdd=function(d,f,p){var h=[this,f],y=[d,p];return this.curve.endo?this.curve._endoWnafMulAdd(h,y,!0):this.curve._wnafMulAdd(1,h,y,2,!0)},u.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},u.prototype.neg=function(d){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var p=this.precomputed,h=function(y){return y.neg()};f.precomputed={naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(h)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(h)}}}return f},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,s.BasePoint),c.prototype.jpoint=function(d,f,p){return new l(this,d,f,p)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),f=d.redSqr(),p=this.x.redMul(f),h=this.y.redMul(f).redMul(d);return this.curve.point(p,h)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var f=d.z.redSqr(),p=this.z.redSqr(),h=this.x.redMul(f),y=d.x.redMul(p),m=this.y.redMul(f.redMul(d.z)),_=d.y.redMul(p.redMul(this.z)),x=h.redSub(y),D=m.redSub(_);if(x.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=x.redSqr(),$=L.redMul(x),V=h.redMul(L),R=D.redSqr().redIAdd($).redISub(V).redISub(V),N=D.redMul(V.redISub(R)).redISub(m.redMul($)),j=this.z.redMul(d.z).redMul(x);return this.curve.jpoint(R,N,j)},l.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var f=this.z.redSqr(),p=this.x,h=d.x.redMul(f),y=this.y,m=d.y.redMul(f).redMul(this.z),_=p.redSub(h),x=y.redSub(m);if(_.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=_.redSqr(),L=D.redMul(_),$=p.redMul(D),V=x.redSqr().redIAdd(L).redISub($).redISub($),R=x.redMul($.redISub(V)).redISub(y.redMul(L)),N=this.z.redMul(_);return this.curve.jpoint(V,R,N)},l.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var p=this;for(f=0;f<d;f++)p=p.dbl();return p}var h=this.curve.a,y=this.curve.tinv,m=this.x,_=this.y,x=this.z,D=x.redSqr().redSqr(),L=_.redAdd(_);for(f=0;f<d;f++){var $=m.redSqr(),V=L.redSqr(),R=V.redSqr(),N=$.redAdd($).redIAdd($).redIAdd(h.redMul(D)),j=m.redMul(V),O=N.redSqr().redISub(j.redAdd(j)),E=j.redISub(O),I=N.redMul(E);I=I.redIAdd(I).redISub(R);var A=L.redMul(x);f+1<d&&(D=D.redMul(R)),m=O,x=A,L=I}return this.curve.jpoint(m,L.redMul(y),x)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var d,f,p;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(h).redISub(m);_=_.redIAdd(_);var x=h.redAdd(h).redIAdd(h),D=x.redSqr().redISub(_).redISub(_),L=m.redIAdd(m);L=(L=L.redIAdd(L)).redIAdd(L),d=D,f=x.redMul(_.redISub(D)).redISub(L),p=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),V=this.y.redSqr(),R=V.redSqr(),N=this.x.redAdd(V).redSqr().redISub($).redISub(R);N=N.redIAdd(N);var j=$.redAdd($).redIAdd($),O=j.redSqr(),E=R.redIAdd(R);E=(E=E.redIAdd(E)).redIAdd(E),d=O.redISub(N).redISub(N),f=j.redMul(N.redISub(d)).redISub(E),p=(p=this.y.redMul(this.z)).redIAdd(p)}return this.curve.jpoint(d,f,p)},l.prototype._threeDbl=function(){var d,f,p;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),_=this.x.redAdd(y).redSqr().redISub(h).redISub(m);_=_.redIAdd(_);var x=h.redAdd(h).redIAdd(h).redIAdd(this.curve.a),D=x.redSqr().redISub(_).redISub(_);d=D;var L=m.redIAdd(m);L=(L=L.redIAdd(L)).redIAdd(L),f=x.redMul(_.redISub(D)).redISub(L),p=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),V=this.y.redSqr(),R=this.x.redMul(V),N=this.x.redSub($).redMul(this.x.redAdd($));N=N.redAdd(N).redIAdd(N);var j=R.redIAdd(R),O=(j=j.redIAdd(j)).redAdd(j);d=N.redSqr().redISub(O),p=this.y.redAdd(this.z).redSqr().redISub(V).redISub($);var E=V.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),f=N.redMul(j.redISub(d)).redISub(E)}return this.curve.jpoint(d,f,p)},l.prototype._dbl=function(){var d=this.curve.a,f=this.x,p=this.y,h=this.z,y=h.redSqr().redSqr(),m=f.redSqr(),_=p.redSqr(),x=m.redAdd(m).redIAdd(m).redIAdd(d.redMul(y)),D=f.redAdd(f),L=(D=D.redIAdd(D)).redMul(_),$=x.redSqr().redISub(L.redAdd(L)),V=L.redISub($),R=_.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var N=x.redMul(V).redISub(R),j=p.redAdd(p).redMul(h);return this.curve.jpoint($,N,j)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),f=this.y.redSqr(),p=this.z.redSqr(),h=f.redSqr(),y=d.redAdd(d).redIAdd(d),m=y.redSqr(),_=this.x.redAdd(f).redSqr().redISub(d).redISub(h),x=(_=(_=(_=_.redIAdd(_)).redAdd(_).redIAdd(_)).redISub(m)).redSqr(),D=h.redIAdd(h);D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var L=y.redIAdd(_).redSqr().redISub(m).redISub(x).redISub(D),$=f.redMul(L);$=($=$.redIAdd($)).redIAdd($);var V=this.x.redMul(x).redISub($);V=(V=V.redIAdd(V)).redIAdd(V);var R=this.y.redMul(L.redMul(D.redISub(L)).redISub(_.redMul(x)));R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var N=this.z.redAdd(_).redSqr().redISub(p).redISub(x);return this.curve.jpoint(V,R,N)},l.prototype.mul=function(d,f){return d=new i(d,f),this.curve._wnafMul(this,d)},l.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var f=this.z.redSqr(),p=d.z.redSqr();if(this.x.redMul(p).redISub(d.x.redMul(f)).cmpn(0)!==0)return!1;var h=f.redMul(this.z),y=p.redMul(d.z);return this.y.redMul(y).redISub(d.y.redMul(h)).cmpn(0)===0},l.prototype.eqXToP=function(d){var f=this.z.redSqr(),p=d.toRed(this.curve.red).redMul(f);if(this.x.cmp(p)===0)return!0;for(var h=d.clone(),y=this.curve.redN.redMul(f);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(y),this.x.cmp(p)===0)return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,e,n){"use strict";var r,i=n,o=t("hash.js"),s=t("./curve"),a=t("./utils").assert;function c(l){l.type==="short"?this.curve=new s.short(l):l.type==="edwards"?this.curve=new s.edwards(l):this.curve=new s.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(l,d){Object.defineProperty(i,l,{configurable:!0,enumerable:!0,get:function(){var f=new c(d);return Object.defineProperty(i,l,{configurable:!0,enumerable:!0,value:f}),f}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=t("./precomputed/secp256k1")}catch{r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("hmac-drbg"),o=t("../utils"),s=t("../curves"),a=t("brorand"),c=o.assert,u=t("./key"),l=t("./signature");function d(f){if(!(this instanceof d))return new d(f);typeof f=="string"&&(c(Object.prototype.hasOwnProperty.call(s,f),"Unknown curve "+f),f=s[f]),f instanceof s.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}e.exports=d,d.prototype.keyPair=function(f){return new u(this,f)},d.prototype.keyFromPrivate=function(f,p){return u.fromPrivate(this,f,p)},d.prototype.keyFromPublic=function(f,p){return u.fromPublic(this,f,p)},d.prototype.genKeyPair=function(f){f||(f={});for(var p=new i({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||a(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),y=this.n.sub(new r(2));;){var m=new r(p.generate(h));if(!(m.cmp(y)>0))return m.iaddn(1),this.keyFromPrivate(m)}},d.prototype._truncateToN=function(f,p){var h=8*f.byteLength()-this.n.bitLength();return h>0&&(f=f.ushrn(h)),!p&&f.cmp(this.n)>=0?f.sub(this.n):f},d.prototype.sign=function(f,p,h,y){typeof h=="object"&&(y=h,h=null),y||(y={}),p=this.keyFromPrivate(p,h),f=this._truncateToN(new r(f,16));for(var m=this.n.byteLength(),_=p.getPrivate().toArray("be",m),x=f.toArray("be",m),D=new i({hash:this.hash,entropy:_,nonce:x,pers:y.pers,persEnc:y.persEnc||"utf8"}),L=this.n.sub(new r(1)),$=0;;$++){var V=y.k?y.k($):new r(D.generate(this.n.byteLength()));if(!((V=this._truncateToN(V,!0)).cmpn(1)<=0||V.cmp(L)>=0)){var R=this.g.mul(V);if(!R.isInfinity()){var N=R.getX(),j=N.umod(this.n);if(j.cmpn(0)!==0){var O=V.invm(this.n).mul(j.mul(p.getPrivate()).iadd(f));if((O=O.umod(this.n)).cmpn(0)!==0){var E=(R.getY().isOdd()?1:0)|(N.cmp(j)!==0?2:0);return y.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),E^=1),new l({r:j,s:O,recoveryParam:E})}}}}}},d.prototype.verify=function(f,p,h,y){f=this._truncateToN(new r(f,16)),h=this.keyFromPublic(h,y);var m=(p=new l(p,"hex")).r,_=p.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||_.cmpn(1)<0||_.cmp(this.n)>=0)return!1;var x,D=_.invm(this.n),L=D.mul(f).umod(this.n),$=D.mul(m).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(L,h.getPublic(),$)).isInfinity()&&x.eqXToP(m):!(x=this.g.mulAdd(L,h.getPublic(),$)).isInfinity()&&x.getX().umod(this.n).cmp(m)===0},d.prototype.recoverPubKey=function(f,p,h,y){c((3&h)===h,"The recovery param is more than two bits"),p=new l(p,y);var m=this.n,_=new r(f),x=p.r,D=p.s,L=1&h,$=h>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");x=$?this.curve.pointFromX(x.add(this.curve.n),L):this.curve.pointFromX(x,L);var V=p.r.invm(m),R=m.sub(_).mul(V).umod(m),N=D.mul(V).umod(m);return this.g.mulAdd(R,x,N)},d.prototype.getKeyRecoveryParam=function(f,p,h,y){if((p=new l(p,y)).recoveryParam!==null)return p.recoveryParam;for(var m=0;m<4;m++){var _;try{_=this.recoverPubKey(f,p,m)}catch{continue}if(_.eq(h))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils").assert;function o(s,a){this.ec=s,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}e.exports=o,o.fromPublic=function(s,a,c){return a instanceof o?a:new o(s,{pub:a,pubEnc:c})},o.fromPrivate=function(s,a,c){return a instanceof o?a:new o(s,{priv:a,privEnc:c})},o.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(s,a){return typeof s=="string"&&(a=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,s):this.pub},o.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(s,a){this.priv=new r(s,a||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(s,a){if(s.x||s.y)return this.ec.curve.type==="mont"?i(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,a)},o.prototype.derive=function(s){return s.validate()||i(s.validate(),"public point not validated"),s.mul(this.priv).getX()},o.prototype.sign=function(s,a,c){return this.ec.sign(s,this,a,c)},o.prototype.verify=function(s,a){return this.ec.verify(s,a,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),o=i.assert;function s(d,f){if(d instanceof s)return d;this._importDER(d,f)||(o(d.r&&d.s,"Signature without r or s"),this.r=new r(d.r,16),this.s=new r(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function a(){this.place=0}function c(d,f){var p=d[f.place++];if(!(128&p))return p;var h=15&p;if(h===0||h>4)return!1;for(var y=0,m=0,_=f.place;m<h;m++,_++)y<<=8,y|=d[_],y>>>=0;return!(y<=127)&&(f.place=_,y)}function u(d){for(var f=0,p=d.length-1;!d[f]&&!(128&d[f+1])&&f<p;)f++;return f===0?d:d.slice(f)}function l(d,f){if(f<128)d.push(f);else{var p=1+(Math.log(f)/Math.LN2>>>3);for(d.push(128|p);--p;)d.push(f>>>(p<<3)&255);d.push(f)}}e.exports=s,s.prototype._importDER=function(d,f){d=i.toArray(d,f);var p=new a;if(d[p.place++]!==48)return!1;var h=c(d,p);if(h===!1||h+p.place!==d.length||d[p.place++]!==2)return!1;var y=c(d,p);if(y===!1)return!1;var m=d.slice(p.place,y+p.place);if(p.place+=y,d[p.place++]!==2)return!1;var _=c(d,p);if(_===!1||d.length!==_+p.place)return!1;var x=d.slice(p.place,_+p.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new r(m),this.s=new r(x),this.recoveryParam=null,!0},s.prototype.toDER=function(d){var f=this.r.toArray(),p=this.s.toArray();for(128&f[0]&&(f=[0].concat(f)),128&p[0]&&(p=[0].concat(p)),f=u(f),p=u(p);!(p[0]||128&p[1]);)p=p.slice(1);var h=[2];l(h,f.length),(h=h.concat(f)).push(2),l(h,p.length);var y=h.concat(p),m=[48];return l(m,y.length),m=m.concat(y),i.encode(m,d)}},{"../utils":419,"bn.js":420}],415:[function(t,e,n){"use strict";var r=t("hash.js"),i=t("../curves"),o=t("../utils"),s=o.assert,a=o.parseBytes,c=t("./key"),u=t("./signature");function l(d){if(s(d==="ed25519","only tested with ed25519 so far"),!(this instanceof l))return new l(d);d=i[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(d,f){d=a(d);var p=this.keyFromSecret(f),h=this.hashInt(p.messagePrefix(),d),y=this.g.mul(h),m=this.encodePoint(y),_=this.hashInt(m,p.pubBytes(),d).mul(p.priv()),x=h.add(_).umod(this.curve.n);return this.makeSignature({R:y,S:x,Rencoded:m})},l.prototype.verify=function(d,f,p){d=a(d),f=this.makeSignature(f);var h=this.keyFromPublic(p),y=this.hashInt(f.Rencoded(),h.pubBytes(),d),m=this.g.mul(f.S());return f.R().add(h.pub().mul(y)).eq(m)},l.prototype.hashInt=function(){for(var d=this.hash(),f=0;f<arguments.length;f++)d.update(arguments[f]);return o.intFromLE(d.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(d){return c.fromPublic(this,d)},l.prototype.keyFromSecret=function(d){return c.fromSecret(this,d)},l.prototype.makeSignature=function(d){return d instanceof u?d:new u(this,d)},l.prototype.encodePoint=function(d){var f=d.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=d.getX().isOdd()?128:0,f},l.prototype.decodePoint=function(d){var f=(d=o.parseBytes(d)).length-1,p=d.slice(0,f).concat(-129&d[f]),h=(128&d[f])!=0,y=o.intFromLE(p);return this.curve.pointFromY(y,h)},l.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(d){return o.intFromLE(d)},l.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,e,n){"use strict";var r=t("../utils"),i=r.assert,o=r.parseBytes,s=r.cachedProperty;function a(c,u){this.eddsa=c,this._secret=o(u.secret),c.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=o(u.pub)}a.fromPublic=function(c,u){return u instanceof a?u:new a(c,{pub:u})},a.fromSecret=function(c,u){return u instanceof a?u:new a(c,{secret:u})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var c=this.eddsa,u=this.hash(),l=c.encodingLength-1,d=u.slice(0,c.encodingLength);return d[0]&=248,d[l]&=127,d[l]|=64,d}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(c){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},a.prototype.verify=function(c,u){return this.eddsa.verify(c,u,this)},a.prototype.getSecret=function(c){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),c)},a.prototype.getPublic=function(c){return r.encode(this.pubBytes(),c)},e.exports=a},{"../utils":419}],417:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(u,l){this.eddsa=u,typeof l!="object"&&(l=a(l)),Array.isArray(l)&&(l={R:l.slice(0,u.encodingLength),S:l.slice(u.encodingLength)}),o(l.R&&l.S,"Signature without R or S"),u.isPoint(l.R)&&(this._R=l.R),l.S instanceof r&&(this._S=l.S),this._Rencoded=Array.isArray(l.R)?l.R:l.Rencoded,this._Sencoded=Array.isArray(l.S)?l.S:l.Sencoded}s(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},{"../utils":419,"bn.js":420}],418:[function(t,e,n){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,e,n){"use strict";var r=n,i=t("bn.js"),o=t("minimalistic-assert"),s=t("minimalistic-crypto-utils");r.assert=o,r.toArray=s.toArray,r.zero2=s.zero2,r.toHex=s.toHex,r.encode=s.encode,r.getNAF=function(a,c,u){var l=new Array(Math.max(a.bitLength(),u)+1);l.fill(0);for(var d=1<<c+1,f=a.clone(),p=0;p<l.length;p++){var h,y=f.andln(d-1);f.isOdd()?(h=y>(d>>1)-1?(d>>1)-y:y,f.isubn(h)):h=0,l[p]=h,f.iushrn(1)}return l},r.getJSF=function(a,c){var u=[[],[]];a=a.clone(),c=c.clone();for(var l,d=0,f=0;a.cmpn(-d)>0||c.cmpn(-f)>0;){var p,h,y=a.andln(3)+d&3,m=c.andln(3)+f&3;y===3&&(y=-1),m===3&&(m=-1),p=(1&y)==0?0:(l=a.andln(7)+d&7)!==3&&l!==5||m!==2?y:-y,u[0].push(p),h=(1&m)==0?0:(l=c.andln(7)+f&7)!==3&&l!==5||y!==2?m:-m,u[1].push(h),2*d===p+1&&(d=1-d),2*f===h+1&&(f=1-f),a.iushrn(1),c.iushrn(1)}return u},r.cachedProperty=function(a,c,u){var l="_"+c;a.prototype[c]=function(){return this[l]!==void 0?this[l]:this[l]=u.call(this)}},r.parseBytes=function(a){return typeof a=="string"?r.toArray(a,"hex"):a},r.intFromLE=function(a){return new i(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(t,e,n){e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,e,n){"use strict";var r=Object.create||function(V){var R=function(){};return R.prototype=V,new R},i=Object.keys||function(V){var R=[];for(var N in V)Object.prototype.hasOwnProperty.call(V,N)&&R.push(N);return N},o=Function.prototype.bind||function(V){var R=this;return function(){return R.apply(V,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,c=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),a=u.x===0}catch{a=!1}function l(V){return V._maxListeners===void 0?s.defaultMaxListeners:V._maxListeners}function d(V,R,N){if(R)V.call(N);else for(var j=V.length,O=$(V,j),E=0;E<j;++E)O[E].call(N)}function f(V,R,N,j){if(R)V.call(N,j);else for(var O=V.length,E=$(V,O),I=0;I<O;++I)E[I].call(N,j)}function p(V,R,N,j,O){if(R)V.call(N,j,O);else for(var E=V.length,I=$(V,E),A=0;A<E;++A)I[A].call(N,j,O)}function h(V,R,N,j,O,E){if(R)V.call(N,j,O,E);else for(var I=V.length,A=$(V,I),g=0;g<I;++g)A[g].call(N,j,O,E)}function y(V,R,N,j){if(R)V.apply(N,j);else for(var O=V.length,E=$(V,O),I=0;I<O;++I)E[I].apply(N,j)}function m(V,R,N,j){var O,E,I;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if((E=V._events)?(E.newListener&&(V.emit("newListener",R,N.listener?N.listener:N),E=V._events),I=E[R]):(E=V._events=r(null),V._eventsCount=0),I){if(typeof I=="function"?I=E[R]=j?[N,I]:[I,N]:j?I.unshift(N):I.push(N),!I.warned&&(O=l(V))&&O>0&&I.length>O){I.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+I.length+' "'+String(R)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=V,A.type=R,A.count=I.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else I=E[R]=N,++V._eventsCount;return V}function _(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var V=new Array(arguments.length),R=0;R<V.length;++R)V[R]=arguments[R];this.listener.apply(this.target,V)}}function x(V,R,N){var j={fired:!1,wrapFn:void 0,target:V,type:R,listener:N},O=o.call(_,j);return O.listener=N,j.wrapFn=O,O}function D(V,R,N){var j=V._events;if(!j)return[];var O=j[R];return O?typeof O=="function"?N?[O.listener||O]:[O]:N?(function(E){for(var I=new Array(E.length),A=0;A<I.length;++A)I[A]=E[A].listener||E[A];return I})(O):$(O,O.length):[]}function L(V){var R=this._events;if(R){var N=R[V];if(typeof N=="function")return 1;if(N)return N.length}return 0}function $(V,R){for(var N=new Array(R),j=0;j<R;++j)N[j]=V[j];return N}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(V){if(typeof V!="number"||V<0||V!=V)throw new TypeError('"defaultMaxListeners" must be a positive number');c=V}}):s.defaultMaxListeners=c,s.prototype.setMaxListeners=function(V){if(typeof V!="number"||V<0||isNaN(V))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=V,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(V){var R,N,j,O,E,I,A=V==="error";if(I=this._events)A=A&&I.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(R=arguments[1]),R instanceof Error)throw R;var g=new Error('Unhandled "error" event. ('+R+")");throw g.context=R,g}if(!(N=I[V]))return!1;var v=typeof N=="function";switch(j=arguments.length){case 1:d(N,v,this);break;case 2:f(N,v,this,arguments[1]);break;case 3:p(N,v,this,arguments[1],arguments[2]);break;case 4:h(N,v,this,arguments[1],arguments[2],arguments[3]);break;default:for(O=new Array(j-1),E=1;E<j;E++)O[E-1]=arguments[E];y(N,v,this,O)}return!0},s.prototype.addListener=function(V,R){return m(this,V,R,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(V,R){return m(this,V,R,!0)},s.prototype.once=function(V,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.on(V,x(this,V,R)),this},s.prototype.prependOnceListener=function(V,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(V,x(this,V,R)),this},s.prototype.removeListener=function(V,R){var N,j,O,E,I;if(typeof R!="function")throw new TypeError('"listener" argument must be a function');if(!(j=this._events))return this;if(!(N=j[V]))return this;if(N===R||N.listener===R)--this._eventsCount==0?this._events=r(null):(delete j[V],j.removeListener&&this.emit("removeListener",V,N.listener||R));else if(typeof N!="function"){for(O=-1,E=N.length-1;E>=0;E--)if(N[E]===R||N[E].listener===R){I=N[E].listener,O=E;break}if(O<0)return this;O===0?N.shift():(function(A,g){for(var v=g,w=v+1,b=A.length;w<b;v+=1,w+=1)A[v]=A[w];A.pop()})(N,O),N.length===1&&(j[V]=N[0]),j.removeListener&&this.emit("removeListener",V,I||R)}return this},s.prototype.removeAllListeners=function(V){var R,N,j;if(!(N=this._events))return this;if(!N.removeListener)return arguments.length===0?(this._events=r(null),this._eventsCount=0):N[V]&&(--this._eventsCount==0?this._events=r(null):delete N[V]),this;if(arguments.length===0){var O,E=i(N);for(j=0;j<E.length;++j)(O=E[j])!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if(typeof(R=N[V])=="function")this.removeListener(V,R);else if(R)for(j=R.length-1;j>=0;j--)this.removeListener(V,R[j]);return this},s.prototype.listeners=function(V){return D(this,V,!0)},s.prototype.rawListeners=function(V){return D(this,V,!1)},s.listenerCount=function(V,R){return typeof V.listenerCount=="function"?V.listenerCount(R):L.call(V,R)},s.prototype.listenerCount=L,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("md5.js");e.exports=function(o,s,a,c){if(r.isBuffer(o)||(o=r.from(o,"binary")),s&&(r.isBuffer(s)||(s=r.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var u=a/8,l=r.alloc(u),d=r.alloc(c||0),f=r.alloc(0);u>0||c>0;){var p=new i;p.update(f),p.update(o),s&&p.update(s),f=p.digest();var h=0;if(u>0){var y=l.length-u;h=Math.min(u,f.length),f.copy(l,y,0,h),u-=h}if(h<f.length&&c>0){var m=d.length-c,_=Math.min(c,f.length-h);f.copy(d,m,h,h+_),c-=_}}return f.fill(0),{key:l,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var r=t("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return r.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return r.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return r.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return r.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return r.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return r.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return r.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return r.FormatterOptions}});var i=t("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("readable-stream").Transform;function o(s){i.call(this),this._block=r.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(o,i),o.prototype._transform=function(s,a,c){var u=null;try{this.update(s,a)}catch(l){u=l}c(u)},o.prototype._flush=function(s){var a=null;try{this.push(this.digest())}catch(c){a=c}s(a)},o.prototype.update=function(s,a){if((function(p,h){if(!r.isBuffer(p)&&typeof p!="string")throw new TypeError(h+" must be a string or a buffer")})(s,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(s)||(s=r.from(s,a));for(var c=this._block,u=0;this._blockOffset+s.length-u>=this._blockSize;){for(var l=this._blockOffset;l<this._blockSize;)c[l++]=s[u++];this._update(),this._blockOffset=0}for(;u<s.length;)c[this._blockOffset++]=s[u++];for(var d=0,f=8*s.length;f>0;++d)this._length[d]+=f,(f=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*f);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();s!==void 0&&(a=a.toString(s)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return a},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,e,n){"use strict";var r=n;r.utils=t("./hash/utils"),r.common=t("./hash/common"),r.sha=t("./hash/sha"),r.ripemd=t("./hash/ripemd"),r.hmac=t("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,e,n){"use strict";var r=t("./utils"),i=t("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=o,o.prototype.update=function(s,a){if(s=r.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var c=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-c,s.length),this.pending.length===0&&(this.pending=null),s=r.join32(s,0,s.length-c,this.endian);for(var u=0;u<s.length;u+=this._delta32)this._update(s,u,u+this._delta32)}return this},o.prototype.digest=function(s){return this.update(this._pad()),i(this.pending===null),this._digest(s)},o.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,c=a-(s+this.padLength)%a,u=new Array(c+this.padLength);u[0]=128;for(var l=1;l<c;l++)u[l]=0;if(s<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)u[l++]=0;u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=s>>>24&255,u[l++]=s>>>16&255,u[l++]=s>>>8&255,u[l++]=255&s}else for(u[l++]=255&s,u[l++]=s>>>8&255,u[l++]=s>>>16&255,u[l++]=s>>>24&255,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,d=8;d<this.padLength;d++)u[l++]=0;return u}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,e,n){"use strict";var r=t("./utils"),i=t("minimalistic-assert");function o(s,a,c){if(!(this instanceof o))return new o(s,a,c);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,c))}e.exports=o,o.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),i(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},o.prototype.update=function(s,a){return this.inner.update(s,a),this},o.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./common"),o=r.rotl32,s=r.sum32,a=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(x,D,L,$){return x<=15?D^L^$:x<=31?D&L|~D&$:x<=47?(D|~L)^$:x<=63?D&$|L&~$:D^(L|~$)}function f(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function p(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}r.inherits(l,u),n.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(x,D){for(var L=this.h[0],$=this.h[1],V=this.h[2],R=this.h[3],N=this.h[4],j=L,O=$,E=V,I=R,A=N,g=0;g<80;g++){var v=s(o(c(L,d(g,$,V,R),x[h[g]+D],f(g)),m[g]),N);L=N,N=R,R=o(V,10),V=$,$=v,v=s(o(c(j,d(79-g,O,E,I),x[y[g]+D],p(g)),_[g]),A),j=A,A=I,I=o(E,10),E=O,O=v}v=a(this.h[1],V,I),this.h[1]=a(this.h[2],R,A),this.h[2]=a(this.h[3],N,j),this.h[3]=a(this.h[4],L,O),this.h[4]=a(this.h[0],$,E),this.h[0]=v},l.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,e,n){"use strict";n.sha1=t("./sha/1"),n.sha224=t("./sha/224"),n.sha256=t("./sha/256"),n.sha384=t("./sha/384"),n.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),o=t("./common"),s=r.rotl32,a=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(p,h){for(var y=this.W,m=0;m<16;m++)y[m]=p[h+m];for(;m<y.length;m++)y[m]=s(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);var _=this.h[0],x=this.h[1],D=this.h[2],L=this.h[3],$=this.h[4];for(m=0;m<y.length;m++){var V=~~(m/20),R=c(s(_,5),u(V,x,D,L),$,y[m],d[V]);$=L,L=D,D=s(x,30),x=_,_=R}this.h[0]=a(this.h[0],_),this.h[1]=a(this.h[1],x),this.h[2]=a(this.h[2],D),this.h[3]=a(this.h[3],L),this.h[4]=a(this.h[4],$)},f.prototype._digest=function(p){return p==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./256");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),o=t("./common"),s=t("minimalistic-assert"),a=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,d=o.maj32,f=o.s0_256,p=o.s1_256,h=o.g0_256,y=o.g1_256,m=i.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}r.inherits(x,m),e.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(D,L){for(var $=this.W,V=0;V<16;V++)$[V]=D[L+V];for(;V<$.length;V++)$[V]=c(y($[V-2]),$[V-7],h($[V-15]),$[V-16]);var R=this.h[0],N=this.h[1],j=this.h[2],O=this.h[3],E=this.h[4],I=this.h[5],A=this.h[6],g=this.h[7];for(s(this.k.length===$.length),V=0;V<$.length;V++){var v=u(g,p(E),l(E,I,A),this.k[V],$[V]),w=a(f(R),d(R,N,j));g=A,A=I,I=E,E=a(O,v),O=j,j=N,N=R,R=a(v,w)}this.h[0]=a(this.h[0],R),this.h[1]=a(this.h[1],N),this.h[2]=a(this.h[2],j),this.h[3]=a(this.h[3],O),this.h[4]=a(this.h[4],E),this.h[5]=a(this.h[5],I),this.h[6]=a(this.h[6],A),this.h[7]=a(this.h[7],g)},x.prototype._digest=function(D){return D==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./512");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),o=t("minimalistic-assert"),s=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,d=r.sum64_hi,f=r.sum64_lo,p=r.sum64_4_hi,h=r.sum64_4_lo,y=r.sum64_5_hi,m=r.sum64_5_lo,_=i.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(){if(!(this instanceof D))return new D;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function L(w,b,C,S,F){var q=w&C^~w&F;return q<0&&(q+=4294967296),q}function $(w,b,C,S,F,q){var z=b&S^~b&q;return z<0&&(z+=4294967296),z}function V(w,b,C,S,F){var q=w&C^w&F^C&F;return q<0&&(q+=4294967296),q}function R(w,b,C,S,F,q){var z=b&S^b&q^S&q;return z<0&&(z+=4294967296),z}function N(w,b){var C=s(w,b,28)^s(b,w,2)^s(b,w,7);return C<0&&(C+=4294967296),C}function j(w,b){var C=a(w,b,28)^a(b,w,2)^a(b,w,7);return C<0&&(C+=4294967296),C}function O(w,b){var C=s(w,b,14)^s(w,b,18)^s(b,w,9);return C<0&&(C+=4294967296),C}function E(w,b){var C=a(w,b,14)^a(w,b,18)^a(b,w,9);return C<0&&(C+=4294967296),C}function I(w,b){var C=s(w,b,1)^s(w,b,8)^c(w,b,7);return C<0&&(C+=4294967296),C}function A(w,b){var C=a(w,b,1)^a(w,b,8)^u(w,b,7);return C<0&&(C+=4294967296),C}function g(w,b){var C=s(w,b,19)^s(b,w,29)^c(w,b,6);return C<0&&(C+=4294967296),C}function v(w,b){var C=a(w,b,19)^a(b,w,29)^u(w,b,6);return C<0&&(C+=4294967296),C}r.inherits(D,_),e.exports=D,D.blockSize=1024,D.outSize=512,D.hmacStrength=192,D.padLength=128,D.prototype._prepareBlock=function(w,b){for(var C=this.W,S=0;S<32;S++)C[S]=w[b+S];for(;S<C.length;S+=2){var F=g(C[S-4],C[S-3]),q=v(C[S-4],C[S-3]),z=C[S-14],Y=C[S-13],P=I(C[S-30],C[S-29]),K=A(C[S-30],C[S-29]),k=C[S-32],M=C[S-31];C[S]=p(F,q,z,Y,P,K,k,M),C[S+1]=h(F,q,z,Y,P,K,k,M)}},D.prototype._update=function(w,b){this._prepareBlock(w,b);var C=this.W,S=this.h[0],F=this.h[1],q=this.h[2],z=this.h[3],Y=this.h[4],P=this.h[5],K=this.h[6],k=this.h[7],M=this.h[8],H=this.h[9],Z=this.h[10],ie=this.h[11],J=this.h[12],ne=this.h[13],de=this.h[14],ue=this.h[15];o(this.k.length===C.length);for(var ee=0;ee<C.length;ee+=2){var le=de,te=ue,ae=O(M,H),he=E(M,H),fe=L(M,H,Z,ie,J),ve=$(M,H,Z,ie,J,ne),Ae=this.k[ee],Re=this.k[ee+1],Oe=C[ee],ut=C[ee+1],He=y(le,te,ae,he,fe,ve,Ae,Re,Oe,ut),Ye=m(le,te,ae,he,fe,ve,Ae,Re,Oe,ut);le=N(S,F),te=j(S,F),ae=V(S,F,q,z,Y),he=R(S,F,q,z,Y,P);var Ht=d(le,te,ae,he),dt=f(le,te,ae,he);de=J,ue=ne,J=Z,ne=ie,Z=M,ie=H,M=d(K,k,He,Ye),H=f(k,k,He,Ye),K=Y,k=P,Y=q,P=z,q=S,z=F,S=d(He,Ye,Ht,dt),F=f(He,Ye,Ht,dt)}l(this.h,0,S,F),l(this.h,2,q,z),l(this.h,4,Y,P),l(this.h,6,K,k),l(this.h,8,M,H),l(this.h,10,Z,ie),l(this.h,12,J,ne),l(this.h,14,de,ue)},D.prototype._digest=function(w){return w==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,e,n){"use strict";var r=t("../utils").rotr32;function i(a,c,u){return a&c^~a&u}function o(a,c,u){return a&c^a&u^c&u}function s(a,c,u){return a^c^u}n.ft_1=function(a,c,u,l){return a===0?i(c,u,l):a===1||a===3?s(c,u,l):a===2?o(c,u,l):void 0},n.ch32=i,n.maj32=o,n.p32=s,n.s0_256=function(a){return r(a,2)^r(a,13)^r(a,22)},n.s1_256=function(a){return r(a,6)^r(a,11)^r(a,25)},n.g0_256=function(a){return r(a,7)^r(a,18)^a>>>3},n.g1_256=function(a){return r(a,17)^r(a,19)^a>>>10}},{"../utils":437}],437:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits");function o(u,l){return(64512&u.charCodeAt(l))==55296&&!(l<0||l+1>=u.length)&&(64512&u.charCodeAt(l+1))==56320}function s(u){return(u>>>24|u>>>8&65280|u<<8&16711680|(255&u)<<24)>>>0}function a(u){return u.length===1?"0"+u:u}function c(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}n.inherits=i,n.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u=="string")if(l){if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),p=0;p<u.length;p+=2)d.push(parseInt(u[p]+u[p+1],16))}else for(var f=0,p=0;p<u.length;p++){var h=u.charCodeAt(p);h<128?d[f++]=h:h<2048?(d[f++]=h>>6|192,d[f++]=63&h|128):o(u,p)?(h=65536+((1023&h)<<10)+(1023&u.charCodeAt(++p)),d[f++]=h>>18|240,d[f++]=h>>12&63|128,d[f++]=h>>6&63|128,d[f++]=63&h|128):(d[f++]=h>>12|224,d[f++]=h>>6&63|128,d[f++]=63&h|128)}else for(p=0;p<u.length;p++)d[p]=0|u[p];return d},n.toHex=function(u){for(var l="",d=0;d<u.length;d++)l+=a(u[d].toString(16));return l},n.htonl=s,n.toHex32=function(u,l){for(var d="",f=0;f<u.length;f++){var p=u[f];l==="little"&&(p=s(p)),d+=c(p.toString(16))}return d},n.zero2=a,n.zero8=c,n.join32=function(u,l,d,f){var p=d-l;r(p%4==0);for(var h=new Array(p/4),y=0,m=l;y<h.length;y++,m+=4){var _;_=f==="big"?u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3]:u[m+3]<<24|u[m+2]<<16|u[m+1]<<8|u[m],h[y]=_>>>0}return h},n.split32=function(u,l){for(var d=new Array(4*u.length),f=0,p=0;f<u.length;f++,p+=4){var h=u[f];l==="big"?(d[p]=h>>>24,d[p+1]=h>>>16&255,d[p+2]=h>>>8&255,d[p+3]=255&h):(d[p+3]=h>>>24,d[p+2]=h>>>16&255,d[p+1]=h>>>8&255,d[p]=255&h)}return d},n.rotr32=function(u,l){return u>>>l|u<<32-l},n.rotl32=function(u,l){return u<<l|u>>>32-l},n.sum32=function(u,l){return u+l>>>0},n.sum32_3=function(u,l,d){return u+l+d>>>0},n.sum32_4=function(u,l,d,f){return u+l+d+f>>>0},n.sum32_5=function(u,l,d,f,p){return u+l+d+f+p>>>0},n.sum64=function(u,l,d,f){var p=u[l],h=f+u[l+1]>>>0,y=(h<f?1:0)+d+p;u[l]=y>>>0,u[l+1]=h},n.sum64_hi=function(u,l,d,f){return(l+f>>>0<l?1:0)+u+d>>>0},n.sum64_lo=function(u,l,d,f){return l+f>>>0},n.sum64_4_hi=function(u,l,d,f,p,h,y,m){var _=0,x=l;return _+=(x=x+f>>>0)<l?1:0,_+=(x=x+h>>>0)<h?1:0,u+d+p+y+(_+=(x=x+m>>>0)<m?1:0)>>>0},n.sum64_4_lo=function(u,l,d,f,p,h,y,m){return l+f+h+m>>>0},n.sum64_5_hi=function(u,l,d,f,p,h,y,m,_,x){var D=0,L=l;return D+=(L=L+f>>>0)<l?1:0,D+=(L=L+h>>>0)<h?1:0,D+=(L=L+m>>>0)<m?1:0,u+d+p+y+_+(D+=(L=L+x>>>0)<x?1:0)>>>0},n.sum64_5_lo=function(u,l,d,f,p,h,y,m,_,x){return l+f+h+m+x>>>0},n.rotr64_hi=function(u,l,d){return(l<<32-d|u>>>d)>>>0},n.rotr64_lo=function(u,l,d){return(u<<32-d|l>>>d)>>>0},n.shr64_hi=function(u,l,d){return u>>>d},n.shr64_lo=function(u,l,d){return(u<<32-d|l>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,e,n){"use strict";var r=t("hash.js"),i=t("minimalistic-crypto-utils"),o=t("minimalistic-assert");function s(a){if(!(this instanceof s))return new s(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=i.toArray(a.entropy,a.entropyEnc||"hex"),u=i.toArray(a.nonce,a.nonceEnc||"hex"),l=i.toArray(a.pers,a.persEnc||"hex");o(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,u,l)}e.exports=s,s.prototype._init=function(a,c,u){var l=a.concat(c).concat(u);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(a){var c=this._hmac().update(this.V).update([0]);a&&(c=c.update(a)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(a,c,u,l){typeof c!="string"&&(l=u,u=c,c=null),a=i.toArray(a,c),u=i.toArray(u,l),o(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(u||[])),this._reseed=1},s.prototype.generate=function(a,c,u,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(l=u,u=c,c=null),u&&(u=i.toArray(u,l||"hex"),this._update(u));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var f=d.slice(0,a);return this._update(u),this._reseed++,i.encode(f,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,e,n){"use strict";n.read=function(r,i,o,s,a){var c,u,l=8*a-s-1,d=(1<<l)-1,f=d>>1,p=-7,h=o?a-1:0,y=o?-1:1,m=r[i+h];for(h+=y,c=m&(1<<-p)-1,m>>=-p,p+=l;p>0;c=256*c+r[i+h],h+=y,p-=8);for(u=c&(1<<-p)-1,c>>=-p,p+=s;p>0;u=256*u+r[i+h],h+=y,p-=8);if(c===0)c=1-f;else{if(c===d)return u?NaN:1/0*(m?-1:1);u+=Math.pow(2,s),c-=f}return(m?-1:1)*u*Math.pow(2,c-s)},n.write=function(r,i,o,s,a,c){var u,l,d,f=8*c-a-1,p=(1<<f)-1,h=p>>1,y=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=s?0:c-1,_=s?1:-1,x=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(l=isNaN(i)?1:0,u=p):(u=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-u))<1&&(u--,d*=2),(i+=u+h>=1?y/d:y*Math.pow(2,1-h))*d>=2&&(u++,d/=2),u+h>=p?(l=0,u=p):u+h>=1?(l=(i*d-1)*Math.pow(2,a),u+=h):(l=i*Math.pow(2,h-1)*Math.pow(2,a),u=0));a>=8;r[o+m]=255&l,m+=_,l/=256,a-=8);for(u=u<<a|l,f+=a;f>0;r[o+m]=255&u,m+=_,u/=256,f-=8);r[o+m-_]|=128*x}},{}],440:[function(t,e,n){"use strict";typeof Object.create=="function"?e.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,i){if(i){r.super_=i;var o=function(){};o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}}},{}],441:[function(t,e,n){(function(r,i,o,s,a,c,u,l){(function(){"use strict";(function(d){typeof n=="object"&&e!==void 0?e.exports=d():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=d()})(function(){return(function d(f,p,h){function y(x,D){if(!p[x]){if(!f[x]){var L=typeof t=="function"&&t;if(!D&&L)return L(x,!0);if(m)return m(x,!0);var $=new Error("Cannot find module '"+x+"'");throw $.code="MODULE_NOT_FOUND",$}var V=p[x]={exports:{}};f[x][0].call(V.exports,function(R){return y(f[x][1][R]||R)},V,V.exports,d,f,p,h)}return p[x].exports}for(var m=typeof t=="function"&&t,_=0;_<h.length;_++)y(h[_]);return y})({1:[function(d,f,p){var h=d("./utils"),y=d("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";p.encode=function(_){for(var x,D,L,$,V,R,N,j=[],O=0,E=_.length,I=E,A=h.getTypeOf(_)!=="string";O<_.length;)I=E-O,L=A?(x=_[O++],D=O<E?_[O++]:0,O<E?_[O++]:0):(x=_.charCodeAt(O++),D=O<E?_.charCodeAt(O++):0,O<E?_.charCodeAt(O++):0),$=x>>2,V=(3&x)<<4|D>>4,R=1<I?(15&D)<<2|L>>6:64,N=2<I?63&L:64,j.push(m.charAt($)+m.charAt(V)+m.charAt(R)+m.charAt(N));return j.join("")},p.decode=function(_){var x,D,L,$,V,R,N=0,j=0,O="data:";if(_.substr(0,O.length)===O)throw new Error("Invalid base64 input, it looks like a data url.");var E,I=3*(_=_.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(_.charAt(_.length-1)===m.charAt(64)&&I--,_.charAt(_.length-2)===m.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=y.uint8array?new Uint8Array(0|I):new Array(0|I);N<_.length;)x=m.indexOf(_.charAt(N++))<<2|($=m.indexOf(_.charAt(N++)))>>4,D=(15&$)<<4|(V=m.indexOf(_.charAt(N++)))>>2,L=(3&V)<<6|(R=m.indexOf(_.charAt(N++))),E[j++]=x,V!==64&&(E[j++]=D),R!==64&&(E[j++]=L);return E}},{"./support":30,"./utils":32}],2:[function(d,f,p){var h=d("./external"),y=d("./stream/DataWorker"),m=d("./stream/Crc32Probe"),_=d("./stream/DataLengthProbe");function x(D,L,$,V,R){this.compressedSize=D,this.uncompressedSize=L,this.crc32=$,this.compression=V,this.compressedContent=R}x.prototype={getContentWorker:function(){var D=new y(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _("data_length")),L=this;return D.on("end",function(){if(this.streamInfo.data_length!==L.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),D},getCompressedWorker:function(){return new y(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(D,L,$){return D.pipe(new m).pipe(new _("uncompressedSize")).pipe(L.compressWorker($)).pipe(new _("compressedSize")).withStreamInfo("compression",L)},f.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,f,p){var h=d("./stream/GenericWorker");p.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},p.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,f,p){var h=d("./utils"),y=(function(){for(var m,_=[],x=0;x<256;x++){m=x;for(var D=0;D<8;D++)m=1&m?3988292384^m>>>1:m>>>1;_[x]=m}return _})();f.exports=function(m,_){return m!==void 0&&m.length?h.getTypeOf(m)!=="string"?(function(x,D,L,$){var V=y,R=0+L;x^=-1;for(var N=0;N<R;N++)x=x>>>8^V[255&(x^D[N])];return-1^x})(0|_,m,m.length):(function(x,D,L,$){var V=y,R=0+L;x^=-1;for(var N=0;N<R;N++)x=x>>>8^V[255&(x^D.charCodeAt(N))];return-1^x})(0|_,m,m.length):0}},{"./utils":32}],5:[function(d,f,p){p.base64=!1,p.binary=!1,p.dir=!1,p.createFolders=!0,p.date=null,p.compression=null,p.compressionOptions=null,p.comment=null,p.unixPermissions=null,p.dosPermissions=null},{}],6:[function(d,f,p){var h;h=typeof Promise<"u"?Promise:d("lie"),f.exports={Promise:h}},{lie:37}],7:[function(d,f,p){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=d("pako"),m=d("./utils"),_=d("./stream/GenericWorker"),x=h?"uint8array":"array";function D(L,$){_.call(this,"FlateWorker/"+L),this._pako=null,this._pakoAction=L,this._pakoOptions=$,this.meta={}}p.magic="\b\0",m.inherits(D,_),D.prototype.processChunk=function(L){this.meta=L.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(x,L.data),!1)},D.prototype.flush=function(){_.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var L=this;this._pako.onData=function($){L.push({data:$,meta:L.meta})}},p.compressWorker=function(L){return new D("Deflate",L)},p.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,f,p){function h(V,R){var N,j="";for(N=0;N<R;N++)j+=String.fromCharCode(255&V),V>>>=8;return j}function y(V,R,N,j,O,E){var I,A,g=V.file,v=V.compression,w=E!==x.utf8encode,b=m.transformTo("string",E(g.name)),C=m.transformTo("string",x.utf8encode(g.name)),S=g.comment,F=m.transformTo("string",E(S)),q=m.transformTo("string",x.utf8encode(S)),z=C.length!==g.name.length,Y=q.length!==S.length,P="",K="",k="",M=g.dir,H=g.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};R&&!N||(Z.crc32=V.crc32,Z.compressedSize=V.compressedSize,Z.uncompressedSize=V.uncompressedSize);var ie=0;R&&(ie|=8),w||!z&&!Y||(ie|=2048);var J=0,ne=0;M&&(J|=16),O==="UNIX"?(ne=798,J|=(function(ue,ee){var le=ue;return ue||(le=ee?16893:33204),(65535&le)<<16})(g.unixPermissions,M)):(ne=20,J|=(function(ue){return 63&(ue||0)})(g.dosPermissions)),I=H.getUTCHours(),I<<=6,I|=H.getUTCMinutes(),I<<=5,I|=H.getUTCSeconds()/2,A=H.getUTCFullYear()-1980,A<<=4,A|=H.getUTCMonth()+1,A<<=5,A|=H.getUTCDate(),z&&(K=h(1,1)+h(D(b),4)+C,P+="up"+h(K.length,2)+K),Y&&(k=h(1,1)+h(D(F),4)+q,P+="uc"+h(k.length,2)+k);var de="";return de+=`
\0`,de+=h(ie,2),de+=v.magic,de+=h(I,2),de+=h(A,2),de+=h(Z.crc32,4),de+=h(Z.compressedSize,4),de+=h(Z.uncompressedSize,4),de+=h(b.length,2),de+=h(P.length,2),{fileRecord:L.LOCAL_FILE_HEADER+de+b+P,dirRecord:L.CENTRAL_FILE_HEADER+h(ne,2)+de+h(F.length,2)+"\0\0\0\0"+h(J,4)+h(j,4)+b+P+F}}var m=d("../utils"),_=d("../stream/GenericWorker"),x=d("../utf8"),D=d("../crc32"),L=d("../signature");function $(V,R,N,j){_.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=N,this.encodeFileName=j,this.streamFiles=V,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits($,_),$.prototype.push=function(V){var R=V.meta.percent||0,N=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(V):(this.bytesWritten+=V.data.length,_.prototype.push.call(this,{data:V.data,meta:{currentFile:this.currentFile,percent:N?(R+100*(N-j-1))/N:100}}))},$.prototype.openedSource=function(V){this.currentSourceOffset=this.bytesWritten,this.currentFile=V.file.name;var R=this.streamFiles&&!V.file.dir;if(R){var N=y(V,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},$.prototype.closedSource=function(V){this.accumulate=!1;var R=this.streamFiles&&!V.file.dir,N=y(V,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),R)this.push({data:(function(j){return L.DATA_DESCRIPTOR+h(j.crc32,4)+h(j.compressedSize,4)+h(j.uncompressedSize,4)})(V),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},$.prototype.flush=function(){for(var V=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var N=this.bytesWritten-V,j=(function(O,E,I,A,g){var v=m.transformTo("string",g(A));return L.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(O,2)+h(O,2)+h(E,4)+h(I,4)+h(v.length,2)+v})(this.dirRecords.length,N,V,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},$.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},$.prototype.registerPrevious=function(V){this._sources.push(V);var R=this;return V.on("data",function(N){R.processChunk(N)}),V.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),V.on("error",function(N){R.error(N)}),this},$.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},$.prototype.error=function(V){var R=this._sources;if(!_.prototype.error.call(this,V))return!1;for(var N=0;N<R.length;N++)try{R[N].error(V)}catch{}return!0},$.prototype.lock=function(){_.prototype.lock.call(this);for(var V=this._sources,R=0;R<V.length;R++)V[R].lock()},f.exports=$},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,f,p){var h=d("../compressions"),y=d("./ZipFileWorker");p.generateWorker=function(m,_,x){var D=new y(_.streamFiles,x,_.platform,_.encodeFileName),L=0;try{m.forEach(function($,V){L++;var R=(function(E,I){var A=E||I,g=h[A];if(!g)throw new Error(A+" is not a valid compression method !");return g})(V.options.compression,_.compression),N=V.options.compressionOptions||_.compressionOptions||{},j=V.dir,O=V.date;V._compressWorker(R,N).withStreamInfo("file",{name:$,dir:j,date:O,comment:V.comment||"",unixPermissions:V.unixPermissions,dosPermissions:V.dosPermissions}).pipe(D)}),D.entriesCount=L}catch($){D.error($)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,f,p){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new h;for(var m in this)typeof this[m]!="function"&&(y[m]=this[m]);return y}}(h.prototype=d("./object")).loadAsync=d("./load"),h.support=d("./support"),h.defaults=d("./defaults"),h.version="3.10.1",h.loadAsync=function(y,m){return new h().loadAsync(y,m)},h.external=d("./external"),f.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,f,p){var h=d("./utils"),y=d("./external"),m=d("./utf8"),_=d("./zipEntries"),x=d("./stream/Crc32Probe"),D=d("./nodejsUtils");function L($){return new y.Promise(function(V,R){var N=$.decompressed.getContentWorker().pipe(new x);N.on("error",function(j){R(j)}).on("end",function(){N.streamInfo.crc32!==$.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):V()}).resume()})}f.exports=function($,V){var R=this;return V=h.extend(V||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),D.isNode&&D.isStream($)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",$,!0,V.optimizedBinaryString,V.base64).then(function(N){var j=new _(V);return j.load(N),j}).then(function(N){var j=[y.Promise.resolve(N)],O=N.files;if(V.checkCRC32)for(var E=0;E<O.length;E++)j.push(L(O[E]));return y.Promise.all(j)}).then(function(N){for(var j=N.shift(),O=j.files,E=0;E<O.length;E++){var I=O[E],A=I.fileNameStr,g=h.resolve(I.fileNameStr);R.file(g,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:V.createFolders}),I.dir||(R.file(g).unsafeOriginalName=A)}return j.zipComment.length&&(R.comment=j.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,f,p){var h=d("../utils"),y=d("../stream/GenericWorker");function m(_,x){y.call(this,"Nodejs stream input adapter for "+_),this._upstreamEnded=!1,this._bindStream(x)}h.inherits(m,y),m.prototype._bindStream=function(_){var x=this;(this._stream=_).pause(),_.on("data",function(D){x.push({data:D,meta:{percent:0}})}).on("error",function(D){x.isPaused?this.generatedError=D:x.error(D)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},m.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,f,p){var h=d("readable-stream").Readable;function y(m,_,x){h.call(this,_),this._helper=m;var D=this;m.on("data",function(L,$){D.push(L)||D._helper.pause(),x&&x($)}).on("error",function(L){D.emit("error",L)}).on("end",function(){D.push(null)})}d("../utils").inherits(y,h),y.prototype._read=function(){this._helper.resume()},f.exports=y},{"../utils":32,"readable-stream":16}],14:[function(d,f,p){f.exports={isNode:o!==void 0,newBufferFrom:function(h,y){if(o.from&&o.from!==Uint8Array.from)return o.from(h,y);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new o(h,y)},allocBuffer:function(h){if(o.alloc)return o.alloc(h);var y=new o(h);return y.fill(0),y},isBuffer:function(h){return o.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(d,f,p){function h(g,v,w){var b,C=m.getTypeOf(v),S=m.extend(w||{},D);S.date=S.date||new Date,S.compression!==null&&(S.compression=S.compression.toUpperCase()),typeof S.unixPermissions=="string"&&(S.unixPermissions=parseInt(S.unixPermissions,8)),S.unixPermissions&&16384&S.unixPermissions&&(S.dir=!0),S.dosPermissions&&16&S.dosPermissions&&(S.dir=!0),S.dir&&(g=O(g)),S.createFolders&&(b=j(g))&&E.call(this,b,!0);var F=C==="string"&&S.binary===!1&&S.base64===!1;w&&w.binary!==void 0||(S.binary=!F),(v instanceof L&&v.uncompressedSize===0||S.dir||!v||v.length===0)&&(S.base64=!1,S.binary=!0,v="",S.compression="STORE",C="string");var q;q=v instanceof L||v instanceof _?v:R.isNode&&R.isStream(v)?new N(g,v):m.prepareContent(g,v,S.binary,S.optimizedBinaryString,S.base64);var z=new $(g,q,S);this.files[g]=z}var y=d("./utf8"),m=d("./utils"),_=d("./stream/GenericWorker"),x=d("./stream/StreamHelper"),D=d("./defaults"),L=d("./compressedObject"),$=d("./zipObject"),V=d("./generate"),R=d("./nodejsUtils"),N=d("./nodejs/NodejsStreamInputAdapter"),j=function(g){g.slice(-1)==="/"&&(g=g.substring(0,g.length-1));var v=g.lastIndexOf("/");return 0<v?g.substring(0,v):""},O=function(g){return g.slice(-1)!=="/"&&(g+="/"),g},E=function(g,v){return v=v!==void 0?v:D.createFolders,g=O(g),this.files[g]||h.call(this,g,null,{dir:!0,createFolders:v}),this.files[g]};function I(g){return Object.prototype.toString.call(g)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(g){var v,w,b;for(v in this.files)b=this.files[v],(w=v.slice(this.root.length,v.length))&&v.slice(0,this.root.length)===this.root&&g(w,b)},filter:function(g){var v=[];return this.forEach(function(w,b){g(w,b)&&v.push(b)}),v},file:function(g,v,w){if(arguments.length!==1)return g=this.root+g,h.call(this,g,v,w),this;if(I(g)){var b=g;return this.filter(function(S,F){return!F.dir&&b.test(S)})}var C=this.files[this.root+g];return C&&!C.dir?C:null},folder:function(g){if(!g)return this;if(I(g))return this.filter(function(C,S){return S.dir&&g.test(C)});var v=this.root+g,w=E.call(this,v),b=this.clone();return b.root=w.name,b},remove:function(g){g=this.root+g;var v=this.files[g];if(v||(g.slice(-1)!=="/"&&(g+="/"),v=this.files[g]),v&&!v.dir)delete this.files[g];else for(var w=this.filter(function(C,S){return S.name.slice(0,g.length)===g}),b=0;b<w.length;b++)delete this.files[w[b].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(g){var v,w={};try{if((w=m.extend(g||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");m.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var b=w.comment||this.comment||"";v=V.generateWorker(this,w,b)}catch(C){(v=new _("error")).error(C)}return new x(v,w.type||"string",w.mimeType)},generateAsync:function(g,v){return this.generateInternalStream(g).accumulate(v)},generateNodeStream:function(g,v){return(g=g||{}).type||(g.type="nodebuffer"),this.generateInternalStream(g).toNodejsStream(v)}};f.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,f,p){f.exports=d("stream")},{stream:void 0}],17:[function(d,f,p){var h=d("./DataReader");function y(m){h.call(this,m);for(var _=0;_<this.data.length;_++)m[_]=255&m[_]}d("../utils").inherits(y,h),y.prototype.byteAt=function(m){return this.data[this.zero+m]},y.prototype.lastIndexOfSignature=function(m){for(var _=m.charCodeAt(0),x=m.charCodeAt(1),D=m.charCodeAt(2),L=m.charCodeAt(3),$=this.length-4;0<=$;--$)if(this.data[$]===_&&this.data[$+1]===x&&this.data[$+2]===D&&this.data[$+3]===L)return $-this.zero;return-1},y.prototype.readAndCheckSignature=function(m){var _=m.charCodeAt(0),x=m.charCodeAt(1),D=m.charCodeAt(2),L=m.charCodeAt(3),$=this.readData(4);return _===$[0]&&x===$[1]&&D===$[2]&&L===$[3]},y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var _=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},f.exports=y},{"../utils":32,"./DataReader":18}],18:[function(d,f,p){var h=d("../utils");function y(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var _,x=0;for(this.checkOffset(m),_=this.index+m-1;_>=this.index;_--)x=(x<<8)+this.byteAt(_);return this.index+=m,x},readString:function(m){return h.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},f.exports=y},{"../utils":32}],19:[function(d,f,p){var h=d("./Uint8ArrayReader");function y(m){h.call(this,m)}d("../utils").inherits(y,h),y.prototype.readData=function(m){this.checkOffset(m);var _=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},f.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,f,p){var h=d("./DataReader");function y(m){h.call(this,m)}d("../utils").inherits(y,h),y.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},y.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},y.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},y.prototype.readData=function(m){this.checkOffset(m);var _=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},f.exports=y},{"../utils":32,"./DataReader":18}],21:[function(d,f,p){var h=d("./ArrayReader");function y(m){h.call(this,m)}d("../utils").inherits(y,h),y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var _=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},f.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(d,f,p){var h=d("../utils"),y=d("../support"),m=d("./ArrayReader"),_=d("./StringReader"),x=d("./NodeBufferReader"),D=d("./Uint8ArrayReader");f.exports=function(L){var $=h.getTypeOf(L);return h.checkSupport($),$!=="string"||y.uint8array?$==="nodebuffer"?new x(L):y.uint8array?new D(h.transformTo("uint8array",L)):new m(h.transformTo("array",L)):new _(L)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,f,p){p.LOCAL_FILE_HEADER="PK",p.CENTRAL_FILE_HEADER="PK",p.CENTRAL_DIRECTORY_END="PK",p.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",p.ZIP64_CENTRAL_DIRECTORY_END="PK",p.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,f,p){var h=d("./GenericWorker"),y=d("../utils");function m(_){h.call(this,"ConvertWorker to "+_),this.destType=_}y.inherits(m,h),m.prototype.processChunk=function(_){this.push({data:y.transformTo(this.destType,_.data),meta:_.meta})},f.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(d,f,p){var h=d("./GenericWorker"),y=d("../crc32");function m(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(m,h),m.prototype.processChunk=function(_){this.streamInfo.crc32=y(_.data,this.streamInfo.crc32||0),this.push(_)},f.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,f,p){var h=d("../utils"),y=d("./GenericWorker");function m(_){y.call(this,"DataLengthProbe for "+_),this.propName=_,this.withStreamInfo(_,0)}h.inherits(m,y),m.prototype.processChunk=function(_){if(_){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+_.data.length}y.prototype.processChunk.call(this,_)},f.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(d,f,p){var h=d("../utils"),y=d("./GenericWorker");function m(_){y.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,_.then(function(D){x.dataIsReady=!0,x.data=D,x.max=D&&D.length||0,x.type=h.getTypeOf(D),x.isPaused||x._tickAndRepeat()},function(D){x.error(D)})}h.inherits(m,y),m.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var _=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":_=this.data.substring(this.index,x);break;case"uint8array":_=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":_=this.data.slice(this.index,x)}return this.index=x,this.push({data:_,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(d,f,p){function h(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,m){return this._listeners[y].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,m){if(this._listeners[y])for(var _=0;_<this._listeners[y].length;_++)this._listeners[y][_].call(this,m)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var m=this;return y.on("data",function(_){m.processChunk(_)}),y.on("end",function(){m.end()}),y.on("error",function(_){m.error(_)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,m){return this.extraStreamInfo[y]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},f.exports=h},{}],29:[function(d,f,p){var h=d("../utils"),y=d("./ConvertWorker"),m=d("./GenericWorker"),_=d("../base64"),x=d("../support"),D=d("../external"),L=null;if(x.nodestream)try{L=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function $(V,R,N){var j=R;switch(R){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=R,this._mimeType=N,h.checkSupport(j),this._worker=V.pipe(new y(j)),V.lock()}catch(O){this._worker=new m("error"),this._worker.error(O)}}$.prototype={accumulate:function(V){return(function(R,N){return new D.Promise(function(j,O){var E=[],I=R._internalType,A=R._outputType,g=R._mimeType;R.on("data",function(v,w){E.push(v),N&&N(w)}).on("error",function(v){E=[],O(v)}).on("end",function(){try{var v=(function(w,b,C){switch(w){case"blob":return h.newBlob(h.transformTo("arraybuffer",b),C);case"base64":return _.encode(b);default:return h.transformTo(w,b)}})(A,(function(w,b){var C,S=0,F=null,q=0;for(C=0;C<b.length;C++)q+=b[C].length;switch(w){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(F=new Uint8Array(q),C=0;C<b.length;C++)F.set(b[C],S),S+=b[C].length;return F;case"nodebuffer":return o.concat(b);default:throw new Error("concat : unsupported type '"+w+"'")}})(I,E),g);j(v)}catch(w){O(w)}E=[]}).resume()})})(this,V)},on:function(V,R){var N=this;return V==="data"?this._worker.on(V,function(j){R.call(N,j.data,j.meta)}):this._worker.on(V,function(){h.delay(R,arguments,N)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new L(this,{objectMode:this._outputType!=="nodebuffer"},V)}},f.exports=$},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,f,p){if(p.base64=!0,p.array=!0,p.string=!0,p.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",p.nodebuffer=o!==void 0,p.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")p.blob=!1;else{var h=new ArrayBuffer(0);try{p.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(h),p.blob=y.getBlob("application/zip").size===0}catch{p.blob=!1}}}try{p.nodestream=!!d("readable-stream").Readable}catch{p.nodestream=!1}},{"readable-stream":16}],31:[function(d,f,p){for(var h=d("./utils"),y=d("./support"),m=d("./nodejsUtils"),_=d("./stream/GenericWorker"),x=new Array(256),D=0;D<256;D++)x[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;function L(){_.call(this,"utf-8 decode"),this.leftOver=null}function $(){_.call(this,"utf-8 encode")}x[254]=x[254]=1,p.utf8encode=function(V){return y.nodebuffer?m.newBufferFrom(V,"utf-8"):(function(R){var N,j,O,E,I,A=R.length,g=0;for(E=0;E<A;E++)(64512&(j=R.charCodeAt(E)))==55296&&E+1<A&&(64512&(O=R.charCodeAt(E+1)))==56320&&(j=65536+(j-55296<<10)+(O-56320),E++),g+=j<128?1:j<2048?2:j<65536?3:4;for(N=y.uint8array?new Uint8Array(g):new Array(g),E=I=0;I<g;E++)(64512&(j=R.charCodeAt(E)))==55296&&E+1<A&&(64512&(O=R.charCodeAt(E+1)))==56320&&(j=65536+(j-55296<<10)+(O-56320),E++),j<128?N[I++]=j:(j<2048?N[I++]=192|j>>>6:(j<65536?N[I++]=224|j>>>12:(N[I++]=240|j>>>18,N[I++]=128|j>>>12&63),N[I++]=128|j>>>6&63),N[I++]=128|63&j);return N})(V)},p.utf8decode=function(V){return y.nodebuffer?h.transformTo("nodebuffer",V).toString("utf-8"):(function(R){var N,j,O,E,I=R.length,A=new Array(2*I);for(N=j=0;N<I;)if((O=R[N++])<128)A[j++]=O;else if(4<(E=x[O]))A[j++]=65533,N+=E-1;else{for(O&=E===2?31:E===3?15:7;1<E&&N<I;)O=O<<6|63&R[N++],E--;1<E?A[j++]=65533:O<65536?A[j++]=O:(O-=65536,A[j++]=55296|O>>10&1023,A[j++]=56320|1023&O)}return A.length!==j&&(A.subarray?A=A.subarray(0,j):A.length=j),h.applyFromCharCode(A)})(V=h.transformTo(y.uint8array?"uint8array":"array",V))},h.inherits(L,_),L.prototype.processChunk=function(V){var R=h.transformTo(y.uint8array?"uint8array":"array",V.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var N=R;(R=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),R.set(N,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var j=(function(E,I){var A;for((I=I||E.length)>E.length&&(I=E.length),A=I-1;0<=A&&(192&E[A])==128;)A--;return A<0||A===0?I:A+x[E[A]]>I?A:I})(R),O=R;j!==R.length&&(y.uint8array?(O=R.subarray(0,j),this.leftOver=R.subarray(j,R.length)):(O=R.slice(0,j),this.leftOver=R.slice(j,R.length))),this.push({data:p.utf8decode(O),meta:V.meta})},L.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:p.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},p.Utf8DecodeWorker=L,h.inherits($,_),$.prototype.processChunk=function(V){this.push({data:p.utf8encode(V.data),meta:V.meta})},p.Utf8EncodeWorker=$},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,f,p){var h=d("./support"),y=d("./base64"),m=d("./nodejsUtils"),_=d("./external");function x(N){return N}function D(N,j){for(var O=0;O<N.length;++O)j[O]=255&N.charCodeAt(O);return j}d("setimmediate"),p.newBlob=function(N,j){p.checkSupport("blob");try{return new Blob([N],{type:j})}catch{try{var O=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return O.append(N),O.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var L={stringifyByChunk:function(N,j,O){var E=[],I=0,A=N.length;if(A<=O)return String.fromCharCode.apply(null,N);for(;I<A;)j==="array"||j==="nodebuffer"?E.push(String.fromCharCode.apply(null,N.slice(I,Math.min(I+O,A)))):E.push(String.fromCharCode.apply(null,N.subarray(I,Math.min(I+O,A)))),I+=O;return E.join("")},stringifyByChar:function(N){for(var j="",O=0;O<N.length;O++)j+=String.fromCharCode(N[O]);return j},applyCanBeUsed:{uint8array:(function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}})()}};function $(N){var j=65536,O=p.getTypeOf(N),E=!0;if(O==="uint8array"?E=L.applyCanBeUsed.uint8array:O==="nodebuffer"&&(E=L.applyCanBeUsed.nodebuffer),E)for(;1<j;)try{return L.stringifyByChunk(N,O,j)}catch{j=Math.floor(j/2)}return L.stringifyByChar(N)}function V(N,j){for(var O=0;O<N.length;O++)j[O]=N[O];return j}p.applyFromCharCode=$;var R={};R.string={string:x,array:function(N){return D(N,new Array(N.length))},arraybuffer:function(N){return R.string.uint8array(N).buffer},uint8array:function(N){return D(N,new Uint8Array(N.length))},nodebuffer:function(N){return D(N,m.allocBuffer(N.length))}},R.array={string:$,array:x,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return m.newBufferFrom(N)}},R.arraybuffer={string:function(N){return $(new Uint8Array(N))},array:function(N){return V(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:x,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return m.newBufferFrom(new Uint8Array(N))}},R.uint8array={string:$,array:function(N){return V(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:x,nodebuffer:function(N){return m.newBufferFrom(N)}},R.nodebuffer={string:$,array:function(N){return V(N,new Array(N.length))},arraybuffer:function(N){return R.nodebuffer.uint8array(N).buffer},uint8array:function(N){return V(N,new Uint8Array(N.length))},nodebuffer:x},p.transformTo=function(N,j){if(j=j||"",!N)return j;p.checkSupport(N);var O=p.getTypeOf(j);return R[O][N](j)},p.resolve=function(N){for(var j=N.split("/"),O=[],E=0;E<j.length;E++){var I=j[E];I==="."||I===""&&E!==0&&E!==j.length-1||(I===".."?O.pop():O.push(I))}return O.join("/")},p.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":h.nodebuffer&&m.isBuffer(N)?"nodebuffer":h.uint8array&&N instanceof Uint8Array?"uint8array":h.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},p.checkSupport=function(N){if(!h[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},p.MAX_VALUE_16BITS=65535,p.MAX_VALUE_32BITS=-1,p.pretty=function(N){var j,O,E="";for(O=0;O<(N||"").length;O++)E+="\\x"+((j=N.charCodeAt(O))<16?"0":"")+j.toString(16).toUpperCase();return E},p.delay=function(N,j,O){l(function(){N.apply(O||null,j||[])})},p.inherits=function(N,j){function O(){}O.prototype=j.prototype,N.prototype=new O},p.extend=function(){var N,j,O={};for(N=0;N<arguments.length;N++)for(j in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],j)&&O[j]===void 0&&(O[j]=arguments[N][j]);return O},p.prepareContent=function(N,j,O,E,I){return _.Promise.resolve(j).then(function(A){return h.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new _.Promise(function(g,v){var w=new FileReader;w.onload=function(b){g(b.target.result)},w.onerror=function(b){v(b.target.error)},w.readAsArrayBuffer(A)}):A}).then(function(A){var g=p.getTypeOf(A);return g?(g==="arraybuffer"?A=p.transformTo("uint8array",A):g==="string"&&(I?A=y.decode(A):O&&E!==!0&&(A=(function(v){return D(v,h.uint8array?new Uint8Array(v.length):new Array(v.length))})(A))),A):_.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,f,p){var h=d("./reader/readerFor"),y=d("./utils"),m=d("./signature"),_=d("./zipEntry"),x=d("./support");function D(L){this.files=[],this.loadOptions=L}D.prototype={checkSignature:function(L){if(!this.reader.readAndCheckSignature(L)){this.reader.index-=4;var $=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty($)+", expected "+y.pretty(L)+")")}},isSignature:function(L,$){var V=this.reader.index;this.reader.setIndex(L);var R=this.reader.readString(4)===$;return this.reader.setIndex(V),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var L=this.reader.readData(this.zipCommentLength),$=x.uint8array?"uint8array":"array",V=y.transformTo($,L);this.zipComment=this.loadOptions.decodeFileName(V)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var L,$,V,R=this.zip64EndOfCentralSize-44;0<R;)L=this.reader.readInt(2),$=this.reader.readInt(4),V=this.reader.readData($),this.zip64ExtensibleData[L]={id:L,length:$,value:V}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var L,$;for(L=0;L<this.files.length;L++)$=this.files[L],this.reader.setIndex($.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),$.readLocalPart(this.reader),$.handleUTF8(),$.processAttributes()},readCentralDir:function(){var L;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(L=new _({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(L);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var L=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(L<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(L);var $=L;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(L=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(L),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var V=this.centralDirOffset+this.centralDirSize;this.zip64&&(V+=20,V+=12+this.zip64EndOfCentralSize);var R=$-V;if(0<R)this.isSignature($,m.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(L){this.reader=h(L)},load:function(L){this.prepareReader(L),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,f,p){var h=d("./reader/readerFor"),y=d("./utils"),m=d("./compressedObject"),_=d("./crc32"),x=d("./utf8"),D=d("./compressions"),L=d("./support");function $(V,R){this.options=V,this.loadOptions=R}$.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(V){var R,N;if(V.skip(22),this.fileNameLength=V.readInt(2),N=V.readInt(2),this.fileName=V.readData(this.fileNameLength),V.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(j){for(var O in D)if(Object.prototype.hasOwnProperty.call(D,O)&&D[O].magic===j)return D[O];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,R,V.readData(this.compressedSize))},readCentralPart:function(V){this.versionMadeBy=V.readInt(2),V.skip(2),this.bitFlag=V.readInt(2),this.compressionMethod=V.readString(2),this.date=V.readDate(),this.crc32=V.readInt(4),this.compressedSize=V.readInt(4),this.uncompressedSize=V.readInt(4);var R=V.readInt(2);if(this.extraFieldsLength=V.readInt(2),this.fileCommentLength=V.readInt(2),this.diskNumberStart=V.readInt(2),this.internalFileAttributes=V.readInt(2),this.externalFileAttributes=V.readInt(4),this.localHeaderOffset=V.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");V.skip(R),this.readExtraFields(V),this.parseZIP64ExtraField(V),this.fileComment=V.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var V=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),V==0&&(this.dosPermissions=63&this.externalFileAttributes),V==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var V=h(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=V.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=V.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=V.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=V.readInt(4))}},readExtraFields:function(V){var R,N,j,O=V.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});V.index+4<O;)R=V.readInt(2),N=V.readInt(2),j=V.readData(N),this.extraFields[R]={id:R,length:N,value:j};V.setIndex(O)},handleUTF8:function(){var V=L.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var N=y.transformTo(V,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var O=y.transformTo(V,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(O)}}},findExtraFieldUnicodePath:function(){var V=this.extraFields[28789];if(V){var R=h(V.value);return R.readInt(1)!==1||_(this.fileName)!==R.readInt(4)?null:x.utf8decode(R.readData(V.length-5))}return null},findExtraFieldUnicodeComment:function(){var V=this.extraFields[25461];if(V){var R=h(V.value);return R.readInt(1)!==1||_(this.fileComment)!==R.readInt(4)?null:x.utf8decode(R.readData(V.length-5))}return null}},f.exports=$},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,f,p){function h(R,N,j){this.name=R,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=N,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var y=d("./stream/StreamHelper"),m=d("./stream/DataWorker"),_=d("./utf8"),x=d("./compressedObject"),D=d("./stream/GenericWorker");h.prototype={internalStream:function(R){var N=null,j="string";try{if(!R)throw new Error("No output type specified.");var O=(j=R.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),N=this._decompressWorker();var E=!this._dataBinary;E&&!O&&(N=N.pipe(new _.Utf8EncodeWorker)),!E&&O&&(N=N.pipe(new _.Utf8DecodeWorker))}catch(I){(N=new D("error")).error(I)}return new y(N,j,"")},async:function(R,N){return this.internalStream(R).accumulate(N)},nodeStream:function(R,N){return this.internalStream(R||"nodebuffer").toNodejsStream(N)},_compressWorker:function(R,N){if(this._data instanceof x&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new _.Utf8EncodeWorker)),x.createWorkerFrom(j,R,N)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof D?this._data:new m(this._data)}};for(var L=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},V=0;V<L.length;V++)h.prototype[L[V]]=$;f.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,f,p){(function(h){var y,m,_=h.MutationObserver||h.WebKitMutationObserver;if(_){var x=0,D=new _(R),L=h.document.createTextNode("");D.observe(L,{characterData:!0}),y=function(){L.data=x=++x%2}}else if(h.setImmediate||h.MessageChannel===void 0)y="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var N=h.document.createElement("script");N.onreadystatechange=function(){R(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},h.document.documentElement.appendChild(N)}:function(){setTimeout(R,0)};else{var $=new h.MessageChannel;$.port1.onmessage=R,y=function(){$.port2.postMessage(0)}}var V=[];function R(){var N,j;m=!0;for(var O=V.length;O;){for(j=V,V=[],N=-1;++N<O;)j[N]();O=V.length}m=!1}f.exports=function(N){V.push(N)!==1||m||y()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,f,p){var h=d("immediate");function y(){}var m={},_=["REJECTED"],x=["FULFILLED"],D=["PENDING"];function L(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,O!==y&&N(this,O)}function $(O,E,I){this.promise=O,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function V(O,E,I){h(function(){var A;try{A=E(I)}catch(g){return m.reject(O,g)}A===O?m.reject(O,new TypeError("Cannot resolve promise with itself")):m.resolve(O,A)})}function R(O){var E=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof E=="function")return function(){E.apply(O,arguments)}}function N(O,E){var I=!1;function A(w){I||(I=!0,m.reject(O,w))}function g(w){I||(I=!0,m.resolve(O,w))}var v=j(function(){E(g,A)});v.status==="error"&&A(v.value)}function j(O,E){var I={};try{I.value=O(E),I.status="success"}catch(A){I.status="error",I.value=A}return I}(f.exports=L).prototype.finally=function(O){if(typeof O!="function")return this;var E=this.constructor;return this.then(function(I){return E.resolve(O()).then(function(){return I})},function(I){return E.resolve(O()).then(function(){throw I})})},L.prototype.catch=function(O){return this.then(null,O)},L.prototype.then=function(O,E){if(typeof O!="function"&&this.state===x||typeof E!="function"&&this.state===_)return this;var I=new this.constructor(y);return this.state!==D?V(I,this.state===x?O:E,this.outcome):this.queue.push(new $(I,O,E)),I},$.prototype.callFulfilled=function(O){m.resolve(this.promise,O)},$.prototype.otherCallFulfilled=function(O){V(this.promise,this.onFulfilled,O)},$.prototype.callRejected=function(O){m.reject(this.promise,O)},$.prototype.otherCallRejected=function(O){V(this.promise,this.onRejected,O)},m.resolve=function(O,E){var I=j(R,E);if(I.status==="error")return m.reject(O,I.value);var A=I.value;if(A)N(O,A);else{O.state=x,O.outcome=E;for(var g=-1,v=O.queue.length;++g<v;)O.queue[g].callFulfilled(E)}return O},m.reject=function(O,E){O.state=_,O.outcome=E;for(var I=-1,A=O.queue.length;++I<A;)O.queue[I].callRejected(E);return O},L.resolve=function(O){return O instanceof this?O:m.resolve(new this(y),O)},L.reject=function(O){var E=new this(y);return m.reject(E,O)},L.all=function(O){var E=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=O.length,A=!1;if(!I)return this.resolve([]);for(var g=new Array(I),v=0,w=-1,b=new this(y);++w<I;)C(O[w],w);return b;function C(S,F){E.resolve(S).then(function(q){g[F]=q,++v!==I||A||(A=!0,m.resolve(b,g))},function(q){A||(A=!0,m.reject(b,q))})}},L.race=function(O){if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=O.length,I=!1;if(!E)return this.resolve([]);for(var A,g=-1,v=new this(y);++g<E;)A=O[g],this.resolve(A).then(function(w){I||(I=!0,m.resolve(v,w))},function(w){I||(I=!0,m.reject(v,w))});return v}},{immediate:36}],38:[function(d,f,p){var h={};(0,d("./lib/utils/common").assign)(h,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),f.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,f,p){var h=d("./zlib/deflate"),y=d("./utils/common"),m=d("./utils/strings"),_=d("./zlib/messages"),x=d("./zlib/zstream"),D=Object.prototype.toString;function L(V){if(!(this instanceof L))return new L(V);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},V||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var N=h.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(N!==0)throw new Error(_[N]);if(R.header&&h.deflateSetHeader(this.strm,R.header),R.dictionary){var j;if(j=typeof R.dictionary=="string"?m.string2buf(R.dictionary):D.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(N=h.deflateSetDictionary(this.strm,j))!==0)throw new Error(_[N]);this._dict_set=!0}}function $(V,R){var N=new L(R);if(N.push(V,!0),N.err)throw N.msg||_[N.err];return N.result}L.prototype.push=function(V,R){var N,j,O=this.strm,E=this.options.chunkSize;if(this.ended)return!1;j=R===~~R?R:R===!0?4:0,typeof V=="string"?O.input=m.string2buf(V):D.call(V)==="[object ArrayBuffer]"?O.input=new Uint8Array(V):O.input=V,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new y.Buf8(E),O.next_out=0,O.avail_out=E),(N=h.deflate(O,j))!==1&&N!==0)return this.onEnd(N),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(y.shrinkBuf(O.output,O.next_out))):this.onData(y.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&N!==1);return j===4?(N=h.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===0):j!==2||(this.onEnd(0),!(O.avail_out=0))},L.prototype.onData=function(V){this.chunks.push(V)},L.prototype.onEnd=function(V){V===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},p.Deflate=L,p.deflate=$,p.deflateRaw=function(V,R){return(R=R||{}).raw=!0,$(V,R)},p.gzip=function(V,R){return(R=R||{}).gzip=!0,$(V,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,f,p){var h=d("./zlib/inflate"),y=d("./utils/common"),m=d("./utils/strings"),_=d("./zlib/constants"),x=d("./zlib/messages"),D=d("./zlib/zstream"),L=d("./zlib/gzheader"),$=Object.prototype.toString;function V(N){if(!(this instanceof V))return new V(N);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},N||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||N&&N.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var O=h.inflateInit2(this.strm,j.windowBits);if(O!==_.Z_OK)throw new Error(x[O]);this.header=new L,h.inflateGetHeader(this.strm,this.header)}function R(N,j){var O=new V(j);if(O.push(N,!0),O.err)throw O.msg||x[O.err];return O.result}V.prototype.push=function(N,j){var O,E,I,A,g,v,w=this.strm,b=this.options.chunkSize,C=this.options.dictionary,S=!1;if(this.ended)return!1;E=j===~~j?j:j===!0?_.Z_FINISH:_.Z_NO_FLUSH,typeof N=="string"?w.input=m.binstring2buf(N):$.call(N)==="[object ArrayBuffer]"?w.input=new Uint8Array(N):w.input=N,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new y.Buf8(b),w.next_out=0,w.avail_out=b),(O=h.inflate(w,_.Z_NO_FLUSH))===_.Z_NEED_DICT&&C&&(v=typeof C=="string"?m.string2buf(C):$.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,O=h.inflateSetDictionary(this.strm,v)),O===_.Z_BUF_ERROR&&S===!0&&(O=_.Z_OK,S=!1),O!==_.Z_STREAM_END&&O!==_.Z_OK)return this.onEnd(O),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&O!==_.Z_STREAM_END&&(w.avail_in!==0||E!==_.Z_FINISH&&E!==_.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=m.utf8border(w.output,w.next_out),A=w.next_out-I,g=m.buf2string(w.output,I),w.next_out=A,w.avail_out=b-A,A&&y.arraySet(w.output,w.output,I,A,0),this.onData(g)):this.onData(y.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(S=!0)}while((0<w.avail_in||w.avail_out===0)&&O!==_.Z_STREAM_END);return O===_.Z_STREAM_END&&(E=_.Z_FINISH),E===_.Z_FINISH?(O=h.inflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===_.Z_OK):E!==_.Z_SYNC_FLUSH||(this.onEnd(_.Z_OK),!(w.avail_out=0))},V.prototype.onData=function(N){this.chunks.push(N)},V.prototype.onEnd=function(N){N===_.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},p.Inflate=V,p.inflate=R,p.inflateRaw=function(N,j){return(j=j||{}).raw=!0,R(N,j)},p.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,f,p){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";p.assign=function(_){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var D=x.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var L in D)D.hasOwnProperty(L)&&(_[L]=D[L])}}return _},p.shrinkBuf=function(_,x){return _.length===x?_:_.subarray?_.subarray(0,x):(_.length=x,_)};var y={arraySet:function(_,x,D,L,$){if(x.subarray&&_.subarray)_.set(x.subarray(D,D+L),$);else for(var V=0;V<L;V++)_[$+V]=x[D+V]},flattenChunks:function(_){var x,D,L,$,V,R;for(x=L=0,D=_.length;x<D;x++)L+=_[x].length;for(R=new Uint8Array(L),x=$=0,D=_.length;x<D;x++)V=_[x],R.set(V,$),$+=V.length;return R}},m={arraySet:function(_,x,D,L,$){for(var V=0;V<L;V++)_[$+V]=x[D+V]},flattenChunks:function(_){return[].concat.apply([],_)}};p.setTyped=function(_){_?(p.Buf8=Uint8Array,p.Buf16=Uint16Array,p.Buf32=Int32Array,p.assign(p,y)):(p.Buf8=Array,p.Buf16=Array,p.Buf32=Array,p.assign(p,m))},p.setTyped(h)},{}],42:[function(d,f,p){var h=d("./common"),y=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var _=new h.Buf8(256),x=0;x<256;x++)_[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function D(L,$){if($<65537&&(L.subarray&&m||!L.subarray&&y))return String.fromCharCode.apply(null,h.shrinkBuf(L,$));for(var V="",R=0;R<$;R++)V+=String.fromCharCode(L[R]);return V}_[254]=_[254]=1,p.string2buf=function(L){var $,V,R,N,j,O=L.length,E=0;for(N=0;N<O;N++)(64512&(V=L.charCodeAt(N)))==55296&&N+1<O&&(64512&(R=L.charCodeAt(N+1)))==56320&&(V=65536+(V-55296<<10)+(R-56320),N++),E+=V<128?1:V<2048?2:V<65536?3:4;for($=new h.Buf8(E),N=j=0;j<E;N++)(64512&(V=L.charCodeAt(N)))==55296&&N+1<O&&(64512&(R=L.charCodeAt(N+1)))==56320&&(V=65536+(V-55296<<10)+(R-56320),N++),V<128?$[j++]=V:(V<2048?$[j++]=192|V>>>6:(V<65536?$[j++]=224|V>>>12:($[j++]=240|V>>>18,$[j++]=128|V>>>12&63),$[j++]=128|V>>>6&63),$[j++]=128|63&V);return $},p.buf2binstring=function(L){return D(L,L.length)},p.binstring2buf=function(L){for(var $=new h.Buf8(L.length),V=0,R=$.length;V<R;V++)$[V]=L.charCodeAt(V);return $},p.buf2string=function(L,$){var V,R,N,j,O=$||L.length,E=new Array(2*O);for(V=R=0;V<O;)if((N=L[V++])<128)E[R++]=N;else if(4<(j=_[N]))E[R++]=65533,V+=j-1;else{for(N&=j===2?31:j===3?15:7;1<j&&V<O;)N=N<<6|63&L[V++],j--;1<j?E[R++]=65533:N<65536?E[R++]=N:(N-=65536,E[R++]=55296|N>>10&1023,E[R++]=56320|1023&N)}return D(E,R)},p.utf8border=function(L,$){var V;for(($=$||L.length)>L.length&&($=L.length),V=$-1;0<=V&&(192&L[V])==128;)V--;return V<0||V===0?$:V+_[L[V]]>$?V:$}},{"./common":41}],43:[function(d,f,p){f.exports=function(h,y,m,_){for(var x=65535&h|0,D=h>>>16&65535|0,L=0;m!==0;){for(m-=L=2e3<m?2e3:m;D=D+(x=x+y[_++]|0)|0,--L;);x%=65521,D%=65521}return x|D<<16|0}},{}],44:[function(d,f,p){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,f,p){var h=(function(){for(var y,m=[],_=0;_<256;_++){y=_;for(var x=0;x<8;x++)y=1&y?3988292384^y>>>1:y>>>1;m[_]=y}return m})();f.exports=function(y,m,_,x){var D=h,L=x+_;y^=-1;for(var $=x;$<L;$++)y=y>>>8^D[255&(y^m[$])];return-1^y}},{}],46:[function(d,f,p){var h,y=d("../utils/common"),m=d("./trees"),_=d("./adler32"),x=d("./crc32"),D=d("./messages"),L=-2,$=258,V=262,R=113;function N(P,K){return P.msg=D[K],K}function j(P){return(P<<1)-(4<P?9:0)}function O(P){for(var K=P.length;0<=--K;)P[K]=0}function E(P){var K=P.state,k=K.pending;k>P.avail_out&&(k=P.avail_out),k!==0&&(y.arraySet(P.output,K.pending_buf,K.pending_out,k,P.next_out),P.next_out+=k,K.pending_out+=k,P.total_out+=k,P.avail_out-=k,K.pending-=k,K.pending===0&&(K.pending_out=0))}function I(P,K){m._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,K),P.block_start=P.strstart,E(P.strm)}function A(P,K){P.pending_buf[P.pending++]=K}function g(P,K){P.pending_buf[P.pending++]=K>>>8&255,P.pending_buf[P.pending++]=255&K}function v(P,K){var k,M,H=P.max_chain_length,Z=P.strstart,ie=P.prev_length,J=P.nice_match,ne=P.strstart>P.w_size-V?P.strstart-(P.w_size-V):0,de=P.window,ue=P.w_mask,ee=P.prev,le=P.strstart+$,te=de[Z+ie-1],ae=de[Z+ie];P.prev_length>=P.good_match&&(H>>=2),J>P.lookahead&&(J=P.lookahead);do if(de[(k=K)+ie]===ae&&de[k+ie-1]===te&&de[k]===de[Z]&&de[++k]===de[Z+1]){Z+=2,k++;do;while(de[++Z]===de[++k]&&de[++Z]===de[++k]&&de[++Z]===de[++k]&&de[++Z]===de[++k]&&de[++Z]===de[++k]&&de[++Z]===de[++k]&&de[++Z]===de[++k]&&de[++Z]===de[++k]&&Z<le);if(M=$-(le-Z),Z=le-$,ie<M){if(P.match_start=K,J<=(ie=M))break;te=de[Z+ie-1],ae=de[Z+ie]}}while((K=ee[K&ue])>ne&&--H!=0);return ie<=P.lookahead?ie:P.lookahead}function w(P){var K,k,M,H,Z,ie,J,ne,de,ue,ee=P.w_size;do{if(H=P.window_size-P.lookahead-P.strstart,P.strstart>=ee+(ee-V)){for(y.arraySet(P.window,P.window,ee,ee,0),P.match_start-=ee,P.strstart-=ee,P.block_start-=ee,K=k=P.hash_size;M=P.head[--K],P.head[K]=ee<=M?M-ee:0,--k;);for(K=k=ee;M=P.prev[--K],P.prev[K]=ee<=M?M-ee:0,--k;);H+=ee}if(P.strm.avail_in===0)break;if(ie=P.strm,J=P.window,ne=P.strstart+P.lookahead,ue=void 0,(de=H)<(ue=ie.avail_in)&&(ue=de),k=ue===0?0:(ie.avail_in-=ue,y.arraySet(J,ie.input,ie.next_in,ue,ne),ie.state.wrap===1?ie.adler=_(ie.adler,J,ue,ne):ie.state.wrap===2&&(ie.adler=x(ie.adler,J,ue,ne)),ie.next_in+=ue,ie.total_in+=ue,ue),P.lookahead+=k,P.lookahead+P.insert>=3)for(Z=P.strstart-P.insert,P.ins_h=P.window[Z],P.ins_h=(P.ins_h<<P.hash_shift^P.window[Z+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[Z+3-1])&P.hash_mask,P.prev[Z&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=Z,Z++,P.insert--,!(P.lookahead+P.insert<3)););}while(P.lookahead<V&&P.strm.avail_in!==0)}function b(P,K){for(var k,M;;){if(P.lookahead<V){if(w(P),P.lookahead<V&&K===0)return 1;if(P.lookahead===0)break}if(k=0,P.lookahead>=3&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,k=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),k!==0&&P.strstart-k<=P.w_size-V&&(P.match_length=v(P,k)),P.match_length>=3)if(M=m._tr_tally(P,P.strstart-P.match_start,P.match_length-3),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=3){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,k=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else M=m._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(M&&(I(P,!1),P.strm.avail_out===0))return 1}return P.insert=P.strstart<2?P.strstart:2,K===4?(I(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&(I(P,!1),P.strm.avail_out===0)?1:2}function C(P,K){for(var k,M,H;;){if(P.lookahead<V){if(w(P),P.lookahead<V&&K===0)return 1;if(P.lookahead===0)break}if(k=0,P.lookahead>=3&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,k=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=2,k!==0&&P.prev_length<P.max_lazy_match&&P.strstart-k<=P.w_size-V&&(P.match_length=v(P,k),P.match_length<=5&&(P.strategy===1||P.match_length===3&&4096<P.strstart-P.match_start)&&(P.match_length=2)),P.prev_length>=3&&P.match_length<=P.prev_length){for(H=P.strstart+P.lookahead-3,M=m._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-3),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=H&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,k=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=2,P.strstart++,M&&(I(P,!1),P.strm.avail_out===0))return 1}else if(P.match_available){if((M=m._tr_tally(P,0,P.window[P.strstart-1]))&&I(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return 1}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(M=m._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<2?P.strstart:2,K===4?(I(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&(I(P,!1),P.strm.avail_out===0)?1:2}function S(P,K,k,M,H){this.good_length=P,this.max_lazy=K,this.nice_length=k,this.max_chain=M,this.func=H}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(P){var K;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=2,(K=P.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:R,P.adler=K.wrap===2?0:1,K.last_flush=0,m._tr_init(K),0):N(P,L)}function z(P){var K=q(P);return K===0&&(function(k){k.window_size=2*k.w_size,O(k.head),k.max_lazy_match=h[k.level].max_lazy,k.good_match=h[k.level].good_length,k.nice_match=h[k.level].nice_length,k.max_chain_length=h[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=2,k.match_available=0,k.ins_h=0})(P.state),K}function Y(P,K,k,M,H,Z){if(!P)return L;var ie=1;if(K===-1&&(K=6),M<0?(ie=0,M=-M):15<M&&(ie=2,M-=16),H<1||9<H||k!==8||M<8||15<M||K<0||9<K||Z<0||4<Z)return N(P,L);M===8&&(M=9);var J=new F;return(P.state=J).strm=P,J.wrap=ie,J.gzhead=null,J.w_bits=M,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=H+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+3-1)/3),J.window=new y.Buf8(2*J.w_size),J.head=new y.Buf16(J.hash_size),J.prev=new y.Buf16(J.w_size),J.lit_bufsize=1<<H+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new y.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=K,J.strategy=Z,J.method=k,z(P)}h=[new S(0,0,0,0,function(P,K){var k=65535;for(k>P.pending_buf_size-5&&(k=P.pending_buf_size-5);;){if(P.lookahead<=1){if(w(P),P.lookahead===0&&K===0)return 1;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var M=P.block_start+k;if((P.strstart===0||P.strstart>=M)&&(P.lookahead=P.strstart-M,P.strstart=M,I(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-V&&(I(P,!1),P.strm.avail_out===0))return 1}return P.insert=0,K===4?(I(P,!0),P.strm.avail_out===0?3:4):(P.strstart>P.block_start&&(I(P,!1),P.strm.avail_out),1)}),new S(4,4,8,4,b),new S(4,5,16,8,b),new S(4,6,32,32,b),new S(4,4,16,16,C),new S(8,16,32,32,C),new S(8,16,128,128,C),new S(8,32,128,256,C),new S(32,128,258,1024,C),new S(32,258,258,4096,C)],p.deflateInit=function(P,K){return Y(P,K,8,15,8,0)},p.deflateInit2=Y,p.deflateReset=z,p.deflateResetKeep=q,p.deflateSetHeader=function(P,K){return P&&P.state?P.state.wrap!==2?L:(P.state.gzhead=K,0):L},p.deflate=function(P,K){var k,M,H,Z;if(!P||!P.state||5<K||K<0)return P?N(P,L):L;if(M=P.state,!P.output||!P.input&&P.avail_in!==0||M.status===666&&K!==4)return N(P,P.avail_out===0?-5:L);if(M.strm=P,k=M.last_flush,M.last_flush=K,M.status===42)if(M.wrap===2)P.adler=0,A(M,31),A(M,139),A(M,8),M.gzhead?(A(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),A(M,255&M.gzhead.time),A(M,M.gzhead.time>>8&255),A(M,M.gzhead.time>>16&255),A(M,M.gzhead.time>>24&255),A(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),A(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(A(M,255&M.gzhead.extra.length),A(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(P.adler=x(P.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(A(M,0),A(M,0),A(M,0),A(M,0),A(M,0),A(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),A(M,3),M.status=R);else{var ie=8+(M.w_bits-8<<4)<<8;ie|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(ie|=32),ie+=31-ie%31,M.status=R,g(M,ie),M.strstart!==0&&(g(M,P.adler>>>16),g(M,65535&P.adler)),P.adler=1}if(M.status===69)if(M.gzhead.extra){for(H=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>H&&(P.adler=x(P.adler,M.pending_buf,M.pending-H,H)),E(P),H=M.pending,M.pending!==M.pending_buf_size));)A(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>H&&(P.adler=x(P.adler,M.pending_buf,M.pending-H,H)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){H=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>H&&(P.adler=x(P.adler,M.pending_buf,M.pending-H,H)),E(P),H=M.pending,M.pending===M.pending_buf_size)){Z=1;break}Z=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,A(M,Z)}while(Z!==0);M.gzhead.hcrc&&M.pending>H&&(P.adler=x(P.adler,M.pending_buf,M.pending-H,H)),Z===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){H=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>H&&(P.adler=x(P.adler,M.pending_buf,M.pending-H,H)),E(P),H=M.pending,M.pending===M.pending_buf_size)){Z=1;break}Z=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,A(M,Z)}while(Z!==0);M.gzhead.hcrc&&M.pending>H&&(P.adler=x(P.adler,M.pending_buf,M.pending-H,H)),Z===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&E(P),M.pending+2<=M.pending_buf_size&&(A(M,255&P.adler),A(M,P.adler>>8&255),P.adler=0,M.status=R)):M.status=R),M.pending!==0){if(E(P),P.avail_out===0)return M.last_flush=-1,0}else if(P.avail_in===0&&j(K)<=j(k)&&K!==4)return N(P,-5);if(M.status===666&&P.avail_in!==0)return N(P,-5);if(P.avail_in!==0||M.lookahead!==0||K!==0&&M.status!==666){var J=M.strategy===2?(function(ne,de){for(var ue;;){if(ne.lookahead===0&&(w(ne),ne.lookahead===0)){if(de===0)return 1;break}if(ne.match_length=0,ue=m._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,ue&&(I(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,de===4?(I(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(I(ne,!1),ne.strm.avail_out===0)?1:2})(M,K):M.strategy===3?(function(ne,de){for(var ue,ee,le,te,ae=ne.window;;){if(ne.lookahead<=$){if(w(ne),ne.lookahead<=$&&de===0)return 1;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=3&&0<ne.strstart&&(ee=ae[le=ne.strstart-1])===ae[++le]&&ee===ae[++le]&&ee===ae[++le]){te=ne.strstart+$;do;while(ee===ae[++le]&&ee===ae[++le]&&ee===ae[++le]&&ee===ae[++le]&&ee===ae[++le]&&ee===ae[++le]&&ee===ae[++le]&&ee===ae[++le]&&le<te);ne.match_length=$-(te-le),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=3?(ue=m._tr_tally(ne,1,ne.match_length-3),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(ue=m._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),ue&&(I(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,de===4?(I(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(I(ne,!1),ne.strm.avail_out===0)?1:2})(M,K):h[M.level].func(M,K);if(J!==3&&J!==4||(M.status=666),J===1||J===3)return P.avail_out===0&&(M.last_flush=-1),0;if(J===2&&(K===1?m._tr_align(M):K!==5&&(m._tr_stored_block(M,0,0,!1),K===3&&(O(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),E(P),P.avail_out===0))return M.last_flush=-1,0}return K!==4?0:M.wrap<=0?1:(M.wrap===2?(A(M,255&P.adler),A(M,P.adler>>8&255),A(M,P.adler>>16&255),A(M,P.adler>>24&255),A(M,255&P.total_in),A(M,P.total_in>>8&255),A(M,P.total_in>>16&255),A(M,P.total_in>>24&255)):(g(M,P.adler>>>16),g(M,65535&P.adler)),E(P),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?0:1)},p.deflateEnd=function(P){var K;return P&&P.state?(K=P.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==R&&K!==666?N(P,L):(P.state=null,K===R?N(P,-3):0):L},p.deflateSetDictionary=function(P,K){var k,M,H,Z,ie,J,ne,de,ue=K.length;if(!P||!P.state||(Z=(k=P.state).wrap)===2||Z===1&&k.status!==42||k.lookahead)return L;for(Z===1&&(P.adler=_(P.adler,K,ue,0)),k.wrap=0,ue>=k.w_size&&(Z===0&&(O(k.head),k.strstart=0,k.block_start=0,k.insert=0),de=new y.Buf8(k.w_size),y.arraySet(de,K,ue-k.w_size,k.w_size,0),K=de,ue=k.w_size),ie=P.avail_in,J=P.next_in,ne=P.input,P.avail_in=ue,P.next_in=0,P.input=K,w(k);k.lookahead>=3;){for(M=k.strstart,H=k.lookahead-2;k.ins_h=(k.ins_h<<k.hash_shift^k.window[M+3-1])&k.hash_mask,k.prev[M&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=M,M++,--H;);k.strstart=M,k.lookahead=2,w(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=2,k.match_available=0,P.next_in=J,P.input=ne,P.avail_in=ie,k.wrap=Z,0},p.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,f,p){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,f,p){f.exports=function(h,y){var m,_,x,D,L,$,V,R,N,j,O,E,I,A,g,v,w,b,C,S,F,q,z,Y,P;m=h.state,_=h.next_in,Y=h.input,x=_+(h.avail_in-5),D=h.next_out,P=h.output,L=D-(y-h.avail_out),$=D+(h.avail_out-257),V=m.dmax,R=m.wsize,N=m.whave,j=m.wnext,O=m.window,E=m.hold,I=m.bits,A=m.lencode,g=m.distcode,v=(1<<m.lenbits)-1,w=(1<<m.distbits)-1;e:do{I<15&&(E+=Y[_++]<<I,I+=8,E+=Y[_++]<<I,I+=8),b=A[E&v];t:for(;;){if(E>>>=C=b>>>24,I-=C,(C=b>>>16&255)==0)P[D++]=65535&b;else{if(!(16&C)){if((64&C)==0){b=A[(65535&b)+(E&(1<<C)-1)];continue t}if(32&C){m.mode=12;break e}h.msg="invalid literal/length code",m.mode=30;break e}S=65535&b,(C&=15)&&(I<C&&(E+=Y[_++]<<I,I+=8),S+=E&(1<<C)-1,E>>>=C,I-=C),I<15&&(E+=Y[_++]<<I,I+=8,E+=Y[_++]<<I,I+=8),b=g[E&w];n:for(;;){if(E>>>=C=b>>>24,I-=C,!(16&(C=b>>>16&255))){if((64&C)==0){b=g[(65535&b)+(E&(1<<C)-1)];continue n}h.msg="invalid distance code",m.mode=30;break e}if(F=65535&b,I<(C&=15)&&(E+=Y[_++]<<I,(I+=8)<C&&(E+=Y[_++]<<I,I+=8)),V<(F+=E&(1<<C)-1)){h.msg="invalid distance too far back",m.mode=30;break e}if(E>>>=C,I-=C,(C=D-L)<F){if(N<(C=F-C)&&m.sane){h.msg="invalid distance too far back",m.mode=30;break e}if(z=O,(q=0)===j){if(q+=R-C,C<S){for(S-=C;P[D++]=O[q++],--C;);q=D-F,z=P}}else if(j<C){if(q+=R+j-C,(C-=j)<S){for(S-=C;P[D++]=O[q++],--C;);if(q=0,j<S){for(S-=C=j;P[D++]=O[q++],--C;);q=D-F,z=P}}}else if(q+=j-C,C<S){for(S-=C;P[D++]=O[q++],--C;);q=D-F,z=P}for(;2<S;)P[D++]=z[q++],P[D++]=z[q++],P[D++]=z[q++],S-=3;S&&(P[D++]=z[q++],1<S&&(P[D++]=z[q++]))}else{for(q=D-F;P[D++]=P[q++],P[D++]=P[q++],P[D++]=P[q++],2<(S-=3););S&&(P[D++]=P[q++],1<S&&(P[D++]=P[q++]))}break}}break}}while(_<x&&D<$);_-=S=I>>3,E&=(1<<(I-=S<<3))-1,h.next_in=_,h.next_out=D,h.avail_in=_<x?x-_+5:5-(_-x),h.avail_out=D<$?$-D+257:257-(D-$),m.hold=E,m.bits=I}},{}],49:[function(d,f,p){var h=d("../utils/common"),y=d("./adler32"),m=d("./crc32"),_=d("./inffast"),x=d("./inftrees"),D=-2;function L(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function V(v){var w;return v&&v.state?(w=v.state,v.total_in=v.total_out=w.total=0,v.msg="",w.wrap&&(v.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new h.Buf32(852),w.distcode=w.distdyn=new h.Buf32(592),w.sane=1,w.back=-1,0):D}function R(v){var w;return v&&v.state?((w=v.state).wsize=0,w.whave=0,w.wnext=0,V(v)):D}function N(v,w){var b,C;return v&&v.state?(C=v.state,w<0?(b=0,w=-w):(b=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?D:(C.window!==null&&C.wbits!==w&&(C.window=null),C.wrap=b,C.wbits=w,R(v))):D}function j(v,w){var b,C;return v?(C=new $,(v.state=C).window=null,(b=N(v,w))!==0&&(v.state=null),b):D}var O,E,I=!0;function A(v){if(I){var w;for(O=new h.Buf32(512),E=new h.Buf32(32),w=0;w<144;)v.lens[w++]=8;for(;w<256;)v.lens[w++]=9;for(;w<280;)v.lens[w++]=7;for(;w<288;)v.lens[w++]=8;for(x(1,v.lens,0,288,O,0,v.work,{bits:9}),w=0;w<32;)v.lens[w++]=5;x(2,v.lens,0,32,E,0,v.work,{bits:5}),I=!1}v.lencode=O,v.lenbits=9,v.distcode=E,v.distbits=5}function g(v,w,b,C){var S,F=v.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new h.Buf8(F.wsize)),C>=F.wsize?(h.arraySet(F.window,w,b-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(C<(S=F.wsize-F.wnext)&&(S=C),h.arraySet(F.window,w,b-C,S,F.wnext),(C-=S)?(h.arraySet(F.window,w,b-C,C,0),F.wnext=C,F.whave=F.wsize):(F.wnext+=S,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=S))),0}p.inflateReset=R,p.inflateReset2=N,p.inflateResetKeep=V,p.inflateInit=function(v){return j(v,15)},p.inflateInit2=j,p.inflate=function(v,w){var b,C,S,F,q,z,Y,P,K,k,M,H,Z,ie,J,ne,de,ue,ee,le,te,ae,he,fe,ve=0,Ae=new h.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return D;(b=v.state).mode===12&&(b.mode=13),q=v.next_out,S=v.output,Y=v.avail_out,F=v.next_in,C=v.input,z=v.avail_in,P=b.hold,K=b.bits,k=z,M=Y,ae=0;e:for(;;)switch(b.mode){case 1:if(b.wrap===0){b.mode=13;break}for(;K<16;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(2&b.wrap&&P===35615){Ae[b.check=0]=255&P,Ae[1]=P>>>8&255,b.check=m(b.check,Ae,2,0),K=P=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&P)<<8)+(P>>8))%31){v.msg="incorrect header check",b.mode=30;break}if((15&P)!=8){v.msg="unknown compression method",b.mode=30;break}if(K-=4,te=8+(15&(P>>>=4)),b.wbits===0)b.wbits=te;else if(te>b.wbits){v.msg="invalid window size",b.mode=30;break}b.dmax=1<<te,v.adler=b.check=1,b.mode=512&P?10:12,K=P=0;break;case 2:for(;K<16;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(b.flags=P,(255&b.flags)!=8){v.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){v.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=P>>8&1),512&b.flags&&(Ae[0]=255&P,Ae[1]=P>>>8&255,b.check=m(b.check,Ae,2,0)),K=P=0,b.mode=3;case 3:for(;K<32;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}b.head&&(b.head.time=P),512&b.flags&&(Ae[0]=255&P,Ae[1]=P>>>8&255,Ae[2]=P>>>16&255,Ae[3]=P>>>24&255,b.check=m(b.check,Ae,4,0)),K=P=0,b.mode=4;case 4:for(;K<16;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}b.head&&(b.head.xflags=255&P,b.head.os=P>>8),512&b.flags&&(Ae[0]=255&P,Ae[1]=P>>>8&255,b.check=m(b.check,Ae,2,0)),K=P=0,b.mode=5;case 5:if(1024&b.flags){for(;K<16;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}b.length=P,b.head&&(b.head.extra_len=P),512&b.flags&&(Ae[0]=255&P,Ae[1]=P>>>8&255,b.check=m(b.check,Ae,2,0)),K=P=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(z<(H=b.length)&&(H=z),H&&(b.head&&(te=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),h.arraySet(b.head.extra,C,F,H,te)),512&b.flags&&(b.check=m(b.check,C,H,F)),z-=H,F+=H,b.length-=H),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(z===0)break e;for(H=0;te=C[F+H++],b.head&&te&&b.length<65536&&(b.head.name+=String.fromCharCode(te)),te&&H<z;);if(512&b.flags&&(b.check=m(b.check,C,H,F)),z-=H,F+=H,te)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(z===0)break e;for(H=0;te=C[F+H++],b.head&&te&&b.length<65536&&(b.head.comment+=String.fromCharCode(te)),te&&H<z;);if(512&b.flags&&(b.check=m(b.check,C,H,F)),z-=H,F+=H,te)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;K<16;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(P!==(65535&b.check)){v.msg="header crc mismatch",b.mode=30;break}K=P=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),v.adler=b.check=0,b.mode=12;break;case 10:for(;K<32;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}v.adler=b.check=L(P),K=P=0,b.mode=11;case 11:if(b.havedict===0)return v.next_out=q,v.avail_out=Y,v.next_in=F,v.avail_in=z,b.hold=P,b.bits=K,2;v.adler=b.check=1,b.mode=12;case 12:if(w===5||w===6)break e;case 13:if(b.last){P>>>=7&K,K-=7&K,b.mode=27;break}for(;K<3;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}switch(b.last=1&P,K-=1,3&(P>>>=1)){case 0:b.mode=14;break;case 1:if(A(b),b.mode=20,w!==6)break;P>>>=2,K-=2;break e;case 2:b.mode=17;break;case 3:v.msg="invalid block type",b.mode=30}P>>>=2,K-=2;break;case 14:for(P>>>=7&K,K-=7&K;K<32;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if((65535&P)!=(P>>>16^65535)){v.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&P,K=P=0,b.mode=15,w===6)break e;case 15:b.mode=16;case 16:if(H=b.length){if(z<H&&(H=z),Y<H&&(H=Y),H===0)break e;h.arraySet(S,C,F,H,q),z-=H,F+=H,Y-=H,q+=H,b.length-=H;break}b.mode=12;break;case 17:for(;K<14;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(b.nlen=257+(31&P),P>>>=5,K-=5,b.ndist=1+(31&P),P>>>=5,K-=5,b.ncode=4+(15&P),P>>>=4,K-=4,286<b.nlen||30<b.ndist){v.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;K<3;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}b.lens[Re[b.have++]]=7&P,P>>>=3,K-=3}for(;b.have<19;)b.lens[Re[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,he={bits:b.lenbits},ae=x(0,b.lens,0,19,b.lencode,0,b.work,he),b.lenbits=he.bits,ae){v.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;ne=(ve=b.lencode[P&(1<<b.lenbits)-1])>>>16&255,de=65535&ve,!((J=ve>>>24)<=K);){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(de<16)P>>>=J,K-=J,b.lens[b.have++]=de;else{if(de===16){for(fe=J+2;K<fe;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(P>>>=J,K-=J,b.have===0){v.msg="invalid bit length repeat",b.mode=30;break}te=b.lens[b.have-1],H=3+(3&P),P>>>=2,K-=2}else if(de===17){for(fe=J+3;K<fe;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}K-=J,te=0,H=3+(7&(P>>>=J)),P>>>=3,K-=3}else{for(fe=J+7;K<fe;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}K-=J,te=0,H=11+(127&(P>>>=J)),P>>>=7,K-=7}if(b.have+H>b.nlen+b.ndist){v.msg="invalid bit length repeat",b.mode=30;break}for(;H--;)b.lens[b.have++]=te}}if(b.mode===30)break;if(b.lens[256]===0){v.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,he={bits:b.lenbits},ae=x(1,b.lens,0,b.nlen,b.lencode,0,b.work,he),b.lenbits=he.bits,ae){v.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,he={bits:b.distbits},ae=x(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,he),b.distbits=he.bits,ae){v.msg="invalid distances set",b.mode=30;break}if(b.mode=20,w===6)break e;case 20:b.mode=21;case 21:if(6<=z&&258<=Y){v.next_out=q,v.avail_out=Y,v.next_in=F,v.avail_in=z,b.hold=P,b.bits=K,_(v,M),q=v.next_out,S=v.output,Y=v.avail_out,F=v.next_in,C=v.input,z=v.avail_in,P=b.hold,K=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;ne=(ve=b.lencode[P&(1<<b.lenbits)-1])>>>16&255,de=65535&ve,!((J=ve>>>24)<=K);){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(ne&&(240&ne)==0){for(ue=J,ee=ne,le=de;ne=(ve=b.lencode[le+((P&(1<<ue+ee)-1)>>ue)])>>>16&255,de=65535&ve,!(ue+(J=ve>>>24)<=K);){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}P>>>=ue,K-=ue,b.back+=ue}if(P>>>=J,K-=J,b.back+=J,b.length=de,ne===0){b.mode=26;break}if(32&ne){b.back=-1,b.mode=12;break}if(64&ne){v.msg="invalid literal/length code",b.mode=30;break}b.extra=15&ne,b.mode=22;case 22:if(b.extra){for(fe=b.extra;K<fe;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}b.length+=P&(1<<b.extra)-1,P>>>=b.extra,K-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;ne=(ve=b.distcode[P&(1<<b.distbits)-1])>>>16&255,de=65535&ve,!((J=ve>>>24)<=K);){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if((240&ne)==0){for(ue=J,ee=ne,le=de;ne=(ve=b.distcode[le+((P&(1<<ue+ee)-1)>>ue)])>>>16&255,de=65535&ve,!(ue+(J=ve>>>24)<=K);){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}P>>>=ue,K-=ue,b.back+=ue}if(P>>>=J,K-=J,b.back+=J,64&ne){v.msg="invalid distance code",b.mode=30;break}b.offset=de,b.extra=15&ne,b.mode=24;case 24:if(b.extra){for(fe=b.extra;K<fe;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}b.offset+=P&(1<<b.extra)-1,P>>>=b.extra,K-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){v.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(Y===0)break e;if(H=M-Y,b.offset>H){if((H=b.offset-H)>b.whave&&b.sane){v.msg="invalid distance too far back",b.mode=30;break}Z=H>b.wnext?(H-=b.wnext,b.wsize-H):b.wnext-H,H>b.length&&(H=b.length),ie=b.window}else ie=S,Z=q-b.offset,H=b.length;for(Y<H&&(H=Y),Y-=H,b.length-=H;S[q++]=ie[Z++],--H;);b.length===0&&(b.mode=21);break;case 26:if(Y===0)break e;S[q++]=b.length,Y--,b.mode=21;break;case 27:if(b.wrap){for(;K<32;){if(z===0)break e;z--,P|=C[F++]<<K,K+=8}if(M-=Y,v.total_out+=M,b.total+=M,M&&(v.adler=b.check=b.flags?m(b.check,S,M,q-M):y(b.check,S,M,q-M)),M=Y,(b.flags?P:L(P))!==b.check){v.msg="incorrect data check",b.mode=30;break}K=P=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;K<32;){if(z===0)break e;z--,P+=C[F++]<<K,K+=8}if(P!==(4294967295&b.total)){v.msg="incorrect length check",b.mode=30;break}K=P=0}b.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return D}return v.next_out=q,v.avail_out=Y,v.next_in=F,v.avail_in=z,b.hold=P,b.bits=K,(b.wsize||M!==v.avail_out&&b.mode<30&&(b.mode<27||w!==4))&&g(v,v.output,v.next_out,M-v.avail_out)?(b.mode=31,-4):(k-=v.avail_in,M-=v.avail_out,v.total_in+=k,v.total_out+=M,b.total+=M,b.wrap&&M&&(v.adler=b.check=b.flags?m(b.check,S,M,v.next_out-M):y(b.check,S,M,v.next_out-M)),v.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(k==0&&M===0||w===4)&&ae===0&&(ae=-5),ae)},p.inflateEnd=function(v){if(!v||!v.state)return D;var w=v.state;return w.window&&(w.window=null),v.state=null,0},p.inflateGetHeader=function(v,w){var b;return v&&v.state?(2&(b=v.state).wrap)==0?D:((b.head=w).done=!1,0):D},p.inflateSetDictionary=function(v,w){var b,C=w.length;return v&&v.state?(b=v.state).wrap!==0&&b.mode!==11?D:b.mode===11&&y(1,w,C,0)!==b.check?-3:g(v,w,C,C)?(b.mode=31,-4):(b.havedict=1,0):D},p.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,f,p){var h=d("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(D,L,$,V,R,N,j,O){var E,I,A,g,v,w,b,C,S,F=O.bits,q=0,z=0,Y=0,P=0,K=0,k=0,M=0,H=0,Z=0,ie=0,J=null,ne=0,de=new h.Buf16(16),ue=new h.Buf16(16),ee=null,le=0;for(q=0;q<=15;q++)de[q]=0;for(z=0;z<V;z++)de[L[$+z]]++;for(K=F,P=15;1<=P&&de[P]===0;P--);if(P<K&&(K=P),P===0)return R[N++]=20971520,R[N++]=20971520,O.bits=1,0;for(Y=1;Y<P&&de[Y]===0;Y++);for(K<Y&&(K=Y),q=H=1;q<=15;q++)if(H<<=1,(H-=de[q])<0)return-1;if(0<H&&(D===0||P!==1))return-1;for(ue[1]=0,q=1;q<15;q++)ue[q+1]=ue[q]+de[q];for(z=0;z<V;z++)L[$+z]!==0&&(j[ue[L[$+z]]++]=z);if(w=D===0?(J=ee=j,19):D===1?(J=y,ne-=257,ee=m,le-=257,256):(J=_,ee=x,-1),q=Y,v=N,M=z=ie=0,A=-1,g=(Z=1<<(k=K))-1,D===1&&852<Z||D===2&&592<Z)return 1;for(;;){for(b=q-M,S=j[z]<w?(C=0,j[z]):j[z]>w?(C=ee[le+j[z]],J[ne+j[z]]):(C=96,0),E=1<<q-M,Y=I=1<<k;R[v+(ie>>M)+(I-=E)]=b<<24|C<<16|S|0,I!==0;);for(E=1<<q-1;ie&E;)E>>=1;if(E!==0?(ie&=E-1,ie+=E):ie=0,z++,--de[q]==0){if(q===P)break;q=L[$+j[z]]}if(K<q&&(ie&g)!==A){for(M===0&&(M=K),v+=Y,H=1<<(k=q-M);k+M<P&&!((H-=de[k+M])<=0);)k++,H<<=1;if(Z+=1<<k,D===1&&852<Z||D===2&&592<Z)return 1;R[A=ie&g]=K<<24|k<<16|v-N|0}}return ie!==0&&(R[v+ie]=q-M<<24|64<<16|0),O.bits=K,0}},{"../utils/common":41}],51:[function(d,f,p){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,f,p){var h=d("../utils/common");function y(ee){for(var le=ee.length;0<=--le;)ee[le]=0}var m=256,_=286,x=30,D=15,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(576);y(N);var j=new Array(60);y(j);var O=new Array(512);y(O);var E=new Array(256);y(E);var I=new Array(29);y(I);var A,g,v,w=new Array(x);function b(ee,le,te,ae,he){this.static_tree=ee,this.extra_bits=le,this.extra_base=te,this.elems=ae,this.max_length=he,this.has_stree=ee&&ee.length}function C(ee,le){this.dyn_tree=ee,this.max_code=0,this.stat_desc=le}function S(ee){return ee<256?O[ee]:O[256+(ee>>>7)]}function F(ee,le){ee.pending_buf[ee.pending++]=255&le,ee.pending_buf[ee.pending++]=le>>>8&255}function q(ee,le,te){ee.bi_valid>16-te?(ee.bi_buf|=le<<ee.bi_valid&65535,F(ee,ee.bi_buf),ee.bi_buf=le>>16-ee.bi_valid,ee.bi_valid+=te-16):(ee.bi_buf|=le<<ee.bi_valid&65535,ee.bi_valid+=te)}function z(ee,le,te){q(ee,te[2*le],te[2*le+1])}function Y(ee,le){for(var te=0;te|=1&ee,ee>>>=1,te<<=1,0<--le;);return te>>>1}function P(ee,le,te){var ae,he,fe=new Array(16),ve=0;for(ae=1;ae<=D;ae++)fe[ae]=ve=ve+te[ae-1]<<1;for(he=0;he<=le;he++){var Ae=ee[2*he+1];Ae!==0&&(ee[2*he]=Y(fe[Ae]++,Ae))}}function K(ee){var le;for(le=0;le<_;le++)ee.dyn_ltree[2*le]=0;for(le=0;le<x;le++)ee.dyn_dtree[2*le]=0;for(le=0;le<19;le++)ee.bl_tree[2*le]=0;ee.dyn_ltree[512]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function k(ee){8<ee.bi_valid?F(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function M(ee,le,te,ae){var he=2*le,fe=2*te;return ee[he]<ee[fe]||ee[he]===ee[fe]&&ae[le]<=ae[te]}function H(ee,le,te){for(var ae=ee.heap[te],he=te<<1;he<=ee.heap_len&&(he<ee.heap_len&&M(le,ee.heap[he+1],ee.heap[he],ee.depth)&&he++,!M(le,ae,ee.heap[he],ee.depth));)ee.heap[te]=ee.heap[he],te=he,he<<=1;ee.heap[te]=ae}function Z(ee,le,te){var ae,he,fe,ve,Ae=0;if(ee.last_lit!==0)for(;ae=ee.pending_buf[ee.d_buf+2*Ae]<<8|ee.pending_buf[ee.d_buf+2*Ae+1],he=ee.pending_buf[ee.l_buf+Ae],Ae++,ae===0?z(ee,he,le):(z(ee,(fe=E[he])+m+1,le),(ve=L[fe])!==0&&q(ee,he-=I[fe],ve),z(ee,fe=S(--ae),te),(ve=$[fe])!==0&&q(ee,ae-=w[fe],ve)),Ae<ee.last_lit;);z(ee,256,le)}function ie(ee,le){var te,ae,he,fe=le.dyn_tree,ve=le.stat_desc.static_tree,Ae=le.stat_desc.has_stree,Re=le.stat_desc.elems,Oe=-1;for(ee.heap_len=0,ee.heap_max=573,te=0;te<Re;te++)fe[2*te]!==0?(ee.heap[++ee.heap_len]=Oe=te,ee.depth[te]=0):fe[2*te+1]=0;for(;ee.heap_len<2;)fe[2*(he=ee.heap[++ee.heap_len]=Oe<2?++Oe:0)]=1,ee.depth[he]=0,ee.opt_len--,Ae&&(ee.static_len-=ve[2*he+1]);for(le.max_code=Oe,te=ee.heap_len>>1;1<=te;te--)H(ee,fe,te);for(he=Re;te=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],H(ee,fe,1),ae=ee.heap[1],ee.heap[--ee.heap_max]=te,ee.heap[--ee.heap_max]=ae,fe[2*he]=fe[2*te]+fe[2*ae],ee.depth[he]=(ee.depth[te]>=ee.depth[ae]?ee.depth[te]:ee.depth[ae])+1,fe[2*te+1]=fe[2*ae+1]=he,ee.heap[1]=he++,H(ee,fe,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],(function(ut,He){var Ye,Ht,dt,Qe,pt,Ue,Ve=He.dyn_tree,Nt=He.max_code,nt=He.stat_desc.static_tree,mt=He.stat_desc.has_stree,Ar=He.stat_desc.extra_bits,gt=He.stat_desc.extra_base,bt=He.stat_desc.max_length,Jn=0;for(Qe=0;Qe<=D;Qe++)ut.bl_count[Qe]=0;for(Ve[2*ut.heap[ut.heap_max]+1]=0,Ye=ut.heap_max+1;Ye<573;Ye++)bt<(Qe=Ve[2*Ve[2*(Ht=ut.heap[Ye])+1]+1]+1)&&(Qe=bt,Jn++),Ve[2*Ht+1]=Qe,Nt<Ht||(ut.bl_count[Qe]++,pt=0,gt<=Ht&&(pt=Ar[Ht-gt]),Ue=Ve[2*Ht],ut.opt_len+=Ue*(Qe+pt),mt&&(ut.static_len+=Ue*(nt[2*Ht+1]+pt)));if(Jn!==0){do{for(Qe=bt-1;ut.bl_count[Qe]===0;)Qe--;ut.bl_count[Qe]--,ut.bl_count[Qe+1]+=2,ut.bl_count[bt]--,Jn-=2}while(0<Jn);for(Qe=bt;Qe!==0;Qe--)for(Ht=ut.bl_count[Qe];Ht!==0;)Nt<(dt=ut.heap[--Ye])||(Ve[2*dt+1]!==Qe&&(ut.opt_len+=(Qe-Ve[2*dt+1])*Ve[2*dt],Ve[2*dt+1]=Qe),Ht--)}})(ee,le),P(fe,Oe,ee.bl_count)}function J(ee,le,te){var ae,he,fe=-1,ve=le[1],Ae=0,Re=7,Oe=4;for(ve===0&&(Re=138,Oe=3),le[2*(te+1)+1]=65535,ae=0;ae<=te;ae++)he=ve,ve=le[2*(ae+1)+1],++Ae<Re&&he===ve||(Ae<Oe?ee.bl_tree[2*he]+=Ae:he!==0?(he!==fe&&ee.bl_tree[2*he]++,ee.bl_tree[32]++):Ae<=10?ee.bl_tree[34]++:ee.bl_tree[36]++,fe=he,Oe=(Ae=0)===ve?(Re=138,3):he===ve?(Re=6,3):(Re=7,4))}function ne(ee,le,te){var ae,he,fe=-1,ve=le[1],Ae=0,Re=7,Oe=4;for(ve===0&&(Re=138,Oe=3),ae=0;ae<=te;ae++)if(he=ve,ve=le[2*(ae+1)+1],!(++Ae<Re&&he===ve)){if(Ae<Oe)for(;z(ee,he,ee.bl_tree),--Ae!=0;);else he!==0?(he!==fe&&(z(ee,he,ee.bl_tree),Ae--),z(ee,16,ee.bl_tree),q(ee,Ae-3,2)):Ae<=10?(z(ee,17,ee.bl_tree),q(ee,Ae-3,3)):(z(ee,18,ee.bl_tree),q(ee,Ae-11,7));fe=he,Oe=(Ae=0)===ve?(Re=138,3):he===ve?(Re=6,3):(Re=7,4)}}y(w);var de=!1;function ue(ee,le,te,ae){q(ee,0+(ae?1:0),3),(function(he,fe,ve,Ae){k(he),F(he,ve),F(he,~ve),h.arraySet(he.pending_buf,he.window,fe,ve,he.pending),he.pending+=ve})(ee,le,te)}p._tr_init=function(ee){de||((function(){var le,te,ae,he,fe,ve=new Array(16);for(he=ae=0;he<28;he++)for(I[he]=ae,le=0;le<1<<L[he];le++)E[ae++]=he;for(E[ae-1]=he,he=fe=0;he<16;he++)for(w[he]=fe,le=0;le<1<<$[he];le++)O[fe++]=he;for(fe>>=7;he<x;he++)for(w[he]=fe<<7,le=0;le<1<<$[he]-7;le++)O[256+fe++]=he;for(te=0;te<=D;te++)ve[te]=0;for(le=0;le<=143;)N[2*le+1]=8,le++,ve[8]++;for(;le<=255;)N[2*le+1]=9,le++,ve[9]++;for(;le<=279;)N[2*le+1]=7,le++,ve[7]++;for(;le<=287;)N[2*le+1]=8,le++,ve[8]++;for(P(N,287,ve),le=0;le<x;le++)j[2*le+1]=5,j[2*le]=Y(le,5);A=new b(N,L,257,_,D),g=new b(j,$,0,x,D),v=new b(new Array(0),V,0,19,7)})(),de=!0),ee.l_desc=new C(ee.dyn_ltree,A),ee.d_desc=new C(ee.dyn_dtree,g),ee.bl_desc=new C(ee.bl_tree,v),ee.bi_buf=0,ee.bi_valid=0,K(ee)},p._tr_stored_block=ue,p._tr_flush_block=function(ee,le,te,ae){var he,fe,ve=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=(function(Ae){var Re,Oe=4093624447;for(Re=0;Re<=31;Re++,Oe>>>=1)if(1&Oe&&Ae.dyn_ltree[2*Re]!==0)return 0;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return 1;for(Re=32;Re<m;Re++)if(Ae.dyn_ltree[2*Re]!==0)return 1;return 0})(ee)),ie(ee,ee.l_desc),ie(ee,ee.d_desc),ve=(function(Ae){var Re;for(J(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),J(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),ie(Ae,Ae.bl_desc),Re=18;3<=Re&&Ae.bl_tree[2*R[Re]+1]===0;Re--);return Ae.opt_len+=3*(Re+1)+5+5+4,Re})(ee),he=ee.opt_len+3+7>>>3,(fe=ee.static_len+3+7>>>3)<=he&&(he=fe)):he=fe=te+5,te+4<=he&&le!==-1?ue(ee,le,te,ae):ee.strategy===4||fe===he?(q(ee,2+(ae?1:0),3),Z(ee,N,j)):(q(ee,4+(ae?1:0),3),(function(Ae,Re,Oe,ut){var He;for(q(Ae,Re-257,5),q(Ae,Oe-1,5),q(Ae,ut-4,4),He=0;He<ut;He++)q(Ae,Ae.bl_tree[2*R[He]+1],3);ne(Ae,Ae.dyn_ltree,Re-1),ne(Ae,Ae.dyn_dtree,Oe-1)})(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,ve+1),Z(ee,ee.dyn_ltree,ee.dyn_dtree)),K(ee),ae&&k(ee)},p._tr_tally=function(ee,le,te){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=le>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&le,ee.pending_buf[ee.l_buf+ee.last_lit]=255&te,ee.last_lit++,le===0?ee.dyn_ltree[2*te]++:(ee.matches++,le--,ee.dyn_ltree[2*(E[te]+m+1)]++,ee.dyn_dtree[2*S(le)]++),ee.last_lit===ee.lit_bufsize-1},p._tr_align=function(ee){q(ee,2,3),z(ee,256,N),(function(le){le.bi_valid===16?(F(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(ee)}},{"../utils/common":41}],53:[function(d,f,p){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,f,p){(function(h){(function(y,m){if(!y.setImmediate){var _,x,D,L,$=1,V={},R=!1,N=y.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(y);j=j&&j.setTimeout?j:y,_={}.toString.call(y.process)==="[object process]"?function(A){r.nextTick(function(){E(A)})}:(function(){if(y.postMessage&&!y.importScripts){var A=!0,g=y.onmessage;return y.onmessage=function(){A=!1},y.postMessage("","*"),y.onmessage=g,A}})()?(L="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",I,!1):y.attachEvent("onmessage",I),function(A){y.postMessage(L+A,"*")}):y.MessageChannel?((D=new MessageChannel).port1.onmessage=function(A){E(A.data)},function(A){D.port2.postMessage(A)}):N&&"onreadystatechange"in N.createElement("script")?(x=N.documentElement,function(A){var g=N.createElement("script");g.onreadystatechange=function(){E(A),g.onreadystatechange=null,x.removeChild(g),g=null},x.appendChild(g)}):function(A){setTimeout(E,0,A)},j.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var g=new Array(arguments.length-1),v=0;v<g.length;v++)g[v]=arguments[v+1];var w={callback:A,args:g};return V[$]=w,_($),$++},j.clearImmediate=O}function O(A){delete V[A]}function E(A){if(R)setTimeout(E,0,A);else{var g=V[A];if(g){R=!0;try{(function(v){var w=v.callback,b=v.args;switch(b.length){case 0:w();break;case 1:w(b[0]);break;case 2:w(b[0],b[1]);break;case 3:w(b[0],b[1],b[2]);break;default:w.apply(void 0,b)}})(g)}finally{O(A),R=!1}}}}function I(A){A.source===y&&typeof A.data=="string"&&A.data.indexOf(L)===0&&E(+A.data.slice(L.length))}})(typeof self>"u"?h===void 0?this:h:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,e,n){(function(r){(function(){"use strict";var i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source),s=typeof r=="object"&&r&&r.Object===Object&&r,a=typeof self=="object"&&self&&self.Object===Object&&self,c=s||a||Function("return this")(),u=Object.prototype.toString,l=c.Symbol,d=l?l.prototype:void 0,f=d?d.toString:void 0;function p(h){if(typeof h=="string")return h;if((function(m){return typeof m=="symbol"||(function(_){return!!_&&typeof _=="object"})(m)&&u.call(m)=="[object Symbol]"})(h))return f?f.call(h):"";var y=h+"";return y=="0"&&1/h==-1/0?"-0":y}e.exports=function(h){var y;return(h=(y=h)==null?"":p(y))&&o.test(h)?h.replace(i,"\\$&"):h}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,e,n){(function(r){(function(){"use strict";var i="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,l=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[i]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[o]=y["[object Number]"]=y[s]=y["[object RegExp]"]=y[a]=y["[object String]"]=y["[object WeakMap]"]=!1;var m=typeof r=="object"&&r&&r.Object===Object&&r,_=typeof self=="object"&&self&&self.Object===Object&&self,x=m||_||Function("return this")(),D=typeof n=="object"&&n&&!n.nodeType&&n,L=D&&typeof e=="object"&&e&&!e.nodeType&&e,$=L&&L.exports===D&&m.process,V=(function(){try{return $&&$.binding("util")}catch{}})(),R=V&&V.isTypedArray;function N(se,be,De,Ie){for(var Be=-1,st=se?se.length:0;++Be<st;){var at=se[Be];be(Ie,at,De(at),se)}return Ie}function j(se,be){for(var De=-1,Ie=se?se.length:0;++De<Ie;)if(be(se[De],De,se))return!0;return!1}function O(se){var be=!1;if(se!=null&&typeof se.toString!="function")try{be=!!(se+"")}catch{}return be}function E(se){var be=-1,De=Array(se.size);return se.forEach(function(Ie,Be){De[++be]=[Be,Ie]}),De}function I(se){var be=-1,De=Array(se.size);return se.forEach(function(Ie){De[++be]=Ie}),De}var A,g,v,w=Array.prototype,b=Function.prototype,C=Object.prototype,S=x["__core-js_shared__"],F=(A=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",q=b.toString,z=C.hasOwnProperty,Y=C.toString,P=RegExp("^"+q.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=x.Symbol,k=x.Uint8Array,M=C.propertyIsEnumerable,H=w.splice,Z=(g=Object.keys,v=Object,function(se){return g(v(se))}),ie=vt(x,"DataView"),J=vt(x,"Map"),ne=vt(x,"Promise"),de=vt(x,"Set"),ue=vt(x,"WeakMap"),ee=vt(Object,"create"),le=xe(ie),te=xe(J),ae=xe(ne),he=xe(de),fe=xe(ue),ve=K?K.prototype:void 0,Ae=ve?ve.valueOf:void 0,Re=ve?ve.toString:void 0;function Oe(se){var be=-1,De=se?se.length:0;for(this.clear();++be<De;){var Ie=se[be];this.set(Ie[0],Ie[1])}}function ut(se){var be=-1,De=se?se.length:0;for(this.clear();++be<De;){var Ie=se[be];this.set(Ie[0],Ie[1])}}function He(se){var be=-1,De=se?se.length:0;for(this.clear();++be<De;){var Ie=se[be];this.set(Ie[0],Ie[1])}}function Ye(se){var be=-1,De=se?se.length:0;for(this.__data__=new He;++be<De;)this.add(se[be])}function Ht(se){this.__data__=new ut(se)}function dt(se,be){var De=et(se)||yt(se)?(function(at,Yt){for(var Dt=-1,St=Array(at);++Dt<at;)St[Dt]=Yt(Dt);return St})(se.length,String):[],Ie=De.length,Be=!!Ie;for(var st in se)!be&&!z.call(se,st)||Be&&(st=="length"||kt(st,Ie))||De.push(st);return De}function Qe(se,be){for(var De=se.length;De--;)if(nn(se[De][0],be))return De;return-1}function pt(se,be,De,Ie){return Nt(se,function(Be,st,at){be(Ie,Be,De(Be),at)}),Ie}Oe.prototype.clear=function(){this.__data__=ee?ee(null):{}},Oe.prototype.delete=function(se){return this.has(se)&&delete this.__data__[se]},Oe.prototype.get=function(se){var be=this.__data__;if(ee){var De=be[se];return De==="__lodash_hash_undefined__"?void 0:De}return z.call(be,se)?be[se]:void 0},Oe.prototype.has=function(se){var be=this.__data__;return ee?be[se]!==void 0:z.call(be,se)},Oe.prototype.set=function(se,be){return this.__data__[se]=ee&&be===void 0?"__lodash_hash_undefined__":be,this},ut.prototype.clear=function(){this.__data__=[]},ut.prototype.delete=function(se){var be=this.__data__,De=Qe(be,se);return!(De<0)&&(De==be.length-1?be.pop():H.call(be,De,1),!0)},ut.prototype.get=function(se){var be=this.__data__,De=Qe(be,se);return De<0?void 0:be[De][1]},ut.prototype.has=function(se){return Qe(this.__data__,se)>-1},ut.prototype.set=function(se,be){var De=this.__data__,Ie=Qe(De,se);return Ie<0?De.push([se,be]):De[Ie][1]=be,this},He.prototype.clear=function(){this.__data__={hash:new Oe,map:new(J||ut),string:new Oe}},He.prototype.delete=function(se){return Ct(this,se).delete(se)},He.prototype.get=function(se){return Ct(this,se).get(se)},He.prototype.has=function(se){return Ct(this,se).has(se)},He.prototype.set=function(se,be){return Ct(this,se).set(se,be),this},Ye.prototype.add=Ye.prototype.push=function(se){return this.__data__.set(se,"__lodash_hash_undefined__"),this},Ye.prototype.has=function(se){return this.__data__.has(se)},Ht.prototype.clear=function(){this.__data__=new ut},Ht.prototype.delete=function(se){return this.__data__.delete(se)},Ht.prototype.get=function(se){return this.__data__.get(se)},Ht.prototype.has=function(se){return this.__data__.has(se)},Ht.prototype.set=function(se,be){var De=this.__data__;if(De instanceof ut){var Ie=De.__data__;if(!J||Ie.length<199)return Ie.push([se,be]),this;De=this.__data__=new He(Ie)}return De.set(se,be),this};var Ue,Ve,Nt=(Ue=function(se,be){return se&&nt(se,be,rr)},function(se,be){if(se==null)return se;if(!fn(se))return Ue(se,be);for(var De=se.length,Ie=Ve?De:-1,Be=Object(se);(Ve?Ie--:++Ie<De)&&be(Be[Ie],Ie,Be)!==!1;);return se}),nt=(function(se){return function(be,De,Ie){for(var Be=-1,st=Object(be),at=Ie(be),Yt=at.length;Yt--;){var Dt=at[se?Yt:++Be];if(De(st[Dt],Dt,st)===!1)break}return be}})();function mt(se,be){for(var De=0,Ie=(be=_t(be,se)?[be]:Mt(be)).length;se!=null&&De<Ie;)se=se[we(be[De++])];return De&&De==Ie?se:void 0}function Ar(se,be){return se!=null&&be in Object(se)}function gt(se,be,De,Ie,Be){return se===be||(se==null||be==null||!Sn(se)&&!Gn(be)?se!=se&&be!=be:(function(st,at,Yt,Dt,St,Ot){var Kn=et(st),tr=et(at),Zt="[object Array]",en="[object Array]";Kn||(Zt=(Zt=er(st))==i?s:Zt),tr||(en=(en=er(at))==i?s:en);var ir=Zt==s&&!O(st),$r=en==s&&!O(at),oi=Zt==en;if(oi&&!ir)return Ot||(Ot=new Ht),Kn||Mr(st)?Mn(st,at,Yt,Dt,St,Ot):(function(hn,_n,rd,Ss,yl,_i,wi){switch(rd){case"[object DataView]":if(hn.byteLength!=_n.byteLength||hn.byteOffset!=_n.byteOffset)return!1;hn=hn.buffer,_n=_n.buffer;case"[object ArrayBuffer]":return!(hn.byteLength!=_n.byteLength||!Ss(new k(hn),new k(_n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nn(+hn,+_n);case"[object Error]":return hn.name==_n.name&&hn.message==_n.message;case"[object RegExp]":case"[object String]":return hn==_n+"";case o:var si=E;case a:var la=2&_i;if(si||(si=I),hn.size!=_n.size&&!la)return!1;var lc=wi.get(hn);if(lc)return lc==_n;_i|=1,wi.set(hn,_n);var Ts=Mn(si(hn),si(_n),Ss,yl,_i,wi);return wi.delete(hn),Ts;case"[object Symbol]":if(Ae)return Ae.call(hn)==Ae.call(_n)}return!1})(st,at,Zt,Yt,Dt,St,Ot);if(!(2&St)){var cn=ir&&z.call(st,"__wrapped__"),so=$r&&z.call(at,"__wrapped__");if(cn||so){var Xo=cn?st.value():st,ao=so?at.value():at;return Ot||(Ot=new Ht),Yt(Xo,ao,Dt,St,Ot)}}return oi?(Ot||(Ot=new Ht),(function(hn,_n,rd,Ss,yl,_i){var wi=2&yl,si=rr(hn),la=si.length,lc=rr(_n).length;if(la!=lc&&!wi)return!1;for(var Ts=la;Ts--;){var So=si[Ts];if(!(wi?So in _n:z.call(_n,So)))return!1}var id=_i.get(hn);if(id&&_i.get(_n))return id==_n;var To=!0;_i.set(hn,_n),_i.set(_n,hn);for(var od=wi;++Ts<la;){So=si[Ts];var vl=hn[So],bl=_n[So];if(Ss)var Do=wi?Ss(bl,vl,So,_n,hn,_i):Ss(vl,bl,So,hn,_n,_i);if(!(Do===void 0?vl===bl||rd(vl,bl,Ss,yl,_i):Do)){To=!1;break}od||(od=So=="constructor")}if(To&&!od){var _l=hn.constructor,Ds=_n.constructor;_l==Ds||!("constructor"in hn)||!("constructor"in _n)||typeof _l=="function"&&_l instanceof _l&&typeof Ds=="function"&&Ds instanceof Ds||(To=!1)}return _i.delete(hn),_i.delete(_n),To})(st,at,Yt,Dt,St,Ot)):!1})(se,be,gt,De,Ie,Be))}function bt(se){return!(!Sn(se)||(function(be){return!!F&&F in be})(se))&&(Wt(se)||O(se)?P:p).test(xe(se))}function Jn(se){return typeof se=="function"?se:se==null?kr:typeof se=="object"?et(se)?(function(Ie,Be){return _t(Ie)&&Br(Be)?Pt(we(Ie),Be):function(st){var at=(function(Yt,Dt,St){var Ot=Yt==null?void 0:mt(Yt,Dt);return Ot===void 0?St:Ot})(st,Ie);return at===void 0&&at===Be?(function(Yt,Dt){return Yt!=null&&(function(St,Ot,Kn){Ot=_t(Ot,St)?[Ot]:Mt(Ot);for(var tr,Zt=-1,en=Ot.length;++Zt<en;){var ir=we(Ot[Zt]);if(!(tr=St!=null&&Kn(St,ir)))break;St=St[ir]}return tr||!!(en=St?St.length:0)&&Kt(en)&&kt(ir,en)&&(et(St)||yt(St))})(Yt,Dt,Ar)})(st,Ie):gt(Be,at,void 0,3)}})(se[0],se[1]):(function(Ie){var Be=(function(st){for(var at=rr(st),Yt=at.length;Yt--;){var Dt=at[Yt],St=st[Dt];at[Yt]=[Dt,St,Br(St)]}return at})(Ie);return Be.length==1&&Be[0][2]?Pt(Be[0][0],Be[0][1]):function(st){return st===Ie||(function(at,Yt,Dt,St){var Ot=Dt.length,Kn=Ot,tr=!St;if(at==null)return!Kn;for(at=Object(at);Ot--;){var Zt=Dt[Ot];if(tr&&Zt[2]?Zt[1]!==at[Zt[0]]:!(Zt[0]in at))return!1}for(;++Ot<Kn;){var en=(Zt=Dt[Ot])[0],ir=at[en],$r=Zt[1];if(tr&&Zt[2]){if(ir===void 0&&!(en in at))return!1}else{var oi=new Ht;if(St)var cn=St(ir,$r,en,at,Yt,oi);if(!(cn===void 0?gt($r,ir,St,3,oi):cn))return!1}}return!0})(st,Ie,Be)}})(se):_t(be=se)?(De=we(be),function(Ie){return Ie?.[De]}):(function(Ie){return function(Be){return mt(Be,Ie)}})(be);var be,De}function It(se){if(De=(be=se)&&be.constructor,Ie=typeof De=="function"&&De.prototype||C,be!==Ie)return Z(se);var be,De,Ie,Be=[];for(var st in Object(se))z.call(se,st)&&st!="constructor"&&Be.push(st);return Be}function Mt(se){return et(se)?se:ce(se)}function Mn(se,be,De,Ie,Be,st){var at=2&Be,Yt=se.length,Dt=be.length;if(Yt!=Dt&&!(at&&Dt>Yt))return!1;var St=st.get(se);if(St&&st.get(be))return St==be;var Ot=-1,Kn=!0,tr=1&Be?new Ye:void 0;for(st.set(se,be),st.set(be,se);++Ot<Yt;){var Zt=se[Ot],en=be[Ot];if(Ie)var ir=at?Ie(en,Zt,Ot,be,se,st):Ie(Zt,en,Ot,se,be,st);if(ir!==void 0){if(ir)continue;Kn=!1;break}if(tr){if(!j(be,function($r,oi){if(!tr.has(oi)&&(Zt===$r||De(Zt,$r,Ie,Be,st)))return tr.add(oi)})){Kn=!1;break}}else if(Zt!==en&&!De(Zt,en,Ie,Be,st)){Kn=!1;break}}return st.delete(se),st.delete(be),Kn}function Ct(se,be){var De,Ie,Be=se.__data__;return((Ie=typeof(De=be))=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?De!=="__proto__":De===null)?Be[typeof be=="string"?"string":"hash"]:Be.map}function vt(se,be){var De=(function(Ie,Be){return Ie?.[Be]})(se,be);return bt(De)?De:void 0}var er=function(se){return Y.call(se)};function kt(se,be){return!!(be=be??9007199254740991)&&(typeof se=="number"||h.test(se))&&se>-1&&se%1==0&&se<be}function _t(se,be){if(et(se))return!1;var De=typeof se;return!(De!="number"&&De!="symbol"&&De!="boolean"&&se!=null&&!gr(se))||u.test(se)||!c.test(se)||be!=null&&se in Object(be)}function Br(se){return se==se&&!Sn(se)}function Pt(se,be){return function(De){return De!=null&&De[se]===be&&(be!==void 0||se in Object(De))}}(ie&&er(new ie(new ArrayBuffer(1)))!="[object DataView]"||J&&er(new J)!=o||ne&&er(ne.resolve())!="[object Promise]"||de&&er(new de)!=a||ue&&er(new ue)!="[object WeakMap]")&&(er=function(se){var be=Y.call(se),De=be==s?se.constructor:void 0,Ie=De?xe(De):void 0;if(Ie)switch(Ie){case le:return"[object DataView]";case te:return o;case ae:return"[object Promise]";case he:return a;case fe:return"[object WeakMap]"}return be});var ce=tt(function(se){var be;se=(be=se)==null?"":(function(Ie){if(typeof Ie=="string")return Ie;if(gr(Ie))return Re?Re.call(Ie):"";var Be=Ie+"";return Be=="0"&&1/Ie==-1/0?"-0":Be})(be);var De=[];return l.test(se)&&De.push(""),se.replace(d,function(Ie,Be,st,at){De.push(st?at.replace(f,"$1"):Be||Ie)}),De});function we(se){if(typeof se=="string"||gr(se))return se;var be=se+"";return be=="0"&&1/se==-1/0?"-0":be}function xe(se){if(se!=null){try{return q.call(se)}catch{}try{return se+""}catch{}}return""}var ke,tn,We=(ke=function(se,be,De){z.call(se,De)?se[De].push(be):se[De]=[be]},function(se,be){var De=et(se)?N:pt,Ie=tn?tn():{};return De(se,ke,Jn(be),Ie)});function tt(se,be){if(typeof se!="function"||be&&typeof be!="function")throw new TypeError("Expected a function");var De=function(){var Ie=arguments,Be=be?be.apply(this,Ie):Ie[0],st=De.cache;if(st.has(Be))return st.get(Be);var at=se.apply(this,Ie);return De.cache=st.set(Be,at),at};return De.cache=new(tt.Cache||He),De}function nn(se,be){return se===be||se!=se&&be!=be}function yt(se){return(function(be){return Gn(be)&&fn(be)})(se)&&z.call(se,"callee")&&(!M.call(se,"callee")||Y.call(se)==i)}tt.Cache=He;var et=Array.isArray;function fn(se){return se!=null&&Kt(se.length)&&!Wt(se)}function Wt(se){var be=Sn(se)?Y.call(se):"";return be=="[object Function]"||be=="[object GeneratorFunction]"}function Kt(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=9007199254740991}function Sn(se){var be=typeof se;return!!se&&(be=="object"||be=="function")}function Gn(se){return!!se&&typeof se=="object"}function gr(se){return typeof se=="symbol"||Gn(se)&&Y.call(se)=="[object Symbol]"}var Mr=R?(function(se){return function(be){return se(be)}})(R):function(se){return Gn(se)&&Kt(se.length)&&!!y[Y.call(se)]};function rr(se){return fn(se)?dt(se):It(se)}function kr(se){return se}e.exports=We}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(i){return i===!0||i===!1||(function(o){return!!o&&typeof o=="object"})(i)&&r.call(i)=="[object Boolean]"}},{}],445:[function(t,e,n){(function(r){(function(){"use strict";var i="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l[o]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l[a]=l["[object String]"]=l["[object WeakMap]"]=!1;var d=typeof r=="object"&&r&&r.Object===Object&&r,f=typeof self=="object"&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),h=typeof n=="object"&&n&&!n.nodeType&&n,y=h&&typeof e=="object"&&e&&!e.nodeType&&e,m=y&&y.exports===h,_=m&&d.process,x=(function(){try{return _&&_.binding&&_.binding("util")}catch{}})(),D=x&&x.isTypedArray;function L(ce,we){for(var xe=-1,ke=ce==null?0:ce.length;++xe<ke;)if(we(ce[xe],xe,ce))return!0;return!1}function $(ce){var we=-1,xe=Array(ce.size);return ce.forEach(function(ke,tn){xe[++we]=[tn,ke]}),xe}function V(ce){var we=-1,xe=Array(ce.size);return ce.forEach(function(ke){xe[++we]=ke}),xe}var R,N,j,O=Array.prototype,E=Function.prototype,I=Object.prototype,A=p["__core-js_shared__"],g=E.toString,v=I.hasOwnProperty,w=(R=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",b=I.toString,C=RegExp("^"+g.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=m?p.Buffer:void 0,F=p.Symbol,q=p.Uint8Array,z=I.propertyIsEnumerable,Y=O.splice,P=F?F.toStringTag:void 0,K=Object.getOwnPropertySymbols,k=S?S.isBuffer:void 0,M=(N=Object.keys,j=Object,function(ce){return N(j(ce))}),H=mt(p,"DataView"),Z=mt(p,"Map"),ie=mt(p,"Promise"),J=mt(p,"Set"),ne=mt(p,"WeakMap"),de=mt(Object,"create"),ue=Jn(H),ee=Jn(Z),le=Jn(ie),te=Jn(J),ae=Jn(ne),he=F?F.prototype:void 0,fe=he?he.valueOf:void 0;function ve(ce){var we=-1,xe=ce==null?0:ce.length;for(this.clear();++we<xe;){var ke=ce[we];this.set(ke[0],ke[1])}}function Ae(ce){var we=-1,xe=ce==null?0:ce.length;for(this.clear();++we<xe;){var ke=ce[we];this.set(ke[0],ke[1])}}function Re(ce){var we=-1,xe=ce==null?0:ce.length;for(this.clear();++we<xe;){var ke=ce[we];this.set(ke[0],ke[1])}}function Oe(ce){var we=-1,xe=ce==null?0:ce.length;for(this.__data__=new Re;++we<xe;)this.add(ce[we])}function ut(ce){var we=this.__data__=new Ae(ce);this.size=we.size}function He(ce,we){var xe=Mn(ce),ke=!xe&&Mt(ce),tn=!xe&&!ke&&Ct(ce),We=!xe&&!ke&&!tn&&Br(ce),tt=xe||ke||tn||We,nn=tt?(function(fn,Wt){for(var Kt=-1,Sn=Array(fn);++Kt<fn;)Sn[Kt]=Wt(Kt);return Sn})(ce.length,String):[],yt=nn.length;for(var et in ce)!we&&!v.call(ce,et)||tt&&(et=="length"||tn&&(et=="offset"||et=="parent")||We&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||bt(et,yt))||nn.push(et);return nn}function Ye(ce,we){for(var xe=ce.length;xe--;)if(It(ce[xe][0],we))return xe;return-1}function Ht(ce){return ce==null?ce===void 0?"[object Undefined]":"[object Null]":P&&P in Object(ce)?(function(we){var xe=v.call(we,P),ke=we[P];try{we[P]=void 0;var tn=!0}catch{}var We=b.call(we);return tn&&(xe?we[P]=ke:delete we[P]),We})(ce):(function(we){return b.call(we)})(ce)}function dt(ce){return _t(ce)&&Ht(ce)==i}function Qe(ce,we,xe,ke,tn){return ce===we||(ce==null||we==null||!_t(ce)&&!_t(we)?ce!=ce&&we!=we:(function(We,tt,nn,yt,et,fn){var Wt=Mn(We),Kt=Mn(tt),Sn=Wt?"[object Array]":gt(We),Gn=Kt?"[object Array]":gt(tt),gr=(Sn=Sn==i?s:Sn)==s,Mr=(Gn=Gn==i?s:Gn)==s,rr=Sn==Gn;if(rr&&Ct(We)){if(!Ct(tt))return!1;Wt=!0,gr=!1}if(rr&&!gr)return fn||(fn=new ut),Wt||Br(We)?Ve(We,tt,nn,yt,et,fn):(function(Ie,Be,st,at,Yt,Dt,St){switch(st){case"[object DataView]":if(Ie.byteLength!=Be.byteLength||Ie.byteOffset!=Be.byteOffset)return!1;Ie=Ie.buffer,Be=Be.buffer;case"[object ArrayBuffer]":return!(Ie.byteLength!=Be.byteLength||!Dt(new q(Ie),new q(Be)));case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+Ie,+Be);case"[object Error]":return Ie.name==Be.name&&Ie.message==Be.message;case"[object RegExp]":case"[object String]":return Ie==Be+"";case o:var Ot=$;case a:var Kn=1&at;if(Ot||(Ot=V),Ie.size!=Be.size&&!Kn)return!1;var tr=St.get(Ie);if(tr)return tr==Be;at|=2,St.set(Ie,Be);var Zt=Ve(Ot(Ie),Ot(Be),at,Yt,Dt,St);return St.delete(Ie),Zt;case"[object Symbol]":if(fe)return fe.call(Ie)==fe.call(Be)}return!1})(We,tt,Sn,nn,yt,et,fn);if(!(1&nn)){var kr=gr&&v.call(We,"__wrapped__"),se=Mr&&v.call(tt,"__wrapped__");if(kr||se){var be=kr?We.value():We,De=se?tt.value():tt;return fn||(fn=new ut),et(be,De,nn,yt,fn)}}return rr?(fn||(fn=new ut),(function(Ie,Be,st,at,Yt,Dt){var St=1&st,Ot=Nt(Ie),Kn=Ot.length,tr=Nt(Be).length;if(Kn!=tr&&!St)return!1;for(var Zt=Kn;Zt--;){var en=Ot[Zt];if(!(St?en in Be:v.call(Be,en)))return!1}var ir=Dt.get(Ie);if(ir&&Dt.get(Be))return ir==Be;var $r=!0;Dt.set(Ie,Be),Dt.set(Be,Ie);for(var oi=St;++Zt<Kn;){en=Ot[Zt];var cn=Ie[en],so=Be[en];if(at)var Xo=St?at(so,cn,en,Be,Ie,Dt):at(cn,so,en,Ie,Be,Dt);if(!(Xo===void 0?cn===so||Yt(cn,so,st,at,Dt):Xo)){$r=!1;break}oi||(oi=en=="constructor")}if($r&&!oi){var ao=Ie.constructor,hn=Be.constructor;ao==hn||!("constructor"in Ie)||!("constructor"in Be)||typeof ao=="function"&&ao instanceof ao&&typeof hn=="function"&&hn instanceof hn||($r=!1)}return Dt.delete(Ie),Dt.delete(Be),$r})(We,tt,nn,yt,et,fn)):!1})(ce,we,xe,ke,Qe,tn))}function pt(ce){return!(!kt(ce)||(function(we){return!!w&&w in we})(ce))&&(vt(ce)?C:c).test(Jn(ce))}function Ue(ce){if(xe=(we=ce)&&we.constructor,ke=typeof xe=="function"&&xe.prototype||I,we!==ke)return M(ce);var we,xe,ke,tn=[];for(var We in Object(ce))v.call(ce,We)&&We!="constructor"&&tn.push(We);return tn}function Ve(ce,we,xe,ke,tn,We){var tt=1&xe,nn=ce.length,yt=we.length;if(nn!=yt&&!(tt&&yt>nn))return!1;var et=We.get(ce);if(et&&We.get(we))return et==we;var fn=-1,Wt=!0,Kt=2&xe?new Oe:void 0;for(We.set(ce,we),We.set(we,ce);++fn<nn;){var Sn=ce[fn],Gn=we[fn];if(ke)var gr=tt?ke(Gn,Sn,fn,we,ce,We):ke(Sn,Gn,fn,ce,we,We);if(gr!==void 0){if(gr)continue;Wt=!1;break}if(Kt){if(!L(we,function(Mr,rr){if(kr=rr,!Kt.has(kr)&&(Sn===Mr||tn(Sn,Mr,xe,ke,We)))return Kt.push(rr);var kr})){Wt=!1;break}}else if(Sn!==Gn&&!tn(Sn,Gn,xe,ke,We)){Wt=!1;break}}return We.delete(ce),We.delete(we),Wt}function Nt(ce){return(function(we,xe,ke){var tn=xe(we);return Mn(we)?tn:(function(We,tt){for(var nn=-1,yt=tt.length,et=We.length;++nn<yt;)We[et+nn]=tt[nn];return We})(tn,ke(we))})(ce,Pt,Ar)}function nt(ce,we){var xe,ke,tn=ce.__data__;return((ke=typeof(xe=we))=="string"||ke=="number"||ke=="symbol"||ke=="boolean"?xe!=="__proto__":xe===null)?tn[typeof we=="string"?"string":"hash"]:tn.map}function mt(ce,we){var xe=(function(ke,tn){return ke?.[tn]})(ce,we);return pt(xe)?xe:void 0}ve.prototype.clear=function(){this.__data__=de?de(null):{},this.size=0},ve.prototype.delete=function(ce){var we=this.has(ce)&&delete this.__data__[ce];return this.size-=we?1:0,we},ve.prototype.get=function(ce){var we=this.__data__;if(de){var xe=we[ce];return xe==="__lodash_hash_undefined__"?void 0:xe}return v.call(we,ce)?we[ce]:void 0},ve.prototype.has=function(ce){var we=this.__data__;return de?we[ce]!==void 0:v.call(we,ce)},ve.prototype.set=function(ce,we){var xe=this.__data__;return this.size+=this.has(ce)?0:1,xe[ce]=de&&we===void 0?"__lodash_hash_undefined__":we,this},Ae.prototype.clear=function(){this.__data__=[],this.size=0},Ae.prototype.delete=function(ce){var we=this.__data__,xe=Ye(we,ce);return!(xe<0)&&(xe==we.length-1?we.pop():Y.call(we,xe,1),--this.size,!0)},Ae.prototype.get=function(ce){var we=this.__data__,xe=Ye(we,ce);return xe<0?void 0:we[xe][1]},Ae.prototype.has=function(ce){return Ye(this.__data__,ce)>-1},Ae.prototype.set=function(ce,we){var xe=this.__data__,ke=Ye(xe,ce);return ke<0?(++this.size,xe.push([ce,we])):xe[ke][1]=we,this},Re.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(Z||Ae),string:new ve}},Re.prototype.delete=function(ce){var we=nt(this,ce).delete(ce);return this.size-=we?1:0,we},Re.prototype.get=function(ce){return nt(this,ce).get(ce)},Re.prototype.has=function(ce){return nt(this,ce).has(ce)},Re.prototype.set=function(ce,we){var xe=nt(this,ce),ke=xe.size;return xe.set(ce,we),this.size+=xe.size==ke?0:1,this},Oe.prototype.add=Oe.prototype.push=function(ce){return this.__data__.set(ce,"__lodash_hash_undefined__"),this},Oe.prototype.has=function(ce){return this.__data__.has(ce)},ut.prototype.clear=function(){this.__data__=new Ae,this.size=0},ut.prototype.delete=function(ce){var we=this.__data__,xe=we.delete(ce);return this.size=we.size,xe},ut.prototype.get=function(ce){return this.__data__.get(ce)},ut.prototype.has=function(ce){return this.__data__.has(ce)},ut.prototype.set=function(ce,we){var xe=this.__data__;if(xe instanceof Ae){var ke=xe.__data__;if(!Z||ke.length<199)return ke.push([ce,we]),this.size=++xe.size,this;xe=this.__data__=new Re(ke)}return xe.set(ce,we),this.size=xe.size,this};var Ar=K?function(ce){return ce==null?[]:(ce=Object(ce),(function(we,xe){for(var ke=-1,tn=we==null?0:we.length,We=0,tt=[];++ke<tn;){var nn=we[ke];xe(nn,ke,we)&&(tt[We++]=nn)}return tt})(K(ce),function(we){return z.call(ce,we)}))}:function(){return[]},gt=Ht;function bt(ce,we){return!!(we=we??9007199254740991)&&(typeof ce=="number"||u.test(ce))&&ce>-1&&ce%1==0&&ce<we}function Jn(ce){if(ce!=null){try{return g.call(ce)}catch{}try{return ce+""}catch{}}return""}function It(ce,we){return ce===we||ce!=ce&&we!=we}(H&&gt(new H(new ArrayBuffer(1)))!="[object DataView]"||Z&&gt(new Z)!=o||ie&&gt(ie.resolve())!="[object Promise]"||J&&gt(new J)!=a||ne&&gt(new ne)!="[object WeakMap]")&&(gt=function(ce){var we=Ht(ce),xe=we==s?ce.constructor:void 0,ke=xe?Jn(xe):"";if(ke)switch(ke){case ue:return"[object DataView]";case ee:return o;case le:return"[object Promise]";case te:return a;case ae:return"[object WeakMap]"}return we});var Mt=dt((function(){return arguments})())?dt:function(ce){return _t(ce)&&v.call(ce,"callee")&&!z.call(ce,"callee")},Mn=Array.isArray,Ct=k||function(){return!1};function vt(ce){if(!kt(ce))return!1;var we=Ht(ce);return we=="[object Function]"||we=="[object GeneratorFunction]"||we=="[object AsyncFunction]"||we=="[object Proxy]"}function er(ce){return typeof ce=="number"&&ce>-1&&ce%1==0&&ce<=9007199254740991}function kt(ce){var we=typeof ce;return ce!=null&&(we=="object"||we=="function")}function _t(ce){return ce!=null&&typeof ce=="object"}var Br=D?(function(ce){return function(we){return ce(we)}})(D):function(ce){return _t(ce)&&er(ce.length)&&!!l[Ht(ce)]};function Pt(ce){return(we=ce)!=null&&er(we.length)&&!vt(we)?He(ce):Ue(ce);var we}e.exports=function(ce,we){return Qe(ce,we)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,e,n){(function(r){(function(){"use strict";var i=typeof r=="object"&&r&&r.Object===Object&&r,o=typeof self=="object"&&self&&self.Object===Object&&self,s=i||o||Function("return this")(),a=Object.prototype,c=a.hasOwnProperty,u=a.toString,l=s.Symbol,d=l?l.toStringTag:void 0;function f(p){return p==null?p===void 0?"[object Undefined]":"[object Null]":d&&d in Object(p)?(function(h){var y=c.call(h,d),m=h[d];try{h[d]=void 0;var _=!0}catch{}var x=u.call(h);return _&&(y?h[d]=m:delete h[d]),x})(p):(function(h){return u.call(h)})(p)}e.exports=function(p){if(!(function(y){var m=typeof y;return y!=null&&(m=="object"||m=="function")})(p))return!1;var h=f(p);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,e,n){"use strict";e.exports=function(r){return r==null}},{}],448:[function(t,e,n){"use strict";e.exports=function(r){return r===void 0}},{}],449:[function(t,e,n){(function(r){(function(){"use strict";var i=/^\[object .+?Constructor\]$/,o=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")();function c(q,z){return!!(q&&q.length)&&(function(Y,P,K){if(P!=P)return(function(H,Z,ie,J){for(var ne=H.length,de=ie+(J?1:-1);J?de--:++de<ne;)if(Z(H[de],de,H))return de;return-1})(Y,l,K);for(var k=K-1,M=Y.length;++k<M;)if(Y[k]===P)return k;return-1})(q,z,0)>-1}function u(q,z,Y){for(var P=-1,K=q?q.length:0;++P<K;)if(Y(z,q[P]))return!0;return!1}function l(q){return q!=q}function d(q,z){return q.has(z)}function f(q){var z=-1,Y=Array(q.size);return q.forEach(function(P){Y[++z]=P}),Y}var p,h=Array.prototype,y=Function.prototype,m=Object.prototype,_=a["__core-js_shared__"],x=(p=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",D=y.toString,L=m.hasOwnProperty,$=m.toString,V=RegExp("^"+D.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=h.splice,N=S(a,"Map"),j=S(a,"Set"),O=S(Object,"create");function E(q){var z=-1,Y=q?q.length:0;for(this.clear();++z<Y;){var P=q[z];this.set(P[0],P[1])}}function I(q){var z=-1,Y=q?q.length:0;for(this.clear();++z<Y;){var P=q[z];this.set(P[0],P[1])}}function A(q){var z=-1,Y=q?q.length:0;for(this.clear();++z<Y;){var P=q[z];this.set(P[0],P[1])}}function g(q){var z=-1,Y=q?q.length:0;for(this.__data__=new A;++z<Y;)this.add(q[z])}function v(q,z){for(var Y,P,K=q.length;K--;)if((Y=q[K][0])===(P=z)||Y!=Y&&P!=P)return K;return-1}function w(q){return!(!F(q)||(z=q,x&&x in z))&&((function(Y){var P=F(Y)?$.call(Y):"";return P=="[object Function]"||P=="[object GeneratorFunction]"})(q)||(function(Y){var P=!1;if(Y!=null&&typeof Y.toString!="function")try{P=!!(Y+"")}catch{}return P})(q)?V:i).test((function(Y){if(Y!=null){try{return D.call(Y)}catch{}try{return Y+""}catch{}}return""})(q));var z}E.prototype.clear=function(){this.__data__=O?O(null):{}},E.prototype.delete=function(q){return this.has(q)&&delete this.__data__[q]},E.prototype.get=function(q){var z=this.__data__;if(O){var Y=z[q];return Y==="__lodash_hash_undefined__"?void 0:Y}return L.call(z,q)?z[q]:void 0},E.prototype.has=function(q){var z=this.__data__;return O?z[q]!==void 0:L.call(z,q)},E.prototype.set=function(q,z){return this.__data__[q]=O&&z===void 0?"__lodash_hash_undefined__":z,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(q){var z=this.__data__,Y=v(z,q);return!(Y<0)&&(Y==z.length-1?z.pop():R.call(z,Y,1),!0)},I.prototype.get=function(q){var z=this.__data__,Y=v(z,q);return Y<0?void 0:z[Y][1]},I.prototype.has=function(q){return v(this.__data__,q)>-1},I.prototype.set=function(q,z){var Y=this.__data__,P=v(Y,q);return P<0?Y.push([q,z]):Y[P][1]=z,this},A.prototype.clear=function(){this.__data__={hash:new E,map:new(N||I),string:new E}},A.prototype.delete=function(q){return C(this,q).delete(q)},A.prototype.get=function(q){return C(this,q).get(q)},A.prototype.has=function(q){return C(this,q).has(q)},A.prototype.set=function(q,z){return C(this,q).set(q,z),this},g.prototype.add=g.prototype.push=function(q){return this.__data__.set(q,"__lodash_hash_undefined__"),this},g.prototype.has=function(q){return this.__data__.has(q)};var b=j&&1/f(new j([,-0]))[1]==1/0?function(q){return new j(q)}:function(){};function C(q,z){var Y,P,K=q.__data__;return((P=typeof(Y=z))=="string"||P=="number"||P=="symbol"||P=="boolean"?Y!=="__proto__":Y===null)?K[typeof z=="string"?"string":"hash"]:K.map}function S(q,z){var Y=(function(P,K){return P?.[K]})(q,z);return w(Y)?Y:void 0}function F(q){var z=typeof q;return!!q&&(z=="object"||z=="function")}e.exports=function(q){return q&&q.length?(function(z,Y,P){var K=-1,k=c,M=z.length,H=!0,Z=[],ie=Z;if(P)H=!1,k=u;else if(M>=200){var J=Y?null:b(z);if(J)return f(J);H=!1,k=d,ie=new g}else ie=Y?[]:Z;e:for(;++K<M;){var ne=z[K],de=Y?Y(ne):ne;if(ne=P||ne!==0?ne:0,H&&de==de){for(var ue=ie.length;ue--;)if(ie[ue]===de)continue e;Y&&ie.push(de),Z.push(ne)}else k(ie,de,P)||(ie!==Z&&ie.push(de),Z.push(ne))}return Z})(q):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,e,n){"use strict";var r=t("inherits"),i=t("hash-base"),o=t("safe-buffer").Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(p,h){return p<<h|p>>>32-h}function u(p,h,y,m,_,x,D){return c(p+(h&y|~h&m)+_+x|0,D)+h|0}function l(p,h,y,m,_,x,D){return c(p+(h&m|y&~m)+_+x|0,D)+h|0}function d(p,h,y,m,_,x,D){return c(p+(h^y^m)+_+x|0,D)+h|0}function f(p,h,y,m,_,x,D){return c(p+(y^(h|~m))+_+x|0,D)+h|0}r(a,i),a.prototype._update=function(){for(var p=s,h=0;h<16;++h)p[h]=this._block.readInt32LE(4*h);var y=this._a,m=this._b,_=this._c,x=this._d;y=u(y,m,_,x,p[0],3614090360,7),x=u(x,y,m,_,p[1],3905402710,12),_=u(_,x,y,m,p[2],606105819,17),m=u(m,_,x,y,p[3],3250441966,22),y=u(y,m,_,x,p[4],4118548399,7),x=u(x,y,m,_,p[5],1200080426,12),_=u(_,x,y,m,p[6],2821735955,17),m=u(m,_,x,y,p[7],4249261313,22),y=u(y,m,_,x,p[8],1770035416,7),x=u(x,y,m,_,p[9],2336552879,12),_=u(_,x,y,m,p[10],4294925233,17),m=u(m,_,x,y,p[11],2304563134,22),y=u(y,m,_,x,p[12],1804603682,7),x=u(x,y,m,_,p[13],4254626195,12),_=u(_,x,y,m,p[14],2792965006,17),y=l(y,m=u(m,_,x,y,p[15],1236535329,22),_,x,p[1],4129170786,5),x=l(x,y,m,_,p[6],3225465664,9),_=l(_,x,y,m,p[11],643717713,14),m=l(m,_,x,y,p[0],3921069994,20),y=l(y,m,_,x,p[5],3593408605,5),x=l(x,y,m,_,p[10],38016083,9),_=l(_,x,y,m,p[15],3634488961,14),m=l(m,_,x,y,p[4],3889429448,20),y=l(y,m,_,x,p[9],568446438,5),x=l(x,y,m,_,p[14],3275163606,9),_=l(_,x,y,m,p[3],4107603335,14),m=l(m,_,x,y,p[8],1163531501,20),y=l(y,m,_,x,p[13],2850285829,5),x=l(x,y,m,_,p[2],4243563512,9),_=l(_,x,y,m,p[7],1735328473,14),y=d(y,m=l(m,_,x,y,p[12],2368359562,20),_,x,p[5],4294588738,4),x=d(x,y,m,_,p[8],2272392833,11),_=d(_,x,y,m,p[11],1839030562,16),m=d(m,_,x,y,p[14],4259657740,23),y=d(y,m,_,x,p[1],2763975236,4),x=d(x,y,m,_,p[4],1272893353,11),_=d(_,x,y,m,p[7],4139469664,16),m=d(m,_,x,y,p[10],3200236656,23),y=d(y,m,_,x,p[13],681279174,4),x=d(x,y,m,_,p[0],3936430074,11),_=d(_,x,y,m,p[3],3572445317,16),m=d(m,_,x,y,p[6],76029189,23),y=d(y,m,_,x,p[9],3654602809,4),x=d(x,y,m,_,p[12],3873151461,11),_=d(_,x,y,m,p[15],530742520,16),y=f(y,m=d(m,_,x,y,p[2],3299628645,23),_,x,p[0],4096336452,6),x=f(x,y,m,_,p[7],1126891415,10),_=f(_,x,y,m,p[14],2878612391,15),m=f(m,_,x,y,p[5],4237533241,21),y=f(y,m,_,x,p[12],1700485571,6),x=f(x,y,m,_,p[3],2399980690,10),_=f(_,x,y,m,p[10],4293915773,15),m=f(m,_,x,y,p[1],2240044497,21),y=f(y,m,_,x,p[8],1873313359,6),x=f(x,y,m,_,p[15],4264355552,10),_=f(_,x,y,m,p[6],2734768916,15),m=f(m,_,x,y,p[13],1309151649,21),y=f(y,m,_,x,p[4],4149444226,6),x=f(x,y,m,_,p[11],3174756917,10),_=f(_,x,y,m,p[2],718787259,15),m=f(m,_,x,y,p[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+m|0,this._c=this._c+_|0,this._d=this._d+x|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=o.allocUnsafe(16);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p},e.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("brorand");function o(s){this.rand=s||new i.Rand}e.exports=o,o.create=function(s){return new o(s)},o.prototype._randbelow=function(s){var a=s.bitLength(),c=Math.ceil(a/8);do var u=new r(this.rand.generate(c));while(u.cmp(s)>=0);return u},o.prototype._randrange=function(s,a){var c=a.sub(s);return s.add(this._randbelow(c))},o.prototype.test=function(s,a,c){var u=s.bitLength(),l=r.mont(s),d=new r(1).toRed(l);a||(a=Math.max(1,u/48|0));for(var f=s.subn(1),p=0;!f.testn(p);p++);for(var h=s.shrn(p),y=f.toRed(l);a>0;a--){var m=this._randrange(new r(2),f);c&&c(m);var _=m.toRed(l).redPow(h);if(_.cmp(d)!==0&&_.cmp(y)!==0){for(var x=1;x<p;x++){if((_=_.redSqr()).cmp(d)===0)return!1;if(_.cmp(y)===0)break}if(x===p)return!1}}return!0},o.prototype.getDivisor=function(s,a){var c=s.bitLength(),u=r.mont(s),l=new r(1).toRed(u);a||(a=Math.max(1,c/48|0));for(var d=s.subn(1),f=0;!d.testn(f);f++);for(var p=s.shrn(f),h=d.toRed(u);a>0;a--){var y=this._randrange(new r(2),d),m=s.gcd(y);if(m.cmpn(1)!==0)return m;var _=y.toRed(u).redPow(p);if(_.cmp(l)!==0&&_.cmp(h)!==0){for(var x=1;x<f;x++){if((_=_.redSqr()).cmp(l)===0)return _.fromRed().subn(1).gcd(s);if(_.cmp(h)===0)break}if(x===f)return(_=_.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(t,e,n){"use strict";function r(i,o){if(!i)throw new Error(o||"Assertion failed")}e.exports=r,r.equal=function(i,o,s){if(i!=o)throw new Error(s||"Assertion failed: "+i+" != "+o)}},{}],454:[function(t,e,n){"use strict";var r=n;function i(s){return s.length===1?"0"+s:s}function o(s){for(var a="",c=0;c<s.length;c++)a+=i(s[c].toString(16));return a}r.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)c[u]=0|s[u];return c}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),u=0;u<s.length;u+=2)c.push(parseInt(s[u]+s[u+1],16));else for(u=0;u<s.length;u++){var l=s.charCodeAt(u),d=l>>8,f=255&l;d?c.push(d,f):c.push(f)}return c},r.zero2=i,r.toHex=o,r.encode=function(s,a){return a==="hex"?o(s):s}},{}],455:[function(t,e,n){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,e,n){"use strict";var r=t("asn1.js");n.certificate=t("./certificate");var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=i;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=o;var s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});n.PublicKey=s;var a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});n.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=l,n.DSAparam=r.define("DSAparam",function(){this.int()});var d=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=d;var f=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,e,n){"use strict";var r=t("asn1.js"),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),c=r.define("RelativeDistinguishedName",function(){this.setof(o)}),u=r.define("RDNSequence",function(){this.seqof(c)}),l=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(d),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),h=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});e.exports=h},{"asn1.js":170}],458:[function(t,e,n){"use strict";var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=t("evp_bytestokey"),a=t("browserify-aes"),c=t("safe-buffer").Buffer;e.exports=function(u,l){var d,f=u.toString(),p=f.match(r);if(p){var h="aes"+p[1],y=c.from(p[2],"hex"),m=c.from(p[3].replace(/[\r\n]/g,""),"base64"),_=s(l,y.slice(0,8),parseInt(p[1],10)).key,x=[],D=a.createDecipheriv(h,_,y);x.push(D.update(m)),x.push(D.final()),d=c.concat(x)}else{var L=f.match(o);d=c.from(L[2].replace(/[\r\n]/g,""),"base64")}return{tag:f.match(i)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,e,n){"use strict";var r=t("./asn1"),i=t("./aesid.json"),o=t("./fixProc"),s=t("browserify-aes"),a=t("pbkdf2"),c=t("safe-buffer").Buffer;function u(l){var d;typeof l!="object"||c.isBuffer(l)||(d=l.passphrase,l=l.key),typeof l=="string"&&(l=c.from(l));var f,p,h=o(l,d),y=h.tag,m=h.data;switch(y){case"CERTIFICATE":p=r.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=r.PublicKey.decode(m,"der")),f=p.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=r.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+f)}case"ENCRYPTED PRIVATE KEY":m=(function(_,x){var D=_.algorithm.decrypt.kde.kdeparams.salt,L=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=i[_.algorithm.decrypt.cipher.algo.join(".")],V=_.algorithm.decrypt.cipher.iv,R=_.subjectPrivateKey,N=parseInt($.split("-")[1],10)/8,j=a.pbkdf2Sync(x,D,L,N,"sha1"),O=s.createDecipheriv($,j,V),E=[];return E.push(O.update(R)),E.push(O.final()),c.concat(E)})(m=r.EncryptedPrivateKey.decode(m,"der"),d);case"PRIVATE KEY":switch(f=(p=r.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:r.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=r.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+f)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=r.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+y)}}e.exports=u,u.signature=r.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,e,n){"use strict";n.pbkdf2=t("./lib/async"),n.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,e,n){(function(r){(function(){"use strict";var i,o,s=t("safe-buffer").Buffer,a=t("./precondition"),c=t("./default-encoding"),u=t("./sync"),l=t("./to-buffer"),d=r.crypto&&r.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function h(){return o||(o=r.process&&r.process.nextTick?r.process.nextTick:r.queueMicrotask?r.queueMicrotask:r.setImmediate?r.setImmediate:r.setTimeout)}function y(m,_,x,D,L){return d.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function($){return d.deriveBits({name:"PBKDF2",salt:_,iterations:x,hash:{name:L}},$,D<<3)}).then(function($){return s.from($)})}e.exports=function(m,_,x,D,L,$){typeof L=="function"&&($=L,L=void 0);var V=f[(L=L||"sha1").toLowerCase()];if(V&&typeof r.Promise=="function"){if(a(x,D),m=l(m,c,"Password"),_=l(_,c,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");(function(R,N){R.then(function(j){h()(function(){N(null,j)})},function(j){h()(function(){N(j)})})})((function(R){if(r.process&&!r.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(p[R]!==void 0)return p[R];var N=y(i=i||s.alloc(8),i,10,128,R).then(function(){return!0}).catch(function(){return!1});return p[R]=N,N})(V).then(function(R){return R?y(m,_,x,D,V):u(m,_,x,D,L)}),$)}else h()(function(){var R;try{R=u(m,_,x,D,L)}catch(N){return $(N)}$(null,R)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,e,n){(function(r,i){(function(){"use strict";var o;i.process&&i.process.browser?o="utf-8":i.process&&i.process.version?o=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",e.exports=o}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,e,n){"use strict";var r=Math.pow(2,30)-1;e.exports=function(i,o){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>r||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(t,e,n){"use strict";var r=t("create-hash/md5"),i=t("ripemd160"),o=t("sha.js"),s=t("safe-buffer").Buffer,a=t("./precondition"),c=t("./default-encoding"),u=t("./to-buffer"),l=s.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(p,h,y){var m=(function(V){function R(N){return o(V).update(N).digest()}return V==="rmd160"||V==="ripemd160"?function(N){return new i().update(N).digest()}:V==="md5"?r:R})(p),_=p==="sha512"||p==="sha384"?128:64;h.length>_?h=m(h):h.length<_&&(h=s.concat([h,l],_));for(var x=s.allocUnsafe(_+d[p]),D=s.allocUnsafe(_+d[p]),L=0;L<_;L++)x[L]=54^h[L],D[L]=92^h[L];var $=s.allocUnsafe(_+y+4);x.copy($,0,0,_),this.ipad1=$,this.ipad2=x,this.opad=D,this.alg=p,this.blocksize=_,this.hash=m,this.size=d[p]}f.prototype.run=function(p,h){return p.copy(h,this.blocksize),this.hash(h).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(p,h,y,m,_){a(y,m);var x=new f(_=_||"sha1",p=u(p,c,"Password"),(h=u(h,c,"Salt")).length),D=s.allocUnsafe(m),L=s.allocUnsafe(h.length+4);h.copy(L,0,0,h.length);for(var $=0,V=d[_],R=Math.ceil(m/V),N=1;N<=R;N++){L.writeUInt32BE(N,h.length);for(var j=x.run(L,x.ipad1),O=j,E=1;E<y;E++){O=x.run(O,x.ipad2);for(var I=0;I<V;I++)j[I]^=O[I]}j.copy(D,$),$+=V}return D}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;e.exports=function(i,o,s){if(r.isBuffer(i))return i;if(typeof i=="string")return r.from(i,o);if(ArrayBuffer.isView(i))return r.from(i.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,e,n){(function(r){(function(){"use strict";r===void 0||!r.version||r.version.indexOf("v0.")===0||r.version.indexOf("v1.")===0&&r.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(i,o,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c,u,l=arguments.length;switch(l){case 0:case 1:return r.nextTick(i);case 2:return r.nextTick(function(){i.call(null,o)});case 3:return r.nextTick(function(){i.call(null,o,s)});case 4:return r.nextTick(function(){i.call(null,o,s,a)});default:for(c=new Array(l-1),u=0;u<c.length;)c[u++]=arguments[u];return r.nextTick(function(){i.apply(null,c)})}}}:e.exports=r}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,e,n){"use strict";var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(_){if(r===setTimeout)return setTimeout(_,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(_,0);try{return r(_,0)}catch{try{return r.call(null,_,0)}catch{return r.call(this,_,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:s}catch{r=s}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var u,l=[],d=!1,f=-1;function p(){d&&u&&(d=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!d){var _=c(p);d=!0;for(var x=l.length;x;){for(u=l,l=[];++f<x;)u&&u[f].run();f=-1,x=l.length}u=null,d=!1,(function(D){if(i===clearTimeout)return clearTimeout(D);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(D);try{i(D)}catch{try{return i.call(null,D)}catch{return i.call(this,D)}}})(_)}}function y(_,x){this.fun=_,this.array=x}function m(){}o.nextTick=function(_){var x=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)x[D-1]=arguments[D];l.push(new y(_,x)),l.length!==1||d||c(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(_){return[]},o.binding=function(_){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(_){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(t,e,n){"use strict";n.publicEncrypt=t("./publicEncrypt"),n.privateDecrypt=t("./privateDecrypt"),n.privateEncrypt=function(r,i){return n.publicEncrypt(r,i,!0)},n.publicDecrypt=function(r,i){return n.privateDecrypt(r,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,e,n){"use strict";var r=t("create-hash"),i=t("safe-buffer").Buffer;function o(s){var a=i.allocUnsafe(4);return a.writeUInt32BE(s,0),a}e.exports=function(s,a){for(var c,u=i.alloc(0),l=0;u.length<a;)c=o(l++),u=i.concat([u,r("sha1").update(s).update(c).digest()]);return u.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(t,e,n){"use strict";var r=t("parse-asn1"),i=t("./mgf"),o=t("./xor"),s=t("bn.js"),a=t("browserify-rsa"),c=t("create-hash"),u=t("./withPublic"),l=t("safe-buffer").Buffer;e.exports=function(d,f,p){var h;h=d.padding?d.padding:p?1:4;var y,m=r(d),_=m.modulus.byteLength();if(f.length>_||new s(f).cmp(m.modulus)>=0)throw new Error("decryption error");y=p?u(new s(f),m):a(f,m);var x=l.alloc(_-y.length);if(y=l.concat([x,y],_),h===4)return(function(D,L){var $=D.modulus.byteLength(),V=c("sha1").update(l.alloc(0)).digest(),R=V.length;if(L[0]!==0)throw new Error("decryption error");var N=L.slice(1,R+1),j=L.slice(R+1),O=o(N,i(j,R)),E=o(j,i(O,$-R-1));if((function(A,g){A=l.from(A),g=l.from(g);var v=0,w=A.length;A.length!==g.length&&(v++,w=Math.min(A.length,g.length));for(var b=-1;++b<w;)v+=A[b]^g[b];return v})(V,E.slice(0,R)))throw new Error("decryption error");for(var I=R;E[I]===0;)I++;if(E[I++]!==1)throw new Error("decryption error");return E.slice(I)})(m,y);if(h===1)return(function(D,L,$){for(var V=L.slice(0,2),R=2,N=0;L[R++]!==0;)if(R>=L.length){N++;break}var j=L.slice(2,R-1);if((V.toString("hex")!=="0002"&&!$||V.toString("hex")!=="0001"&&$)&&N++,j.length<8&&N++,N)throw new Error("decryption error");return L.slice(R)})(0,y,p);if(h===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,e,n){"use strict";var r=t("parse-asn1"),i=t("randombytes"),o=t("create-hash"),s=t("./mgf"),a=t("./xor"),c=t("bn.js"),u=t("./withPublic"),l=t("browserify-rsa"),d=t("safe-buffer").Buffer;e.exports=function(f,p,h){var y;y=f.padding?f.padding:h?1:4;var m,_=r(f);if(y===4)m=(function(x,D){var L=x.modulus.byteLength(),$=D.length,V=o("sha1").update(d.alloc(0)).digest(),R=V.length,N=2*R;if($>L-N-2)throw new Error("message too long");var j=d.alloc(L-$-N-2),O=L-R-1,E=i(R),I=a(d.concat([V,j,d.alloc(1,1),D],O),s(E,O)),A=a(E,s(I,R));return new c(d.concat([d.alloc(1),A,I],L))})(_,p);else if(y===1)m=(function(x,D,L){var $,V=D.length,R=x.modulus.byteLength();if(V>R-11)throw new Error("message too long");return $=L?d.alloc(R-V-3,255):(function(N){for(var j,O=d.allocUnsafe(N),E=0,I=i(2*N),A=0;E<N;)A===I.length&&(I=i(2*N),A=0),(j=I[A++])&&(O[E++]=j);return O})(R-V-3),new c(d.concat([d.from([0,L?1:2]),$,d.alloc(1),D],R))})(_,p,h);else{if(y!==3)throw new Error("unknown padding");if((m=new c(p)).cmp(_.modulus)>=0)throw new Error("data too long for modulus")}return h?l(m,_):u(m,_)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("safe-buffer").Buffer;e.exports=function(o,s){return i.from(o.toRed(r.mont(s.modulus)).redPow(new r(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,e,n){"use strict";e.exports=function(r,i){for(var o=r.length,s=-1;++s<o;)r[s]^=i[s];return r}},{}],475:[function(t,e,n){(function(r,i){(function(){"use strict";var o=t("safe-buffer").Buffer,s=i.crypto||i.msCrypto;s&&s.getRandomValues?e.exports=function(a,c){if(a>4294967295)throw new RangeError("requested too many random bytes");var u=o.allocUnsafe(a);if(a>0)if(a>65536)for(var l=0;l<a;l+=65536)s.getRandomValues(u.slice(l,l+65536));else s.getRandomValues(u);return typeof c=="function"?r.nextTick(function(){c(null,u)}):u}:e.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,e,n){(function(r,i){(function(){"use strict";function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=t("safe-buffer"),a=t("randombytes"),c=s.Buffer,u=s.kMaxLength,l=i.crypto||i.msCrypto,d=Math.pow(2,32)-1;function f(y,m){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>d||y<0)throw new TypeError("offset must be a uint32");if(y>u||y>m)throw new RangeError("offset out of range")}function p(y,m,_){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>d||y<0)throw new TypeError("size must be a uint32");if(y+m>_||y>u)throw new RangeError("buffer too small")}function h(y,m,_,x){if(r.browser){var D=y.buffer,L=new Uint8Array(D,m,_);return l.getRandomValues(L),x?void r.nextTick(function(){x(null,y)}):y}if(!x)return a(_).copy(y,m),y;a(_,function($,V){if($)return x($);V.copy(y,m),x(null,y)})}l&&l.getRandomValues||!r.browser?(n.randomFill=function(y,m,_,x){if(!(c.isBuffer(y)||y instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")x=m,m=0,_=y.length;else if(typeof _=="function")x=_,_=y.length-m;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return f(m,y.length),p(_,m,y.length),h(y,m,_,x)},n.randomFillSync=function(y,m,_){if(m===void 0&&(m=0),!(c.isBuffer(y)||y instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(m,y.length),_===void 0&&(_=y.length-m),p(_,m,y.length),h(y,m,_)}):(n.randomFill=o,n.randomFillSync=o)}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,e,n){"use strict";var r={};function i(s,a,c){c||(c=Error);var u=(function(l){var d,f;function p(h,y,m){return l.call(this,(function(_,x,D){return typeof a=="string"?a:a(_,x,D)})(h,y,m))||this}return f=l,(d=p).prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f,p})(c);u.prototype.name=c.name,u.prototype.code=s,r[s]=u}function o(s,a){if(Array.isArray(s)){var c=s.length;return s=s.map(function(u){return String(u)}),c>2?"one of ".concat(a," ").concat(s.slice(0,c-1).join(", "),", or ")+s[c-1]:c===2?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}i("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(s,a,c){var u,l,d,f;if(typeof a=="string"&&(l="not ",a.substr(!d||d<0?0:+d,l.length)===l)?(u="must not be",a=a.replace(/^not /,"")):u="must be",(function(h,y,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-y.length,m)===y})(s," argument"))f="The ".concat(s," ").concat(u," ").concat(o(a,"type"));else{var p=(function(h,y,m){return typeof m!="number"&&(m=0),!(m+y.length>h.length)&&h.indexOf(y,m)!==-1})(s,".")?"property":"argument";f='The "'.concat(s,'" ').concat(p," ").concat(u," ").concat(o(a,"type"))}return f+=". Received type ".concat(typeof c)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},{}],478:[function(t,e,n){(function(r){(function(){"use strict";var i=Object.keys||function(p){var h=[];for(var y in p)h.push(y);return h};e.exports=l;var o=t("./_stream_readable"),s=t("./_stream_writable");t("inherits")(l,o);for(var a=i(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(p){if(!(this instanceof l))return new l(p);o.call(this,p),s.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(f,this)}function f(p){p.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,e,n){"use strict";e.exports=i;var r=t("./_stream_transform");function i(o){if(!(this instanceof i))return new i(o);r.call(this,o)}t("inherits")(i,r),i.prototype._transform=function(o,s,a){a(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(t,e,n){(function(r,i){(function(){"use strict";var o;e.exports=O,O.ReadableState=j,t("events").EventEmitter;var s=function(k,M){return k.listeners(M).length},a=t("./internal/streams/stream"),c=t("buffer").Buffer,u=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},l,d=t("util");l=d&&d.debuglog?d.debuglog("stream"):function(){};var f,p,h,y=t("./internal/streams/buffer_list"),m=t("./internal/streams/destroy"),_=t("./internal/streams/state").getHighWaterMark,x=t("../errors").codes,D=x.ERR_INVALID_ARG_TYPE,L=x.ERR_STREAM_PUSH_AFTER_EOF,$=x.ERR_METHOD_NOT_IMPLEMENTED,V=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(O,a);var R=m.errorOrDestroy,N=["error","close","destroy","pause","resume"];function j(k,M,H){o=o||t("./_stream_duplex"),k=k||{},typeof H!="boolean"&&(H=M instanceof o),this.objectMode=!!k.objectMode,H&&(this.objectMode=this.objectMode||!!k.readableObjectMode),this.highWaterMark=_(this,k,"readableHighWaterMark",H),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.destroyed=!1,this.defaultEncoding=k.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,k.encoding&&(f||(f=t("string_decoder/").StringDecoder),this.decoder=new f(k.encoding),this.encoding=k.encoding)}function O(k){if(o=o||t("./_stream_duplex"),!(this instanceof O))return new O(k);var M=this instanceof o;this._readableState=new j(k,this,M),this.readable=!0,k&&(typeof k.read=="function"&&(this._read=k.read),typeof k.destroy=="function"&&(this._destroy=k.destroy)),a.call(this)}function E(k,M,H,Z,ie){l("readableAddChunk",M);var J,ne=k._readableState;if(M===null)ne.reading=!1,(function(de,ue){if(l("onEofChunk"),!ue.ended){if(ue.decoder){var ee=ue.decoder.end();ee&&ee.length&&(ue.buffer.push(ee),ue.length+=ue.objectMode?1:ee.length)}ue.ended=!0,ue.sync?g(de):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,v(de)))}})(k,ne);else if(ie||(J=(function(de,ue){var ee;le=ue,c.isBuffer(le)||le instanceof u||typeof ue=="string"||ue===void 0||de.objectMode||(ee=new D("chunk",["string","Buffer","Uint8Array"],ue));var le;return ee})(ne,M)),J)R(k,J);else if(ne.objectMode||M&&M.length>0)if(typeof M=="string"||ne.objectMode||Object.getPrototypeOf(M)===c.prototype||(M=(function(de){return c.from(de)})(M)),Z)ne.endEmitted?R(k,new V):I(k,ne,M,!0);else if(ne.ended)R(k,new L);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!H?(M=ne.decoder.write(M),ne.objectMode||M.length!==0?I(k,ne,M,!1):w(k,ne)):I(k,ne,M,!1)}else Z||(ne.reading=!1,w(k,ne));return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function I(k,M,H,Z){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,k.emit("data",H)):(M.length+=M.objectMode?1:H.length,Z?M.buffer.unshift(H):M.buffer.push(H),M.needReadable&&g(k)),w(k,M)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(k){this._readableState&&(this._readableState.destroyed=k)}}),O.prototype.destroy=m.destroy,O.prototype._undestroy=m.undestroy,O.prototype._destroy=function(k,M){M(k)},O.prototype.push=function(k,M){var H,Z=this._readableState;return Z.objectMode?H=!0:typeof k=="string"&&((M=M||Z.defaultEncoding)!==Z.encoding&&(k=c.from(k,M),M=""),H=!0),E(this,k,M,!1,H)},O.prototype.unshift=function(k){return E(this,k,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(k){f||(f=t("string_decoder/").StringDecoder);var M=new f(k);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,Z="";H!==null;)Z+=M.write(H.data),H=H.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};function A(k,M){return k<=0||M.length===0&&M.ended?0:M.objectMode?1:k!=k?M.flowing&&M.length?M.buffer.head.data.length:M.length:(k>M.highWaterMark&&(M.highWaterMark=(function(H){return H>=1073741824?H=1073741824:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H})(k)),k<=M.length?k:M.ended?M.length:(M.needReadable=!0,0))}function g(k){var M=k._readableState;l("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(l("emitReadable",M.flowing),M.emittedReadable=!0,r.nextTick(v,k))}function v(k){var M=k._readableState;l("emitReadable_",M.destroyed,M.length,M.ended),M.destroyed||!M.length&&!M.ended||(k.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,q(k)}function w(k,M){M.readingMore||(M.readingMore=!0,r.nextTick(b,k,M))}function b(k,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var H=M.length;if(l("maybeReadMore read 0"),k.read(0),H===M.length)break}M.readingMore=!1}function C(k){var M=k._readableState;M.readableListening=k.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:k.listenerCount("data")>0&&k.resume()}function S(k){l("readable nexttick read 0"),k.read(0)}function F(k,M){l("resume",M.reading),M.reading||k.read(0),M.resumeScheduled=!1,k.emit("resume"),q(k),M.flowing&&!M.reading&&k.read(0)}function q(k){var M=k._readableState;for(l("flow",M.flowing);M.flowing&&k.read()!==null;);}function z(k,M){return M.length===0?null:(M.objectMode?H=M.buffer.shift():!k||k>=M.length?(H=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.first():M.buffer.concat(M.length),M.buffer.clear()):H=M.buffer.consume(k,M.decoder),H);var H}function Y(k){var M=k._readableState;l("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,r.nextTick(P,M,k))}function P(k,M){if(l("endReadableNT",k.endEmitted,k.length),!k.endEmitted&&k.length===0&&(k.endEmitted=!0,M.readable=!1,M.emit("end"),k.autoDestroy)){var H=M._writableState;(!H||H.autoDestroy&&H.finished)&&M.destroy()}}function K(k,M){for(var H=0,Z=k.length;H<Z;H++)if(k[H]===M)return H;return-1}O.prototype.read=function(k){l("read",k),k=parseInt(k,10);var M=this._readableState,H=k;if(k!==0&&(M.emittedReadable=!1),k===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return l("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?Y(this):g(this),null;if((k=A(k,M))===0&&M.ended)return M.length===0&&Y(this),null;var Z,ie=M.needReadable;return l("need readable",ie),(M.length===0||M.length-k<M.highWaterMark)&&l("length less than watermark",ie=!0),M.ended||M.reading?l("reading or ended",ie=!1):ie&&(l("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(k=A(H,M))),(Z=k>0?z(k,M):null)===null?(M.needReadable=M.length<=M.highWaterMark,k=0):(M.length-=k,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),H!==k&&M.ended&&Y(this)),Z!==null&&this.emit("data",Z),Z},O.prototype._read=function(k){R(this,new $("_read()"))},O.prototype.pipe=function(k,M){var H=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=k;break;case 1:Z.pipes=[Z.pipes,k];break;default:Z.pipes.push(k)}Z.pipesCount+=1,l("pipe count=%d opts=%j",Z.pipesCount,M);var ie=(!M||M.end!==!1)&&k!==r.stdout&&k!==r.stderr?ne:he;function J(fe,ve){l("onunpipe"),fe===H&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,l("cleanup"),k.removeListener("close",te),k.removeListener("finish",ae),k.removeListener("drain",de),k.removeListener("error",le),k.removeListener("unpipe",J),H.removeListener("end",ne),H.removeListener("end",he),H.removeListener("data",ee),ue=!0,!Z.awaitDrain||k._writableState&&!k._writableState.needDrain||de())}function ne(){l("onend"),k.end()}Z.endEmitted?r.nextTick(ie):H.once("end",ie),k.on("unpipe",J);var de=(function(fe){return function(){var ve=fe._readableState;l("pipeOnDrain",ve.awaitDrain),ve.awaitDrain&&ve.awaitDrain--,ve.awaitDrain===0&&s(fe,"data")&&(ve.flowing=!0,q(fe))}})(H);k.on("drain",de);var ue=!1;function ee(fe){l("ondata");var ve=k.write(fe);l("dest.write",ve),ve===!1&&((Z.pipesCount===1&&Z.pipes===k||Z.pipesCount>1&&K(Z.pipes,k)!==-1)&&!ue&&(l("false write response, pause",Z.awaitDrain),Z.awaitDrain++),H.pause())}function le(fe){l("onerror",fe),he(),k.removeListener("error",le),s(k,"error")===0&&R(k,fe)}function te(){k.removeListener("finish",ae),he()}function ae(){l("onfinish"),k.removeListener("close",te),he()}function he(){l("unpipe"),H.unpipe(k)}return H.on("data",ee),(function(fe,ve,Ae){if(typeof fe.prependListener=="function")return fe.prependListener(ve,Ae);fe._events&&fe._events[ve]?Array.isArray(fe._events[ve])?fe._events[ve].unshift(Ae):fe._events[ve]=[Ae,fe._events[ve]]:fe.on(ve,Ae)})(k,"error",le),k.once("close",te),k.once("finish",ae),k.emit("pipe",H),Z.flowing||(l("pipe resume"),H.resume()),k},O.prototype.unpipe=function(k){var M=this._readableState,H={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return k&&k!==M.pipes||(k||(k=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,k&&k.emit("unpipe",this,H)),this;if(!k){var Z=M.pipes,ie=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var J=0;J<ie;J++)Z[J].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=K(M.pipes,k);return ne===-1||(M.pipes.splice(ne,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),k.emit("unpipe",this,H)),this},O.prototype.on=function(k,M){var H=a.prototype.on.call(this,k,M),Z=this._readableState;return k==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):k==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,l("on readable",Z.length,Z.reading),Z.length?g(this):Z.reading||r.nextTick(S,this))),H},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(k,M){var H=a.prototype.removeListener.call(this,k,M);return k==="readable"&&r.nextTick(C,this),H},O.prototype.removeAllListeners=function(k){var M=a.prototype.removeAllListeners.apply(this,arguments);return k!=="readable"&&k!==void 0||r.nextTick(C,this),M},O.prototype.resume=function(){var k=this._readableState;return k.flowing||(l("resume"),k.flowing=!k.readableListening,(function(M,H){H.resumeScheduled||(H.resumeScheduled=!0,r.nextTick(F,M,H))})(this,k)),k.paused=!1,this},O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(k){var M=this,H=this._readableState,Z=!1;for(var ie in k.on("end",function(){if(l("wrapped end"),H.decoder&&!H.ended){var ne=H.decoder.end();ne&&ne.length&&M.push(ne)}M.push(null)}),k.on("data",function(ne){l("wrapped data"),H.decoder&&(ne=H.decoder.write(ne)),H.objectMode&&ne==null||(H.objectMode||ne&&ne.length)&&(M.push(ne)||(Z=!0,k.pause()))}),k)this[ie]===void 0&&typeof k[ie]=="function"&&(this[ie]=(function(ne){return function(){return k[ne].apply(k,arguments)}})(ie));for(var J=0;J<N.length;J++)k.on(N[J],this.emit.bind(this,N[J]));return this._read=function(ne){l("wrapped _read",ne),Z&&(Z=!1,k.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return p===void 0&&(p=t("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}}),O._fromList=z,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(O.from=function(k,M){return h===void 0&&(h=t("./internal/streams/from")),h(O,k,M)})}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,e,n){"use strict";e.exports=l;var r=t("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=t("./_stream_duplex");function u(p,h){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(m===null)return this.emit("error",new o);y.writechunk=null,y.writecb=null,h!=null&&this.push(h),m(p);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);c.call(this,p),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",d)}function d(){var p=this;typeof this._flush!="function"||this._readableState.destroyed?f(this,null,null):this._flush(function(h,y){f(p,h,y)})}function f(p,h,y){if(h)return p.emit("error",h);if(y!=null&&p.push(y),p._writableState.length)throw new a;if(p._transformState.transforming)throw new s;return p.push(null)}t("inherits")(l,c),l.prototype.push=function(p,h){return this._transformState.needTransform=!1,c.prototype.push.call(this,p,h)},l.prototype._transform=function(p,h,y){y(new i("_transform()"))},l.prototype._write=function(p,h,y){var m=this._transformState;if(m.writecb=y,m.writechunk=p,m.writeencoding=h,!m.transforming){var _=this._readableState;(m.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},l.prototype._read=function(p){var h=this._transformState;h.writechunk===null||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},l.prototype._destroy=function(p,h){c.prototype._destroy.call(this,p,function(y){h(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,e,n){(function(r,i){(function(){"use strict";function o(b){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(S,F,q){var z=S.entry;for(S.entry=null;z;){var Y=z.callback;F.pendingcb--,Y(q),z=z.next}F.corkedRequestsFree.next=S})(C,b)}}var s;e.exports=O,O.WritableState=j;var a={deprecate:t("util-deprecate")},c=t("./internal/streams/stream"),u=t("buffer").Buffer,l=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,f=t("./internal/streams/destroy"),p=t("./internal/streams/state").getHighWaterMark,h=t("../errors").codes,y=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,x=h.ERR_STREAM_CANNOT_PIPE,D=h.ERR_STREAM_DESTROYED,L=h.ERR_STREAM_NULL_VALUES,$=h.ERR_STREAM_WRITE_AFTER_END,V=h.ERR_UNKNOWN_ENCODING,R=f.errorOrDestroy;function N(){}function j(b,C,S){s=s||t("./_stream_duplex"),b=b||{},typeof S!="boolean"&&(S=C instanceof s),this.objectMode=!!b.objectMode,S&&(this.objectMode=this.objectMode||!!b.writableObjectMode),this.highWaterMark=p(this,b,"writableHighWaterMark",S),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=b.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(z,Y){var P=z._writableState,K=P.sync,k=P.writecb;if(typeof k!="function")throw new _;if((function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0})(P),Y)(function(H,Z,ie,J,ne){--Z.pendingcb,ie?(r.nextTick(ne,J),r.nextTick(w,H,Z),H._writableState.errorEmitted=!0,R(H,J)):(ne(J),H._writableState.errorEmitted=!0,R(H,J),w(H,Z))})(z,P,K,Y,k);else{var M=g(P)||z.destroyed;M||P.corked||P.bufferProcessing||!P.bufferedRequest||A(z,P),K?r.nextTick(I,z,P,M,k):I(z,P,M,k)}})(C,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=b.emitClose!==!1,this.autoDestroy=!!b.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function O(b){var C=this instanceof(s=s||t("./_stream_duplex"));if(!C&&!d.call(O,this))return new O(b);this._writableState=new j(b,this,C),this.writable=!0,b&&(typeof b.write=="function"&&(this._write=b.write),typeof b.writev=="function"&&(this._writev=b.writev),typeof b.destroy=="function"&&(this._destroy=b.destroy),typeof b.final=="function"&&(this._final=b.final)),c.call(this)}function E(b,C,S,F,q,z,Y){C.writelen=F,C.writecb=Y,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new D("write")):S?b._writev(q,C.onwrite):b._write(q,z,C.onwrite),C.sync=!1}function I(b,C,S,F){S||(function(q,z){z.length===0&&z.needDrain&&(z.needDrain=!1,q.emit("drain"))})(b,C),C.pendingcb--,F(),w(b,C)}function A(b,C){C.bufferProcessing=!0;var S=C.bufferedRequest;if(b._writev&&S&&S.next){var F=C.bufferedRequestCount,q=new Array(F),z=C.corkedRequestsFree;z.entry=S;for(var Y=0,P=!0;S;)q[Y]=S,S.isBuf||(P=!1),S=S.next,Y+=1;q.allBuffers=P,E(b,C,!0,C.length,q,"",z.finish),C.pendingcb++,C.lastBufferedRequest=null,z.next?(C.corkedRequestsFree=z.next,z.next=null):C.corkedRequestsFree=new o(C),C.bufferedRequestCount=0}else{for(;S;){var K=S.chunk,k=S.encoding,M=S.callback;if(E(b,C,!1,C.objectMode?1:K.length,K,k,M),S=S.next,C.bufferedRequestCount--,C.writing)break}S===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=S,C.bufferProcessing=!1}function g(b){return b.ending&&b.length===0&&b.bufferedRequest===null&&!b.finished&&!b.writing}function v(b,C){b._final(function(S){C.pendingcb--,S&&R(b,S),C.prefinished=!0,b.emit("prefinish"),w(b,C)})}function w(b,C){var S=g(C);if(S&&((function(q,z){z.prefinished||z.finalCalled||(typeof q._final!="function"||z.destroyed?(z.prefinished=!0,q.emit("prefinish")):(z.pendingcb++,z.finalCalled=!0,r.nextTick(v,q,z)))})(b,C),C.pendingcb===0&&(C.finished=!0,b.emit("finish"),C.autoDestroy))){var F=b._readableState;(!F||F.autoDestroy&&F.endEmitted)&&b.destroy()}return S}t("inherits")(O,c),j.prototype.getBuffer=function(){for(var b=this.bufferedRequest,C=[];b;)C.push(b),b=b.next;return C},(function(){try{Object.defineProperty(j.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(b){return!!d.call(this,b)||this===O&&b&&b._writableState instanceof j}})):d=function(b){return b instanceof this},O.prototype.pipe=function(){R(this,new x)},O.prototype.write=function(b,C,S){var F,q=this._writableState,z=!1,Y=!q.objectMode&&(F=b,u.isBuffer(F)||F instanceof l);return Y&&!u.isBuffer(b)&&(b=(function(P){return u.from(P)})(b)),typeof C=="function"&&(S=C,C=null),Y?C="buffer":C||(C=q.defaultEncoding),typeof S!="function"&&(S=N),q.ending?(function(P,K){var k=new $;R(P,k),r.nextTick(K,k)})(this,S):(Y||(function(P,K,k,M){var H;return k===null?H=new L:typeof k=="string"||K.objectMode||(H=new y("chunk",["string","Buffer"],k)),!H||(R(P,H),r.nextTick(M,H),!1)})(this,q,b,S))&&(q.pendingcb++,z=(function(P,K,k,M,H,Z){if(!k){var ie=(function(ue,ee,le){return ue.objectMode||ue.decodeStrings===!1||typeof ee!="string"||(ee=u.from(ee,le)),ee})(K,M,H);M!==ie&&(k=!0,H="buffer",M=ie)}var J=K.objectMode?1:M.length;K.length+=J;var ne=K.length<K.highWaterMark;if(ne||(K.needDrain=!0),K.writing||K.corked){var de=K.lastBufferedRequest;K.lastBufferedRequest={chunk:M,encoding:H,isBuf:k,callback:Z,next:null},de?de.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else E(P,K,!1,J,M,H,Z);return ne})(this,q,Y,b,C,S)),z},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.bufferProcessing||!b.bufferedRequest||A(this,b))},O.prototype.setDefaultEncoding=function(b){if(typeof b=="string"&&(b=b.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((b+"").toLowerCase())>-1))throw new V(b);return this._writableState.defaultEncoding=b,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(b,C,S){S(new m("_write()"))},O.prototype._writev=null,O.prototype.end=function(b,C,S){var F=this._writableState;return typeof b=="function"?(S=b,b=null,C=null):typeof C=="function"&&(S=C,C=null),b!=null&&this.write(b,C),F.corked&&(F.corked=1,this.uncork()),F.ending||(function(q,z,Y){z.ending=!0,w(q,z),Y&&(z.finished?r.nextTick(Y):q.once("finish",Y)),z.ended=!0,q.writable=!1})(this,F,S),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}}),O.prototype.destroy=f.destroy,O.prototype._undestroy=f.undestroy,O.prototype._destroy=function(b,C){C(b)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,e,n){(function(r){(function(){"use strict";var i;function o(D,L,$){return(L=(function(V){var R=(function(N,j){if(typeof N!="object"||N===null)return N;var O=N[Symbol.toPrimitive];if(O!==void 0){var E=O.call(N,j||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(N)})(V,"string");return typeof R=="symbol"?R:String(R)})(L))in D?Object.defineProperty(D,L,{value:$,enumerable:!0,configurable:!0,writable:!0}):D[L]=$,D}var s=t("./end-of-stream"),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(D,L){return{value:D,done:L}}function y(D){var L=D[a];if(L!==null){var $=D[p].read();$!==null&&(D[d]=null,D[a]=null,D[c]=null,L(h($,!1)))}}function m(D){r.nextTick(y,D)}var _=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((o(i={get stream(){return this[p]},next:function(){var D=this,L=this[u];if(L!==null)return Promise.reject(L);if(this[l])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(N,j){r.nextTick(function(){D[u]?j(D[u]):N(h(void 0,!0))})});var $,V=this[d];if(V)$=new Promise((function(N,j){return function(O,E){N.then(function(){j[l]?O(h(void 0,!0)):j[f](O,E)},E)}})(V,this));else{var R=this[p].read();if(R!==null)return Promise.resolve(h(R,!1));$=new Promise(this[f])}return this[d]=$,$}},Symbol.asyncIterator,function(){return this}),o(i,"return",function(){var D=this;return new Promise(function(L,$){D[p].destroy(null,function(V){V?$(V):L(h(void 0,!0))})})}),i),_);e.exports=function(D){var L,$=Object.create(x,(o(L={},p,{value:D,writable:!0}),o(L,a,{value:null,writable:!0}),o(L,c,{value:null,writable:!0}),o(L,u,{value:null,writable:!0}),o(L,l,{value:D._readableState.endEmitted,writable:!0}),o(L,f,{value:function(V,R){var N=$[p].read();N?($[d]=null,$[a]=null,$[c]=null,V(h(N,!1))):($[a]=V,$[c]=R)},writable:!0}),L));return $[d]=null,s(D,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var R=$[c];return R!==null&&($[d]=null,$[a]=null,$[c]=null,R(V)),void($[u]=V)}var N=$[a];N!==null&&($[d]=null,$[a]=null,$[c]=null,N(h(void 0,!0))),$[l]=!0}),D.on("readable",m.bind(null,$)),$}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,e,n){"use strict";function r(d,f){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(d);f&&(h=h.filter(function(y){return Object.getOwnPropertyDescriptor(d,y).enumerable})),p.push.apply(p,h)}return p}function i(d){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?r(Object(p),!0).forEach(function(h){o(d,h,p[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):r(Object(p)).forEach(function(h){Object.defineProperty(d,h,Object.getOwnPropertyDescriptor(p,h))})}return d}function o(d,f,p){return(f=a(f))in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p,d}function s(d,f){for(var p=0;p<f.length;p++){var h=f[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,a(h.key),h)}}function a(d){var f=(function(p,h){if(typeof p!="object"||p===null)return p;var y=p[Symbol.toPrimitive];if(y!==void 0){var m=y.call(p,h||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(p)})(d,"string");return typeof f=="symbol"?f:String(f)}var c=t("buffer").Buffer,u=t("util").inspect,l=u&&u.custom||"inspect";e.exports=(function(){function d(){(function(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var f,p,h;return f=d,(p=[{key:"push",value:function(y){var m={data:y,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(y){var m={data:y,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var m=this.head,_=""+m.data;m=m.next;)_+=y+m.data;return _}},{key:"concat",value:function(y){if(this.length===0)return c.alloc(0);for(var m,_,x,D=c.allocUnsafe(y>>>0),L=this.head,$=0;L;)m=L.data,_=D,x=$,c.prototype.copy.call(m,_,x),$+=L.data.length,L=L.next;return D}},{key:"consume",value:function(y,m){var _;return y<this.head.data.length?(_=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):_=y===this.head.data.length?this.shift():m?this._getString(y):this._getBuffer(y),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var m=this.head,_=1,x=m.data;for(y-=x.length;m=m.next;){var D=m.data,L=y>D.length?D.length:y;if(L===D.length?x+=D:x+=D.slice(0,y),(y-=L)==0){L===D.length?(++_,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=D.slice(L));break}++_}return this.length-=_,x}},{key:"_getBuffer",value:function(y){var m=c.allocUnsafe(y),_=this.head,x=1;for(_.data.copy(m),y-=_.data.length;_=_.next;){var D=_.data,L=y>D.length?D.length:y;if(D.copy(m,m.length-y,0,L),(y-=L)==0){L===D.length?(++x,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=D.slice(L));break}++x}return this.length-=x,m}},{key:l,value:function(y,m){return u(this,i(i({},m),{},{depth:0,customInspect:!1}))}}])&&s(f.prototype,p),h&&s(f,h),Object.defineProperty(f,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(t,e,n){(function(r){(function(){"use strict";function i(a,c){s(a,c),o(a)}function o(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function s(a,c){a.emit("error",c)}e.exports={destroy:function(a,c){var u=this,l=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return l||d?(c?c(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,a)):r.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!c&&f?u._writableState?u._writableState.errorEmitted?r.nextTick(o,u):(u._writableState.errorEmitted=!0,r.nextTick(i,u,f)):r.nextTick(i,u,f):c?(r.nextTick(o,u),c(f)):r.nextTick(o,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,c){var u=a._readableState,l=a._writableState;u&&u.autoDestroy||l&&l.autoDestroy?a.destroy(c):a.emit("error",c)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function o(s,a,c){if(typeof a=="function")return o(s,null,a);a||(a={}),c=(function(D){var L=!1;return function(){if(!L){L=!0;for(var $=arguments.length,V=new Array($),R=0;R<$;R++)V[R]=arguments[R];D.apply(this,V)}}})(c||i);var u=a.readable||a.readable!==!1&&s.readable,l=a.writable||a.writable!==!1&&s.writable,d=function(){s.writable||p()},f=s._writableState&&s._writableState.finished,p=function(){l=!1,f=!0,u||c.call(s)},h=s._readableState&&s._readableState.endEmitted,y=function(){u=!1,h=!0,l||c.call(s)},m=function(D){c.call(s,D)},_=function(){var D;return u&&!h?(s._readableState&&s._readableState.ended||(D=new r),c.call(s,D)):l&&!f?(s._writableState&&s._writableState.ended||(D=new r),c.call(s,D)):void 0},x=function(){s.req.on("finish",p)};return(function(D){return D.setHeader&&typeof D.abort=="function"})(s)?(s.on("complete",p),s.on("abort",_),s.req?x():s.on("request",x)):l&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",y),s.on("finish",p),a.error!==!1&&s.on("error",m),s.on("close",_),function(){s.removeListener("complete",p),s.removeListener("abort",_),s.removeListener("request",x),s.req&&s.req.removeListener("finish",p),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",p),s.removeListener("end",y),s.removeListener("error",m),s.removeListener("close",_)}}},{"../../../errors":477}],487:[function(t,e,n){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,e,n){"use strict";var r,i=t("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(f){if(f)throw f}function c(f,p,h,y){y=(function(x){var D=!1;return function(){D||(D=!0,x.apply(void 0,arguments))}})(y);var m=!1;f.on("close",function(){m=!0}),r===void 0&&(r=t("./end-of-stream")),r(f,{readable:p,writable:h},function(x){if(x)return y(x);m=!0,y()});var _=!1;return function(x){if(!m&&!_)return _=!0,(function(D){return D.setHeader&&typeof D.abort=="function"})(f)?f.abort():typeof f.destroy=="function"?f.destroy():void y(x||new s("pipe"))}}function u(f){f()}function l(f,p){return f.pipe(p)}function d(f){return f.length?typeof f[f.length-1]!="function"?a:f.pop():a}e.exports=function(){for(var f=arguments.length,p=new Array(f),h=0;h<f;h++)p[h]=arguments[h];var y,m=d(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new o("streams");var _=p.map(function(x,D){var L=D<p.length-1;return c(x,L,D>0,function($){y||(y=$),$&&_.forEach(u),L||(_.forEach(u),m(y))})});return p.reduce(l)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(i,o,s,a){var c=(function(u,l,d){return u.highWaterMark!=null?u.highWaterMark:l?u[d]:null})(o,a,s);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new r(a?s:"highWaterMark",c);return Math.floor(c)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,e,n){"use strict";e.exports=t("events").EventEmitter},{events:422}],491:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,e,n){"use strict";var r=(function(i){var o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(w,b,C){w[b]=C.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function f(w,b,C){return Object.defineProperty(w,b,{value:C,enumerable:!0,configurable:!0,writable:!0}),w[b]}try{f({},"")}catch{f=function(b,C,S){return b[C]=S}}function p(w,b,C,S){var F=b&&b.prototype instanceof m?b:m,q=Object.create(F.prototype),z=new A(S||[]);return a(q,"_invoke",{value:j(w,C,z)}),q}function h(w,b,C){try{return{type:"normal",arg:w.call(b,C)}}catch(S){return{type:"throw",arg:S}}}i.wrap=p;var y={};function m(){}function _(){}function x(){}var D={};f(D,u,function(){return this});var L=Object.getPrototypeOf,$=L&&L(L(g([])));$&&$!==o&&s.call($,u)&&(D=$);var V=x.prototype=m.prototype=Object.create(D);function R(w){["next","throw","return"].forEach(function(b){f(w,b,function(C){return this._invoke(b,C)})})}function N(w,b){var C;a(this,"_invoke",{value:function(S,F){function q(){return new b(function(z,Y){(function P(K,k,M,H){var Z=h(w[K],w,k);if(Z.type!=="throw"){var ie=Z.arg,J=ie.value;return J&&typeof J=="object"&&s.call(J,"__await")?b.resolve(J.__await).then(function(ne){P("next",ne,M,H)},function(ne){P("throw",ne,M,H)}):b.resolve(J).then(function(ne){ie.value=ne,M(ie)},function(ne){return P("throw",ne,M,H)})}H(Z.arg)})(S,F,z,Y)})}return C=C?C.then(q,q):q()}})}function j(w,b,C){var S="suspendedStart";return function(F,q){if(S==="executing")throw new Error("Generator is already running");if(S==="completed"){if(F==="throw")throw q;return v()}for(C.method=F,C.arg=q;;){var z=C.delegate;if(z){var Y=O(z,C);if(Y){if(Y===y)continue;return Y}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(S==="suspendedStart")throw S="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);S="executing";var P=h(w,b,C);if(P.type==="normal"){if(S=C.done?"completed":"suspendedYield",P.arg===y)continue;return{value:P.arg,done:C.done}}P.type==="throw"&&(S="completed",C.method="throw",C.arg=P.arg)}}}function O(w,b){var C=b.method,S=w.iterator[C];if(S===void 0)return b.delegate=null,C==="throw"&&w.iterator.return&&(b.method="return",b.arg=void 0,O(w,b),b.method==="throw")||C!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+C+"' method")),y;var F=h(S,w.iterator,b.arg);if(F.type==="throw")return b.method="throw",b.arg=F.arg,b.delegate=null,y;var q=F.arg;return q?q.done?(b[w.resultName]=q.value,b.next=w.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0),b.delegate=null,y):q:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,y)}function E(w){var b={tryLoc:w[0]};1 in w&&(b.catchLoc=w[1]),2 in w&&(b.finallyLoc=w[2],b.afterLoc=w[3]),this.tryEntries.push(b)}function I(w){var b=w.completion||{};b.type="normal",delete b.arg,w.completion=b}function A(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(E,this),this.reset(!0)}function g(w){if(w){var b=w[u];if(b)return b.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var C=-1,S=function F(){for(;++C<w.length;)if(s.call(w,C))return F.value=w[C],F.done=!1,F;return F.value=void 0,F.done=!0,F};return S.next=S}}return{next:v}}function v(){return{value:void 0,done:!0}}return _.prototype=x,a(V,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:_,configurable:!0}),_.displayName=f(x,d,"GeneratorFunction"),i.isGeneratorFunction=function(w){var b=typeof w=="function"&&w.constructor;return!!b&&(b===_||(b.displayName||b.name)==="GeneratorFunction")},i.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,x):(w.__proto__=x,f(w,d,"GeneratorFunction")),w.prototype=Object.create(V),w},i.awrap=function(w){return{__await:w}},R(N.prototype),f(N.prototype,l,function(){return this}),i.AsyncIterator=N,i.async=function(w,b,C,S,F){F===void 0&&(F=Promise);var q=new N(p(w,b,C,S),F);return i.isGeneratorFunction(b)?q:q.next().then(function(z){return z.done?z.value:q.next()})},R(V),f(V,d,"Generator"),f(V,u,function(){return this}),f(V,"toString",function(){return"[object Generator]"}),i.keys=function(w){var b=Object(w),C=[];for(var S in b)C.push(S);return C.reverse(),function F(){for(;C.length;){var q=C.pop();if(q in b)return F.value=q,F.done=!1,F}return F.done=!0,F}},i.values=g,A.prototype={constructor:A,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!w)for(var b in this)b.charAt(0)==="t"&&s.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var b=this;function C(P,K){return q.type="throw",q.arg=w,b.next=P,K&&(b.method="next",b.arg=void 0),!!K}for(var S=this.tryEntries.length-1;S>=0;--S){var F=this.tryEntries[S],q=F.completion;if(F.tryLoc==="root")return C("end");if(F.tryLoc<=this.prev){var z=s.call(F,"catchLoc"),Y=s.call(F,"finallyLoc");if(z&&Y){if(this.prev<F.catchLoc)return C(F.catchLoc,!0);if(this.prev<F.finallyLoc)return C(F.finallyLoc)}else if(z){if(this.prev<F.catchLoc)return C(F.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return C(F.finallyLoc)}}}},abrupt:function(w,b){for(var C=this.tryEntries.length-1;C>=0;--C){var S=this.tryEntries[C];if(S.tryLoc<=this.prev&&s.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var F=S;break}}F&&(w==="break"||w==="continue")&&F.tryLoc<=b&&b<=F.finallyLoc&&(F=null);var q=F?F.completion:{};return q.type=w,q.arg=b,F?(this.method="next",this.next=F.finallyLoc,y):this.complete(q)},complete:function(w,b){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&b&&(this.next=b),y},finish:function(w){for(var b=this.tryEntries.length-1;b>=0;--b){var C=this.tryEntries[b];if(C.finallyLoc===w)return this.complete(C.completion,C.afterLoc),I(C),y}},catch:function(w){for(var b=this.tryEntries.length-1;b>=0;--b){var C=this.tryEntries[b];if(C.tryLoc===w){var S=C.completion;if(S.type==="throw"){var F=S.arg;I(C)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(w,b,C){return this.delegate={iterator:g(w),resultName:b,nextLoc:C},this.method==="next"&&(this.arg=void 0),y}},i})(typeof e=="object"?e.exports:{});try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},{}],493:[function(t,e,n){"use strict";var r=t("buffer").Buffer,i=t("inherits"),o=t("hash-base"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function h(L,$){return L<<$|L>>>32-$}function y(L,$,V,R,N,j,O,E){return h(L+($^V^R)+j+O|0,E)+N|0}function m(L,$,V,R,N,j,O,E){return h(L+($&V|~$&R)+j+O|0,E)+N|0}function _(L,$,V,R,N,j,O,E){return h(L+(($|~V)^R)+j+O|0,E)+N|0}function x(L,$,V,R,N,j,O,E){return h(L+($&R|V&~R)+j+O|0,E)+N|0}function D(L,$,V,R,N,j,O,E){return h(L+($^(V|~R))+j+O|0,E)+N|0}i(p,o),p.prototype._update=function(){for(var L=s,$=0;$<16;++$)L[$]=this._block.readInt32LE(4*$);for(var V=0|this._a,R=0|this._b,N=0|this._c,j=0|this._d,O=0|this._e,E=0|this._a,I=0|this._b,A=0|this._c,g=0|this._d,v=0|this._e,w=0;w<80;w+=1){var b,C;w<16?(b=y(V,R,N,j,O,L[a[w]],d[0],u[w]),C=D(E,I,A,g,v,L[c[w]],f[0],l[w])):w<32?(b=m(V,R,N,j,O,L[a[w]],d[1],u[w]),C=x(E,I,A,g,v,L[c[w]],f[1],l[w])):w<48?(b=_(V,R,N,j,O,L[a[w]],d[2],u[w]),C=_(E,I,A,g,v,L[c[w]],f[2],l[w])):w<64?(b=x(V,R,N,j,O,L[a[w]],d[3],u[w]),C=m(E,I,A,g,v,L[c[w]],f[3],l[w])):(b=D(V,R,N,j,O,L[a[w]],d[4],u[w]),C=y(E,I,A,g,v,L[c[w]],f[4],l[w])),V=O,O=j,j=h(N,10),N=R,R=b,E=v,v=g,g=h(A,10),A=I,I=C}var S=this._b+N+g|0;this._b=this._c+j+v|0,this._c=this._d+O+E|0,this._d=this._e+V+I|0,this._e=this._a+R+A|0,this._a=S},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var L=r.alloc?r.alloc(20):new r(20);return L.writeInt32LE(this._a,0),L.writeInt32LE(this._b,4),L.writeInt32LE(this._c,8),L.writeInt32LE(this._d,12),L.writeInt32LE(this._e,16),L},e.exports=p},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,e,n){"use strict";var r=t("buffer"),i=r.Buffer;function o(a,c){for(var u in a)c[u]=a[u]}function s(a,c,u){return i(a,c,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(a,c,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,c,u)},s.alloc=function(a,c,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=i(a);return c!==void 0?typeof u=="string"?l.fill(c,u):l.fill(c):l.fill(0),l},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],495:[function(t,e,n){(function(r){(function(){"use strict";var i,o=t("buffer"),s=o.Buffer,a={};for(i in o)o.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(a[i]=o[i]);var c=a.Buffer={};for(i in s)s.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(c[i]=s[i]);if(a.Buffer.prototype=s.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(u,l,d){if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof u);if(u&&u.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);return s(u,l,d)}),c.alloc||(c.alloc=function(u,l,d){if(typeof u!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof u);if(u<0||u>=2*(1<<30))throw new RangeError('The value "'+u+'" is invalid for option "size"');var f=s(u);return l&&l.length!==0?typeof d=="string"?f.fill(l,d):f.fill(l):f.fill(0),f}),!a.kStringMaxLength)try{a.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let r=t("xmlchars/xml/1.0/ed5"),i=t("xmlchars/xml/1.1/ed2"),o=t("xmlchars/xmlns/1.0/ed3");var s=r.isS,a=r.isChar,c=r.isNameStartChar,u=r.isNameChar,l=r.S_LIST,d=r.NAME_RE,f=i.isChar,p=o.isNCNameStartChar,h=o.isNCNameChar,y=o.NC_NAME_RE;let m="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:m,xmlns:_},D={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},L=g=>g===34||g===39,$=[34,39],V=[...$,91,62],R=[...$,60,93],N=[61,63,...l],j=[...l,62,38,60];function O(g,v,w){switch(v){case"xml":w!==m&&g.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":w!==_&&g.fail(`xmlns prefix must be bound to ${_}.`)}switch(w){case _:g.fail(v===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case m:switch(v){case"xml":break;case"":g.fail(`the default namespace may not be set to ${w}.`);break;default:g.fail("may not assign the xml namespace to another prefix.")}}}let E=g=>y.test(g),I=g=>d.test(g);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(g){this.opt=g??{},this.fragmentOpt=!!this.opt.fragment;let v=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,v){this.nameStartCheck=p,this.nameCheck=h,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);let w=this.opt.additionalNamespaces;w!=null&&((function(b,C){for(let S of Object.keys(C))O(b,S,C[S])})(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=c,this.nameCheck=u,this.isName=I,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var g;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:v}=this;this.state=v?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=v,this.xmlDeclPossible=!v,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(D),(g=this.readyHandler)===null||g===void 0||g.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(g,v){this[A[g]]=v}off(g){this[A[g]]=void 0}makeError(g){var v;let w=(v=this.fileName)!==null&&v!==void 0?v:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+g)}fail(g){let v=this.makeError(g),w=this.errorHandler;if(w===void 0)throw v;return w(v),this}write(g){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let v=!1;g===null?(v=!0,g=""):typeof g=="object"&&(g=g.toString()),this.carriedFromPrevious!==void 0&&(g=`${this.carriedFromPrevious}${g}`,this.carriedFromPrevious=void 0);let w=g.length,b=g.charCodeAt(w-1);!v&&(b===13||b>=55296&&b<=56319)&&(this.carriedFromPrevious=g[w-1],w--,g=g.slice(0,w));let{stateTable:C}=this;for(this.chunk=g,this.i=0;this.i<w;)C[this.state].call(this);return this.chunkPosition+=w,v?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:g,i:v}=this;if(this.prevI=v,this.i=v+1,v>=g.length)return-1;let w=g.charCodeAt(v);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return g.charCodeAt(v+1)===10&&(this.i=v+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let b=65536+1024*(w-55296)+(g.charCodeAt(v+1)-56320);return this.i=v+2,b>1114111&&this.fail("disallowed character."),b}getCode11(){let{chunk:g,i:v}=this;if(this.prevI=v,this.i=v+1,v>=g.length)return-1;let w=g.charCodeAt(v);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let C=g.charCodeAt(v+1);C!==10&&C!==133||(this.i=v+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let b=65536+1024*(w-55296)+(g.charCodeAt(v+1)-56320);return this.i=v+2,b>1114111&&this.fail("disallowed character."),b}getCodeNorm(){let g=this.getCode();return g===-2?10:g}unget(){this.i=this.prevI,this.column--}captureTo(g){let{i:v}=this,{chunk:w}=this;for(;;){let b=this.getCode(),C=b===-2,S=C?10:b;if(S===-1||g.includes(S))return this.text+=w.slice(v,this.prevI),S;C&&(this.text+=w.slice(v,this.prevI)+`
`,v=this.i)}}captureToChar(g){let{i:v}=this,{chunk:w}=this;for(;;){let b=this.getCode();switch(b){case-2:this.text+=w.slice(v,this.prevI)+`
`,v=this.i,b=10;break;case-1:return this.text+=w.slice(v),!1}if(b===g)return this.text+=w.slice(v,this.prevI),!0}}captureNameChars(){let{chunk:g,i:v}=this;for(;;){let w=this.getCode();if(w===-1)return this.name+=g.slice(v),-1;if(!u(w))return this.name+=g.slice(v,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){let g=this.getCodeNorm();if(g===-1||!s(g))return g}}setXMLVersion(g){this.currentXMLVersion=g,g==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=f,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let g=this.i,v=this.skipSpaces();switch(this.prevI!==g&&(this.xmlDeclPossible=!1),v){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var g;let v=this.captureTo(V);switch(v){case 62:(g=this.doctypeHandler)===null||g===void 0||g.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(v),v===91?this.state=4:L(v)&&(this.state=3,this.q=v)}}sDoctypeQuote(){let g=this.q;this.captureToChar(g)&&(this.text+=String.fromCodePoint(g),this.q=null,this.state=2)}sDTD(){let g=this.captureTo(R);g!==-1&&(this.text+=String.fromCodePoint(g),g===93?this.state=2:g===60?this.state=6:L(g)&&(this.state=5,this.q=g))}sDTDQuoted(){let g=this.q;this.captureToChar(g)&&(this.text+=String.fromCodePoint(g),this.state=4,this.q=null)}sDTDOpenWaka(){let g=this.getCodeNorm();switch(this.text+=String.fromCodePoint(g),g){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let g=String.fromCodePoint(this.getCodeNorm()),v=this.openWakaBang+=g;this.text+=g,v!=="-"&&(this.state=v==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let g=this.getCodeNorm();this.text+=String.fromCodePoint(g),this.state=g===45?10:8}sDTDCommentEnded(){let g=this.getCodeNorm();this.text+=String.fromCodePoint(g),g===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let g=this.getCodeNorm();this.text+=String.fromCodePoint(g),g===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:g}=this,{chunk:v}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=v.slice(g,this.prevI)+`
`,g=this.i;break;case 59:{let{entityReturnState:w}=this,b=this.entity+v.slice(g,this.prevI),C;this.state=w,b===""?(this.fail("empty entity name."),C="&;"):(C=this.parseEntity(b),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=C);break e}case-1:this.entity+=v.slice(g);break e}}sOpenWaka(){let g=this.getCode();if(c(g))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(g){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var g;let v=this.getCodeNorm();v===45?(this.state=19,(g=this.commentHandler)===null||g===void 0||g.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(v),this.state=17)}sCommentEnded(){let g=this.getCodeNorm();g!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(g),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let g=this.getCodeNorm();g===93?this.state=22:(this.text+="]"+String.fromCodePoint(g),this.state=20)}sCDataEnding2(){var g;let v=this.getCodeNorm();switch(v){case 62:(g=this.cdataHandler)===null||g===void 0||g.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(v),this.state=20}}sPIFirstChar(){let g=this.getCodeNorm();this.nameStartCheck(g)?(this.piTarget+=String.fromCodePoint(g),this.state=24):g===63||s(g)?(this.fail("processing instruction without a target."),this.state=g===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(g),this.state=24)}sPIRest(){let{chunk:g,i:v}=this;for(;;){let w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=g.slice(v));if(!this.nameCheck(w)){this.piTarget+=g.slice(v,this.prevI);let b=w===63;b||s(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=b?33:27):this.state=b?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){let g=this.getCodeNorm();g===63?this.state=26:s(g)||(this.text=String.fromCodePoint(g))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var g;let v=this.getCodeNorm();if(v===62){let{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(g=this.piHandler)===null||g===void 0||g.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else v===63?this.text+="?":(this.text+="?"+String.fromCodePoint(v),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let g=this.skipSpaces();g!==63?g!==-1&&(this.state=28,this.name=String.fromCodePoint(g)):this.state=33}sXMLDeclName(){let g=this.captureTo(N);if(g===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(g)||g===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=g===61?30:29}}sXMLDeclEq(){let g=this.getCodeNorm();if(g===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(g)||(g!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let g=this.getCodeNorm();if(g===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(g)||(L(g)?this.q=g:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let g=this.captureTo([this.q,63]);if(g===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(g===-1)return;let v=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let w=v;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(v)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=v;break;case"standalone":v!=="yes"&&v!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=v}this.name="",this.state=32}sXMLDeclSeparator(){let g=this.getCodeNorm();g!==63?(s(g)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var g;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(g=this.xmldeclHandler)===null||g===void 0||g.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var g;let v=this.captureNameChars();if(v===-1)return;let w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(g=this.openTagStartHandler)===null||g===void 0||g.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),v){case 62:this.openTag();break;case 47:this.state=35;break;default:s(v)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let g=this.skipSpaces();g!==-1&&(c(g)?(this.unget(),this.state=37):g===62?this.openTag():g===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let g=this.captureNameChars();g===61?this.state=39:s(g)?this.state=38:g===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):g!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let g=this.skipSpaces();switch(g){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",g===62?this.openTag():c(g)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let g=this.getCodeNorm();L(g)?(this.q=g,this.state=40):s(g)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:g,chunk:v}=this,{i:w}=this;for(;;)switch(this.getCode()){case g:return this.pushAttrib(this.name,this.text+v.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=v.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=v.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=v.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=v.slice(w))}}sAttribValueClosed(){let g=this.getCodeNorm();s(g)?this.state=36:g===62?this.openTag():g===47?this.state=35:c(g)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let g=this.captureTo(j);switch(g){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",g===62?this.openTag():this.state=36}}sCloseTag(){let g=this.captureNameChars();g===62?this.closeTag():s(g)?this.state=44:g!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:g,forbiddenState:v}=this,{chunk:w,textHandler:b}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,b!==void 0){let{text:C}=this,S=w.slice(g,this.prevI);C.length!==0?(b(C+S),this.text=""):S.length!==0&&b(S)}v=0;break e;case 38:this.state=14,this.entityReturnState=13,b!==void 0&&(this.text+=w.slice(g,this.prevI)),v=0;break e;case 93:switch(v){case 0:v=1;break;case 1:v=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:v===2&&this.fail('the string "]]>" is disallowed in char data.'),v=0;break;case-2:b!==void 0&&(this.text+=w.slice(g,this.prevI)+`
`),g=this.i,v=0;break;case-1:b!==void 0&&(this.text+=w.slice(g));break e;default:v=0}this.forbiddenState=v}handleTextOutsideRoot(){let{i:g}=this,{chunk:v,textHandler:w}=this,b=!1;e:for(;;){let C=this.getCode();switch(C){case 60:if(this.state=15,w!==void 0){let{text:S}=this,F=v.slice(g,this.prevI);S.length!==0?(w(S+F),this.text=""):F.length!==0&&w(F)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=v.slice(g,this.prevI)),b=!0;break e;case-2:w!==void 0&&(this.text+=v.slice(g,this.prevI)+`
`),g=this.i;break;case-1:w!==void 0&&(this.text+=v.slice(g));break e;default:s(C)||(b=!0)}}b&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(g,v){var w;let{prefix:b,local:C}=this.qname(g),S={name:g,prefix:b,local:C,value:v};if(this.attribList.push(S),(w=this.attributeHandler)===null||w===void 0||w.call(this,S),b==="xmlns"){let F=v.trim();this.currentXMLVersion==="1.0"&&F===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[C]=F,O(this,C,F)}else if(g==="xmlns"){let F=v.trim();this.topNS[""]=F,O(this,"",F)}}pushAttribPlain(g,v){var w;let b={name:g,value:v};this.attribList.push(b),(w=this.attributeHandler)===null||w===void 0||w.call(this,b)}end(){var g,v;this.sawRoot||this.fail("document must contain a root element.");let{tags:w}=this;for(;w.length>0;){let C=w.pop();this.fail("unclosed tag: "+C.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:b}=this;return b.length!==0&&((g=this.textHandler)===null||g===void 0||g.call(this,b),this.text=""),this._closed=!0,(v=this.endHandler)===null||v===void 0||v.call(this),this._init(),this}resolve(g){var v,w;let b=this.topNS[g];if(b!==void 0)return b;let{tags:C}=this;for(let S=C.length-1;S>=0;S--)if(b=C[S].ns[g],b!==void 0)return b;return b=this.ns[g],b!==void 0?b:(w=(v=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(v,g)}qname(g){let v=g.indexOf(":");if(v===-1)return{prefix:"",local:g};let w=g.slice(v+1),b=g.slice(0,v);return(b===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${g}.`),{prefix:b,local:w}}processAttribsNS(){var g;let{attribList:v}=this,w=this.tag;{let{prefix:S,local:F}=this.qname(w.name);w.prefix=S,w.local=F;let q=w.uri=(g=this.resolve(S))!==null&&g!==void 0?g:"";S!==""&&(S==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(S)}.`),w.uri=S))}if(v.length===0)return;let{attributes:b}=w,C=new Set;for(let S of v){let{name:F,prefix:q,local:z}=S,Y,P;q===""?(Y=F==="xmlns"?_:"",P=F):(Y=this.resolve(q),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),Y=q),P=`{${Y}}${z}`),C.has(P)&&this.fail(`duplicate attribute: ${P}.`),C.add(P),S.uri=Y,b[F]=S}this.attribList=[]}processAttribsPlain(){let{attribList:g}=this,v=this.tag.attributes;for(let{name:w,value:b}of g)v[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),v[w]=b;this.attribList=[]}openTag(){var g;this.processAttribs();let{tags:v}=this,w=this.tag;w.isSelfClosing=!1,(g=this.openTagHandler)===null||g===void 0||g.call(this,w),v.push(w),this.state=13,this.name=""}openSelfClosingTag(){var g,v,w;this.processAttribs();let{tags:b}=this,C=this.tag;C.isSelfClosing=!0,(g=this.openTagHandler)===null||g===void 0||g.call(this,C),(v=this.closeTagHandler)===null||v===void 0||v.call(this,C),(this.tag=(w=b[b.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:g,name:v}=this;if(this.state=13,this.name="",v==="")return this.fail("weird empty close tag."),void(this.text+="</>");let w=this.closeTagHandler,b=g.length;for(;b-- >0;){let C=this.tag=g.pop();if(this.topNS=C.ns,w?.(C),C.name===v)break;this.fail("unexpected close tag.")}b===0?this.closedRoot=!0:b<0&&(this.fail(`unmatched closing tag: ${v}.`),this.text+=`</${v}>`)}parseEntity(g){if(g[0]!=="#"){let w=this.ENTITIES[g];return w!==void 0?w:(this.fail(this.isName(g)?"undefined entity.":"disallowed character in entity name."),`&${g};`)}let v=NaN;return g[1]==="x"&&/^#x[0-9a-f]+$/i.test(g)?v=parseInt(g.slice(2),16):/^#[0-9]+$/.test(g)&&(v=parseInt(g.slice(1),10)),this.isChar(v)?String.fromCodePoint(v):(this.fail("malformed character entity."),`&${g};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(o,s){this._block=r.alloc(o),this._finalSize=s,this._blockSize=o,this._len=0}i.prototype.update=function(o,s){typeof o=="string"&&(s=s||"utf8",o=r.from(o,s));for(var a=this._block,c=this._blockSize,u=o.length,l=this._len,d=0;d<u;){for(var f=l%c,p=Math.min(u-d,c-f),h=0;h<p;h++)a[f+h]=o[d+h];d+=p,(l+=p)%c==0&&this._update(a)}return this._len+=u,this},i.prototype.digest=function(o){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var c=(4294967295&a)>>>0,u=(a-c)/4294967296;this._block.writeUInt32BE(u,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var l=this._hash();return o?l.toString(o):l},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},{"safe-buffer":494}],498:[function(t,e,n){"use strict";var r=e.exports=function(i){i=i.toLowerCase();var o=r[i];if(!o)throw new Error(i+" is not supported (we accept pull requests)");return new o};r.sha=t("./sha"),r.sha1=t("./sha1"),r.sha224=t("./sha224"),r.sha256=t("./sha256"),r.sha384=t("./sha384"),r.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(d){return d<<30|d>>>2}function l(d,f,p,h){return d===0?f&p|~f&h:d===2?f&p|f&h|p&h:f^p^h}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(d){for(var f,p=this._w,h=0|this._a,y=0|this._b,m=0|this._c,_=0|this._d,x=0|this._e,D=0;D<16;++D)p[D]=d.readInt32BE(4*D);for(;D<80;++D)p[D]=p[D-3]^p[D-8]^p[D-14]^p[D-16];for(var L=0;L<80;++L){var $=~~(L/20),V=0|((f=h)<<5|f>>>27)+l($,y,m,_)+x+p[L]+s[$];x=_,_=m,m=u(y),y=h,h=V}this._a=h+this._a|0,this._b=y+this._b|0,this._c=m+this._c|0,this._d=_+this._d|0,this._e=x+this._e|0},c.prototype._hash=function(){var d=o.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(f){return f<<5|f>>>27}function l(f){return f<<30|f>>>2}function d(f,p,h,y){return f===0?p&h|~p&y:f===2?p&h|p&y|h&y:p^h^y}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(f){for(var p,h=this._w,y=0|this._a,m=0|this._b,_=0|this._c,x=0|this._d,D=0|this._e,L=0;L<16;++L)h[L]=f.readInt32BE(4*L);for(;L<80;++L)h[L]=(p=h[L-3]^h[L-8]^h[L-14]^h[L-16])<<1|p>>>31;for(var $=0;$<80;++$){var V=~~($/20),R=u(y)+d(V,m,_,x)+D+h[$]+s[V]|0;D=x,x=_,_=l(m),m=y,y=R}this._a=y+this._a|0,this._b=m+this._b|0,this._c=_+this._c|0,this._d=x+this._d|0,this._e=D+this._e|0},c.prototype._hash=function(){var f=o.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./sha256"),o=t("./hash"),s=t("safe-buffer").Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var u=s.allocUnsafe(28);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u},e.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(h,y,m){return m^h&(y^m)}function l(h,y,m){return h&y|m&(h|y)}function d(h){return(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10)}function f(h){return(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7)}function p(h){return(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(h){for(var y,m=this._w,_=0|this._a,x=0|this._b,D=0|this._c,L=0|this._d,$=0|this._e,V=0|this._f,R=0|this._g,N=0|this._h,j=0;j<16;++j)m[j]=h.readInt32BE(4*j);for(;j<64;++j)m[j]=0|(((y=m[j-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+m[j-7]+p(m[j-15])+m[j-16];for(var O=0;O<64;++O){var E=N+f($)+u($,V,R)+s[O]+m[O]|0,I=d(_)+l(_,x,D)|0;N=R,R=V,V=$,$=L+E|0,L=D,D=x,x=_,_=E+I|0}this._a=_+this._a|0,this._b=x+this._b|0,this._c=D+this._c|0,this._d=L+this._d|0,this._e=$+this._e|0,this._f=V+this._f|0,this._g=R+this._g|0,this._h=N+this._h|0},c.prototype._hash=function(){var h=o.allocUnsafe(32);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h.writeInt32BE(this._h,28),h},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./sha512"),o=t("./hash"),s=t("safe-buffer").Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var u=s.allocUnsafe(48);function l(d,f,p){u.writeInt32BE(d,p),u.writeInt32BE(f,p+4)}return l(this._ah,this._al,0),l(this._bh,this._bl,8),l(this._ch,this._cl,16),l(this._dh,this._dl,24),l(this._eh,this._el,32),l(this._fh,this._fl,40),u},e.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),o=t("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(x,D,L){return L^x&(D^L)}function l(x,D,L){return x&D|L&(x|D)}function d(x,D){return(x>>>28|D<<4)^(D>>>2|x<<30)^(D>>>7|x<<25)}function f(x,D){return(x>>>14|D<<18)^(x>>>18|D<<14)^(D>>>9|x<<23)}function p(x,D){return(x>>>1|D<<31)^(x>>>8|D<<24)^x>>>7}function h(x,D){return(x>>>1|D<<31)^(x>>>8|D<<24)^(x>>>7|D<<25)}function y(x,D){return(x>>>19|D<<13)^(D>>>29|x<<3)^x>>>6}function m(x,D){return(x>>>19|D<<13)^(D>>>29|x<<3)^(x>>>6|D<<26)}function _(x,D){return x>>>0<D>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(x){for(var D=this._w,L=0|this._ah,$=0|this._bh,V=0|this._ch,R=0|this._dh,N=0|this._eh,j=0|this._fh,O=0|this._gh,E=0|this._hh,I=0|this._al,A=0|this._bl,g=0|this._cl,v=0|this._dl,w=0|this._el,b=0|this._fl,C=0|this._gl,S=0|this._hl,F=0;F<32;F+=2)D[F]=x.readInt32BE(4*F),D[F+1]=x.readInt32BE(4*F+4);for(;F<160;F+=2){var q=D[F-30],z=D[F-30+1],Y=p(q,z),P=h(z,q),K=y(q=D[F-4],z=D[F-4+1]),k=m(z,q),M=D[F-14],H=D[F-14+1],Z=D[F-32],ie=D[F-32+1],J=P+H|0,ne=Y+M+_(J,P)|0;ne=(ne=ne+K+_(J=J+k|0,k)|0)+Z+_(J=J+ie|0,ie)|0,D[F]=ne,D[F+1]=J}for(var de=0;de<160;de+=2){ne=D[de],J=D[de+1];var ue=l(L,$,V),ee=l(I,A,g),le=d(L,I),te=d(I,L),ae=f(N,w),he=f(w,N),fe=s[de],ve=s[de+1],Ae=u(N,j,O),Re=u(w,b,C),Oe=S+he|0,ut=E+ae+_(Oe,S)|0;ut=(ut=(ut=ut+Ae+_(Oe=Oe+Re|0,Re)|0)+fe+_(Oe=Oe+ve|0,ve)|0)+ne+_(Oe=Oe+J|0,J)|0;var He=te+ee|0,Ye=le+ue+_(He,te)|0;E=O,S=C,O=j,C=b,j=N,b=w,N=R+ut+_(w=v+Oe|0,v)|0,R=V,v=g,V=$,g=A,$=L,A=I,L=ut+Ye+_(I=Oe+He|0,Oe)|0}this._al=this._al+I|0,this._bl=this._bl+A|0,this._cl=this._cl+g|0,this._dl=this._dl+v|0,this._el=this._el+w|0,this._fl=this._fl+b|0,this._gl=this._gl+C|0,this._hl=this._hl+S|0,this._ah=this._ah+L+_(this._al,I)|0,this._bh=this._bh+$+_(this._bl,A)|0,this._ch=this._ch+V+_(this._cl,g)|0,this._dh=this._dh+R+_(this._dl,v)|0,this._eh=this._eh+N+_(this._el,w)|0,this._fh=this._fh+j+_(this._fl,b)|0,this._gh=this._gh+O+_(this._gl,C)|0,this._hh=this._hh+E+_(this._hl,S)|0},c.prototype._hash=function(){var x=o.allocUnsafe(64);function D(L,$,V){x.writeInt32BE(L,V),x.writeInt32BE($,V+4)}return D(this._ah,this._al,0),D(this._bh,this._bl,8),D(this._ch,this._cl,16),D(this._dh,this._dl,24),D(this._eh,this._el,32),D(this._fh,this._fl,40),D(this._gh,this._gl,48),D(this._hh,this._hl,56),x},e.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,e,n){"use strict";e.exports=i;var r=t("events").EventEmitter;function i(){r.call(this)}t("inherits")(i,r),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function c(y){o.writable&&o.write(y)===!1&&a.pause&&a.pause()}function u(){a.readable&&a.resume&&a.resume()}a.on("data",c),o.on("drain",u),o._isStdio||s&&s.end===!1||(a.on("end",d),a.on("close",f));var l=!1;function d(){l||(l=!0,o.end())}function f(){l||(l=!0,typeof o.destroy=="function"&&o.destroy())}function p(y){if(h(),r.listenerCount(this,"error")===0)throw y}function h(){a.removeListener("data",c),o.removeListener("drain",u),a.removeListener("end",d),a.removeListener("close",f),a.removeListener("error",p),o.removeListener("error",p),a.removeListener("end",h),a.removeListener("close",h),o.removeListener("close",h)}return a.on("error",p),o.on("error",p),a.on("end",h),a.on("close",h),o.on("close",h),o.emit("pipe",a),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,e,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(i){return r.call(i)=="[object Array]"}},{}],507:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,e,n){"use strict";var r=t("process-nextick-args"),i=Object.keys||function(h){var y=[];for(var m in h)y.push(m);return y};e.exports=d;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var s=t("./_stream_readable"),a=t("./_stream_writable");o.inherits(d,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(h){if(!(this instanceof d))return new d(h);s.call(this,h),a.call(this,h),h&&h.readable===!1&&(this.readable=!1),h&&h.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,h&&h.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(h){h.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),d.prototype._destroy=function(h,y){this.push(null),this.end(),r.nextTick(y,h)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,e,n){"use strict";e.exports=o;var r=t("./_stream_transform"),i=Object.create(t("core-util-is"));function o(s){if(!(this instanceof o))return new o(s);r.call(this,s)}i.inherits=t("inherits"),i.inherits(o,r),o.prototype._transform=function(s,a,c){c(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,e,n){(function(r,i){(function(){"use strict";var o=t("process-nextick-args");e.exports=L;var s,a=t("isarray");L.ReadableState=D,t("events").EventEmitter;var c=function(S,F){return S.listeners(F).length},u=t("./internal/streams/stream"),l=t("safe-buffer").Buffer,d=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=Object.create(t("core-util-is"));f.inherits=t("inherits");var p=t("util"),h=void 0;h=p&&p.debuglog?p.debuglog("stream"):function(){};var y,m=t("./internal/streams/BufferList"),_=t("./internal/streams/destroy");f.inherits(L,u);var x=["error","close","destroy","pause","resume"];function D(S,F){S=S||{};var q=F instanceof(s=s||t("./_stream_duplex"));this.objectMode=!!S.objectMode,q&&(this.objectMode=this.objectMode||!!S.readableObjectMode);var z=S.highWaterMark,Y=S.readableHighWaterMark,P=this.objectMode?16:16384;this.highWaterMark=z||z===0?z:q&&(Y||Y===0)?Y:P,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=S.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,S.encoding&&(y||(y=t("string_decoder/").StringDecoder),this.decoder=new y(S.encoding),this.encoding=S.encoding)}function L(S){if(s=s||t("./_stream_duplex"),!(this instanceof L))return new L(S);this._readableState=new D(S,this),this.readable=!0,S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy)),u.call(this)}function $(S,F,q,z,Y){var P,K=S._readableState;return F===null?(K.reading=!1,(function(k,M){if(!M.ended){if(M.decoder){var H=M.decoder.end();H&&H.length&&(M.buffer.push(H),M.length+=M.objectMode?1:H.length)}M.ended=!0,N(k)}})(S,K)):(Y||(P=(function(k,M){var H;Z=M,l.isBuffer(Z)||Z instanceof d||typeof M=="string"||M===void 0||k.objectMode||(H=new TypeError("Invalid non-string/buffer chunk"));var Z;return H})(K,F)),P?S.emit("error",P):K.objectMode||F&&F.length>0?(typeof F=="string"||K.objectMode||Object.getPrototypeOf(F)===l.prototype||(F=(function(k){return l.from(k)})(F)),z?K.endEmitted?S.emit("error",new Error("stream.unshift() after end event")):V(S,K,F,!0):K.ended?S.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!q?(F=K.decoder.write(F),K.objectMode||F.length!==0?V(S,K,F,!1):O(S,K)):V(S,K,F,!1))):z||(K.reading=!1)),(function(k){return!k.ended&&(k.needReadable||k.length<k.highWaterMark||k.length===0)})(K)}function V(S,F,q,z){F.flowing&&F.length===0&&!F.sync?(S.emit("data",q),S.read(0)):(F.length+=F.objectMode?1:q.length,z?F.buffer.unshift(q):F.buffer.push(q),F.needReadable&&N(S)),O(S,F)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(S){this._readableState&&(this._readableState.destroyed=S)}}),L.prototype.destroy=_.destroy,L.prototype._undestroy=_.undestroy,L.prototype._destroy=function(S,F){this.push(null),F(S)},L.prototype.push=function(S,F){var q,z=this._readableState;return z.objectMode?q=!0:typeof S=="string"&&((F=F||z.defaultEncoding)!==z.encoding&&(S=l.from(S,F),F=""),q=!0),$(this,S,F,!1,q)},L.prototype.unshift=function(S){return $(this,S,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(S){return y||(y=t("string_decoder/").StringDecoder),this._readableState.decoder=new y(S),this._readableState.encoding=S,this};function R(S,F){return S<=0||F.length===0&&F.ended?0:F.objectMode?1:S!=S?F.flowing&&F.length?F.buffer.head.data.length:F.length:(S>F.highWaterMark&&(F.highWaterMark=(function(q){return q>=8388608?q=8388608:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q})(S)),S<=F.length?S:F.ended?F.length:(F.needReadable=!0,0))}function N(S){var F=S._readableState;F.needReadable=!1,F.emittedReadable||(h("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?o.nextTick(j,S):j(S))}function j(S){h("emit readable"),S.emit("readable"),g(S)}function O(S,F){F.readingMore||(F.readingMore=!0,o.nextTick(E,S,F))}function E(S,F){for(var q=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(h("maybeReadMore read 0"),S.read(0),q!==F.length);)q=F.length;F.readingMore=!1}function I(S){h("readable nexttick read 0"),S.read(0)}function A(S,F){F.reading||(h("resume read 0"),S.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,S.emit("resume"),g(S),F.flowing&&!F.reading&&S.read(0)}function g(S){var F=S._readableState;for(h("flow",F.flowing);F.flowing&&S.read()!==null;);}function v(S,F){return F.length===0?null:(F.objectMode?q=F.buffer.shift():!S||S>=F.length?(q=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):q=(function(z,Y,P){var K;return z<Y.head.data.length?(K=Y.head.data.slice(0,z),Y.head.data=Y.head.data.slice(z)):K=z===Y.head.data.length?Y.shift():P?(function(k,M){var H=M.head,Z=1,ie=H.data;for(k-=ie.length;H=H.next;){var J=H.data,ne=k>J.length?J.length:k;if(ne===J.length?ie+=J:ie+=J.slice(0,k),(k-=ne)===0){ne===J.length?(++Z,H.next?M.head=H.next:M.head=M.tail=null):(M.head=H,H.data=J.slice(ne));break}++Z}return M.length-=Z,ie})(z,Y):(function(k,M){var H=l.allocUnsafe(k),Z=M.head,ie=1;for(Z.data.copy(H),k-=Z.data.length;Z=Z.next;){var J=Z.data,ne=k>J.length?J.length:k;if(J.copy(H,H.length-k,0,ne),(k-=ne)===0){ne===J.length?(++ie,Z.next?M.head=Z.next:M.head=M.tail=null):(M.head=Z,Z.data=J.slice(ne));break}++ie}return M.length-=ie,H})(z,Y),K})(S,F.buffer,F.decoder),q);var q}function w(S){var F=S._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,o.nextTick(b,F,S))}function b(S,F){S.endEmitted||S.length!==0||(S.endEmitted=!0,F.readable=!1,F.emit("end"))}function C(S,F){for(var q=0,z=S.length;q<z;q++)if(S[q]===F)return q;return-1}L.prototype.read=function(S){h("read",S),S=parseInt(S,10);var F=this._readableState,q=S;if(S!==0&&(F.emittedReadable=!1),S===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return h("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?w(this):N(this),null;if((S=R(S,F))===0&&F.ended)return F.length===0&&w(this),null;var z,Y=F.needReadable;return h("need readable",Y),(F.length===0||F.length-S<F.highWaterMark)&&h("length less than watermark",Y=!0),F.ended||F.reading?h("reading or ended",Y=!1):Y&&(h("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(S=R(q,F))),(z=S>0?v(S,F):null)===null?(F.needReadable=!0,S=0):F.length-=S,F.length===0&&(F.ended||(F.needReadable=!0),q!==S&&F.ended&&w(this)),z!==null&&this.emit("data",z),z},L.prototype._read=function(S){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(S,F){var q=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=S;break;case 1:z.pipes=[z.pipes,S];break;default:z.pipes.push(S)}z.pipesCount+=1,h("pipe count=%d opts=%j",z.pipesCount,F);var Y=(!F||F.end!==!1)&&S!==r.stdout&&S!==r.stderr?K:de;function P(ue,ee){h("onunpipe"),ue===q&&ee&&ee.hasUnpiped===!1&&(ee.hasUnpiped=!0,h("cleanup"),S.removeListener("close",J),S.removeListener("finish",ne),S.removeListener("drain",k),S.removeListener("error",ie),S.removeListener("unpipe",P),q.removeListener("end",K),q.removeListener("end",de),q.removeListener("data",Z),M=!0,!z.awaitDrain||S._writableState&&!S._writableState.needDrain||k())}function K(){h("onend"),S.end()}z.endEmitted?o.nextTick(Y):q.once("end",Y),S.on("unpipe",P);var k=(function(ue){return function(){var ee=ue._readableState;h("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&c(ue,"data")&&(ee.flowing=!0,g(ue))}})(q);S.on("drain",k);var M=!1,H=!1;function Z(ue){h("ondata"),H=!1,S.write(ue)!==!1||H||((z.pipesCount===1&&z.pipes===S||z.pipesCount>1&&C(z.pipes,S)!==-1)&&!M&&(h("false write response, pause",z.awaitDrain),z.awaitDrain++,H=!0),q.pause())}function ie(ue){h("onerror",ue),de(),S.removeListener("error",ie),c(S,"error")===0&&S.emit("error",ue)}function J(){S.removeListener("finish",ne),de()}function ne(){h("onfinish"),S.removeListener("close",J),de()}function de(){h("unpipe"),q.unpipe(S)}return q.on("data",Z),(function(ue,ee,le){if(typeof ue.prependListener=="function")return ue.prependListener(ee,le);ue._events&&ue._events[ee]?a(ue._events[ee])?ue._events[ee].unshift(le):ue._events[ee]=[le,ue._events[ee]]:ue.on(ee,le)})(S,"error",ie),S.once("close",J),S.once("finish",ne),S.emit("pipe",q),z.flowing||(h("pipe resume"),q.resume()),S},L.prototype.unpipe=function(S){var F=this._readableState,q={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return S&&S!==F.pipes||(S||(S=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,S&&S.emit("unpipe",this,q)),this;if(!S){var z=F.pipes,Y=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var P=0;P<Y;P++)z[P].emit("unpipe",this,{hasUnpiped:!1});return this}var K=C(F.pipes,S);return K===-1||(F.pipes.splice(K,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),S.emit("unpipe",this,q)),this},L.prototype.on=function(S,F){var q=u.prototype.on.call(this,S,F);if(S==="data")this._readableState.flowing!==!1&&this.resume();else if(S==="readable"){var z=this._readableState;z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&N(this):o.nextTick(I,this))}return q},L.prototype.addListener=L.prototype.on,L.prototype.resume=function(){var S=this._readableState;return S.flowing||(h("resume"),S.flowing=!0,(function(F,q){q.resumeScheduled||(q.resumeScheduled=!0,o.nextTick(A,F,q))})(this,S)),this},L.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},L.prototype.wrap=function(S){var F=this,q=this._readableState,z=!1;for(var Y in S.on("end",function(){if(h("wrapped end"),q.decoder&&!q.ended){var K=q.decoder.end();K&&K.length&&F.push(K)}F.push(null)}),S.on("data",function(K){h("wrapped data"),q.decoder&&(K=q.decoder.write(K)),q.objectMode&&K==null||(q.objectMode||K&&K.length)&&(F.push(K)||(z=!0,S.pause()))}),S)this[Y]===void 0&&typeof S[Y]=="function"&&(this[Y]=(function(K){return function(){return S[K].apply(S,arguments)}})(Y));for(var P=0;P<x.length;P++)S.on(x[P],this.emit.bind(this,x[P]));return this._read=function(K){h("wrapped _read",K),z&&(z=!1,S.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=v}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,e,n){"use strict";e.exports=s;var r=t("./_stream_duplex"),i=Object.create(t("core-util-is"));function o(u,l){var d=this._transformState;d.transforming=!1;var f=d.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,l!=null&&this.push(l),f(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function s(u){if(!(this instanceof s))return new s(u);r.call(this,u),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",a)}function a(){var u=this;typeof this._flush=="function"?this._flush(function(l,d){c(u,l,d)}):c(this,null,null)}function c(u,l,d){if(l)return u.emit("error",l);if(d!=null&&u.push(d),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}i.inherits=t("inherits"),i.inherits(s,r),s.prototype.push=function(u,l){return this._transformState.needTransform=!1,r.prototype.push.call(this,u,l)},s.prototype._transform=function(u,l,d){throw new Error("_transform() is not implemented")},s.prototype._write=function(u,l,d){var f=this._transformState;if(f.writecb=d,f.writechunk=u,f.writeencoding=l,!f.transforming){var p=this._readableState;(f.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},s.prototype._read=function(u){var l=this._transformState;l.writechunk!==null&&l.writecb&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},s.prototype._destroy=function(u,l){var d=this;r.prototype._destroy.call(this,u,function(f){l(f),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,e,n){(function(r,i,o){(function(){"use strict";var s=t("process-nextick-args");function a(O){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(I,A,g){var v=I.entry;for(I.entry=null;v;){var w=v.callback;A.pendingcb--,w(g),v=v.next}A.corkedRequestsFree.next=I})(E,O)}}e.exports=D;var c,u=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?o:s.nextTick;D.WritableState=x;var l=Object.create(t("core-util-is"));l.inherits=t("inherits");var d={deprecate:t("util-deprecate")},f=t("./internal/streams/stream"),p=t("safe-buffer").Buffer,h=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,m=t("./internal/streams/destroy");function _(){}function x(O,E){c=c||t("./_stream_duplex"),O=O||{};var I=E instanceof c;this.objectMode=!!O.objectMode,I&&(this.objectMode=this.objectMode||!!O.writableObjectMode);var A=O.highWaterMark,g=O.writableHighWaterMark,v=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:I&&(g||g===0)?g:v,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=O.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(b){(function(C,S){var F=C._writableState,q=F.sync,z=F.writecb;if((function(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0})(F),S)(function(P,K,k,M,H){--K.pendingcb,k?(s.nextTick(H,M),s.nextTick(j,P,K),P._writableState.errorEmitted=!0,P.emit("error",M)):(H(M),P._writableState.errorEmitted=!0,P.emit("error",M),j(P,K))})(C,F,q,S,z);else{var Y=R(F);Y||F.corked||F.bufferProcessing||!F.bufferedRequest||V(C,F),q?u($,C,F,Y,z):$(C,F,Y,z)}})(E,b)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function D(O){if(c=c||t("./_stream_duplex"),!(y.call(D,this)||this instanceof c))return new D(O);this._writableState=new x(O,this),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),f.call(this)}function L(O,E,I,A,g,v,w){E.writelen=A,E.writecb=w,E.writing=!0,E.sync=!0,I?O._writev(g,E.onwrite):O._write(g,v,E.onwrite),E.sync=!1}function $(O,E,I,A){I||(function(g,v){v.length===0&&v.needDrain&&(v.needDrain=!1,g.emit("drain"))})(O,E),E.pendingcb--,A(),j(O,E)}function V(O,E){E.bufferProcessing=!0;var I=E.bufferedRequest;if(O._writev&&I&&I.next){var A=E.bufferedRequestCount,g=new Array(A),v=E.corkedRequestsFree;v.entry=I;for(var w=0,b=!0;I;)g[w]=I,I.isBuf||(b=!1),I=I.next,w+=1;g.allBuffers=b,L(O,E,!0,E.length,g,"",v.finish),E.pendingcb++,E.lastBufferedRequest=null,v.next?(E.corkedRequestsFree=v.next,v.next=null):E.corkedRequestsFree=new a(E),E.bufferedRequestCount=0}else{for(;I;){var C=I.chunk,S=I.encoding,F=I.callback;if(L(O,E,!1,E.objectMode?1:C.length,C,S,F),I=I.next,E.bufferedRequestCount--,E.writing)break}I===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=I,E.bufferProcessing=!1}function R(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function N(O,E){O._final(function(I){E.pendingcb--,I&&O.emit("error",I),E.prefinished=!0,O.emit("prefinish"),j(O,E)})}function j(O,E){var I=R(E);return I&&((function(A,g){g.prefinished||g.finalCalled||(typeof A._final=="function"?(g.pendingcb++,g.finalCalled=!0,s.nextTick(N,A,g)):(g.prefinished=!0,A.emit("prefinish")))})(O,E),E.pendingcb===0&&(E.finished=!0,O.emit("finish"))),I}l.inherits(D,f),x.prototype.getBuffer=function(){for(var O=this.bufferedRequest,E=[];O;)E.push(O),O=O.next;return E},(function(){try{Object.defineProperty(x.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(O){return!!y.call(this,O)||this===D&&O&&O._writableState instanceof x}})):y=function(O){return O instanceof this},D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},D.prototype.write=function(O,E,I){var A,g=this._writableState,v=!1,w=!g.objectMode&&(A=O,p.isBuffer(A)||A instanceof h);return w&&!p.isBuffer(O)&&(O=(function(b){return p.from(b)})(O)),typeof E=="function"&&(I=E,E=null),w?E="buffer":E||(E=g.defaultEncoding),typeof I!="function"&&(I=_),g.ended?(function(b,C){var S=new Error("write after end");b.emit("error",S),s.nextTick(C,S)})(this,I):(w||(function(b,C,S,F){var q=!0,z=!1;return S===null?z=new TypeError("May not write null values to stream"):typeof S=="string"||S===void 0||C.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(b.emit("error",z),s.nextTick(F,z),q=!1),q})(this,g,O,I))&&(g.pendingcb++,v=(function(b,C,S,F,q,z){if(!S){var Y=(function(M,H,Z){return M.objectMode||M.decodeStrings===!1||typeof H!="string"||(H=p.from(H,Z)),H})(C,F,q);F!==Y&&(S=!0,q="buffer",F=Y)}var P=C.objectMode?1:F.length;C.length+=P;var K=C.length<C.highWaterMark;if(K||(C.needDrain=!0),C.writing||C.corked){var k=C.lastBufferedRequest;C.lastBufferedRequest={chunk:F,encoding:q,isBuf:S,callback:z,next:null},k?k.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else L(b,C,!1,P,F,q,z);return K})(this,g,w,O,E,I)),v},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,O.writing||O.corked||O.bufferProcessing||!O.bufferedRequest||V(this,O))},D.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(O,E,I){I(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(O,E,I){var A=this._writableState;typeof O=="function"?(I=O,O=null,E=null):typeof E=="function"&&(I=E,E=null),O!=null&&this.write(O,E),A.corked&&(A.corked=1,this.uncork()),A.ending||(function(g,v,w){v.ending=!0,j(g,v),w&&(v.finished?s.nextTick(w):g.once("finish",w)),v.ended=!0,g.writable=!1})(this,A,I)},Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),D.prototype.destroy=m.destroy,D.prototype._undestroy=m.undestroy,D.prototype._destroy=function(O,E){this.end(),E(O)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("util");e.exports=(function(){function o(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(s){var a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},o.prototype.unshift=function(s){var a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},o.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(s){if(this.length===0)return"";for(var a=this.head,c=""+a.data;a=a.next;)c+=s+a.data;return c},o.prototype.concat=function(s){if(this.length===0)return r.alloc(0);for(var a,c,u,l=r.allocUnsafe(s>>>0),d=this.head,f=0;d;)a=d.data,c=l,u=f,a.copy(c,u),f+=d.data.length,d=d.next;return l},o})(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var o=i.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(t,e,n){"use strict";var r=t("process-nextick-args");function i(o,s){o.emit("error",s)}e.exports={destroy:function(o,s){var a=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,o)):r.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(l){!s&&l?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,r.nextTick(i,a,l)):r.nextTick(i,a,l):s&&s(l)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,e,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(t,e,n){"use strict";e.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,e,n){"use strict";e.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,e,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,e,n){(function(r,i){(function(){"use strict";var o=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,c={},u=0;function l(d,f){this._id=d,this._clearFn=f}n.setTimeout=function(){return new l(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(d){d.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(d,f){clearTimeout(d._idleTimeoutId),d._idleTimeout=f},n.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},n._unrefActive=n.active=function(d){clearTimeout(d._idleTimeoutId);var f=d._idleTimeout;f>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},f))},n.setImmediate=typeof r=="function"?r:function(d){var f=u++,p=!(arguments.length<2)&&a.call(arguments,1);return c[f]=!0,o(function(){c[f]&&(p?d.apply(null,p):d.call(null),n.clearImmediate(f))}),f},n.clearImmediate=typeof i=="function"?i:function(d){delete c[d]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,e,n){(function(r){(function(){"use strict";function i(o){try{if(!r.localStorage)return!1}catch{return!1}var s=r.localStorage[o];return s!=null&&String(s).toLowerCase()==="true"}e.exports=function(o,s){if(i("noDeprecation"))return o;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(s);i("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,e,n){"use strict";typeof Object.create=="function"?e.exports=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(r,i){r.super_=i;var o=function(){};o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}},{}],526:[function(t,e,n){"use strict";e.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],527:[function(t,e,n){(function(r,i){(function(){"use strict";var o=/%[sdj%]/g;n.format=function(g){if(!x(g)){for(var v=[],w=0;w<arguments.length;w++)v.push(c(arguments[w]));return v.join(" ")}w=1;for(var b=arguments,C=b.length,S=String(g).replace(o,function(q){if(q==="%%")return"%";if(w>=C)return q;switch(q){case"%s":return String(b[w++]);case"%d":return Number(b[w++]);case"%j":try{return JSON.stringify(b[w++])}catch{return"[Circular]"}default:return q}}),F=b[w];w<C;F=b[++w])m(F)||!$(F)?S+=" "+F:S+=" "+c(F);return S},n.deprecate=function(g,v){if(D(i.process))return function(){return n.deprecate(g,v).apply(this,arguments)};if(r.noDeprecation===!0)return g;var w=!1;return function(){if(!w){if(r.throwDeprecation)throw new Error(v);r.traceDeprecation?console.trace(v):console.error(v),w=!0}return g.apply(this,arguments)}};var s,a={};function c(g,v){var w={seen:[],stylize:l};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),y(v)?w.showHidden=v:v&&n._extend(w,v),D(w.showHidden)&&(w.showHidden=!1),D(w.depth)&&(w.depth=2),D(w.colors)&&(w.colors=!1),D(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=u),d(w,g,w.depth)}function u(g,v){var w=c.styles[v];return w?"\x1B["+c.colors[w][0]+"m"+g+"\x1B["+c.colors[w][1]+"m":g}function l(g,v){return g}function d(g,v,w){if(g.customInspect&&v&&N(v.inspect)&&v.inspect!==n.inspect&&(!v.constructor||v.constructor.prototype!==v)){var b=v.inspect(w,g);return x(b)||(b=d(g,b,w)),b}var C=(function(k,M){if(D(M))return k.stylize("undefined","undefined");if(x(M)){var H="'"+JSON.stringify(M).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return k.stylize(H,"string")}if(_(M))return k.stylize(""+M,"number");if(y(M))return k.stylize(""+M,"boolean");if(m(M))return k.stylize("null","null")})(g,v);if(C)return C;var S=Object.keys(v),F=(function(k){var M={};return k.forEach(function(H,Z){M[H]=!0}),M})(S);if(g.showHidden&&(S=Object.getOwnPropertyNames(v)),R(v)&&(S.indexOf("message")>=0||S.indexOf("description")>=0))return f(v);if(S.length===0){if(N(v)){var q=v.name?": "+v.name:"";return g.stylize("[Function"+q+"]","special")}if(L(v))return g.stylize(RegExp.prototype.toString.call(v),"regexp");if(V(v))return g.stylize(Date.prototype.toString.call(v),"date");if(R(v))return f(v)}var z,Y="",P=!1,K=["{","}"];return h(v)&&(P=!0,K=["[","]"]),N(v)&&(Y=" [Function"+(v.name?": "+v.name:"")+"]"),L(v)&&(Y=" "+RegExp.prototype.toString.call(v)),V(v)&&(Y=" "+Date.prototype.toUTCString.call(v)),R(v)&&(Y=" "+f(v)),S.length!==0||P&&v.length!=0?w<0?L(v)?g.stylize(RegExp.prototype.toString.call(v),"regexp"):g.stylize("[Object]","special"):(g.seen.push(v),z=P?(function(k,M,H,Z,ie){for(var J=[],ne=0,de=M.length;ne<de;++ne)A(M,String(ne))?J.push(p(k,M,H,Z,String(ne),!0)):J.push("");return ie.forEach(function(ue){ue.match(/^\d+$/)||J.push(p(k,M,H,Z,ue,!0))}),J})(g,v,w,F,S):S.map(function(k){return p(g,v,w,F,k,P)}),g.seen.pop(),(function(k,M,H){return k.reduce(function(Z,ie){return ie.indexOf(`
`)>=0,Z+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?H[0]+(M===""?"":M+`
 `)+" "+k.join(`,
  `)+" "+H[1]:H[0]+M+" "+k.join(", ")+" "+H[1]})(z,Y,K)):K[0]+Y+K[1]}function f(g){return"["+Error.prototype.toString.call(g)+"]"}function p(g,v,w,b,C,S){var F,q,z;if((z=Object.getOwnPropertyDescriptor(v,C)||{value:v[C]}).get?q=z.set?g.stylize("[Getter/Setter]","special"):g.stylize("[Getter]","special"):z.set&&(q=g.stylize("[Setter]","special")),A(b,C)||(F="["+C+"]"),q||(g.seen.indexOf(z.value)<0?(q=m(w)?d(g,z.value,null):d(g,z.value,w-1)).indexOf(`
`)>-1&&(q=S?q.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+q.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):q=g.stylize("[Circular]","special")),D(F)){if(S&&C.match(/^\d+$/))return q;(F=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.substr(1,F.length-2),F=g.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=g.stylize(F,"string"))}return F+": "+q}function h(g){return Array.isArray(g)}function y(g){return typeof g=="boolean"}function m(g){return g===null}function _(g){return typeof g=="number"}function x(g){return typeof g=="string"}function D(g){return g===void 0}function L(g){return $(g)&&j(g)==="[object RegExp]"}function $(g){return typeof g=="object"&&g!==null}function V(g){return $(g)&&j(g)==="[object Date]"}function R(g){return $(g)&&(j(g)==="[object Error]"||g instanceof Error)}function N(g){return typeof g=="function"}function j(g){return Object.prototype.toString.call(g)}function O(g){return g<10?"0"+g.toString(10):g.toString(10)}n.debuglog=function(g){if(D(s)&&(s=r.env.NODE_DEBUG||""),g=g.toUpperCase(),!a[g])if(new RegExp("\\b"+g+"\\b","i").test(s)){var v=r.pid;a[g]=function(){var w=n.format.apply(n,arguments);console.error("%s %d: %s",g,v,w)}}else a[g]=function(){};return a[g]},n.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=y,n.isNull=m,n.isNullOrUndefined=function(g){return g==null},n.isNumber=_,n.isString=x,n.isSymbol=function(g){return typeof g=="symbol"},n.isUndefined=D,n.isRegExp=L,n.isObject=$,n.isDate=V,n.isError=R,n.isFunction=N,n.isPrimitive=function(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||typeof g=="symbol"||g===void 0},n.isBuffer=t("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var g=new Date,v=[O(g.getHours()),O(g.getMinutes()),O(g.getSeconds())].join(":");return[g.getDate(),E[g.getMonth()],v].join(" ")}function A(g,v){return Object.prototype.hasOwnProperty.call(g,v)}n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(g,v){if(!v||!$(v))return g;for(var w=Object.keys(v),b=w.length;b--;)g[w[b]]=v[w[b]];return g}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}});var r=f(t("./v1.js")),i=f(t("./v3.js")),o=f(t("./v4.js")),s=f(t("./v5.js")),a=f(t("./nil.js")),c=f(t("./version.js")),u=f(t("./validate.js")),l=f(t("./stringify.js")),d=f(t("./parse.js"));function f(p){return p&&p.__esModule?p:{default:p}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,e,n){"use strict";function r(d){return 14+(d+64>>>9<<4)+1}function i(d,f){let p=(65535&d)+(65535&f);return(d>>16)+(f>>16)+(p>>16)<<16|65535&p}function o(d,f,p,h,y,m){return i((_=i(i(f,d),i(h,m)))<<(x=y)|_>>>32-x,p);var _,x}function s(d,f,p,h,y,m,_){return o(f&p|~f&h,d,f,y,m,_)}function a(d,f,p,h,y,m,_){return o(f&h|p&~h,d,f,y,m,_)}function c(d,f,p,h,y,m,_){return o(f^p^h,d,f,y,m,_)}function u(d,f,p,h,y,m,_){return o(p^(f|~h),d,f,y,m,_)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(d){if(typeof d=="string"){let f=unescape(encodeURIComponent(d));d=new Uint8Array(f.length);for(let p=0;p<f.length;++p)d[p]=f.charCodeAt(p)}return(function(f){let p=[],h=32*f.length;for(let y=0;y<h;y+=8){let m=f[y>>5]>>>y%32&255,_=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);p.push(_)}return p})((function(f,p){f[p>>5]|=128<<p%32,f[r(p)-1]=p;let h=1732584193,y=-271733879,m=-1732584194,_=271733878;for(let x=0;x<f.length;x+=16){let D=h,L=y,$=m,V=_;h=s(h,y,m,_,f[x],7,-680876936),_=s(_,h,y,m,f[x+1],12,-389564586),m=s(m,_,h,y,f[x+2],17,606105819),y=s(y,m,_,h,f[x+3],22,-1044525330),h=s(h,y,m,_,f[x+4],7,-176418897),_=s(_,h,y,m,f[x+5],12,1200080426),m=s(m,_,h,y,f[x+6],17,-1473231341),y=s(y,m,_,h,f[x+7],22,-45705983),h=s(h,y,m,_,f[x+8],7,1770035416),_=s(_,h,y,m,f[x+9],12,-1958414417),m=s(m,_,h,y,f[x+10],17,-42063),y=s(y,m,_,h,f[x+11],22,-1990404162),h=s(h,y,m,_,f[x+12],7,1804603682),_=s(_,h,y,m,f[x+13],12,-40341101),m=s(m,_,h,y,f[x+14],17,-1502002290),y=s(y,m,_,h,f[x+15],22,1236535329),h=a(h,y,m,_,f[x+1],5,-165796510),_=a(_,h,y,m,f[x+6],9,-1069501632),m=a(m,_,h,y,f[x+11],14,643717713),y=a(y,m,_,h,f[x],20,-373897302),h=a(h,y,m,_,f[x+5],5,-701558691),_=a(_,h,y,m,f[x+10],9,38016083),m=a(m,_,h,y,f[x+15],14,-660478335),y=a(y,m,_,h,f[x+4],20,-405537848),h=a(h,y,m,_,f[x+9],5,568446438),_=a(_,h,y,m,f[x+14],9,-1019803690),m=a(m,_,h,y,f[x+3],14,-187363961),y=a(y,m,_,h,f[x+8],20,1163531501),h=a(h,y,m,_,f[x+13],5,-1444681467),_=a(_,h,y,m,f[x+2],9,-51403784),m=a(m,_,h,y,f[x+7],14,1735328473),y=a(y,m,_,h,f[x+12],20,-1926607734),h=c(h,y,m,_,f[x+5],4,-378558),_=c(_,h,y,m,f[x+8],11,-2022574463),m=c(m,_,h,y,f[x+11],16,1839030562),y=c(y,m,_,h,f[x+14],23,-35309556),h=c(h,y,m,_,f[x+1],4,-1530992060),_=c(_,h,y,m,f[x+4],11,1272893353),m=c(m,_,h,y,f[x+7],16,-155497632),y=c(y,m,_,h,f[x+10],23,-1094730640),h=c(h,y,m,_,f[x+13],4,681279174),_=c(_,h,y,m,f[x],11,-358537222),m=c(m,_,h,y,f[x+3],16,-722521979),y=c(y,m,_,h,f[x+6],23,76029189),h=c(h,y,m,_,f[x+9],4,-640364487),_=c(_,h,y,m,f[x+12],11,-421815835),m=c(m,_,h,y,f[x+15],16,530742520),y=c(y,m,_,h,f[x+2],23,-995338651),h=u(h,y,m,_,f[x],6,-198630844),_=u(_,h,y,m,f[x+7],10,1126891415),m=u(m,_,h,y,f[x+14],15,-1416354905),y=u(y,m,_,h,f[x+5],21,-57434055),h=u(h,y,m,_,f[x+12],6,1700485571),_=u(_,h,y,m,f[x+3],10,-1894986606),m=u(m,_,h,y,f[x+10],15,-1051523),y=u(y,m,_,h,f[x+1],21,-2054922799),h=u(h,y,m,_,f[x+8],6,1873313359),_=u(_,h,y,m,f[x+15],10,-30611744),m=u(m,_,h,y,f[x+6],15,-1560198380),y=u(y,m,_,h,f[x+13],21,1309151649),h=u(h,y,m,_,f[x+4],6,-145523070),_=u(_,h,y,m,f[x+11],10,-1120210379),m=u(m,_,h,y,f[x+2],15,718787259),y=u(y,m,_,h,f[x+9],21,-343485551),h=i(h,D),y=i(y,L),m=i(m,$),_=i(_,V)}return[h,y,m,_]})((function(f){if(f.length===0)return[];let p=8*f.length,h=new Uint32Array(r(p));for(let y=0;y<p;y+=8)h[y>>5]|=(255&f[y/8])<<y%32;return h})(d),8*d.length))};n.default=l},{}],530:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r},o=function(s){if(!(0,i.default)(s))throw TypeError("Invalid UUID");let a,c=new Uint8Array(16);return c[0]=(a=parseInt(s.slice(0,8),16))>>>24,c[1]=a>>>16&255,c[2]=a>>>8&255,c[3]=255&a,c[4]=(a=parseInt(s.slice(9,13),16))>>>8,c[5]=255&a,c[6]=(a=parseInt(s.slice(14,18),16))>>>8,c[7]=255&a,c[8]=(a=parseInt(s.slice(19,23),16))>>>8,c[9]=255&a,c[10]=(a=parseInt(s.slice(24,36),16))/1099511627776&255,c[11]=a/4294967296&255,c[12]=a>>>24&255,c[13]=a>>>16&255,c[14]=a>>>8&255,c[15]=255&a,c};n.default=o},{"./validate.js":541}],532:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,e,n){"use strict";let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};let i=new Uint8Array(16)},{}],534:[function(t,e,n){"use strict";function r(s,a,c,u){switch(s){case 0:return a&c^~a&u;case 1:return a^c^u;case 2:return a&c^a&u^c&u;case 3:return a^c^u}}function i(s,a){return s<<a|s>>>32-a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(s){let a=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){let f=unescape(encodeURIComponent(s));s=[];for(let p=0;p<f.length;++p)s.push(f.charCodeAt(p))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);let u=s.length/4+2,l=Math.ceil(u/16),d=new Array(l);for(let f=0;f<l;++f){let p=new Uint32Array(16);for(let h=0;h<16;++h)p[h]=s[64*f+4*h]<<24|s[64*f+4*h+1]<<16|s[64*f+4*h+2]<<8|s[64*f+4*h+3];d[f]=p}d[l-1][14]=8*(s.length-1)/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=8*(s.length-1)&4294967295;for(let f=0;f<l;++f){let p=new Uint32Array(80);for(let D=0;D<16;++D)p[D]=d[f][D];for(let D=16;D<80;++D)p[D]=i(p[D-3]^p[D-8]^p[D-14]^p[D-16],1);let h=c[0],y=c[1],m=c[2],_=c[3],x=c[4];for(let D=0;D<80;++D){let L=Math.floor(D/20),$=i(h,5)+r(L,y,m,_)+x+a[L]+p[D]>>>0;x=_,_=m,m=i(y,30)>>>0,y=h,h=$}c[0]=c[0]+h>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+m>>>0,c[3]=c[3]+_>>>0,c[4]=c[4]+x>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};n.default=o},{}],535:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r};let o=[];for(let a=0;a<256;++a)o.push((a+256).toString(16).substr(1));var s=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(o[a[c+0]]+o[a[c+1]]+o[a[c+2]]+o[a[c+3]]+"-"+o[a[c+4]]+o[a[c+5]]+"-"+o[a[c+6]]+o[a[c+7]]+"-"+o[a[c+8]]+o[a[c+9]]+"-"+o[a[c+10]]+o[a[c+11]]+o[a[c+12]]+o[a[c+13]]+o[a[c+14]]+o[a[c+15]]).toLowerCase();if(!(0,i.default)(u))throw TypeError("Stringified UUID is invalid");return u};n.default=s},{"./validate.js":541}],536:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("./rng.js")),i=o(t("./stringify.js"));function o(d){return d&&d.__esModule?d:{default:d}}let s,a,c=0,u=0;var l=function(d,f,p){let h=f&&p||0,y=f||new Array(16),m=(d=d||{}).node||s,_=d.clockseq!==void 0?d.clockseq:a;if(m==null||_==null){let R=d.random||(d.rng||r.default)();m==null&&(m=s=[1|R[0],R[1],R[2],R[3],R[4],R[5]]),_==null&&(_=a=16383&(R[6]<<8|R[7]))}let x=d.msecs!==void 0?d.msecs:Date.now(),D=d.nsecs!==void 0?d.nsecs:u+1,L=x-c+(D-u)/1e4;if(L<0&&d.clockseq===void 0&&(_=_+1&16383),(L<0||x>c)&&d.nsecs===void 0&&(D=0),D>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=x,u=D,a=_,x+=122192928e5;let $=(1e4*(268435455&x)+D)%4294967296;y[h++]=$>>>24&255,y[h++]=$>>>16&255,y[h++]=$>>>8&255,y[h++]=255&$;let V=x/4294967296*1e4&268435455;y[h++]=V>>>8&255,y[h++]=255&V,y[h++]=V>>>24&15|16,y[h++]=V>>>16&255,y[h++]=_>>>8|128,y[h++]=255&_;for(let R=0;R<6;++R)y[h+R]=m[R];return f||(0,i.default)(y)};n.default=l},{"./rng.js":533,"./stringify.js":535}],537:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("./v35.js")),i=o(t("./md5.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,r.default)("v3",48,i.default);n.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(c,u,l){function d(f,p,h,y){if(typeof f=="string"&&(f=(function(_){_=unescape(encodeURIComponent(_));let x=[];for(let D=0;D<_.length;++D)x.push(_.charCodeAt(D));return x})(f)),typeof p=="string"&&(p=(0,i.default)(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+f.length);if(m.set(p),m.set(f,p.length),m=l(m),m[6]=15&m[6]|u,m[8]=63&m[8]|128,h){y=y||0;for(let _=0;_<16;++_)h[y+_]=m[_];return h}return(0,r.default)(m)}try{d.name=c}catch{}return d.DNS=s,d.URL=a,d},n.URL=n.DNS=void 0;var r=o(t("./stringify.js")),i=o(t("./parse.js"));function o(c){return c&&c.__esModule?c:{default:c}}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=s;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("./rng.js")),i=o(t("./stringify.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=function(a,c,u){let l=(a=a||{}).random||(a.rng||r.default)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,c){u=u||0;for(let d=0;d<16;++d)c[u+d]=l[d];return c}return(0,i.default)(l)};n.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("./v35.js")),i=o(t("./sha1.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,r.default)("v5",80,i.default);n.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./regex.js"))&&r.__esModule?r:{default:r},o=function(s){return typeof s=="string"&&i.default.test(s)};n.default=o},{"./regex.js":532}],542:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r},o=function(s){if(!(0,i.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};n.default=o},{"./validate.js":541}],543:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",n.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},n.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(t,e,n){"use strict";function r(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(i){return r(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)})});var ix=Tx((nx,rx)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof nx<"u"?e():(e(),t.FileSaver={})})(nx,function(){"use strict";function t(a,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,c,u){var l=new XMLHttpRequest;l.open("GET",a),l.responseType="blob",l.onload=function(){s(l.response,c,u)},l.onerror=function(){console.error("could not download file")},l.send()}function n(a){var c=new XMLHttpRequest;c.open("HEAD",a,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(c)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,c,u){var l=i.URL||i.webkitURL,d=document.createElement("a");c=c||a.name||"download",d.download=c,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?r(d):n(d.href)?e(a,c,u):r(d,d.target="_blank")):(d.href=l.createObjectURL(a),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,c,u){if(c=c||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(t(a,u),c);else if(n(a))e(a,c,u);else{var l=document.createElement("a");l.href=a,l.target="_blank",setTimeout(function(){r(l)})}}:function(a,c,u,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof a=="string")return e(a,c,u);var d=a.type==="application/octet-stream",f=/constructor/i.test(i.HTMLElement)||i.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&f||o)&&typeof FileReader<"u"){var h=new FileReader;h.onloadend=function(){var _=h.result;_=p?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=_:location=_,l=null},h.readAsDataURL(a)}else{var y=i.URL||i.webkitURL,m=y.createObjectURL(a);l?l.location=m:location.href=m,l=null,setTimeout(function(){y.revokeObjectURL(m)},4e4)}});i.saveAs=s.saveAs=s,typeof rx<"u"&&(rx.exports=s)})});var ai=null,Kh=!1,s1=1,z5=null,Ei=Symbol("SIGNAL");function Xt(t){let e=ai;return ai=t,e}function Xh(){return ai}var dd={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fd(t){if(Kh)throw new Error("");if(ai===null)return;ai.consumerOnSignalRead(t);let e=ai.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=ai.recomputing;if(r&&(n=e!==void 0?e.nextProducer:ai.producers,n!==void 0&&n.producer===t)){ai.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===ai&&(!r||W5(i,ai)))return;let o=El(ai),s={producer:t,consumer:ai,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};ai.producersTail=s,e!==void 0?e.nextProducer=s:ai.producers=s,o&&kx(t,s)}function Dx(){s1++}function a1(t){if(!(El(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===s1)){if(!t.producerMustRecompute(t)&&!Zh(t)){o1(t);return}t.producerRecomputeValue(t),o1(t)}}function c1(t){if(t.consumers===void 0)return;let e=Kh;Kh=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||q5(r)}}finally{Kh=e}}function l1(){return ai?.consumerAllowSignalWrites!==!1}function q5(t){t.dirty=!0,c1(t),t.consumerMarkedDirty?.(t)}function o1(t){t.dirty=!1,t.lastCleanEpoch=s1}function hd(t){return t&&Ax(t),Xt(t)}function Ax(t){t.producersTail=void 0,t.recomputing=!0}function Qh(t,e){Xt(e),t&&Mx(t)}function Mx(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(El(t))do n=u1(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Zh(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(a1(n),r!==n.version))return!0}return!1}function pd(t){if(El(t)){let e=t.producers;for(;e!==void 0;)e=u1(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function kx(t,e){let n=t.consumersTail,r=El(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)kx(i.producer,i)}function u1(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!El(e)){let o=e.producers;for(;o!==void 0;)o=u1(o)}return n}function El(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function d1(t){z5?.(t)}function W5(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function f1(t,e){return Object.is(t,e)}function Jh(t,e){let n=Object.create(G5);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(a1(n),fd(n),n.value===Yh)throw n.error;return n.value};return r[Ei]=n,d1(n),r}var r1=Symbol("UNSET"),i1=Symbol("COMPUTING"),Yh=Symbol("ERRORED"),G5=Ne(ye({},dd),{value:r1,dirty:!0,error:null,equal:f1,kind:"computed",producerMustRecompute(t){return t.value===r1||t.value===i1},producerRecomputeValue(t){if(t.value===i1)throw new Error("");let e=t.value;t.value=i1;let n=hd(t),r,i=!1;try{r=t.computation(),Xt(null),i=e!==r1&&e!==Yh&&r!==Yh&&t.equal(e,r)}catch(o){r=Yh,t.error=o}finally{Qh(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function K5(){throw new Error}var Rx=K5;function Nx(t){Rx(t)}function h1(t){Rx=t}var Y5=null;function p1(t,e){let n=Object.create(ep);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Px(n);return r[Ei]=n,d1(n),[r,s=>md(n,s),s=>Ox(n,s)]}function Px(t){return fd(t),t.value}function md(t,e){l1()||Nx(t),t.equal(t.value,e)||(t.value=e,X5(t))}function Ox(t,e){l1()||Nx(t),md(t,e(t.value))}var ep=Ne(ye({},dd),{equal:f1,value:void 0,kind:"signal"});function X5(t){t.version++,Dx(),c1(t),Y5?.(t)}function m1(t){let e=Xt(null);try{return t()}finally{Xt(e)}}function zt(t){return typeof t=="function"}function Cl(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tp=Cl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fc(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Nr=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(zt(r))try{r()}catch(o){e=o instanceof tp?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Fx(o)}catch(s){e=e??[],s instanceof tp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Fx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fc(n,e)}remove(e){let{_finalizers:n}=this;n&&fc(n,e),e instanceof t&&e._removeParent(this)}};Nr.EMPTY=(()=>{let t=new Nr;return t.closed=!0,t})();var g1=Nr.EMPTY;function np(t){return t instanceof Nr||t&&"closed"in t&&zt(t.remove)&&zt(t.add)&&zt(t.unsubscribe)}function Fx(t){zt(t)?t():t.unsubscribe()}var Ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xl={setTimeout(t,e,...n){let{delegate:r}=xl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rp(t){xl.setTimeout(()=>{let{onUnhandledError:e}=Ao;if(e)e(t);else throw t})}function gd(){}var Lx=y1("C",void 0,void 0);function Vx(t){return y1("E",void 0,t)}function jx(t){return y1("N",t,void 0)}function y1(t,e,n){return{kind:t,value:e,error:n}}var hc=null;function Il(t){if(Ao.useDeprecatedSynchronousErrorHandling){let e=!hc;if(e&&(hc={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=hc;if(hc=null,n)throw r}}else t()}function Bx(t){Ao.useDeprecatedSynchronousErrorHandling&&hc&&(hc.errorThrown=!0,hc.error=t)}var pc=class extends Nr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,np(e)&&e.add(this)):this.destination=J5}static create(e,n,r){return new Mo(e,n,r)}next(e){this.isStopped?b1(jx(e),this):this._next(e)}error(e){this.isStopped?b1(Vx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?b1(Lx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Q5=Function.prototype.bind;function v1(t,e){return Q5.call(t,e)}var _1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ip(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ip(r)}else ip(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ip(n)}}},Mo=class extends pc{constructor(e,n,r){super();let i;if(zt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ao.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&v1(e.next,o),error:e.error&&v1(e.error,o),complete:e.complete&&v1(e.complete,o)}):i=e}this.destination=new _1(i)}};function ip(t){Ao.useDeprecatedSynchronousErrorHandling?Bx(t):rp(t)}function Z5(t){throw t}function b1(t,e){let{onStoppedNotification:n}=Ao;n&&xl.setTimeout(()=>n(t,e))}var J5={closed:!0,next:gd,error:Z5,complete:gd};var Sl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ko(t){return t}function op(...t){return w1(t)}function w1(t){return t.length===0?ko:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Gt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=tR(n)?n:new Mo(n,r,i);return Il(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$x(r),new r((i,o)=>{let s=new Mo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Sl](){return this}pipe(...n){return w1(n)(this)}toPromise(n){return n=$x(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function $x(t){var e;return(e=t??Ao.Promise)!==null&&e!==void 0?e:Promise}function eR(t){return t&&zt(t.next)&&zt(t.error)&&zt(t.complete)}function tR(t){return t&&t instanceof pc||eR(t)&&np(t)}function nR(t){return zt(t?.lift)}function wn(t){return e=>{if(nR(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tn(t,e,n,r,i){return new E1(t,e,n,r,i)}var E1=class extends pc{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Ux=Cl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Bn=(()=>{class t extends Gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ux}next(n){Il(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Il(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Il(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?g1:(this.currentObservers=null,o.push(n),new Nr(()=>{this.currentObservers=null,fc(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Gt;return n.source=this,n}}return t.create=(e,n)=>new sp(e,n),t})(),sp=class extends Bn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:g1}};var kn=class extends Bn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yd={now(){return(yd.delegate||Date).now()},delegate:void 0};var vd=class extends Bn{constructor(e=1/0,n=1/0,r=yd){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ap=class extends Nr{constructor(e,n){super()}schedule(e,n=0){return this}};var bd={setInterval(t,e,...n){let{delegate:r}=bd;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=bd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Tl=class extends ap{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return bd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&bd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fc(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Dl=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Dl.now=yd.now;var Al=class extends Dl{constructor(e,n=Dl.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var C1=new Al(Tl);var cp=class extends Tl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var lp=class extends Al{};var x1=new lp(cp);var Fi=new Gt(t=>t.complete());function Hx(t){return t&&zt(t.schedule)}function zx(t){return t[t.length-1]}function up(t){return zt(zx(t))?t.pop():void 0}function ha(t){return Hx(zx(t))?t.pop():void 0}function Wx(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function qx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mc(t){return this instanceof mc?(this.v=t,this):new mc(t)}function Gx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(h){return Promise.resolve(h).then(p,d)}}function a(p,h){r[p]&&(i[p]=function(y){return new Promise(function(m,_){o.push([p,y,m,_])>1||c(p,y)})},h&&(i[p]=h(i[p])))}function c(p,h){try{u(r[p](h))}catch(y){f(o[0][3],y)}}function u(p){p.value instanceof mc?Promise.resolve(p.value.v).then(l,d):f(o[0][2],p)}function l(p){c("next",p)}function d(p){c("throw",p)}function f(p,h){p(h),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Kx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qx=="function"?qx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var dp=t=>t&&typeof t.length=="number"&&typeof t!="function";function fp(t){return zt(t?.then)}function hp(t){return zt(t[Sl])}function pp(t){return Symbol.asyncIterator&&zt(t?.[Symbol.asyncIterator])}function mp(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gp=rR();function yp(t){return zt(t?.[gp])}function vp(t){return Gx(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield mc(n.read());if(i)return yield mc(void 0);yield yield mc(r)}}finally{n.releaseLock()}})}function bp(t){return zt(t?.getReader)}function nr(t){if(t instanceof Gt)return t;if(t!=null){if(hp(t))return iR(t);if(dp(t))return oR(t);if(fp(t))return sR(t);if(pp(t))return Yx(t);if(yp(t))return aR(t);if(bp(t))return cR(t)}throw mp(t)}function iR(t){return new Gt(e=>{let n=t[Sl]();if(zt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oR(t){return new Gt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function sR(t){return new Gt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rp)})}function aR(t){return new Gt(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Yx(t){return new Gt(e=>{lR(t,e).catch(n=>e.error(n))})}function cR(t){return Yx(vp(t))}function lR(t,e){var n,r,i,o;return Wx(this,void 0,void 0,function*(){try{for(n=Kx(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Li(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function pa(t,e=0){return wn((n,r)=>{n.subscribe(Tn(r,i=>Li(r,t,()=>r.next(i),e),()=>Li(r,t,()=>r.complete(),e),i=>Li(r,t,()=>r.error(i),e)))})}function ma(t,e=0){return wn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Xx(t,e){return nr(t).pipe(ma(e),pa(e))}function Qx(t,e){return nr(t).pipe(ma(e),pa(e))}function Zx(t,e){return new Gt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jx(t,e){return new Gt(n=>{let r;return Li(n,e,()=>{r=t[gp](),Li(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>zt(r?.return)&&r.return()})}function _p(t,e){if(!t)throw new Error("Iterable cannot be null");return new Gt(n=>{Li(n,e,()=>{let r=t[Symbol.asyncIterator]();Li(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eI(t,e){return _p(vp(t),e)}function tI(t,e){if(t!=null){if(hp(t))return Xx(t,e);if(dp(t))return Zx(t,e);if(fp(t))return Qx(t,e);if(pp(t))return _p(t,e);if(yp(t))return Jx(t,e);if(bp(t))return eI(t,e)}throw mp(t)}function On(t,e){return e?tI(t,e):nr(t)}function Le(...t){let e=ha(t);return On(t,e)}function I1(t,e){let n=zt(t)?t:()=>t,r=i=>i.error(n());return new Gt(e?i=>e.schedule(r,0,i):r)}function wp(t){return!!t&&(t instanceof Gt||zt(t.lift)&&zt(t.subscribe))}var As=Cl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function rn(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Mo({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new As)}});t.subscribe(o)})}function $e(t,e){return wn((n,r)=>{let i=0;n.subscribe(Tn(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:uR}=Array;function dR(t,e){return uR(e)?t(...e):t(e)}function Ep(t){return $e(e=>dR(t,e))}var{isArray:fR}=Array,{getPrototypeOf:hR,prototype:pR,keys:mR}=Object;function Cp(t){if(t.length===1){let e=t[0];if(fR(e))return{args:e,keys:null};if(gR(e)){let n=mR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function gR(t){return t&&typeof t=="object"&&hR(t)===pR}function xp(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $n(...t){let e=ha(t),n=up(t),{args:r,keys:i}=Cp(t);if(r.length===0)return On([],e);let o=new Gt(yR(r,e,i?s=>xp(i,s):ko));return n?o.pipe(Ep(n)):o}function yR(t,e,n=ko){return r=>{nI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)nI(e,()=>{let u=On(t[c],e),l=!1;u.subscribe(Tn(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nI(t,e,n){t?Li(n,t,e):e()}function rI(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,f=()=>{d&&!c.length&&!u&&e.complete()},p=y=>u<r?h(y):c.push(y),h=y=>{o&&e.next(y),u++;let m=!1;nr(n(y,l++)).subscribe(Tn(e,_=>{i?.(_),o?p(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let _=c.shift();s?Li(e,s,()=>h(_)):h(_)}f()}catch(_){e.error(_)}}))};return t.subscribe(Tn(e,p,()=>{d=!0,f()})),()=>{a?.()}}function ci(t,e,n=1/0){return zt(e)?ci((r,i)=>$e((o,s)=>e(r,o,i,s))(nr(t(r,i))),n):(typeof e=="number"&&(n=e),wn((r,i)=>rI(r,i,t,n)))}function Ml(t=1/0){return ci(ko,t)}function iI(){return Ml(1)}function kl(...t){return iI()(On(t,ha(t)))}function _d(t){return new Gt(e=>{nr(t()).subscribe(e)})}function S1(...t){let e=up(t),{args:n,keys:r}=Cp(t),i=new Gt(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;nr(n[l]).subscribe(Tn(o,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?xp(r,a):a),o.complete())}))}});return e?i.pipe(Ep(e)):i}function co(t,e){return wn((n,r)=>{let i=0;n.subscribe(Tn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function En(t){return wn((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Tn(n,void 0,void 0,s=>{o=nr(t(s,En(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wd(t,e){return zt(e)?ci(t,e,1):ci(t,1)}function T1(t){return wn((e,n)=>{let r=!1;e.subscribe(Tn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function lo(t){return t<=0?()=>Fi:wn((e,n)=>{let r=0;e.subscribe(Tn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function oI(t=vR){return wn((e,n)=>{let r=!1;e.subscribe(Tn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function vR(){return new As}function D1(t){return wn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ms(t,e){let n=arguments.length>=2;return r=>r.pipe(t?co((i,o)=>t(i,o,r)):ko,lo(1),n?T1(e):oI(()=>new As))}function Ip(t){return t<=0?()=>Fi:wn((e,n)=>{let r=[];e.subscribe(Tn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sI(t={}){let{connector:e=()=>new Bn,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),s=c=void 0,l=d=!1},h=()=>{let y=s;p(),y?.unsubscribe()};return wn((y,m)=>{u++,!d&&!l&&f();let _=c=c??e();m.add(()=>{u--,u===0&&!d&&!l&&(a=A1(h,i))}),_.subscribe(m),!s&&u>0&&(s=new Mo({next:x=>_.next(x),error:x=>{d=!0,f(),a=A1(p,n,x),_.error(x)},complete:()=>{l=!0,f(),a=A1(p,r),_.complete()}}),nr(y).subscribe(s))})(o)}}function A1(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Mo({next:()=>{r.unsubscribe(),t()}});return nr(e(...n)).subscribe(r)}function Sp(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,sI({connector:()=>new vd(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function gc(...t){let e=ha(t);return wn((n,r)=>{(e?kl(t,n,e):kl(t,n)).subscribe(r)})}function Tt(t,e){return wn((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Tn(r,c=>{i?.unsubscribe();let u=0,l=o++;nr(t(c,l)).subscribe(i=Tn(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ks(t){return wn((e,n)=>{nr(t).subscribe(Tn(n,()=>n.complete(),gd)),!n.closed&&e.subscribe(n)})}function ln(t,e,n){let r=zt(t)||e||n?{next:t,error:e,complete:n}:t;return r?wn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Tn(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ko}var M1;function Tp(){return M1}function Zo(t){let e=M1;return M1=t,e}var aI=Symbol("NotFound");function Rl(t){return t===aI||t?.name==="\u0275NotFound"}var ga=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},W1=new ga("21.0.6");var Rp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Je=class extends Error{code;constructor(e,n){super(wc(e,n)),this.code=e}};function wR(t){return`NG0${Math.abs(t)}`}function wc(t,e){return`${wR(t)}${e?": "+e:""}`}var Ps=globalThis;function Dn(t){for(let e in t)if(t[e]===Dn)return e;throw Error("")}function fI(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ns(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ns).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function G1(t,e){return t?e?`${t} ${e}`:t:e||""}var ER=Dn({__forward_ref__:Dn});function zr(t){return t.__forward_ref__=zr,t.toString=function(){return Ns(this())},t}function ti(t){return K1(t)?t():t}function K1(t){return typeof t=="function"&&t.hasOwnProperty(ER)&&t.__forward_ref__===zr}function Ze(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ro(t){return{providers:t.providers||[],imports:t.imports||[]}}function Td(t){return CR(t,Np)}function Y1(t){return Td(t)!==null}function CR(t,e){return t.hasOwnProperty(e)&&t[e]||null}function xR(t){let e=t?.[Np]??null;return e||null}function R1(t){return t&&t.hasOwnProperty(Ap)?t[Ap]:null}var Np=Dn({\u0275prov:Dn}),Ap=Dn({\u0275inj:Dn}),ct=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ze({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function X1(t){return t&&!!t.\u0275providers}var Q1=Dn({\u0275cmp:Dn}),Z1=Dn({\u0275dir:Dn}),J1=Dn({\u0275pipe:Dn}),ev=Dn({\u0275mod:Dn}),Cd=Dn({\u0275fac:Dn}),Ec=Dn({__NG_ELEMENT_ID__:Dn}),cI=Dn({__NG_ENV_ID__:Dn});function tv(t){return Pp(t,"@NgModule"),t[ev]||null}function _a(t){return Pp(t,"@Component"),t[Q1]||null}function nv(t){return Pp(t,"@Directive"),t[Z1]||null}function hI(t){return Pp(t,"@Pipe"),t[J1]||null}function Pp(t,e){if(t==null)throw new Je(-919,!1)}function es(t){return typeof t=="string"?t:t==null?"":String(t)}function pI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():es(t)}var mI=Dn({ngErrorCode:Dn}),IR=Dn({ngErrorMessage:Dn}),SR=Dn({ngTokenPath:Dn});function rv(t,e){return gI("",-200,e)}function Op(t,e){throw new Je(-201,!1)}function gI(t,e,n){let r=new Je(e,t);return r[mI]=e,r[IR]=t,n&&(r[SR]=n),r}function TR(t){return t[mI]}var N1;function yI(){return N1}function Ci(t){let e=N1;return N1=t,e}function iv(t,e,n){let r=Td(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Op(t,"")}var DR={},yc=DR,P1="__NG_DI_FLAG__",O1=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=vc(n)||0;try{return this.injector.get(e,r&8?null:yc,r)}catch(i){if(Rl(i))return i;throw i}}};function AR(t,e=0){let n=Tp();if(n===void 0)throw new Je(-203,!1);if(n===null)return iv(t,void 0,e);{let r=MR(e),i=n.retrieve(t,r);if(Rl(i)){if(r.optional)return null;throw i}return i}}function Ft(t,e=0){return(yI()||AR)(ti(t),e)}function ge(t,e){return Ft(t,vc(e))}function vc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function MR(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function F1(t){let e=[];for(let n=0;n<t.length;n++){let r=ti(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Je(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=kR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Ft(i,o))}else e.push(Ft(r))}return e}function vI(t,e){return t[P1]=e,t.prototype[P1]=e,t}function kR(t){return t[P1]}function ya(t,e){let n=t.hasOwnProperty(Cd);return n?t[Cd]:null}function bI(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function _I(t){return t.flat(Number.POSITIVE_INFINITY)}function Fp(t,e){t.forEach(n=>Array.isArray(n)?Fp(n,e):e(n))}function ov(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function EI(t,e,n){let r=Pl(t,e);return r>=0?t[r|1]=n:(r=~r,wI(t,r,e,n)),r}function Lp(t,e){let n=Pl(t,e);if(n>=0)return t[n|1]}function Pl(t,e){return RR(t,e,1)}function RR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var wa={},qi=[],Ol=new ct(""),sv=new ct("",-1),av=new ct(""),xd=class{get(e,n=yc){if(n===yc){let i=gI("",-201);throw i.name="\u0275NotFound",i}return n}};function No(t){return{\u0275providers:t}}function CI(...t){return{\u0275providers:cv(!0,t),\u0275fromNgModule:!0}}function cv(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Fp(e,s=>{let a=s;Mp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xI(i,o),n}function xI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];lv(i,o=>{e(o,r)})}}function Mp(t,e,n,r){if(t=ti(t),!t)return!1;let i=null,o=R1(t),s=!o&&_a(t);if(!o&&!s){let c=t.ngModule;if(o=R1(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Mp(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Fp(o.imports,l=>{Mp(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&xI(u,e)}if(!a){let u=ya(i)||(()=>new i);e({provide:i,useFactory:u,deps:qi},i),e({provide:av,useValue:i,multi:!0},i),e({provide:Ol,useValue:()=>Ft(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;lv(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function lv(t,e){for(let n of t)X1(n)&&(n=n.\u0275providers),Array.isArray(n)?lv(n,e):e(n)}var NR=Dn({provide:String,useValue:Dn});function II(t){return t!==null&&typeof t=="object"&&NR in t}function PR(t){return!!(t&&t.useExisting)}function OR(t){return!!(t&&t.useFactory)}function bc(t){return typeof t=="function"}function SI(t){return!!t.useClass}var Ad=new ct(""),Dp={},lI={},k1;function Md(){return k1===void 0&&(k1=new xd),k1}var yr=class{},_c=class extends yr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,V1(e,s=>this.processProvider(s)),this.records.set(sv,Nl(void 0,this)),i.has("environment")&&this.records.set(yr,Nl(void 0,this));let o=this.records.get(Ad);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(av,qi,{self:!0}))}retrieve(e,n){let r=vc(n)||0;try{return this.get(e,yc,r)}catch(i){if(Rl(i))return i;throw i}}destroy(){Ed(this),this._destroyed=!0;let e=Xt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Xt(e)}}onDestroy(e){return Ed(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ed(this);let n=Zo(this),r=Ci(void 0),i;try{return e()}finally{Zo(n),Ci(r)}}get(e,n=yc,r){if(Ed(this),e.hasOwnProperty(cI))return e[cI](this);let i=vc(r),o,s=Zo(this),a=Ci(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let l=BR(e)&&Td(e);l&&this.injectableDefInScope(l)?u=Nl(L1(e),Dp):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?Md():this.parent;return n=i&8&&n===yc?null:n,c.get(e,n)}catch(c){let u=TR(c);throw u===-200||u===-201?new Je(u,null):c}finally{Ci(a),Zo(s)}}resolveInjectorInitializers(){let e=Xt(null),n=Zo(this),r=Ci(void 0),i;try{let o=this.get(Ol,qi,{self:!0});for(let s of o)s()}finally{Zo(n),Ci(r),Xt(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ns(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ti(e);let n=bc(e)?e:ti(e&&e.provide),r=LR(e);if(!bc(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Nl(void 0,Dp,!0),i.factory=()=>F1(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Xt(null);try{if(n.value===lI)throw rv(Ns(e));return n.value===Dp&&(n.value=lI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&jR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Xt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ti(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function L1(t){let e=Td(t),n=e!==null?e.factory:ya(t);if(n!==null)return n;if(t instanceof ct)throw new Je(204,!1);if(t instanceof Function)return FR(t);throw new Je(204,!1)}function FR(t){if(t.length>0)throw new Je(204,!1);let n=xR(t);return n!==null?()=>n.factory(t):()=>new t}function LR(t){if(II(t))return Nl(void 0,t.useValue);{let e=uv(t);return Nl(e,Dp)}}function uv(t,e,n){let r;if(bc(t)){let i=ti(t);return ya(i)||L1(i)}else if(II(t))r=()=>ti(t.useValue);else if(OR(t))r=()=>t.useFactory(...F1(t.deps||[]));else if(PR(t))r=(i,o)=>Ft(ti(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ti(t&&(t.useClass||t.provide));if(VR(t))r=()=>new i(...F1(t.deps));else return ya(i)||L1(i)}return r}function Ed(t){if(t.destroyed)throw new Je(205,!1)}function Nl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VR(t){return!!t.deps}function jR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BR(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function V1(t,e){for(let n of t)Array.isArray(n)?V1(n,e):n&&X1(n)?V1(n.\u0275providers,e):e(n)}function Pr(t,e){let n;t instanceof _c?(Ed(t),n=t):n=new O1(t);let r,i=Zo(n),o=Ci(void 0);try{return e()}finally{Zo(i),Ci(o)}}function TI(){return yI()!==void 0||Tp()!=null}var Po=0,Rt=1,jt=2,Hr=3,uo=4,fo=5,kd=6,Fl=7,li=8,Ea=9,ts=10,Qn=11,Ll=12,dv=13,Cc=14,ho=15,Ca=16,xc=17,ns=18,Rd=19,fv=20,Rs=21,Vp=22,Nd=23,Wi=24,Ic=25,Pd=26,vr=27,DI=1;var xa=7,Od=8,Sc=9,xi=10;function rs(t){return Array.isArray(t)&&typeof t[DI]=="object"}function Oo(t){return Array.isArray(t)&&t[DI]===!0}function hv(t){return(t.flags&4)!==0}function Ia(t){return t.componentOffset>-1}function Vl(t){return(t.flags&1)===1}function is(t){return!!t.template}function jl(t){return(t[jt]&512)!==0}function Tc(t){return(t[jt]&256)===256}var pv="svg",AI="math";function po(t){for(;Array.isArray(t);)t=t[Po];return t}function mv(t,e){return po(e[t])}function Fo(t,e){return po(e[t.index])}function jp(t,e){return t.data[e]}function Fd(t,e){return t[e]}function gv(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mo(t,e){let n=e[t];return rs(n)?n:n[Po]}function MI(t){return(t[jt]&4)===4}function Bp(t){return(t[jt]&128)===128}function kI(t){return Oo(t[Hr])}function Dc(t,e){return e==null?null:t[e]}function yv(t){t[xc]=0}function vv(t){t[jt]&1024||(t[jt]|=1024,Bp(t)&&Bl(t))}function RI(t,e){for(;t>0;)e=e[Cc],t--;return e}function Ld(t){return!!(t[jt]&9216||t[Wi]?.dirty)}function $p(t){t[ts].changeDetectionScheduler?.notify(8),t[jt]&64&&(t[jt]|=1024),Ld(t)&&Bl(t)}function Bl(t){t[ts].changeDetectionScheduler?.notify(0);let e=va(t);for(;e!==null&&!(e[jt]&8192||(e[jt]|=8192,!Bp(e)));)e=va(e)}function bv(t,e){if(Tc(t))throw new Je(911,!1);t[Rs]===null&&(t[Rs]=[]),t[Rs].push(e)}function NI(t,e){if(t[Rs]===null)return;let n=t[Rs].indexOf(e);n!==-1&&t[Rs].splice(n,1)}function va(t){let e=t[Hr];return Oo(e)?e[Hr]:e}function _v(t){return t[Fl]??=[]}function wv(t){return t.cleanup??=[]}function PI(t,e,n,r){let i=_v(e);i.push(n),t.firstCreatePass&&wv(t).push(r,i.length-1)}var Qt={lFrame:GI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var j1=!1;function OI(){return Qt.lFrame.elementDepthCount}function FI(){Qt.lFrame.elementDepthCount++}function Ev(){Qt.lFrame.elementDepthCount--}function Up(){return Qt.bindingsEnabled}function LI(){return Qt.skipHydrationRootTNode!==null}function Cv(t){return Qt.skipHydrationRootTNode===t}function xv(){Qt.skipHydrationRootTNode=null}function qt(){return Qt.lFrame.lView}function qr(){return Qt.lFrame.tView}function ze(t){return Qt.lFrame.contextLView=t,t[li]}function qe(t){return Qt.lFrame.contextLView=null,t}function Or(){let t=Iv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Iv(){return Qt.lFrame.currentTNode}function VI(){let t=Qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $l(t,e){let n=Qt.lFrame;n.currentTNode=t,n.isParent=e}function Sv(){return Qt.lFrame.isParent}function jI(){Qt.lFrame.isParent=!1}function BI(){return Qt.lFrame.contextLView}function Tv(){return j1}function Dv(t){let e=j1;return j1=t,e}function Sa(){let t=Qt.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Av(){return Qt.lFrame.bindingIndex}function $I(t){return Qt.lFrame.bindingIndex=t}function Vd(){return Qt.lFrame.bindingIndex++}function Hp(t){let e=Qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function UI(){return Qt.lFrame.inI18n}function HI(t,e){let n=Qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,zp(e)}function zI(){return Qt.lFrame.currentDirectiveIndex}function zp(t){Qt.lFrame.currentDirectiveIndex=t}function qI(t){let e=Qt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Mv(){return Qt.lFrame.currentQueryIndex}function qp(t){Qt.lFrame.currentQueryIndex=t}function $R(t){let e=t[Rt];return e.type===2?e.declTNode:e.type===1?t[fo]:null}function kv(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=$R(o),i===null||(o=o[Cc],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Qt.lFrame=WI();return r.currentTNode=e,r.lView=t,!0}function Wp(t){let e=WI(),n=t[Rt];Qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function WI(){let t=Qt.lFrame,e=t===null?null:t.child;return e===null?GI(t):e}function GI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function KI(){let t=Qt.lFrame;return Qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Rv=KI;function Gp(){let t=KI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YI(t){return(Qt.lFrame.contextLView=RI(t,Qt.lFrame.contextLView))[li]}function Os(){return Qt.lFrame.selectedIndex}function Ta(t){Qt.lFrame.selectedIndex=t}function Kp(){let t=Qt.lFrame;return jp(t.tView,t.selectedIndex)}function Ul(){Qt.lFrame.currentNamespace=pv}function XI(){return Qt.lFrame.currentNamespace}var QI=!0;function Yp(){return QI}function jd(t){QI=t}function B1(t,e=null,n=null,r){let i=Nv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Nv(t,e=null,n=null,r,i=new Set){let o=[n||qi,CI(t)];return r=r||(typeof t=="object"?void 0:Ns(t)),new _c(o,e||Md(),r||null,i)}var fr=class t{static THROW_IF_NOT_FOUND=yc;static NULL=new xd;static create(e,n){if(Array.isArray(e))return B1({name:""},n,e,"");{let r=e.name??"";return B1({name:r},e.parent,e.providers,r)}}static \u0275prov=Ze({token:t,providedIn:"any",factory:()=>Ft(sv)});static __NG_ELEMENT_ID__=-1},hr=new ct(""),Lo=(()=>{class t{static __NG_ELEMENT_ID__=UR;static __NG_ENV_ID__=n=>n}return t})(),$1=class extends Lo{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Tc(this._lView)}onDestroy(e){let n=this._lView;return bv(n,e),()=>NI(n,e)}};function UR(){return new $1(qt())}var ZI=!1,Fs=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new kn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Gt(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ze({token:t,providedIn:"root",factory:()=>new t})}return t})(),U1=class extends Bn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,TI()&&(this.destroyRef=ge(Lo,{optional:!0})??void 0,this.pendingTasks=ge(Fs,{optional:!0})??void 0)}emit(e){let n=Xt(null);try{super.next(e)}finally{Xt(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Nr&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Un=U1;function kp(...t){}function Pv(t){let e,n;function r(){t=kp;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Ov(t){return queueMicrotask(()=>t()),()=>{t=kp}}var Fv="isAngularZone",Id=Fv+"_ID",HR=0,Xn=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Un(!1);onMicrotaskEmpty=new Un(!1);onStable=new Un(!1);onError=new Un(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ZI}=e;if(typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,WR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Je(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zR,kp,kp);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zR={};function Lv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Pv(()=>{t.callbackScheduled=!1,H1(t),t.isCheckStableRunning=!0,Lv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),H1(t)}function WR(t){let e=()=>{qR(t)},n=HR++;t._inner=t._inner.fork({name:"angular",properties:{[Fv]:!0,[Id]:n,[Id+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(GR(c))return r.invokeTask(o,s,a,c);try{return uI(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dI(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return uI(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!KR(c)&&e(),dI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,H1(t),Lv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function H1(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dI(t){t._nesting--,Lv(t)}var Sd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Un;onMicrotaskEmpty=new Un;onStable=new Un;onError=new Un;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function GR(t){return JI(t,"__ignore_ng_zone__")}function KR(t){return JI(t,"__scheduler_tick__")}function JI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Jo=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Gi=new ct("",{factory:()=>{let t=ge(Xn),e=ge(yr),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Jo),n.handleError(r))})}}}),eS={provide:Ol,useValue:()=>{let t=ge(Jo,{optional:!0})},multi:!0};function Ki(t,e){let[n,r,i]=p1(t,e?.equal),o=n,s=o[Ei];return o.set=r,o.update=i,o.asReadonly=tS.bind(o),o}function tS(){let t=this[Ei];if(t.readonlyFn===void 0){let e=()=>this();e[Ei]=t,t.readonlyFn=e}return t.readonlyFn}var Xp=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=YR}return t})();function YR(){return new Xp(qt(),Or())}var ba=class{},Bd=new ct("",{factory:()=>!0});var Vv=new ct(""),Hl=(()=>{class t{internalPendingTasks=ge(Fs);scheduler=ge(ba);errorHandler=ge(Gi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Ze({token:t,providedIn:"root",factory:()=>new t})}return t})(),jv=(()=>{class t{static \u0275prov=Ze({token:t,providedIn:"root",factory:()=>new z1})}return t})(),z1=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},q1=class{[Ei];constructor(e){this[Ei]=e}destroy(){this[Ei].destroy()}};function sr(t){return m1(t)}function Ql(t){return{toString:t}.toString()}var Qp="__parameters__";function nN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function rN(t,e,n){return Ql(()=>{let r=nN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Qp)?c[Qp]:Object.defineProperty(c,Qp,{value:[]})[Qp];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yi=vI(rN("Optional"),8);function iN(t){return typeof t=="function"}function kS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var om=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},go=(()=>{let t=()=>RS;return t.ngInherit=!0,t})();function RS(t){return t.type.prototype.ngOnChanges&&(t.setInput=sN),oN}function oN(){let t=PS(this),e=t?.current;if(e){let n=t.previous;if(n===wa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sN(t,e,n,r,i){let o=this.declaredInputs[r],s=PS(t)||aN(t,{previous:wa,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new om(u&&u.currentValue,n,c===wa),kS(t,e,i,n)}var NS="__ngSimpleChanges__";function PS(t){return t[NS]||null}function aN(t,e){return t[NS]=e}var nS=[];var An=function(t,e=null,n){for(let r=0;r<nS.length;r++){let i=nS[r];i(t,e,n)}},bn=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(bn||{});function cN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=RS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function OS(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function em(t,e,n){FS(t,e,3,n)}function tm(t,e,n,r){(t[jt]&3)===n&&FS(t,e,n,r)}function Bv(t,e){let n=t[jt];(n&3)===e&&(n&=16383,n+=1,t[jt]=n)}function FS(t,e,n,r){let i=r!==void 0?t[xc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[xc]+=65536),(a<o||o==-1)&&(lN(t,n,e,c),t[xc]=(t[xc]&4294901760)+c+2),c++}function rS(t,e){An(bn.LifecycleHookStart,t,e);let n=Xt(null);try{e.call(t)}finally{Xt(n),An(bn.LifecycleHookEnd,t,e)}}function lN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[jt]>>14<t[xc]>>16&&(t[jt]&3)===e&&(t[jt]+=16384,rS(a,o)):rS(a,o)}var ql=-1,Mc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function uN(t){return(t.flags&8)!==0}function dN(t){return(t.flags&16)!==0}function fN(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];hN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function LS(t){return t===3||t===4||t===6}function hN(t){return t.charCodeAt(0)===64}function Wl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?iS(t,n,i,null,e[++r]):iS(t,n,i,null,null))}}return t}function iS(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function VS(t){return t!==ql}function sm(t){return t&32767}function pN(t){return t>>16}function am(t,e){let n=pN(t),r=e;for(;n>0;)r=r[Cc],n--;return r}var Yv=!0;function cm(t){let e=Yv;return Yv=t,e}var mN=256,jS=mN-1,BS=5,gN=0,os={};function yN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ec)&&(r=n[Ec]),r==null&&(r=n[Ec]=gN++);let i=r&jS,o=1<<i;e.data[t+(i>>BS)]|=o}function lm(t,e){let n=$S(t,e);if(n!==-1)return n;let r=e[Rt];r.firstCreatePass&&(t.injectorIndex=e.length,$v(r.data,t),$v(e,null),$v(r.blueprint,null));let i=gb(t,e),o=t.injectorIndex;if(VS(i)){let s=sm(i),a=am(i,e),c=a[Rt].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function $v(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $S(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gb(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=WS(i),r===null)return ql;if(n++,i=i[Cc],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ql}function Xv(t,e,n){yN(t,e,n)}function vN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(LS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function US(t,e,n){if(n&8||t!==void 0)return t;Op(e,"NodeInjector")}function HS(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Ea],o=Ci(void 0);try{return i?i.get(e,r,n&8):iv(e,r,n&8)}finally{Ci(o)}}return US(r,e,n)}function zS(t,e,n,r=0,i){if(t!==null){if(e[jt]&2048&&!(r&2)){let s=EN(t,e,n,r,os);if(s!==os)return s}let o=qS(t,e,n,r,os);if(o!==os)return o}return HS(e,n,r,i)}function qS(t,e,n,r,i){let o=_N(n);if(typeof o=="function"){if(!kv(e,t,r))return r&1?US(i,n,r):HS(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Op(n);else return s}finally{Rv()}}else if(typeof o=="number"){let s=null,a=$S(t,e),c=ql,u=r&1?e[ho][fo]:null;for((a===-1||r&4)&&(c=a===-1?gb(t,e):e[a+8],c===ql||!sS(r,!1)?a=-1:(s=e[Rt],a=sm(c),e=am(c,e)));a!==-1;){let l=e[Rt];if(oS(o,a,l.data)){let d=bN(a,e,n,s,r,u);if(d!==os)return d}c=e[a+8],c!==ql&&sS(r,e[Rt].data[a+8]===u)&&oS(o,a,e)?(s=l,a=sm(c),e=am(c,e)):a=-1}}return i}function bN(t,e,n,r,i,o){let s=e[Rt],a=s.data[t+8],c=r==null?Ia(a)&&Yv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,l=nm(a,s,n,c,u);return l!==null?qd(e,s,l,a,i):os}function nm(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,f=i?a+l:u;for(let p=d;p<f;p++){let h=s[p];if(p<c&&n===h||p>=c&&h.type===n)return p}if(i){let p=s[c];if(p&&is(p)&&p.type===n)return c}return null}function qd(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Mc){let a=o;if(a.resolving){let p=pI(s[n]);throw rv(p)}let c=cm(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Ci(a.injectImpl):null,f=kv(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&cN(n,s[n],e)}finally{d!==null&&Ci(d),cm(c),a.resolving=!1,Rv()}}return o}function _N(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ec)?t[Ec]:void 0;return typeof e=="number"?e>=0?e&jS:wN:e}function oS(t,e,n){let r=1<<t;return!!(n[e+(t>>BS)]&r)}function sS(t,e){return!(t&2)&&!(t&1&&e)}var Ac=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zS(this._tNode,this._lView,e,vc(r),n)}};function wN(){return new Ac(Or(),qt())}function ui(t){return Ql(()=>{let e=t.prototype.constructor,n=e[Cd]||Qv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Cd]||Qv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qv(t){return K1(t)?()=>{let e=Qv(ti(t));return e&&e()}:ya(t)}function EN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[jt]&2048&&!jl(s);){let a=qS(o,s,n,r|2,os);if(a!==os)return a;let c=o.parent;if(!c){let u=s[fv];if(u){let l=u.get(n,os,r);if(l!==os)return l}c=WS(s),s=s[Cc]}o=c}return i}function WS(t){let e=t[Rt],n=e.type;return n===2?e.declTNode:n===1?t[fo]:null}function Xd(t){return vN(Or(),t)}function CN(){return Zl(Or(),qt())}function Zl(t,e){return new di(Fo(t,e))}var di=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=CN}return t})();function xN(t){return t instanceof di?t.nativeElement:t}function IN(){return this._results[Symbol.iterator]()}var um=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Bn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=_I(e);(this._changesDetected=!bI(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=IN};function GS(t){return(t.flags&128)===128}var yb=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(yb||{}),KS=new Map,SN=0;function TN(){return SN++}function DN(t){KS.set(t[Rd],t)}function Zv(t){KS.delete(t[Rd])}var aS="__ngContext__";function Gl(t,e){rs(e)?(t[aS]=e[Rd],DN(e)):t[aS]=e}function YS(t){return QS(t[Ll])}function XS(t){return QS(t[uo])}function QS(t){for(;t!==null&&!Oo(t);)t=t[uo];return t}var AN;function vb(t){AN=t}var wm=new ct("",{factory:()=>MN}),MN="ng";var Em=new ct(""),Pc=new ct("",{providedIn:"platform",factory:()=>"unknown"});var Cm=new ct("",{factory:()=>ge(hr).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZS=!1,JS=new ct("",{factory:()=>ZS});var kN=(t,e,n,r)=>{};function RN(t,e,n,r){kN(t,e,n,r)}function bb(t){return(t.flags&32)===32}var NN=()=>null;function eT(t,e,n=!1){return NN(t,e,n)}function tT(t,e){let n=t.contentQueries;if(n!==null){let r=Xt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];qp(o),a.contentQueries(2,e[s],s)}}}finally{Xt(r)}}}function Jv(t,e,n){qp(0);let r=Xt(null);try{e(t,n)}finally{Xt(r)}}function _b(t,e,n){if(hv(e)){let r=Xt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Xt(r)}}}var jo=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(jo||{});var Zp;function PN(){if(Zp===void 0&&(Zp=null,Ps.trustedTypes))try{Zp=Ps.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zp}function cS(t){return PN()?.createScriptURL(t)||t}var dm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rp})`}};function Qd(t){return t instanceof dm?t.changingThisBreaksApplicationSecurity:t}function wb(t,e){let n=nT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Rp})`)}return n===e}function nT(t){return t instanceof dm&&t.getTypeName()||null}var ON=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rT(t){return t=String(t),t.match(ON)?t:"unsafe:"+t}var FN=/^>|^->|<!--|-->|--!>|<!-$/g,LN=/(<|>)/g,VN="\u200B$1\u200B";function jN(t){return t.replace(FN,e=>e.replace(LN,VN))}function BN(t,e){return t.createText(e)}function $N(t,e,n){t.setValue(e,n)}function UN(t,e){return t.createComment(jN(e))}function iT(t,e,n){return t.createElement(e,n)}function fm(t,e,n,r,i){t.insertBefore(e,n,r,i)}function oT(t,e,n){t.appendChild(e,n)}function lS(t,e,n,r,i){r!==null?fm(t,e,n,r,i):oT(t,e,n)}function HN(t,e,n,r){t.removeChild(null,e,n,r)}function zN(t,e,n){t.setAttribute(e,"style",n)}function qN(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&fN(t,e,r),i!==null&&qN(t,e,i),o!==null&&zN(t,e,o)}var xm=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(xm||{});function aT(t){let e=lT();return e?e.sanitize(xm.URL,t)||"":wb(t,"URL")?Qd(t):rT(es(t))}function cT(t){let e=lT();if(e)return cS(e.sanitize(xm.RESOURCE_URL,t)||"");if(wb(t,"ResourceURL"))return cS(Qd(t));throw new Je(904,!1)}function WN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?cT:aT}function Eb(t,e,n){return WN(e,n)(t)}function lT(){let t=qt();return t&&t[ts].sanitizer}function uT(t){return t instanceof Function?t():t}function GN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var dT="ng-template";function KN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Cb(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Cb(t){return t.type===4&&t.value!==dT}function YN(t,e,n){let r=t.type===4&&!n?dT:t.value;return e===r}function XN(t,e,n){let r=4,i=t.attrs,o=i!==null?JN(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Vo(r)&&!Vo(c))return!1;if(s&&Vo(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!YN(t,c,n)||c===""&&e.length===1){if(Vo(r))return!1;s=!0}}else if(r&8){if(i===null||!KN(t,i,c,n)){if(Vo(r))return!1;s=!0}}else{let u=e[++a],l=QN(c,i,Cb(t),n);if(l===-1){if(Vo(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Vo(r))return!1;s=!0}}}}return Vo(r)||s}function Vo(t){return(t&1)===0}function QN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return e8(e,t)}function ZN(t,e,n=!1){for(let r=0;r<e.length;r++)if(XN(t,e[r],n))return!0;return!1}function JN(t){for(let e=0;e<t.length;e++){let n=t[e];if(LS(n))return e}return t.length}function e8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function uS(t,e){return t?":not("+e.trim()+")":e}function t8(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vo(s)&&(e+=uS(o,i),i=""),r=s,o=o||!Vo(r);n++}return i!==""&&(e+=uS(o,i)),e}function n8(t){return t.map(t8).join(",")}function r8(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Vo(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Xi={};function xb(t,e,n,r,i,o,s,a,c,u,l){let d=vr+r,f=d+i,p=i8(d,f),h=typeof u=="function"?u():u;return p[Rt]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:l}}function i8(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xi);return n}function o8(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ib(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[Po]=i,d[jt]=r|4|128|8|64|1024,(u!==null||t&&t[jt]&2048)&&(d[jt]|=2048),yv(d),d[Hr]=d[Cc]=t,d[li]=n,d[ts]=s||t&&t[ts],d[Qn]=a||t&&t[Qn],d[Ea]=c||t&&t[Ea]||null,d[fo]=o,d[Rd]=TN(),d[kd]=l,d[fv]=u,d[ho]=e.type==2?t[ho]:d,d}function s8(t,e,n){let r=Fo(e,t),i=o8(n),o=t[ts].rendererFactory,s=Sb(t,Ib(t,i,null,fT(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function fT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function hT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Sb(t,e){return t[Ll]?t[dv][uo]=e:t[Ll]=e,t[dv]=e,e}function X(t=1){pT(qr(),qt(),Os()+t,!1)}function pT(t,e,n,r){if(!r)if((e[jt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&em(e,o,n)}else{let o=t.preOrderHooks;o!==null&&tm(e,o,0,n)}Ta(n)}var Im=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Im||{});function eb(t,e,n,r){let i=Xt(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Im.SignalBased)!==0&&(c=e[o][Ei]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):kS(e,c,o,r)}finally{Xt(i)}}var ss=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(ss||{}),a8;function Tb(t,e){return a8(t,e)}var Kl=new Set,Sm=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Sm||{}),Oc=new ct(""),dS=new Set;function Zd(t){dS.has(t)||(dS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Db=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ze({token:t,providedIn:"root",factory:()=>new t})}return t})(),mT=[0,1,2,3],gT=(()=>{class t{ngZone=ge(Xn);scheduler=ge(ba);errorHandler=ge(Jo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){ge(Oc,{optional:!0})}execute(){let n=this.sequences.size>0;n&&An(bn.AfterRenderHooksStart),this.executing=!0;for(let r of mT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&An(bn.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Ic]??=[]).push(n),Bl(r),r[jt]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Sm.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Ze({token:t,providedIn:"root",factory:()=>new t})}return t})(),hm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ic];e&&(this.view[Ic]=e.filter(n=>n!==this))}};function Tm(t,e){let n=e?.injector??ge(fr);return Zd("NgAfterNextRender"),l8(t,n,e,!0)}function c8(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function l8(t,e,n,r){let i=e.get(Db);i.impl??=e.get(gT);let o=e.get(Oc,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Lo):null,a=e.get(Xp,null,{optional:!0}),c=new hm(i.impl,c8(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var u8=new ct("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:ge(yr)})});function yT(t,e,n){let r=t.get(u8);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function d8(t,e){for(let[n,r]of e)yT(t,r.animateFns)}function fS(t,e,n,r){let i=t?.[Pd]?.enter;e!==null&&i&&i.has(n.index)&&d8(r,i)}function zl(t,e,n,r,i,o,s,a){if(i!=null){let c,u=!1;Oo(i)?c=i:rs(i)&&(u=!0,i=i[Po]);let l=po(i);t===0&&r!==null?(fS(a,r,o,n),s==null?oT(e,r,l):fm(e,r,l,s||null,!0)):t===1&&r!==null?(fS(a,r,o,n),fm(e,r,l,s||null,!0)):t===2?hS(a,o,n,d=>{HN(e,l,u,d)}):t===3&&hS(a,o,n,()=>{e.destroyNode(l)}),c!=null&&x8(e,t,n,c,o,r,s)}}function f8(t,e){vT(t,e),e[Po]=null,e[fo]=null}function h8(t,e,n,r,i,o){r[Po]=i,r[fo]=e,Dm(t,r,n,1,i,o)}function vT(t,e){e[ts].changeDetectionScheduler?.notify(9),Dm(t,e,e[Qn],2,null,null)}function p8(t){let e=t[Ll];if(!e)return Uv(t[Rt],t);for(;e;){let n=null;if(rs(e))n=e[Ll];else{let r=e[xi];r&&(n=r)}if(!n){for(;e&&!e[uo]&&e!==t;)rs(e)&&Uv(e[Rt],e),e=e[Hr];e===null&&(e=t),rs(e)&&Uv(e[Rt],e),n=e&&e[uo]}e=n}}function Ab(t,e){let n=t[Sc],r=n.indexOf(e);n.splice(r,1)}function bT(t,e){if(Tc(e))return;let n=e[Qn];n.destroyNode&&Dm(t,e,n,3,null,null),p8(e)}function Uv(t,e){if(Tc(e))return;let n=Xt(null);try{e[jt]&=-129,e[jt]|=256,e[Wi]&&pd(e[Wi]),y8(t,e),g8(t,e),e[Rt].type===1&&e[Qn].destroy();let r=e[Ca];if(r!==null&&Oo(e[Hr])){r!==e[Hr]&&Ab(r,e);let i=e[ns];i!==null&&i.detachView(t)}Zv(e)}finally{Xt(n)}}function hS(t,e,n,r){let i=t?.[Pd];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Kl.add(t),yT(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),m8(t,r)}else t&&Kl.delete(t),r(!1)},i)}function m8(t,e){let n=t[Pd]?.running;if(n){n.then(()=>{t[Pd].running=void 0,Kl.delete(t),e(!0)});return}e(!1)}function g8(t,e){let n=t.cleanup,r=e[Fl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Fl]=null);let i=e[Rs];if(i!==null){e[Rs]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Nd];if(o!==null){e[Nd]=null;for(let s of o)s.destroy()}}function y8(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Mc)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];An(bn.LifecycleHookStart,a,c);try{c.call(a)}finally{An(bn.LifecycleHookEnd,a,c)}}else{An(bn.LifecycleHookStart,i,o);try{o.call(i)}finally{An(bn.LifecycleHookEnd,i,o)}}}}}function v8(t,e,n){return b8(t,e.parent,n)}function b8(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Po];if(Ia(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===jo.None||i===jo.Emulated)return null}return Fo(r,n)}function _8(t,e,n){return E8(t,e,n)}function w8(t,e,n){return t.type&40?Fo(t,n):null}var E8=w8,pS;function Mb(t,e,n,r){let i=v8(t,r,e),o=e[Qn],s=r.parent||e[fo],a=_8(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)lS(o,i,n[c],a,!1);else lS(o,i,n,a,!1);pS!==void 0&&pS(o,r,e,n,i)}function Ud(t,e){if(e!==null){let n=e.type;if(n&3)return Fo(e,t);if(n&4)return tb(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ud(t,r);{let i=t[e.index];return Oo(i)?tb(-1,i):po(i)}}else{if(n&128)return Ud(t,e.next);if(n&32)return Tb(e,t)()||po(t[e.index]);{let r=_T(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=va(t[ho]);return Ud(i,r)}else return Ud(t,e.next)}}}return null}function _T(t,e){if(e!==null){let r=t[ho][fo],i=e.projection;return r.projection[i]}return null}function tb(t,e){let n=xi+t+1;if(n<e.length){let r=e[n],i=r[Rt].firstChild;if(i!==null)return Ud(r,i)}return e[xa]}function kb(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Ea];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Gl(po(c),r),n.flags|=2),!bb(n))if(u&8)kb(t,e,n.child,r,i,o,!1),zl(e,t,a,i,c,n,o,r);else if(u&32){let l=Tb(n,r),d;for(;d=l();)zl(e,t,a,i,d,n,o,r);zl(e,t,a,i,c,n,o,r)}else u&16?C8(t,e,r,n,i,o):zl(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Dm(t,e,n,r,i,o){kb(n,r,t.firstChild,e,i,o,!1)}function C8(t,e,n,r,i,o){let s=n[ho],c=s[fo].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];zl(e,t,n[Ea],i,l,r,o,n)}else{let u=c,l=s[Hr];GS(r)&&(u.flags|=128),kb(t,e,u,l,i,o,!0)}}function x8(t,e,n,r,i,o,s){let a=r[xa],c=po(r);a!==c&&zl(e,t,n,o,a,i,s);for(let u=xi;u<r.length;u++){let l=r[u];Dm(l[Rt],l,t,e,o,a)}}function I8(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ss.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ss.Important),t.setStyle(n,r,i,o))}}function wT(t,e,n,r,i){let o=Os(),s=r&2;try{Ta(-1),s&&e.length>vr&&pT(t,e,vr,!1);let a=s?bn.TemplateUpdateStart:bn.TemplateCreateStart;An(a,i,n),n(r,i)}finally{Ta(o);let a=s?bn.TemplateUpdateEnd:bn.TemplateCreateEnd;An(a,i,n)}}function Am(t,e,n){R8(t,e,n),(n.flags&64)===64&&N8(t,e,n)}function Mm(t,e,n=Fo){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function S8(t,e,n,r){let o=r.get(JS,ZS)||n===jo.ShadowDom||n===jo.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return T8(s),s}function T8(t){D8(t)}var D8=()=>null;function A8(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ET(t,e,n,r,i,o){let s=e[Rt];if(Ob(t,s,e,n,r)){Ia(t)&&k8(e,t.index);return}t.type&3&&(n=A8(n)),M8(t,e,n,r,i,o)}function M8(t,e,n,r,i,o){if(t.type&3){let s=Fo(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function k8(t,e){let n=mo(e,t);n[jt]&16||(n[jt]|=64)}function R8(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ia(n)&&s8(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||lm(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=qd(e,t,s,n);if(Gl(c,e),o!==null&&L8(e,s-r,c,a,n,o),is(a)){let u=mo(n.index,e);u[li]=qd(e,t,s,n)}}}function N8(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zI();try{Ta(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];zp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&P8(c,u)}}finally{Ta(-1),zp(s)}}function P8(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Rb(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];ZN(e,o.selectors,!1)&&(r??=[],is(o)?r.unshift(o):r.push(o))}return r}function O8(t,e,n,r,i,o){let s=Fo(t,e);F8(e[Qn],s,o,t.value,n,r,i)}function F8(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?es(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function L8(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];eb(r,n,c,u)}}function Nb(t,e,n,r,i){let o=vr+n,s=e[Rt],a=i(s,e,t,r,n);e[o]=a,$l(t,!0);let c=t.type===2;return c?(sT(e[Qn],a,t),(OI()===0||Vl(t))&&Gl(a,e),FI()):Gl(a,e),Yp()&&(!c||!bb(t))&&Mb(s,e,a,t),t}function Pb(t){let e=t;return Sv()?jI():(e=e.parent,$l(e,!1)),e}function V8(t,e){let n=t[Ea];if(!n)return;let r;try{r=n.get(Gi,null)}catch{r=null}r?.(e)}function Ob(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=e.data[u];eb(d,n[u],l,i),a=!0}if(o)for(let c of o){let u=n[c],l=e.data[c];eb(l,u,r,i),a=!0}return a}function j8(t,e){let n=mo(e,t),r=n[Rt];B8(r,n);let i=n[Po];i!==null&&n[kd]===null&&(n[kd]=eT(i,n[Ea])),An(bn.ComponentStart);try{Fb(r,n,n[li])}finally{An(bn.ComponentEnd,n[li])}}function B8(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Fb(t,e,n){Wp(e);try{let r=t.viewQuery;r!==null&&Jv(1,r,n);let i=t.template;i!==null&&wT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ns]?.finishViewCreation(t),t.staticContentQueries&&tT(t,e),t.staticViewQueries&&Jv(2,t.viewQuery,n);let o=t.components;o!==null&&$8(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[jt]&=-5,Gp()}}function $8(t,e){for(let n=0;n<e.length;n++)j8(t,e[n])}function U8(t,e,n,r){let i=Xt(null);try{let o=e.tView,a=t[jt]&4096?4096:16,c=Ib(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Ca]=u;let l=t[ns];return l!==null&&(c[ns]=l.createEmbeddedView(o)),Fb(o,c,n),c}finally{Xt(i)}}function mS(t,e){return!e||e.firstChild===null||GS(t)}function Wd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(po(o)),Oo(o)&&CT(o,r);let s=n.type;if(s&8)Wd(t,e,n.child,r);else if(s&32){let a=Tb(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=_T(e,n);if(Array.isArray(a))r.push(...a);else{let c=va(e[ho]);Wd(c[Rt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function CT(t,e){for(let n=xi;n<t.length;n++){let r=t[n],i=r[Rt].firstChild;i!==null&&Wd(r[Rt],r,i,e)}t[xa]!==t[Po]&&e.push(t[xa])}function xT(t){if(t[Ic]!==null){for(let e of t[Ic])e.impl.addSequence(e);t[Ic].length=0}}var IT=[];function H8(t){return t[Wi]??z8(t)}function z8(t){let e=IT.pop()??Object.create(W8);return e.lView=t,e}function q8(t){t.lView[Wi]!==t&&(t.lView=null,IT.push(t))}var W8=Ne(ye({},dd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Bl(t.lView)},consumerOnSignalRead(){this.lView[Wi]=this}});function G8(t){let e=t[Wi]??Object.create(K8);return e.lView=t,e}var K8=Ne(ye({},dd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=va(t.lView);for(;e&&!ST(e[Rt]);)e=va(e);e&&vv(e)},consumerOnSignalRead(){this.lView[Wi]=this}});function ST(t){return t.type!==2}function TT(t){if(t[Nd]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Nd])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[jt]&8192)}}var Y8=100;function DT(t,e=0){let r=t[ts].rendererFactory,i=!1;i||r.begin?.();try{X8(t,e)}finally{i||r.end?.()}}function X8(t,e){let n=Tv();try{Dv(!0),nb(t,e);let r=0;for(;Ld(t);){if(r===Y8)throw new Je(103,!1);r++,nb(t,1)}}finally{Dv(n)}}function Q8(t,e,n,r){if(Tc(e))return;let i=e[jt],o=!1,s=!1;Wp(e);let a=!0,c=null,u=null;o||(ST(t)?(u=H8(e),c=hd(u)):Xh()===null?(a=!1,u=G8(e),c=hd(u)):e[Wi]&&(pd(e[Wi]),e[Wi]=null));try{yv(e),$I(t.bindingStartIndex),n!==null&&wT(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let p=t.preOrderCheckHooks;p!==null&&em(e,p,null)}else{let p=t.preOrderHooks;p!==null&&tm(e,p,0,null),Bv(e,0)}if(s||Z8(e),TT(e),AT(e,0),t.contentQueries!==null&&tT(t,e),!o)if(l){let p=t.contentCheckHooks;p!==null&&em(e,p)}else{let p=t.contentHooks;p!==null&&tm(e,p,1),Bv(e,1)}eP(t,e);let d=t.components;d!==null&&kT(e,d,0);let f=t.viewQuery;if(f!==null&&Jv(2,f,r),!o)if(l){let p=t.viewCheckHooks;p!==null&&em(e,p)}else{let p=t.viewHooks;p!==null&&tm(e,p,2),Bv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vp]){for(let p of e[Vp])p();e[Vp]=null}o||(xT(e),e[jt]&=-73)}catch(l){throw o||Bl(e),l}finally{u!==null&&(Qh(u,c),a&&q8(u)),Gp()}}function AT(t,e){for(let n=YS(t);n!==null;n=XS(n))for(let r=xi;r<n.length;r++){let i=n[r];MT(i,e)}}function Z8(t){for(let e=YS(t);e!==null;e=XS(e)){if(!(e[jt]&2))continue;let n=e[Sc];for(let r=0;r<n.length;r++){let i=n[r];vv(i)}}}function J8(t,e,n){An(bn.ComponentStart);let r=mo(e,t);try{MT(r,n)}finally{An(bn.ComponentEnd,r[li])}}function MT(t,e){Bp(t)&&nb(t,e)}function nb(t,e){let r=t[Rt],i=t[jt],o=t[Wi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Zh(o)),s||=!1,o&&(o.dirty=!1),t[jt]&=-9217,s)Q8(r,t,r.template,t[li]);else if(i&8192){let a=Xt(null);try{TT(t),AT(t,1);let c=r.components;c!==null&&kT(t,c,1),xT(t)}finally{Xt(a)}}}function kT(t,e,n){for(let r=0;r<e.length;r++)J8(t,e[r],n)}function eP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ta(~i);else{let o=i,s=n[++r],a=n[++r];HI(s,o);let c=e[o];An(bn.HostBindingsUpdateStart,c);try{a(2,c)}finally{An(bn.HostBindingsUpdateEnd,c)}}}}finally{Ta(-1)}}function Lb(t,e){let n=Tv()?64:1088;for(t[ts].changeDetectionScheduler?.notify(e);t;){t[jt]|=n;let r=va(t);if(jl(t)&&!r)return t;t=r}return null}function RT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tP(t,e,n,r=!0){let i=e[Rt];if(nP(i,e,t,n),r){let s=tb(n,t),a=e[Qn],c=a.parentNode(t[xa]);c!==null&&h8(i,t[fo],a,e,c,s)}let o=e[kd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rb(t,e){if(t.length<=xi)return;let n=xi+e,r=t[n];if(r){let i=r[Ca];i!==null&&i!==t&&Ab(i,r),e>0&&(t[n-1][uo]=r[uo]);let o=Dd(t,xi+e);f8(r[Rt],r);let s=o[ns];s!==null&&s.detachView(o[Rt]),r[Hr]=null,r[uo]=null,r[jt]&=-129}return r}function nP(t,e,n,r){let i=xi+r,o=n.length;r>0&&(n[i-1][uo]=e),r<o-xi?(e[uo]=n[i],ov(n,xi+r,e)):(n.push(e),e[uo]=null),e[Hr]=n;let s=e[Ca];s!==null&&n!==s&&NT(s,e);let a=e[ns];a!==null&&a.insertView(t),$p(e),e[jt]|=128}function NT(t,e){let n=t[Sc],r=e[Hr];if(rs(r))t[jt]|=2;else{let i=r[Hr][ho];e[ho]!==i&&(t[jt]|=2)}n===null?t[Sc]=[e]:n.push(e)}var Da=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Rt];return Wd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[li]}set context(e){this._lView[li]=e}get destroyed(){return Tc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Hr];if(Oo(e)){let n=e[Od],r=n?n.indexOf(this):-1;r>-1&&(rb(e,r),Dd(n,r))}this._attachedToViewContainer=!1}bT(this._lView[Rt],this._lView)}onDestroy(e){bv(this._lView,e)}markForCheck(){Lb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[jt]&=-129}reattach(){$p(this._lView),this._lView[jt]|=128}detectChanges(){this._lView[jt]|=1024,DT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=jl(this._lView),n=this._lView[Ca];n!==null&&!e&&Ab(n,this._lView),vT(this._lView[Rt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=e;let n=jl(this._lView),r=this._lView[Ca];r!==null&&!n&&NT(r,this._lView),$p(this._lView)}};var Aa=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rP;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=U8(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Da(o)}}return t})();function rP(){return km(Or(),qt())}function km(t,e){return t.type&4?new Aa(e,t,Zl(t,e)):null}function Rm(t,e,n,r,i){let o=t.data[e];if(o===null)o=iP(t,e,n,r,i),UI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=VI();o.injectorIndex=s===null?-1:s.injectorIndex}return $l(o,!0),o}function iP(t,e,n,r,i){let o=Iv(),s=Sv(),a=s?o:o&&o.parent,c=t.data[e]=sP(t,a,n,e,r,i);return oP(t,c,o,s),c}function oP(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function sP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return LI()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var aP=()=>null;function gS(t,e){return aP(t,e)}var PT=class{},Nm=class{},ib=class{resolveComponentFactory(e){throw new Je(917,!1)}},Jd=class{static NULL=new ib},kc=class{},yo=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>cP()}return t})();function cP(){let t=qt(),e=Or(),n=mo(e.index,t);return(rs(n)?n:t)[Qn]}var OT=(()=>{class t{static \u0275prov=Ze({token:t,providedIn:"root",factory:()=>null})}return t})();var rm={},ob=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,rm,r);return i!==rm||n===rm?i:this.parentInjector.get(e,n,r)}};function pm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=G1(i,a);else if(o==2){let c=a,u=e[++s];r=G1(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function lt(t,e=0){let n=qt();if(n===null)return Ft(t,e);let r=Or();return zS(r,n,ti(t),e)}function FT(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}dP(t,e,n,a,o,c,u)}o!==null&&r!==null&&lP(n,r,o)}function lP(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Je(-301,!1);r.push(e[i],o)}}function uP(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dP(t,e,n,r,i,o,s){let a=r.length,c=null;for(let f=0;f<a;f++){let p=r[f];c===null&&is(p)&&(c=p,uP(t,n,f)),Xv(lm(n,e),t,p.type)}yP(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let f=0;f<a;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let u=!1,l=!1,d=hT(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=r[f];if(n.mergedAttrs=Wl(n.mergedAttrs,p.hostAttrs),hP(t,n,e,d,p),gP(d,p,i),s!==null&&s.has(p)){let[y,m]=s.get(p);n.directiveToIndex.set(p.type,[d,y+n.directiveStart,m+n.directiveStart])}else(o===null||!o.has(p))&&n.directiveToIndex.set(p.type,d);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let h=p.type.prototype;!u&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}fP(t,n,o)}function fP(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))yS(0,e,i,r),yS(1,e,i,r),bS(e,r,!1);else{let o=n.get(i);vS(0,e,o,r),vS(1,e,o,r),bS(e,r,!0)}}}function yS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),LT(e,o)}}function vS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),LT(e,s)}}function LT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function bS(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Cb(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let u=o[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function hP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ya(i.type,!0)),s=new Mc(o,is(i),lt,null);t.blueprint[r]=s,n[r]=s,pP(t,e,r,hT(t,n,i.hostVars,Xi),i)}function pP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;mP(s)!=a&&s.push(a),s.push(n,r,o)}}function mP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function gP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;is(e)&&(n[""]=t)}}function yP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Vb(t,e,n,r,i,o,s,a){let c=e[Rt],u=c.consts,l=Dc(u,s),d=Rm(c,t,n,r,l);return o&&FT(c,e,d,Dc(u,a),i),d.mergedAttrs=Wl(d.mergedAttrs,d.attrs),d.attrs!==null&&pm(d,d.attrs,!1),d.mergedAttrs!==null&&pm(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function jb(t,e){OS(t,e),hv(e)&&t.queries.elementEnd(e)}function vP(t,e,n,r,i,o){let s=e.consts,a=Dc(s,i),c=Rm(e,t,n,r,a);if(c.mergedAttrs=Wl(c.mergedAttrs,c.attrs),o!=null){let u=Dc(s,o);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&pm(c,c.attrs,!1),c.mergedAttrs!==null&&pm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Bb(t){return jT(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function VT(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function jT(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ef(t,e,n){return t[e]=n}function as(t,e,n){if(n===Xi)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Gd(t,e,n,r){let i=as(t,e,n);return as(t,e+1,r)||i}function BT(t,e,n,r,i){let o=Gd(t,e,n,r);return as(t,e+2,i)||o}function bP(t,e,n,r,i,o){let s=Gd(t,e,n,r);return Gd(t,e+2,i,o)||s}function im(t,e,n){return function r(i){let o=Ia(t)?mo(t.index,e):e;Lb(o,5);let s=e[li],a=_S(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=_S(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function _S(t,e,n,r){let i=Xt(null);try{return An(bn.OutputStart,e,n),n(r)!==!1}catch(o){return V8(t,o),!1}finally{An(bn.OutputEnd,e,n),Xt(i)}}function $T(t,e,n,r,i,o,s,a){let c=Vl(t),u=!1,l=null;if(!r&&c&&(l=wP(e,n,o,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Fo(t,n),f=r?r(d):d;RN(n,f,o,a);let p=i.listen(f,o,a);if(!_P(o)){let h=r?y=>r(po(y[t.index])):t.index;UT(h,e,n,o,a,p,!1)}}return u}function _P(t){return t.startsWith("animation")||t.startsWith("transition")}function wP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Fl],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function UT(t,e,n,r,i,o,s){let a=e.firstCreatePass?wv(e):null,c=_v(n),u=c.length;c.push(i,o),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function wS(t,e,n,r,i,o){let s=e[n],a=e[Rt],u=a.data[n].outputs[r],d=s[u].subscribe(o);UT(t.index,a,e,i,o,d,!0)}var sb=Symbol("BINDING");var mm=class extends Jd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_a(e);return new Yl(n,this.ngModule)}};function EP(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Im.SignalBased)!==0};return i&&(o.transform=i),o})}function CP(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function xP(t,e,n){let r=e instanceof yr?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ob(n,r):n}function IP(t){let e=t.get(kc,null);if(e===null)throw new Je(407,!1);let n=t.get(OT,null),r=t.get(ba,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function SP(t,e){let n=HT(t);return iT(e,n,n==="svg"?pv:n==="math"?AI:null)}function HT(t){return(t.selectors[0][0]||"div").toLowerCase()}var Yl=class extends Nm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=EP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=CP(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=n8(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){An(bn.DynamicComponentStart);let a=Xt(null);try{let c=this.componentDef,u=TP(r,c,s,o),l=xP(c,i||this.ngModule,e),d=IP(l),f=d.rendererFactory.createRenderer(null,c),p=r?S8(f,r,c.encapsulation,l):SP(c,f),h=s?.some(ES)||o?.some(_=>typeof _!="function"&&_.bindings.some(ES)),y=Ib(null,u,null,512|fT(c),null,null,d,f,l,null,eT(p,l,!0));y[vr]=p,Wp(y);let m=null;try{let _=Vb(vr,y,2,"#host",()=>u.directiveRegistry,!0,0);sT(f,p,_),Gl(p,y),Am(u,y,_),_b(u,_,y),jb(u,_),n!==void 0&&AP(_,this.ngContentSelectors,n),m=mo(_.index,y),y[li]=m[li],Fb(u,y,null)}catch(_){throw m!==null&&Zv(m),Zv(y),_}finally{An(bn.DynamicComponentEnd),Gp()}return new gm(this.componentType,y,!!h)}finally{Xt(a)}}};function TP(t,e,n,r){let i=t?["ng-version","21.0.6"]:r8(e.selectors[0]),o=null,s=null,a=0;if(n)for(let l of n)a+=l[sb].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let f of d.bindings){a+=f[sb].requiredVars;let p=l+1;f.create&&(f.targetIdx=p,(o??=[]).push(f)),f.update&&(f.targetIdx=p,(s??=[]).push(f))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,f=nv(d);c.push(f)}return xb(0,null,DP(o,s),1,a,c,null,null,null,[i],null)}function DP(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function ES(t){let e=t[sb].kind;return e==="input"||e==="twoWay"}var gm=class extends PT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=jp(n[Rt],vr),this.location=Zl(this._tNode,n),this.instance=mo(this._tNode.index,n)[li],this.hostView=this.changeDetectorRef=new Da(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Ob(r,i[Rt],i,e,n);this.previousInputValues.set(e,n);let s=mo(r.index,i);Lb(s,1)}get injector(){return new Ac(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ls=(()=>{class t{static __NG_ELEMENT_ID__=MP}return t})();function MP(){let t=Or();return qT(t,qt())}var kP=Ls,zT=class extends kP{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Ac(this._hostTNode,this._hostLView)}get parentInjector(){let e=gb(this._hostTNode,this._hostLView);if(VS(e)){let n=am(e,this._hostLView),r=sm(e),i=n[Rt].data[r+8];return new Ac(i,n)}else return new Ac(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=CS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-xi}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,mS(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!iN(e),u;if(c)u=n;else{let m=n||{};u=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let l=c?e:new Yl(_a(e)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let _=(c?d:this.parentInjector).get(yr,null);_&&(o=_)}let f=_a(l.componentType??{}),p=gS(this._lContainer,f?.id??null),h=p?.firstChild??null,y=l.create(d,i,h,o,s,a);return this.insertImpl(y.hostView,u,mS(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(kI(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Hr],u=new zT(c,c[fo],c[Hr]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return tP(s,i,o,r),e.attachToViewContainerRef(),ov(Hv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=CS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=rb(this._lContainer,n);r&&(Dd(Hv(this._lContainer),n),bT(r[Rt],r))}detach(e){let n=this._adjustIndex(e,-1),r=rb(this._lContainer,n);return r&&Dd(Hv(this._lContainer),n)!=null?new Da(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function CS(t){return t[Od]}function Hv(t){return t[Od]||(t[Od]=[])}function qT(t,e){let n,r=e[t.index];return Oo(r)?n=r:(n=RT(r,e,null,t),e[t.index]=n,Sb(e,n)),NP(n,e,t,r),new zT(n,t,e)}function RP(t,e){let n=t[Qn],r=n.createComment(""),i=Fo(e,t),o=n.parentNode(i);return fm(n,o,r,n.nextSibling(i),!1),r}var NP=FP,PP=()=>!1;function OP(t,e,n){return PP(t,e,n)}function FP(t,e,n,r){if(t[xa])return;let i;n.type&8?i=po(r):i=RP(e,n),t[xa]=i}var ab=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cb=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)$b(e,n).matches!==null&&this.queries[n].setDirty()}},lb=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=zP(e):this.predicate=e}},ub=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},db=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,LP(n,o)),this.matchTNodeWithReadOption(e,n,nm(n,e,o,!1,!1))}else r===Aa?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nm(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===di||i===Ls||i===Aa&&n.type&4)this.addMatch(n.index,-2);else{let o=nm(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function LP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function VP(t,e){return t.type&11?Zl(t,e):t.type&4?km(t,e):null}function jP(t,e,n,r){return n===-1?VP(e,t):n===-2?BP(t,e,r):qd(t,t[Rt],n,e)}function BP(t,e,n){if(n===di)return Zl(e,t);if(n===Aa)return km(e,t);if(n===Ls)return qT(e,t)}function WT(t,e,n,r){let i=e[ns].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(jP(e,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function fb(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=WT(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=e[-c];for(let d=xi;d<l.length;d++){let f=l[d];f[Ca]===f[Hr]&&fb(f[Rt],f,u,r)}if(l[Sc]!==null){let d=l[Sc];for(let f=0;f<d.length;f++){let p=d[f];fb(p[Rt],p,u,r)}}}}}return r}function $P(t,e){return t[ns].queries[e].queryList}function UP(t,e,n){let r=new um((n&4)===4);return PI(t,e,r,r.destroy),(e[ns]??=new cb).queries.push(new ab(r))-1}function HP(t,e,n,r){let i=qr();if(i.firstCreatePass){let o=Or();qP(i,new lb(e,n,r),o.index),WP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return UP(i,qt(),n)}function zP(t){return t.split(",").map(e=>e.trim())}function qP(t,e,n){t.queries===null&&(t.queries=new ub),t.queries.track(new db(e,n))}function WP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function $b(t,e){return t.queries.getByIndex(e)}function GP(t,e){let n=t[Rt],r=$b(n,e);return r.crossesNgTemplate?fb(n,t,e,[]):WT(n,t,r,e)}var Rc=class{},Pm=class{};var ym=class extends Rc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new mm(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=tv(e);this._bootstrapComponents=uT(o.bootstrap),this._r3Injector=Nv(e,n,[{provide:Rc,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver},...r],Ns(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vm=class extends Pm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ym(this.moduleType,e,[])}};var Kd=class extends Rc{injector;componentFactoryResolver=new mm(this);instance=null;constructor(e){super();let n=new _c([...e.providers,{provide:Rc,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver}],e.parent||Md(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tf(t,e,n=null){return new Kd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var KP=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=cv(!1,n.type),i=r.length>0?tf([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ze({token:t,providedIn:"environment",factory:()=>new t(Ft(yr))})}return t})();function on(t){return Ql(()=>{let e=GT(t),n=Ne(ye({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(KP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jo.Emulated,styles:t.styles||qi,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Zd("NgStandalone"),KT(n);let r=t.dependencies;return n.directiveDefs=xS(r,YP),n.pipeDefs=xS(r,hI),n.id=ZP(n),n})}function YP(t){return _a(t)||nv(t)}function cs(t){return Ql(()=>({type:t.type,bootstrap:t.bootstrap||qi,declarations:t.declarations||qi,imports:t.imports||qi,exports:t.exports||qi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XP(t,e){if(t==null)return wa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Im.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function QP(t){if(t==null)return wa;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function pn(t){return Ql(()=>{let e=GT(t);return KT(e),e})}function Jl(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function GT(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||wa,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||qi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:XP(t.inputs,e),outputs:QP(t.outputs),debugInfo:null}}function KT(t){t.features?.forEach(e=>e(t))}function xS(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function ZP(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function JP(t){return Object.getPrototypeOf(t.prototype).constructor}function pr(t){let e=JP(t.type),n=!0,r=[t];for(;e;){let i;if(is(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Je(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=zv(t.inputs),s.declaredInputs=zv(t.declaredInputs),s.outputs=zv(t.outputs);let a=i.hostBindings;a&&iO(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&nO(t,c),u&&rO(t,u),eO(t,i),fI(t.outputs,i.outputs),is(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===pr&&(n=!1)}}e=Object.getPrototypeOf(e)}tO(r)}function eO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function tO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wl(i.hostAttrs,n=Wl(n,i.hostAttrs))}}function zv(t){return t===wa?{}:t===qi?[]:t}function nO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function rO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function iO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function oO(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Wl(t.mergedAttrs,t.attrs);let l=t.tView=xb(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),$l(t,!1);let c=aO(n,e,t,r);Yp()&&Mb(n,e,c,t),Gl(c,e);let u=RT(c,e,c,t);e[r+vr]=u,Sb(e,u),OP(u,t,e)}function sO(t,e,n,r,i,o,s,a,c,u,l){let d=n+vr,f;return e.firstCreatePass?(f=Rm(e,d,4,s||null,a||null),Up()&&FT(e,t,f,Dc(e.consts,u),Rb),OS(e,f)):f=e.data[d],oO(f,t,e,n,r,i,o,c),Vl(f)&&Am(e,t,f),u!=null&&Mm(t,f,l),f}function me(t,e,n,r,i,o,s,a){let c=qt(),u=qr(),l=Dc(u.consts,o);return sO(c,u,t,e,n,r,i,l,void 0,s,a),me}var aO=cO;function cO(t,e,n,r){return jd(!0),e[Qn].createComment("")}var Ub=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function YT(t){return typeof t=="function"&&t[Ei]!==void 0}function Hb(t){return YT(t)&&typeof t.set=="function"}var zb=new ct("");function Vs(t){return!!t&&typeof t.then=="function"}function Om(t){return!!t&&typeof t.subscribe=="function"}var XT=new ct("");var qb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=ge(XT,{optional:!0})??[];injector=ge(fr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Pr(this.injector,i);if(Vs(o))n.push(o);else if(Om(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fm=new ct("");function QT(){h1(()=>{let t="";throw new Je(600,t)})}function ZT(t){return t.isBoundToModule}var lO=10;var Ma=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=ge(Gi);afterRenderManager=ge(Db);zonelessEnabled=ge(Bd);rootEffectScheduler=ge(jv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Bn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=ge(Fs);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe($e(n=>!n))}constructor(){ge(Oc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=ge(yr);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=fr.NULL){return this._injector.get(Xn).run(()=>{An(bn.BootstrapComponentStart);let s=n instanceof Nm;if(!this._injector.get(qb).done){let h="";throw new Je(405,h)}let c;s?c=n:c=this._injector.get(Jd).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=ZT(c)?void 0:this._injector.get(Rc),l=r||c.selector,d=c.create(i,[],l,u),f=d.location.nativeElement,p=d.injector.get(zb,null);return p?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Hd(this.components,d),p?.unregisterApplication(f)}),this._loadComponent(d),An(bn.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){An(bn.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw An(bn.ChangeDetectionEnd),new Je(101,!1);let n=Xt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Xt(n),this.afterTick.next(),An(bn.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(kc,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<lO;){An(bn.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{An(bn.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ld(i))continue;let o=r&&!this.zonelessEnabled?0:1;DT(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ld(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Hd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Fm,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Je(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ii(t,e,n,r){let i=qt(),o=Vd();if(as(i,o,e)){let s=qr(),a=Kp();O8(a,i,t,e,n,r)}return Ii}var Sne=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function oe(t,e,n){let r=qt(),i=Vd();if(as(r,i,e)){let o=qr(),s=Kp();ET(s,r,t,e,r[Qn],n)}return oe}function IS(t,e,n,r,i){Ob(e,t,n,i?"class":"style",r)}function U(t,e,n,r){let i=qt(),o=i[Rt],s=t+vr,a=o.firstCreatePass?Vb(s,i,2,e,Rb,Up(),n,r):o.data[s];if(Nb(a,i,t,e,JT),Vl(a)){let c=i[Rt];Am(c,i,a),_b(c,a,i)}return r!=null&&Mm(i,a),U}function B(){let t=qr(),e=Or(),n=Pb(e);return t.firstCreatePass&&jb(t,n),Cv(n)&&xv(),Ev(),n.classesWithoutHost!=null&&uN(n)&&IS(t,n,qt(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&dN(n)&&IS(t,n,qt(),n.stylesWithoutHost,!1),B}function Ee(t,e,n,r){return U(t,e,n,r),B(),Ee}function ls(t,e,n,r){let i=qt(),o=i[Rt],s=t+vr,a=o.firstCreatePass?vP(s,o,2,e,n,r):o.data[s];return Nb(a,i,t,e,JT),r!=null&&Mm(i,a),ls}function us(){let t=Or(),e=Pb(t);return Cv(e)&&xv(),Ev(),us}function Lm(t,e,n,r){return ls(t,e,n,r),us(),Lm}var JT=(t,e,n,r,i)=>(jd(!0),iT(e[Qn],r,XI()));function ft(t,e,n){let r=qt(),i=r[Rt],o=t+vr,s=i.firstCreatePass?Vb(o,r,8,"ng-container",Rb,Up(),e,n):i.data[o];if(Nb(s,r,t,"ng-container",uO),Vl(s)){let a=r[Rt];Am(a,r,s),_b(a,s,r)}return n!=null&&Mm(r,s),ft}function ht(){let t=qr(),e=Or(),n=Pb(e);return t.firstCreatePass&&jb(t,n),ht}var uO=(t,e,n,r,i)=>(jd(!0),UN(e[Qn],""));function At(){return qt()}var $d=void 0;function dO(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var fO=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",$d,$d,$d],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dO],zd={};function Wb(t,e,n){typeof e!="string"&&(n=e,e=t[Yn.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),zd[e]=t,n&&(zd[e][Yn.ExtraData]=n)}function Si(t){let e=hO(t),n=SS(e);if(n)return n;let r=e.split("-")[0];if(n=SS(r),n)return n;if(r==="en")return fO;throw new Je(701,!1)}function SS(t){return t in zd||(zd[t]=Ps.ng&&Ps.ng.common&&Ps.ng.common.locales&&Ps.ng.common.locales[t]),zd[t]}var Yn=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Yn||{});function hO(t){return t.toLowerCase().replace(/_/g,"-")}var nf="en-US",pO="USD";var mO=nf;function eD(t){typeof t=="string"&&(mO=t.toLowerCase().replace(/_/g,"-"))}function Me(t,e,n){let r=qt(),i=qr(),o=Or();return tD(i,r,r[Qn],o,t,e,n),Me}function rf(t,e,n){let r=qt(),i=qr(),o=Or();return(o.type&3||n)&&$T(o,i,r,n,r[Qn],t,e,im(o,r,e)),rf}function tD(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=im(r,e,o),$T(r,t,e,s,n,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let d=0;d<l.length;d+=2){let f=l[d],p=l[d+1];c??=im(r,e,o),wS(r,e,f,p,i,c)}if(u&&u.length)for(let d of u)c??=im(r,e,o),wS(r,e,d,i,i,c)}}function pe(t=1){return YI(t)}function Vm(t,e,n,r){return HP(t,e,n,r),Vm}function Gb(t){let e=qt(),n=qr(),r=Mv();qp(r+1);let i=$b(n,r);if(t.dirty&&MI(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=GP(e,r);t.reset(o,xN),t.notifyOnChanges()}return!0}return!1}function Kb(){return $P(qt(),Mv())}function Bt(t){let e=BI();return Fd(e,vr+t)}function Jp(t,e){return t<<17|e<<2}function Nc(t){return t>>17&32767}function gO(t){return(t&2)==2}function yO(t,e){return t&131071|e<<17}function hb(t){return t|2}function Xl(t){return(t&131068)>>2}function qv(t,e){return t&-131069|e<<2}function vO(t){return(t&1)===1}function pb(t){return t|1}function bO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Nc(s),c=Xl(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Pl(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let f=Nc(t[a+1]);t[r+1]=Jp(f,a),f!==0&&(t[f+1]=qv(t[f+1],r)),t[a+1]=yO(t[a+1],r)}else t[r+1]=Jp(a,0),a!==0&&(t[a+1]=qv(t[a+1],r)),a=r;else t[r+1]=Jp(c,0),a===0?a=r:t[c+1]=qv(t[c+1],r),c=r;u&&(t[r+1]=hb(t[r+1])),TS(t,l,r,!0),TS(t,l,r,!1),_O(e,l,t,r,o),s=Jp(a,c),o?e.classBindings=s:e.styleBindings=s}function _O(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Pl(o,e)>=0&&(n[r+1]=pb(n[r+1]))}function TS(t,e,n,r){let i=t[n+1],o=e===null,s=r?Nc(i):Xl(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];wO(c,e)&&(a=!0,t[s+1]=r?pb(u):hb(u)),s=r?Nc(u):Xl(u)}a&&(t[n+1]=r?hb(i):pb(i))}function wO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Pl(t,e)>=0:!1}function fi(t,e,n){return nD(t,e,n,!1),fi}function xn(t,e){return nD(t,e,null,!0),xn}function nD(t,e,n,r){let i=qt(),o=qr(),s=Hp(2);if(o.firstUpdatePass&&CO(o,t,s,r),e!==Xi&&as(i,s,e)){let a=o.data[Os()];DO(o,a,i,i[Qn],t,i[s+1]=AO(e,n),r,s)}}function EO(t,e){return e>=t.expandoStartIndex}function CO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Os()],s=EO(t,n);MO(o,r)&&e===null&&!s&&(e=!1),e=xO(i,o,e,r),bO(i,o,e,n,s,r)}}function xO(t,e,n,r){let i=qI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wv(null,t,e,n,r),n=Yd(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Wv(i,t,e,n,r),o===null){let c=IO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Wv(null,t,e,c[1],r),c=Yd(c,e.attrs,r),SO(t,e,r,c))}else o=TO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function IO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Xl(r)!==0)return t[Nc(r)]}function SO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Nc(i)]=r}function TO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Yd(r,s,n)}return Yd(r,e.attrs,n)}function Wv(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Yd(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Yd(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),EI(t,s,n?!0:e[++o]))}return t===void 0?null:t}function DO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=vO(u)?DS(c,e,n,i,Xl(u),s):void 0;if(!bm(l)){bm(o)||gO(u)&&(o=DS(c,null,n,i,a,s));let d=mv(Os(),n);I8(r,s,d,i,o)}}function DS(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,f=n[i+1];f===Xi&&(f=d?qi:void 0);let p=d?Lp(f,r):l===r?f:void 0;if(u&&!bm(p)&&(p=Lp(c,r)),bm(p)&&(a=p,s))return a;let h=t[i+1];i=s?Nc(h):Xl(h)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Lp(c,r))}return a}function bm(t){return t!==void 0}function AO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ns(Qd(t)))),t}function MO(t,e){return(t.flags&(e?8:16))!==0}function G(t,e=""){let n=qt(),r=qr(),i=t+vr,o=r.firstCreatePass?Rm(r,i,1,e,null):r.data[i],s=kO(r,n,o,e,t);n[i]=s,Yp()&&Mb(r,n,s,o),$l(o,!1)}var kO=(t,e,n,r,i)=>(jd(!0),BN(e[Qn],r));function RO(t,e,n,r=""){return as(t,Vd(),n)?e+es(n)+r:Xi}function NO(t,e,n,r,i,o=""){let s=Av(),a=Gd(t,s,n,i);return Hp(2),a?e+es(n)+r+es(i)+o:Xi}function PO(t,e,n,r,i,o,s,a=""){let c=Av(),u=BT(t,c,n,i,s);return Hp(3),u?e+es(n)+r+es(i)+o+es(s)+a:Xi}function Te(t){return je("",t),Te}function je(t,e,n){let r=qt(),i=RO(r,t,e,n);return i!==Xi&&Yb(r,Os(),i),je}function Bo(t,e,n,r,i){let o=qt(),s=NO(o,t,e,n,r,i);return s!==Xi&&Yb(o,Os(),s),Bo}function of(t,e,n,r,i,o,s){let a=qt(),c=PO(a,t,e,n,r,i,o,s);return c!==Xi&&Yb(a,Os(),c),of}function Yb(t,e,n){let r=mv(e,t);$N(t[Qn],r,n)}function js(t,e,n){Hb(e)&&(e=e());let r=qt(),i=Vd();if(as(r,i,e)){let o=qr(),s=Kp();ET(s,r,t,e,r[Qn],n)}return js}function ka(t,e){let n=Hb(t);return n&&t.set(e),n}function Bs(t,e){let n=qt(),r=qr(),i=Or();return tD(r,n,n[Qn],i,t,e),Bs}function AS(t,e,n){let r=qr();r.firstCreatePass&&rD(e,r.data,r.blueprint,is(t),n)}function rD(t,e,n,r,i){if(t=ti(t),Array.isArray(t))for(let o=0;o<t.length;o++)rD(t[o],e,n,r,i);else{let o=qr(),s=qt(),a=Or(),c=bc(t)?t:ti(t.provide),u=uv(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(bc(t)||!t.multi){let p=new Mc(u,i,lt,null),h=Kv(c,e,i?l:l+f,d);h===-1?(Xv(lm(a,s),o,c),Gv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[h]=p,s[h]=p)}else{let p=Kv(c,e,l+f,d),h=Kv(c,e,l,l+f),y=p>=0&&n[p],m=h>=0&&n[h];if(i&&!m||!i&&!y){Xv(lm(a,s),o,c);let _=LO(i?FO:OO,n.length,i,r,u,t);!i&&m&&(n[h].providerFactory=_),Gv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=iD(n[i?h:p],u,!i&&r);Gv(o,t,p>-1?p:h,_)}!i&&r&&m&&n[h].componentProviders++}}}function Gv(t,e,n,r){let i=bc(e),o=SI(e);if(i||o){let c=(o?ti(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function iD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Kv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function OO(t,e,n,r,i){return mb(this.multi,[])}function FO(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=qd(r,r[Rt],this.providerFactory.index,i);s=c.slice(0,a),mb(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],mb(o,s);return s}function mb(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function LO(t,e,n,r,i,o){let s=new Mc(t,n,lt,null);return s.multi=[],s.index=e,s.componentProviders=0,iD(s,i,r&&!n),s}function Ti(t,e){return n=>{n.providersResolver=(r,i)=>AS(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>AS(r,i?i(e):e,!0))}}function rt(t,e,n,r){return oD(qt(),Sa(),t,e,n,r)}function Fc(t,e,n,r,i){return sD(qt(),Sa(),t,e,n,r,i)}function sf(t,e,n,r,i,o){return VO(qt(),Sa(),t,e,n,r,i,o)}function Xb(t,e,n,r,i,o,s){return jO(qt(),Sa(),t,e,n,r,i,o,s)}function af(t,e){let n=t[e];return n===Xi?void 0:n}function oD(t,e,n,r,i,o){let s=e+n;return as(t,s,i)?ef(t,s+1,o?r.call(o,i):r(i)):af(t,s+1)}function sD(t,e,n,r,i,o,s){let a=e+n;return Gd(t,a,i,o)?ef(t,a+2,s?r.call(s,i,o):r(i,o)):af(t,a+2)}function VO(t,e,n,r,i,o,s,a){let c=e+n;return BT(t,c,i,o,s)?ef(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):af(t,c+3)}function jO(t,e,n,r,i,o,s,a,c){let u=e+n;return bP(t,u,i,o,s,a)?ef(t,u+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):af(t,u+4)}function BO(t,e,n,r,i,o){let s=e+n,a=!1;for(let c=0;c<i.length;c++)as(t,s++,i[c])&&(a=!0);return a?ef(t,s,r.apply(o,i)):af(t,s)}function Pe(t,e){let n=qr(),r,i=t+vr;n.firstCreatePass?(r=$O(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ya(r.type,!0)),s,a=Ci(lt);try{let c=cm(!1),u=o();return cm(c),gv(n,qt(),i,u),u}finally{Ci(a)}}function $O(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function mn(t,e,n){let r=t+vr,i=qt(),o=Fd(i,r);return Qb(i,r)?oD(i,Sa(),e,o.transform,n,o):o.transform(n)}function $s(t,e,n,r){let i=t+vr,o=qt(),s=Fd(o,i);return Qb(o,i)?sD(o,Sa(),e,s.transform,n,r,s):s.transform(n,r)}function it(t,e,n){let r=t+vr,i=qt(),o=Fd(i,r);return Qb(i,r)?BO(i,Sa(),e,o.transform,n,o):o.transform.apply(o,n)}function Qb(t,e){return t[Rt].data[e].pure}function $t(t,e){return km(t,e)}var _m=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Zb=(()=>{class t{compileModuleSync(n){return new vm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=tv(n),o=uT(i.declarations).reduce((s,a)=>{let c=_a(a);return c&&s.push(new Yl(c)),s},[]);return new _m(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var aD=(()=>{class t{applicationErrorHandler=ge(Gi);appRef=ge(Ma);taskService=ge(Fs);ngZone=ge(Xn);zonelessEnabled=ge(Bd);tracing=ge(Oc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Nr;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Id):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ge(Vv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ov:Pv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Id+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ov(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cD(){return[{provide:ba,useExisting:aD},{provide:Xn,useClass:Sd},{provide:Bd,useValue:!0}]}function UO(){return typeof $localize<"u"&&$localize.locale||nf}var Us=new ct("",{factory:()=>ge(Us,{optional:!0,skipSelf:!0})||UO()}),Jb=new ct("",{factory:()=>pO});function eu(t,e){return Jh(t,e?.equal)}var hD=Symbol("InputSignalNode#UNSET"),t9=Ne(ye({},ep),{transformFn:void 0,applyValueToInputSignal(t,e){md(t,e)}});function pD(t,e){let n=Object.create(t9);n.value=t,n.transformFn=e?.transform;function r(){if(fd(n),n.value===hD){let i=null;throw new Je(-950,i)}return n.value}return r[Ei]=n,r}var Bm=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Xd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function lD(t,e){return pD(t,e)}function n9(t){return pD(hD,t)}var mD=(lD.required=n9,lD);var e_=new ct(""),r9=new ct("");function cf(t){return!t.moduleRef}function i9(t){let e=cf(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Xn);return n.run(()=>{cf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Gi),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),cf(t)){let o=()=>e.destroy(),s=t.platformInjector.get(e_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(e_);s.add(o),t.moduleRef.onDestroy(()=>{Hd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return s9(r,n,()=>{let o=e.get(Fs),s=o.add(),a=e.get(qb);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Us,nf);if(eD(c||nf),!e.get(r9,!0))return cf(t)?e.get(Ma):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(cf(t)){let l=e.get(Ma);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return o9?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var o9;function s9(t,e,n){try{let r=n();return Vs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var jm=null;function a9(t=[],e){return fr.create({name:e,providers:[{provide:Ad,useValue:"platform"},{provide:e_,useValue:new Set([()=>jm=null])},...t]})}function c9(t=[]){if(jm)return jm;let e=a9(t);return jm=e,QT(),l9(e),e}function l9(t){let e=t.get(Em,null);Pr(t,()=>{e?.forEach(n=>n())})}function o_(){return!1}var ds=(()=>{class t{static __NG_ELEMENT_ID__=u9}return t})();function u9(t){return d9(Or(),qt(),(t&16)===16)}function d9(t,e,n){if(Ia(t)&&!n){let r=mo(t.index,e);return new Da(r,r)}else if(t.type&175){let r=e[ho];return new Da(r,e)}return null}var t_=class{constructor(){}supports(e){return Bb(e)}create(e){return new n_(e)}},f9=(t,e)=>e,n_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||f9}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<uD(r,i,o)?n:r,a=uD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){let p=f<o.length?o[f]:o[f]=0,h=p+f;l<=h&&h<u&&(o[f]=p+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Bb(e))throw new Je(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,VT(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new r_(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new $m),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $m),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},r_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},i_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},$m=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new i_,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function dD(){return new s_([new t_])}var s_=(()=>{class t{factories;static \u0275prov=Ze({token:t,providedIn:"root",factory:dD});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=ge(t,{optional:!0,skipSelf:!0});return t.create(n,r||dD())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Je(901,!1)}}return t})();function gD(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;An(bn.BootstrapApplicationStart);try{let o=i?.injector??c9(r),s=[cD(),eS,...n||[]],a=new Kd({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return i9({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{An(bn.BootstrapApplicationEnd)}}function Ra(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var yD=null;function vo(){return yD}function a_(t){yD??=t}var lf=class{},Um=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>ge(vD),providedIn:"platform"})}return t})();var vD=(()=>{class t extends Um{_location;_history;_doc=ge(hr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vo().getBaseHref(this._doc)}onPopState(n){let r=vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function wD(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function bD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Na(t){return t&&t[0]!=="?"?`?${t}`:t}var tu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>ge(p9),providedIn:"root"})}return t})(),h9=new ct(""),p9=(()=>{class t extends tu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ge(hr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Na(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Na(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Na(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ft(Um),Ft(h9,8))};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nu=(()=>{class t{_subject=new Bn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=y9(bD(_D(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Na(r))}normalize(n){return t.stripTrailingSlash(g9(this._basePath,_D(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Na(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Na(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Na;static joinWithSlash=wD;static stripTrailingSlash=bD;static \u0275fac=function(r){return new(r||t)(Ft(tu))};static \u0275prov=Ze({token:t,factory:()=>m9(),providedIn:"root"})}return t})();function m9(){return new nu(Ft(tu))}function g9(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function _D(t){return t.replace(/\/index.html$/,"")}function y9(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var DD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Zm=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(Zm||{});var hi=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(hi||{}),Rn=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Rn||{}),Vi=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Vi||{}),ri={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function AD(t){return Si(t)[Yn.LocaleId]}function MD(t,e,n){let r=Si(t),i=[r[Yn.DayPeriodsFormat],r[Yn.DayPeriodsStandalone]],o=bo(i,e);return bo(o,n)}function kD(t,e,n){let r=Si(t),i=[r[Yn.DaysFormat],r[Yn.DaysStandalone]],o=bo(i,e);return bo(o,n)}function RD(t,e,n){let r=Si(t),i=[r[Yn.MonthsFormat],r[Yn.MonthsStandalone]],o=bo(i,e);return bo(o,n)}function ND(t,e){let r=Si(t)[Yn.Eras];return bo(r,e)}function uf(t,e){let n=Si(t);return bo(n[Yn.DateFormat],e)}function df(t,e){let n=Si(t);return bo(n[Yn.TimeFormat],e)}function ff(t,e){let r=Si(t)[Yn.DateTimeFormat];return bo(r,e)}function Uo(t,e){let n=Si(t),r=n[Yn.NumberSymbols][e];if(typeof r>"u"){if(e===ri.CurrencyDecimal)return n[Yn.NumberSymbols][ri.Decimal];if(e===ri.CurrencyGroup)return n[Yn.NumberSymbols][ri.Group]}return r}function g_(t,e){return Si(t)[Yn.NumberFormats][e]}function v9(t){return Si(t)[Yn.Currencies]}function PD(t){if(!t[Yn.ExtraData])throw new Je(2303,!1)}function OD(t){let e=Si(t);return PD(e),(e[Yn.ExtraData][2]||[]).map(r=>typeof r=="string"?c_(r):[c_(r[0]),c_(r[1])])}function FD(t,e,n){let r=Si(t);PD(r);let i=[r[Yn.ExtraData][0],r[Yn.ExtraData][1]],o=bo(i,e)||[];return bo(o,n)||[]}function bo(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Je(2304,!1)}function c_(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function LD(t,e,n="en"){let r=v9(n)[t]||DD[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var b9=2;function VD(t){let e,n=DD[t];return n&&(e=n[2]),typeof e=="number"?e:b9}var _9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hm={},w9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function jD(t,e,n,r){let i=M9(t);e=Hs(n,e)||e;let s=[],a;for(;e;)if(a=w9.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=$D(r,c),i=A9(i,r));let u="";return s.forEach(l=>{let d=T9(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Km(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Hs(t,e){let n=AD(t);if(Hm[n]??={},Hm[n][e])return Hm[n][e];let r="";switch(e){case"shortDate":r=uf(t,Vi.Short);break;case"mediumDate":r=uf(t,Vi.Medium);break;case"longDate":r=uf(t,Vi.Long);break;case"fullDate":r=uf(t,Vi.Full);break;case"shortTime":r=df(t,Vi.Short);break;case"mediumTime":r=df(t,Vi.Medium);break;case"longTime":r=df(t,Vi.Long);break;case"fullTime":r=df(t,Vi.Full);break;case"short":let i=Hs(t,"shortTime"),o=Hs(t,"shortDate");r=zm(ff(t,Vi.Short),[i,o]);break;case"medium":let s=Hs(t,"mediumTime"),a=Hs(t,"mediumDate");r=zm(ff(t,Vi.Medium),[s,a]);break;case"long":let c=Hs(t,"longTime"),u=Hs(t,"longDate");r=zm(ff(t,Vi.Long),[c,u]);break;case"full":let l=Hs(t,"fullTime"),d=Hs(t,"fullDate");r=zm(ff(t,Vi.Full),[l,d]);break}return r&&(Hm[n][e]=r),r}function zm(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function $o(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function E9(t,e){return $o(t,3).substring(0,e)}function br(t,e,n=0,r=!1,i=!1){return function(o,s){let a=C9(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return E9(a,e);let c=Uo(s,ri.MinusSign);return $o(a,e,c,r,i)}}function C9(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Je(2301,!1)}}function Hn(t,e,n=hi.Format,r=!1){return function(i,o){return x9(i,o,t,e,n,r)}}function x9(t,e,n,r,i,o){switch(n){case 2:return RD(e,i,r)[t.getMonth()];case 1:return kD(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let u=OD(e),l=FD(e,i,r),d=u.findIndex(f=>{if(Array.isArray(f)){let[p,h]=f,y=s>=p.hours&&a>=p.minutes,m=s<h.hours||s===h.hours&&a<h.minutes;if(p.hours<h.hours){if(y&&m)return!0}else if(y||m)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return MD(e,i,r)[s<12?0:1];case 3:return ND(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Je(2302,!1)}}function qm(t){return function(e,n,r){let i=-1*r,o=Uo(n,ri.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+$o(s,2,o)+$o(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+$o(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+$o(s,2,o)+":"+$o(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+$o(s,2,o)+":"+$o(Math.abs(i%60),2,o);default:throw new Je(2310,!1)}}}var I9=0,Gm=4;function S9(t){let e=Km(t,I9,1).getDay();return Km(t,0,1+(e<=Gm?Gm:Gm+7)-e)}function BD(t){let e=t.getDay(),n=e===0?-3:Gm-e;return Km(t.getFullYear(),t.getMonth(),t.getDate()+n)}function l_(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=BD(n),s=S9(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return $o(i,t,Uo(r,ri.MinusSign))}}function Wm(t,e=!1){return function(n,r){let o=BD(n).getFullYear();return $o(o,t,Uo(r,ri.MinusSign),e)}}var u_={};function T9(t){if(u_[t])return u_[t];let e;switch(t){case"G":case"GG":case"GGG":e=Hn(3,Rn.Abbreviated);break;case"GGGG":e=Hn(3,Rn.Wide);break;case"GGGGG":e=Hn(3,Rn.Narrow);break;case"y":e=br(0,1,0,!1,!0);break;case"yy":e=br(0,2,0,!0,!0);break;case"yyy":e=br(0,3,0,!1,!0);break;case"yyyy":e=br(0,4,0,!1,!0);break;case"Y":e=Wm(1);break;case"YY":e=Wm(2,!0);break;case"YYY":e=Wm(3);break;case"YYYY":e=Wm(4);break;case"M":case"L":e=br(1,1,1);break;case"MM":case"LL":e=br(1,2,1);break;case"MMM":e=Hn(2,Rn.Abbreviated);break;case"MMMM":e=Hn(2,Rn.Wide);break;case"MMMMM":e=Hn(2,Rn.Narrow);break;case"LLL":e=Hn(2,Rn.Abbreviated,hi.Standalone);break;case"LLLL":e=Hn(2,Rn.Wide,hi.Standalone);break;case"LLLLL":e=Hn(2,Rn.Narrow,hi.Standalone);break;case"w":e=l_(1);break;case"ww":e=l_(2);break;case"W":e=l_(1,!0);break;case"d":e=br(2,1);break;case"dd":e=br(2,2);break;case"c":case"cc":e=br(7,1);break;case"ccc":e=Hn(1,Rn.Abbreviated,hi.Standalone);break;case"cccc":e=Hn(1,Rn.Wide,hi.Standalone);break;case"ccccc":e=Hn(1,Rn.Narrow,hi.Standalone);break;case"cccccc":e=Hn(1,Rn.Short,hi.Standalone);break;case"E":case"EE":case"EEE":e=Hn(1,Rn.Abbreviated);break;case"EEEE":e=Hn(1,Rn.Wide);break;case"EEEEE":e=Hn(1,Rn.Narrow);break;case"EEEEEE":e=Hn(1,Rn.Short);break;case"a":case"aa":case"aaa":e=Hn(0,Rn.Abbreviated);break;case"aaaa":e=Hn(0,Rn.Wide);break;case"aaaaa":e=Hn(0,Rn.Narrow);break;case"b":case"bb":case"bbb":e=Hn(0,Rn.Abbreviated,hi.Standalone,!0);break;case"bbbb":e=Hn(0,Rn.Wide,hi.Standalone,!0);break;case"bbbbb":e=Hn(0,Rn.Narrow,hi.Standalone,!0);break;case"B":case"BB":case"BBB":e=Hn(0,Rn.Abbreviated,hi.Format,!0);break;case"BBBB":e=Hn(0,Rn.Wide,hi.Format,!0);break;case"BBBBB":e=Hn(0,Rn.Narrow,hi.Format,!0);break;case"h":e=br(3,1,-12);break;case"hh":e=br(3,2,-12);break;case"H":e=br(3,1);break;case"HH":e=br(3,2);break;case"m":e=br(4,1);break;case"mm":e=br(4,2);break;case"s":e=br(5,1);break;case"ss":e=br(5,2);break;case"S":e=br(6,1);break;case"SS":e=br(6,2);break;case"SSS":e=br(6,3);break;case"Z":case"ZZ":case"ZZZ":e=qm(0);break;case"ZZZZZ":e=qm(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qm(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=qm(2);break;default:return null}return u_[t]=e,e}function $D(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function D9(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function A9(t,e,n){let i=t.getTimezoneOffset(),o=$D(e,i);return D9(t,-1*(o-i))}function M9(t){if(ED(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Km(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(_9))return k9(r)}let e=new Date(t);if(!ED(e))throw new Je(2311,!1);return e}function k9(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function ED(t){return t instanceof Date&&!isNaN(t.valueOf())}var R9=/^(\d+)?\.((\d+)(-(\d+))?)?$/,CD=22,Ym=".",hf="0",N9=";",P9=",",d_="#",xD="\xA4";function UD(t,e,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=Uo(n,ri.Infinity);else{let u=F9(t);s&&(u=O9(u));let l=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){let x=o.match(R9);if(x===null)throw new Je(2306,!1);let D=x[1],L=x[3],$=x[5];D!=null&&(l=f_(D)),L!=null&&(d=f_(L)),$!=null?f=f_($):L!=null&&d>f&&(f=d)}L9(u,d,f);let p=u.digits,h=u.integerLen,y=u.exponent,m=[];for(c=p.every(x=>!x);h<l;h++)p.unshift(0);for(;h<0;h++)p.unshift(0);h>0?m=p.splice(h,p.length):(m=p,p=[0]);let _=[];for(p.length>=e.lgSize&&_.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)_.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&_.unshift(p.join("")),a=_.join(Uo(n,r)),m.length&&(a+=Uo(n,i)+m.join("")),y&&(a+=Uo(n,ri.Exponential)+"+"+y)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function HD(t,e,n,r,i){let o=g_(e,Zm.Currency),s=qD(o,Uo(e,ri.MinusSign));return s.minFrac=VD(r),s.maxFrac=s.minFrac,UD(t,s,e,ri.CurrencyGroup,ri.CurrencyDecimal,i).replace(xD,n).replace(xD,"").trim()}function zD(t,e,n){let r=g_(e,Zm.Decimal),i=qD(r,Uo(e,ri.MinusSign));return UD(t,i,e,ri.Group,ri.Decimal,n)}function qD(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(N9),i=r[0],o=r[1],s=i.indexOf(Ym)!==-1?i.split(Ym):[i.substring(0,i.lastIndexOf(hf)+1),i.substring(i.lastIndexOf(hf)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(d_));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===hf?n.minFrac=n.maxFrac=l+1:d===d_?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(P9);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let l=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(d_);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function O9(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function F9(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Ym))>-1&&(e=e.replace(Ym,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===hf;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===hf;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>CD&&(r=r.splice(0,CD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function L9(t,e,n){if(e>n)throw new Je(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+t.integerLen,l=r.reduceRight(function(d,f,p,h){return f=f+d,h[p]=f<10?f:f-10,c&&(h[p]===0&&p>=u?h.pop():c=!1),f>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}function f_(t){let e=parseInt(t);if(isNaN(e))throw new Je(2305,!1);return e}var h_=/\s+/,ID=[],mr=(()=>{class t{_ngEl;_renderer;initialClasses=ID;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(h_):ID}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(h_):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(h_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(lt(di),lt(yo))};static \u0275dir=pn({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Xm=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ar=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),SD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);SD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(lt(Ls),lt(Aa),lt(s_))};static \u0275dir=pn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function SD(t,e){t.context.$implicit=e.item}var Fn=(()=>{class t{_viewContainer;_context=new Qm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){TD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){TD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(lt(Ls),lt(Aa))};static \u0275dir=pn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Qm=class{$implicit=null;ngIf=null};function TD(t,e){if(t&&!t.createEmbeddedView)throw new Je(2020,!1)}function Jm(t,e){return new Je(2100,!1)}var p_=class{createSubscription(e,n,r){return sr(()=>e.subscribe({next:n,error:r}))}dispose(e){sr(()=>e.unsubscribe())}},m_=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},V9=new m_,j9=new p_,Fr=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=ge(Gi);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Vs(n))return V9;if(Om(n))return j9;throw Jm(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(lt(ds,16))};static \u0275pipe=Jl({name:"async",type:t,pure:!1})}return t})();var B9="mediumDate",WD=new ct(""),GD=new ct(""),pf=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??B9,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return jD(n,s,o||this.locale,a)}catch(s){throw Jm(t,s.message)}}static \u0275fac=function(r){return new(r||t)(lt(Us,16),lt(WD,24),lt(GD,24))};static \u0275pipe=Jl({name:"date",type:t,pure:!0})}return t})();var mf=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!KD(n))return null;i||=this._locale;try{let o=YD(n);return zD(o,i,r)}catch(o){throw Jm(t,o.message)}}static \u0275fac=function(r){return new(r||t)(lt(Us,16))};static \u0275pipe=Jl({name:"number",type:t,pure:!0})}return t})();var Qi=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!KD(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=LD(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=YD(n);return HD(c,s,a,r,o)}catch(c){throw Jm(t,c.message)}}static \u0275fac=function(r){return new(r||t)(lt(Us,16),lt(Jb,16))};static \u0275pipe=Jl({name:"currency",type:t,pure:!0})}return t})();function KD(t){return!(t==null||t===""||t!==t)}function YD(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Je(2309,!1);return t}var Cn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=cs({type:t});static \u0275inj=Ro({})}return t})();function y_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var gf=class{};function XD(t,e,n){return Wb(t,e,n)}var QD="browser";function $9(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return n===Math.floor(n)&&n>=0&&n<=1?1:i===0&&n!==0&&n%1e6===0&&r===0||!(i>=0&&i<=5)?4:5}var ZD=["pt",[["AM","PM"]],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",$9];var yf=class{_doc;constructor(e){this._doc=e}manager},eg=(()=>{class t extends yf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Ft(hr))};static \u0275prov=Ze({token:t,factory:t.\u0275fac})}return t})(),rg=new ct(""),w_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof eg));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof eg);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Je(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Ft(rg),Ft(Xn))};static \u0275prov=Ze({token:t,factory:t.\u0275fac})}return t})(),v_="ng-app-id";function JD(t){for(let e of t)e.remove()}function e3(t,e){let n=e.createElement("style");return n.textContent=t,n}function U9(t,e,n,r){let i=t.head?.querySelectorAll(`style[${v_}="${e}"],link[${v_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(v_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function __(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var E_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,U9(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,e3);r?.forEach(i=>this.addUsage(i,this.external,__))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(JD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])JD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,e3(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,__(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Ft(hr),Ft(wm),Ft(Cm,8),Ft(Pc))};static \u0275prov=Ze({token:t,factory:t.\u0275fac})}return t})(),b_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},C_=/%COMP%/g;var n3="%COMP%",H9=`_nghost-${n3}`,z9=`_ngcontent-${n3}`,q9=!0,W9=new ct("",{factory:()=>q9});function G9(t){return z9.replace(C_,t)}function K9(t){return H9.replace(C_,t)}function r3(t,e){return e.map(n=>n.replace(C_,t))}var x_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new vf(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof ng?i.applyToHost(n):i instanceof bf&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case jo.Emulated:o=new ng(c,u,r,this.appId,l,s,a,d);break;case jo.ShadowDom:return new tg(c,n,r,s,a,this.nonce,d,u);case jo.ExperimentalIsolatedShadowDom:return new tg(c,n,r,s,a,this.nonce,d);default:o=new bf(c,u,r,l,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Ft(w_),Ft(E_),Ft(wm),Ft(W9),Ft(hr),Ft(Xn),Ft(Cm),Ft(Oc,8))};static \u0275prov=Ze({token:t,factory:t.\u0275fac})}return t})(),vf=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(b_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(t3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(t3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Je(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=b_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=b_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ss.DashCase|ss.Important)?e.style.setProperty(n,r,i&ss.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ss.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vo().getGlobalEventTarget(this.doc,e),!e))throw new Je(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function t3(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var tg=class extends vf{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=r3(r.id,u);for(let d of u){let f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=d,this.shadowRoot.appendChild(f)}let l=r.getExternalStyles?.();if(l)for(let d of l){let f=__(d,i);s&&f.setAttribute("nonce",s),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},bf=class extends vf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?r3(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Kl.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ng=class extends bf{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=G9(u),this.hostAttr=K9(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var ig=class t extends lf{supportsDOMEvents=!0;static makeCurrent(){a_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Y9();return n==null?null:X9(n)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return y_(document.cookie,e)}},_f=null;function Y9(){return _f=_f||document.head.querySelector("base"),_f?_f.getAttribute("href"):null}function X9(t){return new URL(t,document.baseURI).pathname}var Q9=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac})}return t})(),i3=["alt","control","meta","shift"],Z9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},o3=(()=>{class t extends yf{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vo().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),i3.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=Z9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),i3.forEach(s=>{if(s!==i){let a=J9[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Ft(hr))};static \u0275prov=Ze({token:t,factory:t.\u0275fac})}return t})();function I_(t,e,n){let r=ye({rootComponent:t,platformRef:n?.platformRef},e7(e));return gD(r)}function e7(t){return{appProviders:[...o7,...t?.providers??[]],platformProviders:i7}}function t7(){ig.makeCurrent()}function n7(){return new Jo}function r7(){return vb(document),document}var i7=[{provide:Pc,useValue:QD},{provide:Em,useValue:t7,multi:!0},{provide:hr,useFactory:r7}];var o7=[{provide:Ad,useValue:"root"},{provide:Jo,useFactory:n7},{provide:rg,useClass:eg,multi:!0},{provide:rg,useClass:o3,multi:!0},x_,E_,w_,{provide:kc,useExisting:x_},{provide:gf,useClass:Q9},[]];var s3=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Ft(hr))};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ut="primary",Nf=Symbol("RouteTitle"),M_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bc(t){return new M_(t)}function m3(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ug(t){return new Promise((e,n)=>{t.pipe(Ms()).subscribe({next:r=>e(r),error:r=>n(r)})})}function c7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fs(t[n],e[n]))return!1;return!0}function fs(t,e){let n=t?k_(t):void 0,r=e?k_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!g3(t[i],e[i]))return!1;return!0}function k_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function g3(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function y3(t){return t.length>0?t[t.length-1]:null}function Uc(t){return wp(t)?t:Vs(t)?On(Promise.resolve(t)):Le(t)}function v3(t){return wp(t)?ug(t):Promise.resolve(t)}var l7={exact:_3,subset:w3},b3={exact:u7,subset:d7,ignored:()=>!0};function a3(t,e,n){return l7[n.paths](t.root,e.root,n.matrixParams)&&b3[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function u7(t,e){return fs(t,e)}function _3(t,e,n){if(!Vc(t.segments,e.segments)||!ag(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!_3(t.children[r],e.children[r],n))return!1;return!0}function d7(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>g3(t[n],e[n]))}function w3(t,e,n){return E3(t,e,e.segments,n)}function E3(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Vc(i,n)||e.hasChildren()||!ag(i,n,r))}else if(t.segments.length===n.length){if(!Vc(t.segments,n)||!ag(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!w3(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Vc(t.segments,i)||!ag(t.segments,i,r)||!t.children[Ut]?!1:E3(t.children[Ut],e,o,r)}}function ag(t,e,n){return e.every((r,i)=>b3[n](t[i].parameters,r.parameters))}var zo=class{root;queryParams;fragment;_queryParamMap;constructor(e=new In([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bc(this.queryParams),this._queryParamMap}toString(){return p7.serialize(this)}},In=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cg(this)}},Pa=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bc(this.parameters),this._parameterMap}toString(){return x3(this)}};function f7(t,e){return Vc(t,e)&&t.every((n,r)=>fs(n.parameters,e[r].parameters))}function Vc(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function h7(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ut&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ut&&(n=n.concat(e(i,r)))}),n}var Pf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>new Oa,providedIn:"root"})}return t})(),Oa=class{parse(e){let n=new N_(e);return new zo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wf(e.root,!0)}`,r=y7(e.queryParams),i=typeof e.fragment=="string"?`#${m7(e.fragment)}`:"";return`${n}${r}${i}`}},p7=new Oa;function cg(t){return t.segments.map(e=>x3(e)).join("/")}function wf(t,e){if(!t.hasChildren())return cg(t);if(e){let n=t.children[Ut]?wf(t.children[Ut],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ut&&r.push(`${i}:${wf(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=h7(t,(r,i)=>i===Ut?[wf(t.children[Ut],!1)]:[`${i}:${wf(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ut]!=null?`${cg(t)}/${n[0]}`:`${cg(t)}/(${n.join("//")})`}}function C3(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function og(t){return C3(t).replace(/%3B/gi,";")}function m7(t){return encodeURI(t)}function R_(t){return C3(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lg(t){return decodeURIComponent(t)}function c3(t){return lg(t.replace(/\+/g,"%20"))}function x3(t){return`${R_(t.path)}${g7(t.parameters)}`}function g7(t){return Object.entries(t).map(([e,n])=>`;${R_(e)}=${R_(n)}`).join("")}function y7(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${og(n)}=${og(i)}`).join("&"):`${og(n)}=${og(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var v7=/^[^\/()?;#]+/;function S_(t){let e=t.match(v7);return e?e[0]:""}var b7=/^[^\/()?;=#]+/;function _7(t){let e=t.match(b7);return e?e[0]:""}var w7=/^[^=?&#]+/;function E7(t){let e=t.match(w7);return e?e[0]:""}var C7=/^[^&#]+/;function x7(t){let e=t.match(C7);return e?e[0]:""}var N_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ut]=new In(e,n)),r}parseSegment(){let e=S_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(e),new Pa(lg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=_7(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=S_(this.remaining);i&&(r=i,this.capture(r))}e[lg(n)]=lg(r)}parseQueryParam(e){let n=E7(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=x7(this.remaining);s&&(r=s,this.capture(r))}let i=c3(n),o=c3(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=S_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Je(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ut);let s=this.parseChildren();n[o??Ut]=Object.keys(s).length===1&&s[Ut]?s[Ut]:new In([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Je(4011,!1)}};function I3(t){return t.segments.length>0?new In([],{[Ut]:t}):t}function S3(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=S3(i);if(r===Ut&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new In(t.segments,e);return I7(n)}function I7(t){if(t.numberOfChildren===1&&t.children[Ut]){let e=t.children[Ut];return new In(t.segments.concat(e.segments),e.children)}return t}function Fa(t){return t instanceof zo}function T3(t,e,n=null,r=null,i=new Oa){let o=D3(t);return A3(o,e,n,r,i)}function D3(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new In(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=I3(r);return e??i}function A3(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return T_(o,o,o,n,r,i);let s=S7(e);if(s.toRoot())return T_(o,o,new In([],{}),n,r,i);let a=T7(s,o,t),c=a.processChildren?Cf(a.segmentGroup,a.index,s.commands):k3(a.segmentGroup,a.index,s.commands);return T_(o,a.segmentGroup,c,n,r,i)}function dg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Sf(t){return typeof t=="object"&&t!=null&&t.outlets}function l3(t,e,n){t||="\u0275";let r=new zo;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function T_(t,e,n,r,i,o){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(d=>l3(u,d,o)):l3(u,l,o);let a;t===e?a=n:a=M3(t,e,n);let c=I3(S3(a));return new zo(c,s,i)}function M3(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=M3(o,e,n)}),new In(t.segments,r)}var fg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dg(r[0]))throw new Je(4003,!1);let i=r.find(Sf);if(i&&i!==y3(r))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function S7(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new fg(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fg(n,e,r)}var iu=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function T7(t,e,n){if(t.isAbsolute)return new iu(e,!0,0);if(!n)return new iu(e,!1,NaN);if(n.parent===null)return new iu(n,!0,0);let r=dg(t.commands[0])?0:1,i=n.segments.length-1+r;return D7(n,i,t.numberOfDoubleDots)}function D7(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Je(4005,!1);i=r.segments.length}return new iu(r,!1,i-o)}function A7(t){return Sf(t[0])?t[0].outlets:{[Ut]:t}}function k3(t,e,n){if(t??=new In([],{}),t.segments.length===0&&t.hasChildren())return Cf(t,e,n);let r=M7(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new In(t.segments.slice(0,r.pathIndex),{});return o.children[Ut]=new In(t.segments.slice(r.pathIndex),t.children),Cf(o,0,i)}else return r.match&&i.length===0?new In(t.segments,{}):r.match&&!t.hasChildren()?P_(t,e,n):r.match?Cf(t,0,i):P_(t,e,n)}function Cf(t,e,n){if(n.length===0)return new In(t.segments,{});{let r=A7(n),i={};if(Object.keys(r).some(o=>o!==Ut)&&t.children[Ut]&&t.numberOfChildren===1&&t.children[Ut].segments.length===0){let o=Cf(t.children[Ut],e,n);return new In(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=k3(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new In(t.segments,i)}}function M7(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Sf(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!d3(c,u,s))return o;r+=2}else{if(!d3(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function P_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Sf(o)){let c=k7(o.outlets);return new In(r,c)}if(i===0&&dg(n[0])){let c=t.segments[e];r.push(new Pa(c.path,u3(n[0]))),i++;continue}let s=Sf(o)?o.outlets[Ut]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&dg(a)?(r.push(new Pa(s,u3(a))),i+=2):(r.push(new Pa(s,{})),i++)}return new In(r,{})}function k7(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=P_(new In([],{}),0,r))}),e}function u3(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function d3(t,e,n){return t==n.path&&fs(e,n.parameters)}var xf="imperative",Wr=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Wr||{}),Ji=class{id;url;constructor(e,n){this.id=e,this.url=n}},$c=class extends Ji{type=Wr.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qo=class extends Ji{urlAfterRedirects;type=Wr.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ai=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ai||{}),Tf=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Tf||{}),hs=class extends Ji{reason;code;type=Wr.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zs=class extends Ji{reason;code;type=Wr.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},su=class extends Ji{error;target;type=Wr.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Df=class extends Ji{urlAfterRedirects;state;type=Wr.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends Ji{urlAfterRedirects;state;type=Wr.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends Ji{urlAfterRedirects;state;shouldActivate;type=Wr.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mg=class extends Ji{urlAfterRedirects;state;type=Wr.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class extends Ji{urlAfterRedirects;state;type=Wr.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class{route;type=Wr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vg=class{route;type=Wr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bg=class{snapshot;type=Wr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_g=class{snapshot;type=Wr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{snapshot;type=Wr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eg=class{snapshot;type=Wr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Af=class{},au=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function R7(t){return!(t instanceof Af)&&!(t instanceof au)}function N7(t,e){return t.providers&&!t._injector&&(t._injector=tf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ho(t){return t.outlet||Ut}function P7(t,e){let n=t.filter(r=>Ho(r)===e);return n.push(...t.filter(r=>Ho(r)!==e)),n}function uu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return uu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new du(this.rootInjector)}},du=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Ft(yr))};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=O_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=O_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=F_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return F_(e,this._root).map(n=>n.value)}};function O_(t,e){if(t===e.value)return e;for(let n of e.children){let r=O_(t,n);if(r)return r}return null}function F_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=F_(t,n);if(r.length)return r.unshift(e),r}return[]}var Zi=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ru(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mf=class extends xg{snapshot;constructor(e,n){super(e),this.snapshot=n,U_(this,e)}toString(){return this.snapshot.toString()}};function R3(t){let e=O7(t),n=new kn([new Pa("",{})]),r=new kn({}),i=new kn({}),o=new kn({}),s=new kn(""),a=new qs(n,r,o,s,i,Ut,t,e.root);return a.snapshot=e.root,new Mf(new Zi(a,[]),e)}function O7(t){let e={},n={},r={},o=new jc([],e,r,"",n,Ut,t,null,{});return new kf("",new Zi(o,[]))}var qs=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($e(u=>u[Nf]))??Le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($e(e=>Bc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($e(e=>Bc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ig(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:ye(ye({},e.params),t.params),data:ye(ye({},e.data),t.data),resolve:ye(ye(ye(ye({},t.data),e.data),i?.data),t._resolvedData)}:r={params:ye({},t.params),data:ye({},t.data),resolve:ye(ye({},t.data),t._resolvedData??{})},i&&P3(i)&&(r.resolve[Nf]=i.title),r}var jc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Nf]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kf=class extends xg{url;constructor(e,n){super(n),this.url=e,U_(this,n)}toString(){return N3(this._root)}};function U_(t,e){e.value._routerState=t,e.children.forEach(n=>U_(t,n))}function N3(t){let e=t.children.length>0?` { ${t.children.map(N3).join(", ")} } `:"";return`${t.value}${e}`}function D_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fs(e.params,n.params)||t.paramsSubject.next(n.params),c7(e.url,n.url)||t.urlSubject.next(n.url),fs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function L_(t,e){let n=fs(t.params,e.params)&&f7(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||L_(t.parent,e.parent))}function P3(t){return typeof t.title=="string"||t.title===null}var O3=new ct(""),Hc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ut;activateEvents=new Un;deactivateEvents=new Un;attachEvents=new Un;detachEvents=new Un;routerOutletData=mD();parentContexts=ge(du);location=ge(Ls);changeDetector=ge(ds);inputBinder=ge(Ag,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new V_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=pn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[go]})}return t})(),V_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===qs?this.route:e===du?this.childContexts:e===O3?this.outletData:this.parent.get(e,n)}},Ag=new ct("");var H_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=on({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ee(0,"router-outlet")},dependencies:[Hc],encapsulation:2})}return t})();function z_(t){let e=t.children&&t.children.map(z_),n=e?Ne(ye({},t),{children:e}):ye({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ut&&(n.component=H_),n}function F7(t,e,n){let r=Rf(t,e._root,n?n._root:void 0);return new Mf(r,e)}function Rf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=L7(t,e,n);return new Zi(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Rf(t,a)),s}}let r=V7(e.value),i=e.children.map(o=>Rf(t,o));return new Zi(r,i)}}function L7(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Rf(t,r,i);return Rf(t,r)})}function V7(t){return new qs(new kn(t.url),new kn(t.params),new kn(t.queryParams),new kn(t.fragment),new kn(t.data),t.outlet,t.component,t)}var cu=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},F3="ngNavigationCancelingError";function Sg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=L3(!1,Ai.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function L3(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[F3]=!0,n.cancellationCode=e,n}function j7(t){return V3(t)&&Fa(t.url)}function V3(t){return!!t&&t[F3]}var B7=(t,e,n,r)=>$e(i=>(new j_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),j_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),D_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ru(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ru(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ru(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ru(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Eg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new _g(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(D_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),D_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Tg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ou=class{component;route;constructor(e,n){this.component=e,this.route=n}};function $7(t,e,n){let r=t._root,i=e?e._root:null;return Ef(r,i,n,[r.value])}function U7(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fu(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Y1(t)?t:e.get(t):r}function Ef(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ru(e);return t.children.forEach(s=>{H7(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>If(a,n.getContext(s),i)),i}function H7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=z7(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Tg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ef(t,e,a?a.children:null,r,i):Ef(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ou(a.outlet.component,s))}else s&&If(e,a,i),i.canActivateChecks.push(new Tg(r)),o.component?Ef(t,null,a?a.children:null,r,i):Ef(t,null,n,r,i);return i}function z7(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Vc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vc(t.url,e.url)||!fs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!L_(t,e)||!fs(t.queryParams,e.queryParams);case"paramsChange":default:return!L_(t,e)}}function If(t,e,n){let r=ru(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?If(s,e.children.getContext(o),n):If(s,null,n):If(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ou(e.outlet.component,i)):n.canDeactivateChecks.push(new ou(null,i)):n.canDeactivateChecks.push(new ou(null,i))}function Of(t){return typeof t=="function"}function q7(t){return typeof t=="boolean"}function W7(t){return t&&Of(t.canLoad)}function G7(t){return t&&Of(t.canActivate)}function K7(t){return t&&Of(t.canActivateChild)}function Y7(t){return t&&Of(t.canDeactivate)}function X7(t){return t&&Of(t.canMatch)}function j3(t){return t instanceof As||t?.name==="EmptyError"}var sg=Symbol("INITIAL_VALUE");function lu(){return Tt(t=>$n(t.map(e=>e.pipe(lo(1),gc(sg)))).pipe($e(e=>{for(let n of e)if(n!==!0){if(n===sg)return sg;if(n===!1||Q7(n))return n}return!0}),co(e=>e!==sg),lo(1)))}function Q7(t){return Fa(t)||t instanceof cu}function B3(t){return t.aborted?Le(void 0).pipe(lo(1)):new Gt(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function $3(t){return ks(B3(t))}function Z7(t,e){return ci(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Le(Ne(ye({},n),{guardsResult:!0})):J7(s,r,i,t).pipe(ci(a=>a&&q7(a)?eF(r,o,t,e):Le(a)),$e(a=>Ne(ye({},n),{guardsResult:a})))})}function J7(t,e,n,r){return On(t).pipe(ci(i=>oF(i.component,i.route,n,e,r)),Ms(i=>i!==!0,!0))}function eF(t,e,n,r){return On(e).pipe(wd(i=>kl(nF(i.route.parent,r),tF(i.route,r),iF(t,i.path,n),rF(t,i.route,n))),Ms(i=>i!==!0,!0))}function tF(t,e){return t!==null&&e&&e(new wg(t)),Le(!0)}function nF(t,e){return t!==null&&e&&e(new bg(t)),Le(!0)}function rF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Le(!0);let i=r.map(o=>_d(()=>{let s=uu(e)??n,a=fu(o,s),c=G7(a)?a.canActivate(e,t):Pr(s,()=>a(e,t));return Uc(c).pipe(Ms())}));return Le(i).pipe(lu())}function iF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>U7(s)).filter(s=>s!==null).map(s=>_d(()=>{let a=s.guards.map(c=>{let u=uu(s.node)??n,l=fu(c,u),d=K7(l)?l.canActivateChild(r,t):Pr(u,()=>l(r,t));return Uc(d).pipe(Ms())});return Le(a).pipe(lu())}));return Le(o).pipe(lu())}function oF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Le(!0);let s=o.map(a=>{let c=uu(e)??i,u=fu(a,c),l=Y7(u)?u.canDeactivate(t,e,n,r):Pr(c,()=>u(t,e,n,r));return Uc(l).pipe(Ms())});return Le(s).pipe(lu())}function sF(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return Le(!0);let s=o.map(a=>{let c=fu(a,t),u=W7(c)?c.canLoad(e,n):Pr(t,()=>c(e,n)),l=Uc(u);return i?l.pipe($3(i)):l});return Le(s).pipe(lu(),U3(r))}function U3(t){return op(ln(e=>{if(typeof e!="boolean")throw Sg(t,e)}),$e(e=>e===!0))}function aF(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return Le(!0);let s=o.map(a=>{let c=fu(a,t),u=X7(c)?c.canMatch(e,n):Pr(t,()=>c(e,n)),l=Uc(u);return i?l.pipe($3(i)):l});return Le(s).pipe(lu(),U3(r))}var Lc=class H3 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,H3.prototype)}},B_=class z3 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,z3.prototype)}};function cF(t){throw new Je(4e3,!1)}function lF(t){throw L3(!1,Ai.GuardRejected)}var uF=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Ut])throw cF(`${e.redirectTo}`);i=i.children[Ut]}}async applyRedirectCommands(e,n,r,i,o){let s=await dF(n,i,o);if(s instanceof zo)throw new B_(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new B_(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new zo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new In(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Je(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function dF(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=e;return ug(Uc(Pr(n,()=>r({params:u,data:l,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d}))))}var $_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fF(t,e,n,r,i,o){let s=q3(t,e,n);return s.matched?(r=N7(e,r),aF(r,e,n,i,o).pipe($e(a=>a===!0?s:ye({},$_)))):Le(s)}function q3(t,e,n){if(e.path==="**")return hF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?ye({},$_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||m3)(n,t,e);if(!i)return ye({},$_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?ye(ye({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hF(t){return{matched:!0,parameters:t.length>0?y3(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function f3(t,e,n,r){return n.length>0&&gF(t,n,r)?{segmentGroup:new In(e,mF(r,new In(n,t.children))),slicedSegments:[]}:n.length===0&&yF(t,n,r)?{segmentGroup:new In(t.segments,pF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new In(t.segments,t.children),slicedSegments:n}}function pF(t,e,n,r){let i={};for(let o of n)if(Mg(t,e,o)&&!r[Ho(o)]){let s=new In([],{});i[Ho(o)]=s}return ye(ye({},r),i)}function mF(t,e){let n={};n[Ut]=e;for(let r of t)if(r.path===""&&Ho(r)!==Ut){let i=new In([],{});n[Ho(r)]=i}return n}function gF(t,e,n){return n.some(r=>Mg(t,e,r)&&Ho(r)!==Ut)}function yF(t,e,n){return n.some(r=>Mg(t,e,r))}function Mg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function vF(t,e,n){return e.length===0&&!t.children[n]}var bF=class{};async function _F(t,e,n,r,i,o,s="emptyOnly",a){return new EF(t,e,n,r,i,s,o,a).recognize()}var wF=31,EF=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new uF(this.urlSerializer,this.urlTree)}noMatchError(e){return new Je(4002,`'${e.segmentGroup}'`)}async recognize(){let e=f3(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Zi(r,n),o=new kf("",i),s=T3(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new jc([],Object.freeze({}),Object.freeze(ye({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ut,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Ut,n),rootSnapshot:n}}catch(r){if(r instanceof B_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lc?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Zi?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let u=r.children[c],l=P7(n,c),d=await this.processSegmentGroup(e,l,u,c,i);s.push(...d)}let a=W3(s);return CF(a),a}async processSegment(e,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a)}catch(u){if(u instanceof Lc||j3(u))continue;throw u}if(vF(r,i,o))return new bF;throw new Lc(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,c){if(Ho(r)!==s&&(s===Ut||!Mg(i,o,r)))throw new Lc(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c);throw new Lc(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=q3(n,i,o);if(!c)throw new Lc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wF&&(this.allowRedirects=!1));let p=new jc(o,u,Object.freeze(ye({},this.urlTree.queryParams)),this.urlTree.fragment,h3(i),Ho(i),i.component??i._loadedComponent??null,i,p3(i)),h=Ig(p,a,this.paramsInheritanceStrategy);if(p.params=Object.freeze(h.params),p.data=Object.freeze(h.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let y=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,p,e),m=await this.applyRedirects.lineralizeSegments(i,y);return this.processSegment(e,r,n,m.concat(f),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await ug(fF(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Lc(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:l,consumedSegments:d,remainingSegments:f}=a,p=new jc(d,l,Object.freeze(ye({},this.urlTree.queryParams)),this.urlTree.fragment,h3(r),Ho(r),r.component??r._loadedComponent??null,r,p3(r)),h=Ig(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(h.params),p.data=Object.freeze(h.data);let{segmentGroup:y,slicedSegments:m}=f3(n,d,f,c);if(m.length===0&&y.hasChildren()){let D=await this.processChildren(u,c,y,p);return new Zi(p,D)}if(c.length===0&&m.length===0)return new Zi(p,[]);let _=Ho(r)===o,x=await this.processSegment(u,c,y,m,_?Ut:o,!0,p);return new Zi(p,x instanceof Zi?[x]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await ug(sF(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw lF(n)}return{routes:[],injector:e}}};function CF(t){t.sort((e,n)=>e.value.outlet===Ut?-1:n.value.outlet===Ut?1:e.value.outlet.localeCompare(n.value.outlet))}function xF(t){let e=t.value.routeConfig;return e&&e.path===""}function W3(t){let e=[],n=new Set;for(let r of t){if(!xF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=W3(r.children);e.push(new Zi(r.value,i))}return e.filter(r=>!n.has(r))}function h3(t){return t.data||{}}function p3(t){return t.resolve||{}}var IF=new ct("",{factory:()=>_F});function SF(t,e,n,r,i,o,s){let a=t.get(IF);return ci(c=>Le(c).pipe(Tt(u=>a(t,e,n,r,u.extractedUrl,i,o,s)),$e(({state:u,tree:l})=>Ne(ye({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function TF(t,e){return ci(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Le(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of G3(c))s.add(u);let a=0;return On(s).pipe(wd(c=>o.has(c)?DF(c,r,t,e):(c.data=Ig(c,c.parent,t).resolve,Le(void 0))),ln(()=>a++),Ip(1),ci(c=>a===s.size?Le(n):Fi))})}function G3(t){let e=t.children.map(n=>G3(n)).flat();return[t,...e]}function DF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!P3(i)&&(o[Nf]=i.title),_d(()=>(t.data=Ig(t,t.parent,n).resolve,AF(o,t,e,r).pipe($e(s=>(t._resolvedData=s,t.data=ye(ye({},t.data),s),null)))))}function AF(t,e,n,r){let i=k_(t);if(i.length===0)return Le({});let o={};return On(i).pipe(ci(s=>MF(t[s],e,n,r).pipe(Ms(),ln(a=>{if(a instanceof cu)throw Sg(new Oa,a);o[s]=a}))),Ip(1),$e(()=>o),En(s=>j3(s)?Fi:I1(s)))}function MF(t,e,n,r){let i=uu(e)??r,o=fu(t,i),s=o.resolve?o.resolve(e,n):Pr(i,()=>o(e,n));return Uc(s)}function A_(t){return Tt(e=>{let n=t(e);return n?On(n).pipe($e(()=>e)):Le(e)})}var q_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ut);return r}getResolvedTitleForRoute(n){return n.data[Nf]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>ge(K3),providedIn:"root"})}return t})(),K3=(()=>{class t extends q_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Ft(s3))};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hu=new ct("",{factory:()=>({})}),Ff=new ct(""),Y3=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ge(Zb);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await v3(Pr(n,()=>r.loadComponent())),s=await Z3(Q3(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await X3(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function X3(t,e,n,r){let i=await v3(Pr(n,()=>t.loadChildren())),o=await Z3(Q3(i)),s;o instanceof Pm||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,c=a.get(Ff,[],{optional:!0,self:!0}).flat()),{routes:c.map(z_),injector:a}}function kF(t){return t&&typeof t=="object"&&"default"in t}function Q3(t){return kF(t)?t.default:t}async function Z3(t){return t}var kg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>ge(RF),providedIn:"root"})}return t})(),RF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),J3=new ct("");var NF=()=>{},eA=new ct(""),tA=(()=>{class t{currentNavigation=Ki(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ki(null);events=new Bn;transitionAbortWithErrorSubject=new Bn;configLoader=ge(Y3);environmentInjector=ge(yr);destroyRef=ge(Lo);urlSerializer=ge(Pf);rootContexts=ge(du);location=ge(nu);inputBindingEnabled=ge(Ag,{optional:!0})!==null;titleStrategy=ge(q_);options=ge(hu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ge(kg);createViewTransition=ge(J3,{optional:!0});navigationErrorHandler=ge(eA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Le(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new yg(i)),r=i=>this.events.next(new vg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;sr(()=>{this.transitions?.next(Ne(ye({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new kn(null),this.transitions.pipe(co(r=>r!==null),Tt(r=>{let i=!1,o=new AbortController;return Le(r).pipe(Tt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ai.SupersededByNewNavigation),Fi;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?Ne(ye({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new zs(s.id,this.urlSerializer.serialize(s.rawUrl),"",Tf.IgnoredSameUrlNavigation)),s.resolve(!1),Fi;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Le(s).pipe(Tt(l=>(this.events.next(new $c(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Fi:Promise.resolve(l))),SF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ln(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=l.urlAfterRedirects,f));let d=new Df(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:d,source:f,restoredState:p,extras:h}=s,y=new $c(l,this.urlSerializer.serialize(d),f,p);this.events.next(y);let m=R3(this.rootComponentType).snapshot;return this.currentTransition=r=Ne(ye({},s),{targetSnapshot:m,urlAfterRedirects:d,extras:Ne(ye({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=d,_)),Le(r)}else return this.events.next(new zs(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Tf.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Fi}),ln(s=>{let a=new hg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$e(s=>(this.currentTransition=r=Ne(ye({},s),{guards:$7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Z7(this.environmentInjector,s=>this.events.next(s)),ln(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Sg(this.urlSerializer,s.guardsResult);let a=new pg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),co(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ai.GuardRejected),!1)),A_(s=>{if(s.guards.canActivateChecks.length!==0)return Le(s).pipe(ln(a=>{let c=new mg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Tt(a=>{let c=!1;return Le(a).pipe(TF(this.paramsInheritanceStrategy,this.environmentInjector),ln({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ai.NoDataFromResolver)}}))}),ln(a=>{let c=new gg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),A_(s=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let d=uu(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,u.routeConfig).then(f=>{u.component=f}))}for(let d of u.children)l.push(...a(d));return l},c=a(s.targetSnapshot.root);return c.length===0?Le(s):On(Promise.all(c).then(()=>s))}),A_(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?On(c).pipe($e(()=>r)):Le(r)}),$e(s=>{let a=F7(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Ne(ye({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),ln(()=>{this.events.next(new Af)}),B7(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),lo(1),ks(B3(o.signal).pipe(co(()=>!i&&!r.targetRouterState),ln(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Ai.Aborted)}))),ln({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=NF,a)),this.lastSuccessfulNavigation.set(sr(this.currentNavigation)),this.events.next(new qo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ks(this.transitionAbortWithErrorSubject.pipe(ln(s=>{throw s}))),D1(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Ai.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),En(s=>{if(this.destroyed)return r.resolve(!1),Fi;if(i=!0,V3(s))this.events.next(new hs(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),j7(s)?this.events.next(new au(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new su(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Pr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof cu){let{message:u,cancellationCode:l}=Sg(this.urlSerializer,c);this.events.next(new hs(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new au(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Fi}))}))}cancelNavigationTransition(n,r,i){let o=new hs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=sr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PF(t){return t!==xf}var nA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>ge(OF),providedIn:"root"})}return t})(),Dg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},OF=(()=>{class t extends Dg{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),W_=(()=>{class t{urlSerializer=ge(Pf);options=ge(hu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=ge(nu);urlHandlingStrategy=ge(kg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new zo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof zo?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=R3(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:()=>ge(rA),providedIn:"root"})}return t})(),rA=(()=>{class t extends W_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof $c?this.updateStateMemento():n instanceof zs?this.commitTransition(r):n instanceof Df?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Af?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hs&&n.code!==Ai.SupersededByNewNavigation&&n.code!==Ai.Redirect?this.restoreHistory(r):n instanceof su?this.restoreHistory(r,!0):n instanceof qo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=ye(ye({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=ye(ye({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G_(t,e){t.events.pipe(co(n=>n instanceof qo||n instanceof hs||n instanceof su||n instanceof zs),$e(n=>n instanceof qo||n instanceof zs?0:(n instanceof hs?n.code===Ai.Redirect||n.code===Ai.SupersededByNewNavigation:!1)?2:1),co(n=>n!==2),lo(1)).subscribe(()=>{e()})}var FF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ge(Ub);stateManager=ge(W_);options=ge(hu,{optional:!0})||{};pendingTasks=ge(Fs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ge(tA);urlSerializer=ge(Pf);location=ge(nu);urlHandlingStrategy=ge(kg);injector=ge(yr);_events=new Bn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ge(nA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ge(Ff,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ge(Ag,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Nr;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=sr(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hs&&r.code!==Ai.Redirect&&r.code!==Ai.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qo)this.navigated=!0;else if(r instanceof au){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=ye({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PF(i.source)},s);this.scheduleNavigation(a,xf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}R7(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=ye({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Gi)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return sr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(z_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=ye(ye({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=D3(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return A3(d,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Fa(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xf,null,r)}navigate(n,r={skipLocationChange:!1}){return VF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(wc(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=ye({},FF):r===!1?i=ye({},LF):i=r,Fa(n))return a3(this.currentUrlTree,n,i);let o=this.parseUrl(n);return a3(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,c=f});let l=this.pendingTasks.add();return G_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Je(4008,!1)}var ji=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ki(null);get href(){return sr(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Bn;applicationErrorHandler=ge(Gi);options=ge(hu,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(ge(new Bm("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof qo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fa(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Fa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(lt(Mi),lt(qs),Xd("tabindex"),lt(yo),lt(di),lt(tu))};static \u0275dir=pn({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Me("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ii("href",i.reactiveHref(),Eb)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ra],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ra],replaceUrl:[2,"replaceUrl","replaceUrl",Ra],routerLink:"routerLink"},features:[go]})}return t})(),K_=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Un;link=ge(ji,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof qo&&this.update()})}ngAfterContentInit(){Le(this.links.changes,Le(null)).pipe(Ml()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=On(n).pipe(Ml()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=BF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(lt(Mi),lt(di),lt(yo),lt(ds))};static \u0275dir=pn({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Vm(o,ji,5),r&2){let s;Gb(s=Kb())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[go]})}return t})();function BF(t){return!!t.paths}var $F=new ct("");function Y_(t,...e){return No([{provide:Ff,multi:!0,useValue:t},[],{provide:qs,useFactory:UF},{provide:Fm,multi:!0,useFactory:HF},e.map(n=>n.\u0275providers)])}function UF(){return ge(Mi).routerState.root}function HF(){let t=ge(fr);return e=>{let n=t.get(Ma);if(e!==n.components[0])return;let r=t.get(Mi),i=t.get(zF);t.get(qF)===1&&r.initialNavigation(),t.get(WF,null,{optional:!0})?.setUpPreloading(),t.get($F,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zF=new ct("",{factory:()=>new Bn}),qF=new ct("",{factory:()=>1});var WF=new ct("");var iA=()=>{};var aA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Rg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|u>>6,p=u&63;c||(p=64,s||(f=64)),r.push(n[l],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Q_;let f=o<<2|a>>4;if(r.push(f),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let h=u<<6&192|d;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Q_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KF=function(t){let e=aA(t);return Rg.encodeByteArray(e,!0)},Vf=function(t){return KF(t).replace(/\./g,"")},Ng=function(t){try{return Rg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YF=()=>J_().__FIREBASE_DEFAULTS__,XF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ng(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return iA()||YF()||XF()||QF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ew=t=>Pg()?.emulatorHosts?.[t],cA=t=>{let e=ew(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tw=()=>Pg()?.config,nw=t=>Pg()?.[`_${t}`];var zc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function La(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Og(t){return(await fetch(t,{credentials:"include"})).ok}function lA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=ye({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vf(JSON.stringify(n)),Vf(JSON.stringify(s)),""].join(".")}var Lf={};function ZF(){let t={prod:[],emulator:[]};for(let e of Object.keys(Lf))Lf[e]?t.emulator.push(e):t.prod.push(e);return t}function JF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var oA=!1;function Fg(t,e){if(typeof window>"u"||typeof document>"u"||!La(window.location.host)||Lf[t]===e||Lf[t]||oA)return;Lf[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=ZF().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{oA=!0,s()},f}function l(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=JF(r),p=n("text"),h=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),m=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let D=f.element;a(D),l(m,y);let L=u();c(x,_),D.append(x,h,m,L),document.body.appendChild(D)}o?(h.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,h.innerText="Preview backend running in this workspace."),h.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gr())}function eL(){let t=Pg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pA(){let t=Gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mA(){return!eL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jf(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var tL="FirebaseError",eo=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}},Wo=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new eo(i,a,r)}};function nL(t,e){return t.replace(rL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rL=/\{\$([^}]+)}/g;function yA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(sA(o)&&sA(s)){if(!ps(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sA(t){return t!==null&&typeof t=="object"}function Bf(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pu(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function mu(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vA(t,e){let n=new Z_(t,e);return n.subscribe.bind(n)}var Z_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=X_),i.error===void 0&&(i.error=X_),i.complete===void 0&&(i.complete=X_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function iL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function X_(){}var Ade=14400*1e3;function Ln(t){return t&&t._delegate?t._delegate:t}var ki=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qc="[DEFAULT]";var rw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new zc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sL(e))try{this.getOrInitializeService({instanceIdentifier:qc})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qc){return this.instances.has(e)}getOptions(e=qc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qc){return this.component?this.component.multipleInstances?e:qc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oL(t){return t===qc?void 0:t}function sL(t){return t.instantiationMode==="EAGER"}var Lg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new rw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var aL=[],an=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(an||{}),cL={debug:an.DEBUG,verbose:an.VERBOSE,info:an.INFO,warn:an.WARN,error:an.ERROR,silent:an.SILENT},lL=an.INFO,uL={[an.DEBUG]:"log",[an.VERBOSE]:"log",[an.INFO]:"info",[an.WARN]:"warn",[an.ERROR]:"error"},dL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ms=class{constructor(e){this.name=e,this._logLevel=lL,this._logHandler=dL,this._userLogHandler=null,aL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in an))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,an.DEBUG,...e),this._logHandler(this,an.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,an.VERBOSE,...e),this._logHandler(this,an.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,an.INFO,...e),this._logHandler(this,an.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,an.WARN,...e),this._logHandler(this,an.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,an.ERROR,...e),this._logHandler(this,an.ERROR,...e)}};var fL=(t,e)=>e.some(n=>t instanceof n),bA,_A;function hL(){return bA||(bA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pL(){return _A||(_A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wA=new WeakMap,ow=new WeakMap,EA=new WeakMap,iw=new WeakMap,aw=new WeakMap;function mL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(gs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wA.set(n,t)}).catch(()=>{}),aw.set(e,t),e}function gL(t){if(ow.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ow.set(t,e)}var sw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ow.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CA(t){sw=t(sw)}function yL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Vg(this),e,...n);return EA.set(r,e.sort?e.sort():[e]),gs(r)}:pL().includes(t)?function(...e){return t.apply(Vg(this),e),gs(wA.get(this))}:function(...e){return gs(t.apply(Vg(this),e))}}function vL(t){return typeof t=="function"?yL(t):(t instanceof IDBTransaction&&gL(t),fL(t,hL())?new Proxy(t,sw):t)}function gs(t){if(t instanceof IDBRequest)return mL(t);if(iw.has(t))return iw.get(t);let e=vL(t);return e!==t&&(iw.set(t,e),aw.set(e,t)),e}var Vg=t=>aw.get(t);function IA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=gs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(gs(s.result),c.oldVersion,c.newVersion,gs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var bL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],cw=new Map;function xA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cw.get(e))return cw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_L.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bL.includes(n)))return;let o=async function(s,...a){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return cw.set(e,o),o}CA(t=>Ne(ye({},t),{get:(e,n,r)=>xA(e,n)||t.get(e,n,r),has:(e,n)=>!!xA(e,n)||t.has(e,n)}));var uw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function wL(t){return t.getComponent()?.type==="VERSION"}var dw="@firebase/app",SA="0.14.6";var Ws=new ms("@firebase/app"),EL="@firebase/app-compat",CL="@firebase/analytics-compat",xL="@firebase/analytics",IL="@firebase/app-check-compat",SL="@firebase/app-check",TL="@firebase/auth",DL="@firebase/auth-compat",AL="@firebase/database",ML="@firebase/data-connect",kL="@firebase/database-compat",RL="@firebase/functions",NL="@firebase/functions-compat",PL="@firebase/installations",OL="@firebase/installations-compat",FL="@firebase/messaging",LL="@firebase/messaging-compat",VL="@firebase/performance",jL="@firebase/performance-compat",BL="@firebase/remote-config",$L="@firebase/remote-config-compat",UL="@firebase/storage",HL="@firebase/storage-compat",zL="@firebase/firestore",qL="@firebase/ai",WL="@firebase/firestore-compat",GL="firebase",KL="12.6.0";var fw="[DEFAULT]",YL={[dw]:"fire-core",[EL]:"fire-core-compat",[xL]:"fire-analytics",[CL]:"fire-analytics-compat",[SL]:"fire-app-check",[IL]:"fire-app-check-compat",[TL]:"fire-auth",[DL]:"fire-auth-compat",[AL]:"fire-rtdb",[ML]:"fire-data-connect",[kL]:"fire-rtdb-compat",[RL]:"fire-fn",[NL]:"fire-fn-compat",[PL]:"fire-iid",[OL]:"fire-iid-compat",[FL]:"fire-fcm",[LL]:"fire-fcm-compat",[VL]:"fire-perf",[jL]:"fire-perf-compat",[BL]:"fire-rc",[$L]:"fire-rc-compat",[UL]:"fire-gcs",[HL]:"fire-gcs-compat",[zL]:"fire-fst",[WL]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[GL]:"fire-js-all"};var $f=new Map,XL=new Map,hw=new Map;function TA(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){let e=t.name;if(hw.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;hw.set(e,t);for(let n of $f.values())TA(n,t);for(let n of XL.values())TA(n,t);return!0}function gu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bi(t){return t==null?!1:t.settings!==void 0}var QL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Wo("app","Firebase",QL);var pw=class{constructor(e,n,r){this._isDeleted=!1,this._options=ye({},e),this._config=ye({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}};var ja=KL;function yw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=ye({name:fw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Va.create("bad-app-name",{appName:String(i)});if(n||(n=tw()),!n)throw Va.create("no-options");let o=$f.get(i);if(o){if(ps(n,o.options)&&ps(r,o.config))return o;throw Va.create("duplicate-app",{appName:i})}let s=new Lg(i);for(let c of hw.values())s.addComponent(c);let a=new pw(n,r,s);return $f.set(i,a),a}function Wc(t=fw){let e=$f.get(t);if(!e&&t===fw&&tw())return yw();if(!e)throw Va.create("no-app",{appName:t});return e}function jg(){return Array.from($f.values())}function cr(t,e,n){let r=YL[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ws.warn(s.join(" "));return}Go(new ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var ZL="firebase-heartbeat-database",JL=1,Uf="firebase-heartbeat-store",lw=null;function kA(){return lw||(lw=IA(ZL,JL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Va.create("idb-open",{originalErrorMessage:t.message})})),lw}async function eV(t){try{let n=(await kA()).transaction(Uf),r=await n.objectStore(Uf).get(RA(t));return await n.done,r}catch(e){if(e instanceof eo)Ws.warn(e.message);else{let n=Va.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(n.message)}}}async function DA(t,e){try{let r=(await kA()).transaction(Uf,"readwrite");await r.objectStore(Uf).put(e,RA(t)),await r.done}catch(n){if(n instanceof eo)Ws.warn(n.message);else{let r=Va.create("idb-set",{originalErrorMessage:n?.message});Ws.warn(r.message)}}}function RA(t){return`${t.name}!${t.options.appId}`}var tV=1024,nV=30,mw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nV){let i=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=AA(),{heartbeatsToSend:n,unsentEntries:r}=rV(this._heartbeatsCache.heartbeats),i=Vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ws.warn(e),""}}};function AA(){return new Date().toISOString().substring(0,10)}function rV(t,e=tV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),MA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jf()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await eV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return DA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return DA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function MA(t){return Vf(JSON.stringify({version:2,heartbeats:t})).length}function iV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function oV(t){Go(new ki("platform-logger",e=>new uw(e),"PRIVATE")),Go(new ki("heartbeat",e=>new mw(e),"PRIVATE")),cr(dw,SA,t),cr(dw,SA,"esm2020"),cr("fire-js","")}oV("");var sV="firebase",aV="12.7.0";cr(sV,aV,"app");function NA(t){t===void 0&&(t=ge(fr));let e=t.get(Hl);return n=>new Gt(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ba=new ga("ANGULARFIRE2_VERSION");function Hf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var vu=(t,e)=>{let n=e?[e]:jg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},yu=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(yu||{}),PA=o_()&&typeof Zone<"u"?yu.WARN:yu.SILENT;var Bg=class{zone;delegate;constructor(e,n=x1){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},$a=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=ge(Xn);this.outsideAngular=n.runOutsideAngular(()=>new Bg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Bg(typeof Zone>"u"?void 0:Zone.current,C1))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OA=!1;function cV(t,e){!OA&&(PA>yu.SILENT||o_())&&(OA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),PA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function lV(t){let e=ge(Xn,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Gc(t){let e=ge(Xn,{optional:!0});return e?e.run(()=>t()):t()}var uV=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Pr(n,()=>Gc(()=>t.apply(void 0,r)))),zn=(t,e,n)=>(n||=e?yu.WARN:yu.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=ge($a),s=ge(Hl),a=ge(yr)}catch{return cV(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Gc(()=>s.add())),i[u]=uV(i[u],r,a));let c=lV(()=>t.apply(this,i));return e?c instanceof Gt?c.pipe(ma(o.outsideAngular),pa(o.insideAngular),NA(a)):c instanceof Promise?Gc(()=>{let u=s.add();return new Promise((l,d)=>{c.then(f=>Pr(a,()=>Gc(()=>l(f))),f=>Pr(a,()=>Gc(()=>d(f)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Gc(()=>c):c instanceof Gt?c.pipe(ma(o.outsideAngular),pa(o.insideAngular)):Gc(()=>c)});var Gs=class{constructor(e){return e}},Kc=class{constructor(){return jg()}};function dV(t){return t&&t.length===1?t[0]:new Gs(Wc())}var vw=new ct("angularfire2._apps"),fV={provide:Gs,useFactory:dV,deps:[[new Yi,vw]]},hV={provide:Kc,deps:[[new Yi,vw]]};function pV(t){return(e,n)=>{let r=n.get(Pc);cr("angularfire",Ba.full,"core"),cr("angularfire",Ba.full,"app"),cr("angular",W1.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Gs(i)}}function FA(t,...e){return No([fV,hV,{provide:vw,useFactory:pV(t),multi:!0,deps:[Xn,fr,$a,...e]}])}var LA=zn(yw,!0);var mV=new Map,gV={activated:!1,tokenObservers:[]},yV={initialized:!1,enabled:!1};function Ko(t){return mV.get(t)||ye({},gV)}function $A(){return yV}var vV="https://content-firebaseappcheck.googleapis.com/v1";var bV="exchangeDebugToken",VA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Mfe=1440*60*1e3;var ww=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new zc,this.pending.promise.catch(n=>{}),await _V(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new zc,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function _V(t){return new Promise(e=>{setTimeout(e,t)})}var wV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ua=new Wo("appCheck","AppCheck",wV);function UA(t){if(!Ko(t).activated)throw Ua.create("use-before-activation",{appName:t.name})}async function HA({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(d){throw Ua.create("fetch-network-error",{originalErrorMessage:d?.message})}if(s.status!==200)throw Ua.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(d){throw Ua.create("fetch-parse-error",{originalErrorMessage:d?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Ua.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let u=Number(c[1])*1e3,l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}function zA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${vV}/projects/${n}/apps/${r}:${bV}?key=${i}`,body:{debug_token:e}}}var EV="firebase-app-check-database",CV=1,Ew="firebase-app-check-store";var $g=null;function xV(){return $g||($g=new Promise((t,e)=>{try{let n=indexedDB.open(EV,CV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{e(Ua.create("storage-open",{originalErrorMessage:r.target.error?.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ew,{keyPath:"compositeKey"})}}}catch(n){e(Ua.create("storage-open",{originalErrorMessage:n?.message}))}}),$g)}function IV(t,e){return SV(TV(t),e)}async function SV(t,e){let r=(await xV()).transaction(Ew,"readwrite"),o=r.objectStore(Ew).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{a(Ua.create("storage-set",{originalErrorMessage:c.target.error?.message}))}})}function TV(t){return`${t.options.appId}-${t.name}`}var zf=new ms("@firebase/app-check");function bw(t,e){return jf()?IV(t,e).catch(n=>{zf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function qA(){return $A().enabled}async function WA(){let t=$A();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var DV={error:"UNKNOWN_ERROR"};function AV(t){return Rg.encodeString(JSON.stringify(t),!1)}async function Cw(t,e=!1,n=!1){let r=t.app;UA(r);let i=Ko(r),o=i.token,s;if(o&&!qf(o)&&(i.token=void 0,o=void 0),!o){let u=await i.cachedTokenPromise;u&&(qf(u)?o=u:await bw(r,void 0))}if(!e&&o&&qf(o))return{token:o.token};let a=!1;if(qA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=HA(zA(r,await WA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=await i.exchangeTokenPromise;return await bw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?zf.warn(u.message):n&&zf.error(u),_w(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Ko(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?zf.warn(u.message):n&&zf.error(u),s=u}let c;return o?s?qf(o)?c={token:o.token,internalError:s}:c=_w(s):(c={token:o.token},i.token=o,await bw(r,o)):c=_w(s),a&&NV(r,c),c}async function MV(t){let e=t.app;UA(e);let{provider:n}=Ko(e);if(qA()){let r=await WA(),{token:i}=await HA(zA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function kV(t,e,n,r){let{app:i}=t,o=Ko(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qf(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),jA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>jA(t))}function GA(t,e){let n=Ko(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function jA(t){let{app:e}=t,n=Ko(e),r=n.tokenRefresher;r||(r=RV(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function RV(t){let{app:e}=t;return new ww(async()=>{let n=Ko(e),r;if(n.token?r=await Cw(t,!0):r=await Cw(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=Ko(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},VA.RETRIAL_MIN_WAIT,VA.RETRIAL_MAX_WAIT)}function NV(t,e){let n=Ko(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qf(t){return t.expireTimeMillis-Date.now()>0}function _w(t){return{token:AV(DV),error:t}}var xw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Ko(this.app);for(let n of e)GA(this.app,n.next);return Promise.resolve()}};function PV(t,e){return new xw(t,e)}function OV(t){return{getToken:e=>Cw(t,e),getLimitedUseToken:()=>MV(t),addTokenListener:e=>kV(t,"INTERNAL",e),removeTokenListener:e=>GA(t.app,e)}}var FV="@firebase/app-check",LV="0.11.0";var VV="app-check",BA="app-check-internal";function jV(){Go(new ki(VV,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return PV(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(BA).initialize()})),Go(new ki(BA,t=>{let e=t.getProvider("app-check").getImmediate();return OV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),cr(FV,LV)}jV();var BV="app-check";var bu=class{constructor(){return vu(BV)}};var $V=["localhost","0.0.0.0","127.0.0.1"],Hfe=typeof window<"u"&&$V.includes(window.location.hostname);function l4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var u4=l4,d4=new Wo("auth","Firebase",l4());var Gg=new ms("@firebase/auth");function UV(t,...e){Gg.logLevel<=an.WARN&&Gg.warn(`Auth (${ja}): ${t}`,...e)}function Hg(t,...e){Gg.logLevel<=an.ERROR&&Gg.error(`Auth (${ja}): ${t}`,...e)}function vs(t,...e){throw Yw(t,...e)}function Yc(t,...e){return Yw(t,...e)}function f4(t,e,n){let r=Ne(ye({},u4()),{[e]:n});return new Wo("auth","Firebase",r).create(e,{appName:t.name})}function Xs(t){return f4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d4.create(t,...e)}function xt(t,e,...n){if(!t)throw Yw(e,...n)}function Ks(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Hg(e),new Error(e)}function qa(t,e){t||Ks(e)}function Dw(){return typeof self<"u"&&self.location?.href||""}function HV(){return KA()==="http:"||KA()==="https:"}function KA(){return typeof self<"u"&&self.location?.protocol||null}function zV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HV()||fA()||"connection"in navigator)?navigator.onLine:!0}function qV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xc=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qa(n>e,"Short delay should be less than long delay!"),this.isMobile=uA()||hA()}get(){return zV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Xw(t,e){qa(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Kg=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KV=new Xc(3e4,6e4);function Qs(t,e){return t.tenantId&&!e.tenantId?Ne(ye({},e),{tenantId:t.tenantId}):e}async function bs(t,e,n,r,i={}){return h4(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Bf(ye({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let u=ye({method:e,headers:c},o);return dA()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&La(t.emulatorConfig.host)&&(u.credentials="include"),Kg.fetch()(await p4(t,t.config.apiHost,n,a),u)})}async function h4(t,e,n){t._canInitEmulator=!1;let r=ye(ye({},WV),e);try{let i=new Aw(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Ug(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ug(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ug(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ug(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f4(t,l,u);vs(t,l)}}catch(i){if(i instanceof eo)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function Jf(t,e,n,r,i={}){let o=await bs(t,e,n,r,i);return"mfaPendingCredential"in o&&vs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function p4(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Xw(t.config,i):`${t.config.apiScheme}://${i}`;return GV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function YV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Aw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yc(this.auth,"network-request-failed")),KV.get())})}};function Ug(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Yc(t,e,r);return i.customData._tokenResponse=n,i}function YA(t){return t!==void 0&&t.enterprise!==void 0}var Mw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function XV(t,e){return bs(t,"GET","/v2/recaptchaConfig",Qs(t,e))}async function QV(t,e){return bs(t,"POST","/v1/accounts:delete",e)}async function Yg(t,e){return bs(t,"POST","/v1/accounts:lookup",e)}function Gf(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qw(t,e=!1){let n=Ln(t),r=await n.getIdToken(e),i=Zw(r);xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gf(Iw(i.auth_time)),issuedAtTime:Gf(Iw(i.iat)),expirationTime:Gf(Iw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Iw(t){return Number(t)*1e3}function Zw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ng(n);return i?JSON.parse(i):(Hg("Failed to decode base64 JWT payload"),null)}catch(i){return Hg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XA(t){let e=Zw(t);return xt(e,"internal-error"),xt(typeof e.exp<"u","internal-error"),xt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&ZV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var kw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Yf=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gf(this.lastLoginAt),this.creationTime=Gf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Xg(t){let e=t.auth,n=await t.getIdToken(),r=await _u(t,Yg(e,{idToken:n}));xt(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?m4(i.providerUserInfo):[],s=JV(t.providerData,o),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!s?.length,u=a?c:!1,l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yf(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,l)}async function Jw(t){let e=Ln(t);await Xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function m4(t){return t.map(r=>{var i=r,{providerId:e}=i,n=t1(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function ej(t,e){let n=await h4(t,{},async()=>{let r=Bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await p4(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&La(t.emulatorConfig.host)&&(c.credentials="include"),Kg.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tj(t,e){return bs(t,"POST","/v2/accounts:revokeToken",Qs(t,e))}var Kf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xt(e.idToken,"internal-error"),xt(typeof e.idToken<"u","internal-error"),xt(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xt(e.length!==0,"internal-error");let n=XA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await ej(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(xt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(xt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(xt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ks("not implemented")}};function Ha(t,e){xt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var za=class t{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=t1(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qw(this,e)}reload(){return Jw(this)}_assign(e){this!==e&&(xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>ye({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Ne(ye({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(Xs(this.auth));let e=await this.getIdToken();return await _u(this,QV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Ne(ye({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>ye({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,l=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:h,stsTokenManager:y}=n;xt(d&&y,e,"internal-error");let m=Kf.fromJSON(this.name,y);xt(typeof d=="string",e,"internal-error"),Ha(r,e.name),Ha(i,e.name),xt(typeof f=="boolean",e,"internal-error"),xt(typeof p=="boolean",e,"internal-error"),Ha(o,e.name),Ha(s,e.name),Ha(a,e.name),Ha(c,e.name),Ha(u,e.name),Ha(l,e.name);let _=new t({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:m,createdAt:u,lastLoginAt:l});return h&&Array.isArray(h)&&(_.providerData=h.map(x=>ye({},x))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){let i=new Kf;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xg(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];xt(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?m4(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Kf;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c}};var QA=new Map;function Ys(t){qa(t instanceof Function,"Expected a class definition");let e=QA.get(t);return e?(qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QA.set(t,e),e)}var nj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Rw=nj;function zg(t,e,n){return`firebase:${t}:${e}:${n}`}var Qg=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=zg(this.userKey,i.apiKey,o),this.fullPersistenceKey=zg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Yg(this.auth,{idToken:e}).catch(()=>{});return n?za._fromGetAccountInfoResponse(this.auth,n,e):null}return za._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Ys(Rw),e,r);let i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),o=i[0]||Ys(Rw),s=zg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=await u._get(s);if(l){let d;if(typeof l=="string"){let f=await Yg(e,{idToken:l}).catch(()=>{});if(!f)break;d=await za._fromGetAccountInfoResponse(e,f,l)}else d=za._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new t(o,e,r))}};function ZA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w4(e))return"Blackberry";if(E4(e))return"Webos";if(y4(e))return"Safari";if((e.includes("chrome/")||v4(e))&&!e.includes("edge/"))return"Chrome";if(_4(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function g4(t=Gr()){return/firefox\//i.test(t)}function y4(t=Gr()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v4(t=Gr()){return/crios\//i.test(t)}function b4(t=Gr()){return/iemobile/i.test(t)}function _4(t=Gr()){return/android/i.test(t)}function w4(t=Gr()){return/blackberry/i.test(t)}function E4(t=Gr()){return/webos/i.test(t)}function e2(t=Gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rj(t=Gr()){return e2(t)&&!!window.navigator?.standalone}function ij(){return pA()&&document.documentMode===10}function C4(t=Gr()){return e2(t)||_4(t)||E4(t)||w4(t)||/windows phone/i.test(t)||b4(t)}function x4(t,e=[]){let n;switch(t){case"Browser":n=ZA(Gr());break;case"Worker":n=`${ZA(Gr())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ja}/${r}`}var Nw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function oj(t,e={}){return bs(t,"GET","/v2/passwordPolicy",Qs(t,e))}var sj=6,Pw=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ow=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zg(this),this.idTokenSubscription=new Zg(this),this.beforeStateQueue=new Nw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qg.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Yg(this,{idToken:e}),r=await za._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bi(this.app))return Promise.reject(Xs(this));let n=e?Ln(e):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bi(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await oj(this),n=new Pw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Ys(e)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await Qg.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UV(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Zc(t){return Ln(t)}var Zg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vA(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var o0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aj(t){o0=t}function I4(t){return o0.loadJS(t)}function cj(){return o0.recaptchaEnterpriseScript}function lj(){return o0.gapiScript}function S4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Fw=class{constructor(){this.enterprise=new Lw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Lw=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var uj="recaptcha-enterprise",T4="NO_RECAPTCHA",Vw=class{constructor(e){this.type=uj,this.auth=Zc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{XV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Mw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})})}function i(o,s,a){let c=window.grecaptcha;YA(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(T4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&YA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cj();c.length!==0&&(c+=a),I4(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}};async function Wf(t,e,n,r=!1,i=!1){let o=new Vw(t),s;if(i)s=T4;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}let a=ye({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function jw(t,e,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await Wf(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await Wf(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await Wf(t,e,n);return r(t,o).catch(async s=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=await Wf(t,e,n,!1,!0);return r(t,a)}return Promise.reject(s)})}else{let o=await Wf(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}function t2(t,e){let n=gu(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ps(o,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function dj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function n2(t,e,n){let r=Zc(t);xt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=D4(e),{host:s,port:a}=fj(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},l=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xt(ps(u,r.config.emulator)&&ps(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,La(s)?(Og(`${o}//${s}${c}`),Fg("Auth",!0)):i||hj()}function D4(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fj(t){let e=D4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:JA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:JA(s)}}}function JA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function hj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xf=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,n){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}};async function pj(t,e){return bs(t,"POST","/v1/accounts:update",e)}async function mj(t,e){return bs(t,"POST","/v1/accounts:signUp",e)}async function gj(t,e){return Jf(t,"POST","/v1/accounts:signInWithPassword",Qs(t,e))}async function yj(t,e){return bs(t,"POST","/v1/accounts:sendOobCode",Qs(t,e))}async function vj(t,e){return yj(t,e)}async function bj(t,e){return Jf(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}async function _j(t,e){return Jf(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}var Qf=class t extends Xf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jw(e,n,"signInWithPassword",gj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bj(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jw(e,r,"signUpPassword",mj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _j(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Sw(t,e){return Jf(t,"POST","/v1/accounts:signInWithIdp",Qs(t,e))}function wj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ej(t){let e=pu(mu(t)).link,n=e?pu(mu(e)).deep_link_id:null,r=pu(mu(t)).deep_link_id;return(r?pu(mu(r)).link:null)||r||n||e||t}var Jg=class t{constructor(e){let n=pu(mu(e)),r=n.apiKey??null,i=n.oobCode??null,o=wj(n.mode??null);xt(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){let n=Ej(e);try{return new t(n)}catch{return null}}};var s0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Qf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Jg.parseLink(r);return xt(i,"argument-error"),Qf._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),e0=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Bw=class extends e0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function Cj(t,e){return Jf(t,"POST","/v1/accounts:signUp",Qs(t,e))}var wu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await za._fromIdTokenResponse(e,r,i),s=e4(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=e4(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function e4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var $w=class t extends eo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function A4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$w._fromErrorAndOperation(t,o,e,r):o})}async function xj(t,e,n=!1){let r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wu._forOperation(t,"link",r)}async function M4(t,e,n=!1){let{auth:r}=t;if(Bi(r.app))return Promise.reject(Xs(r));let i="reauthenticate";try{let o=await _u(t,A4(r,i,e,t),n);xt(o.idToken,r,"internal-error");let s=Zw(o.idToken);xt(s,r,"internal-error");let{sub:a}=s;return xt(t.uid===a,r,"user-mismatch"),wu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}async function k4(t,e,n=!1){if(Bi(t.app))return Promise.reject(Xs(t));let r="signIn",i=await A4(t,r,e),o=await wu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function r2(t,e){return k4(Zc(t),e)}async function a0(t,e){return M4(Ln(t),e)}function Ij(t,e,n){xt(n.url?.length>0,t,"invalid-continue-uri"),xt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),xt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(xt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(xt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function R4(t){let e=Zc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i2(t,e,n){if(Bi(t.app))return Promise.reject(Xs(t));let r=Zc(t),s=await jw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cj,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&R4(t),c}),a=await wu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function o2(t,e,n){return Bi(t.app)?Promise.reject(Xs(t)):r2(Ln(t),s0.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R4(t),r})}async function c0(t,e,n){let r=Ln(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Ij(r.auth,o,n);let{email:s}=await vj(r.auth,o);s!==t.email&&await t.reload()}function l0(t,e){return Sj(Ln(t),null,e)}async function Sj(t,e,n){let{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let s=await _u(t,pj(r,o));await t._updateTokensIfNecessary(s,!0)}function u0(t,e,n,r){return Ln(t).onIdTokenChanged(e,n,r)}function s2(t,e,n){return Ln(t).beforeAuthStateChanged(e,n)}function d0(t,e,n,r){return Ln(t).onAuthStateChanged(e,n,r)}function a2(t){return Ln(t).signOut()}var t0="__sak";var n0=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(t0,"1"),this.storage.removeItem(t0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Tj=1e3,Dj=10,Aj=(()=>{class t extends n0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C4(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);ij()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Dj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),N4=Aj;var Mj=(()=>{class t extends n0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),c2=Mj;function kj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var Rj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(async l=>l(r.origin,s)),u=await kj(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function P4(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Uw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=P4("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function ys(){return window}function Nj(t){ys().location.href=t}function O4(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function Pj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oj(){return navigator?.serviceWorker?.controller||null}function Fj(){return O4()?self:null}var F4="firebaseLocalStorageDb",Lj=1,r0="firebaseLocalStorage",L4="fbase_key",Qc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function f0(t,e){return t.transaction([r0],e?"readwrite":"readonly").objectStore(r0)}function Vj(){let t=indexedDB.deleteDatabase(F4);return new Qc(t).toPromise()}function Hw(){let t=indexedDB.open(F4,Lj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(r0,{keyPath:L4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(r0)?e(r):(r.close(),await Vj(),e(await Hw()))})})}async function t4(t,e,n){let r=f0(t,!0).put({[L4]:e,value:n});return new Qc(r).toPromise()}async function jj(t,e){let n=f0(t,!1).get(e),r=await new Qc(n).toPromise();return r===void 0?null:r.value}function n4(t,e){let n=f0(t,!0).delete(e);return new Qc(n).toPromise()}var Bj=800,$j=3,Uj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hw(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>$j)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rj._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pj(),!this.activeServiceWorker)return;this.sender=new Uw(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||Oj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await Hw();return await t4(n,t0,"1"),await n4(n,t0),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>t4(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>jj(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>n4(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=f0(o,!1).getAll();return new Qc(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),V4=Uj;var Xfe=S4("rcb"),Qfe=new Xc(3e4,6e4);function Hj(t,e){return e?Ys(e):(xt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Zf=class extends Xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function zj(t){return k4(t.auth,new Zf(t),t.bypassAuthState)}function qj(t){let{auth:e,user:n}=t;return xt(n,e,"internal-error"),M4(n,new Zf(t),t.bypassAuthState)}async function Wj(t){let{auth:e,user:n}=t;return xt(n,e,"internal-error"),xj(n,new Zf(t),t.bypassAuthState)}var zw=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zj;case"linkViaPopup":case"linkViaRedirect":return Wj;case"reauthViaPopup":case"reauthViaRedirect":return qj;default:vs(this.auth,"internal-error")}}resolve(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Zfe=new Xc(2e3,1e4);var Gj="pendingRedirect",qg=new Map,qw=class extends zw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qg.get(this.auth._key());if(!e){try{let r=await Kj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qg.set(this.auth._key(),e)}return this.bypassAuthState||qg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Kj(t,e){let n=Qj(e),r=Xj(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function Yj(t,e){qg.set(t._key(),e)}function Xj(t){return Ys(t._redirectPersistence)}function Qj(t){return zg(Gj,t.config.apiKey,t.name)}async function Zj(t,e,n=!1){if(Bi(t.app))return Promise.reject(Xs(t));let r=Zc(t),i=Hj(r,e),s=await new qw(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var Jj=600*1e3,Ww=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!j4(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yc(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jj&&this.cachedEventUids.clear(),this.cachedEventUids.has(r4(e))}saveEventToCache(e){this.cachedEventUids.add(r4(e)),this.lastProcessedEventTime=Date.now()}};function r4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j4(t);default:return!1}}async function tB(t,e={}){return bs(t,"GET","/v1/projects",e)}var nB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rB=/^https?/;async function iB(t){if(t.config.emulator)return;let{authorizedDomains:e}=await tB(t);for(let n of e)try{if(oB(n))return}catch{}vs(t,"unauthorized-domain")}function oB(t){let e=Dw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!rB.test(n))return!1;if(nB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var sB=new Xc(3e4,6e4);function i4(){let t=ys().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aB(t){return new Promise((e,n)=>{function r(){i4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i4(),n(Yc(t,"network-request-failed"))},timeout:sB.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)r();else{let i=S4("iframefcb");return ys()[i]=()=>{gapi.load?r():n(Yc(t,"network-request-failed"))},I4(`${lj()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Wg=null,e})}var Wg=null;function cB(t){return Wg=Wg||aB(t),Wg}var lB=new Xc(5e3,15e3),uB="__/auth/iframe",dB="emulator/auth/iframe",fB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pB(t){let e=t.config;xt(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Xw(e,dB):`https://${t.config.authDomain}/${uB}`,r={apiKey:e.apiKey,appName:t.name,v:ja},i=hB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bf(r).slice(1)}`}async function mB(t){let e=await cB(t),n=ys().gapi;return xt(n,t,"internal-error"),e.open({where:document.body,url:pB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Yc(t,"network-request-failed"),a=ys().setTimeout(()=>{o(s)},lB.get());function c(){ys().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}var gB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yB=500,vB=600,bB="_blank",_B="http://localhost",i0=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function wB(t,e,n,r=yB,i=vB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Ne(ye({},gB),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Gr().toLowerCase();n&&(a=v4(u)?bB:n),g4(u)&&(e=e||_B,c.scrollbars="yes");let l=Object.entries(c).reduce((f,[p,h])=>`${f}${p}=${h},`,"");if(rj(u)&&a!=="_self")return EB(e||"",a),new i0(null);let d=window.open(e||"",a,l);xt(d,t,"popup-blocked");try{d.focus()}catch{}return new i0(d)}function EB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var CB="__/auth/handler",xB="emulator/auth/handler",IB=encodeURIComponent("fac");async function o4(t,e,n,r,i,o){xt(t.config.authDomain,t,"auth-domain-config-required"),xt(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ja,eventId:i};if(e instanceof e0){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",yA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof Bw){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=await t._getAppCheckToken(),u=c?`#${IB}=${encodeURIComponent(c)}`:"";return`${SB(t)}?${Bf(a).slice(1)}${u}`}function SB({config:t}){return t.emulator?Xw(t,xB):`https://${t.authDomain}/${CB}`}var Tw="webStorageSupport",Gw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c2,this._completeRedirectFn=Zj,this._overrideRedirectResult=Yj}async _openPopup(e,n,r,i){qa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await o4(e,n,r,Dw(),i);return wB(e,o,P4())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await o4(e,n,r,Dw(),i);return Nj(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(qa(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await mB(e),r=new Ww(e);return n.register("authEvent",i=>(xt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tw,{type:Tw},i=>{let o=i?.[0]?.[Tw];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C4()||y4()||e2()}},B4=Gw;var s4="@firebase/auth",a4="1.12.0";var Kw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function TB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DB(t){Go(new ki("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;xt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x4(t)},u=new Ow(r,i,o,c);return dj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new ki("auth-internal",e=>{let n=Zc(e.getProvider("auth").getImmediate());return(r=>new Kw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(s4,a4,TB(t)),cr(s4,a4,"esm2020")}var AB=300,MB=nw("authIdTokenMaxAge")||AB,c4=null,kB=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MB)return;let i=n?.token;c4!==i&&(c4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l2(t=Wc()){let e=gu(t,"auth");if(e.isInitialized())return e.getImmediate();let n=t2(t,{popupRedirectResolver:B4,persistence:[V4,N4,c2]}),r=nw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=kB(o.toString());s2(n,s,()=>s(n.currentUser)),u0(n,a=>s(a))}}let i=ew("auth");return i&&n2(n,`http://${i}`),n}function RB(){return document.getElementsByTagName("head")?.[0]??document}aj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Yc("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",RB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DB("Browser");function U4(t){return new Gt(function(e){var n=d0(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var H4="auth",Jc=class{constructor(e){return e}},eh=class{constructor(){return vu(H4)}};var u2=new ct("angularfire2.auth-instances");function g$(t,e){let n=Hf(H4,t,e);return n&&new Jc(n)}function y$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Jc(r)}}var v$={provide:eh,deps:[[new Yi,u2]]},b$={provide:Jc,useFactory:g$,deps:[[new Yi,u2],Gs]};function z4(t,...e){return cr("angularfire",Ba.full,"auth"),No([b$,v$,{provide:u2,useFactory:y$(t),multi:!0,deps:[Xn,fr,$a,Kc,[new Yi,bu],...e]}])}var q4=zn(U4,!0);var W4=zn(i2,!0,2);var G4=zn(l2,!0);var K4=zn(o2,!0,2);var Y4=zn(a2,!0,2);var X4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q4={};var Zs,d2;(function(){var t;function e(R,N){function j(){}j.prototype=N.prototype,R.F=N.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(O,E,I){for(var A=Array(arguments.length-2),g=2;g<arguments.length;g++)A[g-2]=arguments[g];return N.prototype[E].apply(O,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,N,j){j||(j=0);let O=Array(16);if(typeof N=="string")for(var E=0;E<16;++E)O[E]=N.charCodeAt(j++)|N.charCodeAt(j++)<<8|N.charCodeAt(j++)<<16|N.charCodeAt(j++)<<24;else for(E=0;E<16;++E)O[E]=N[j++]|N[j++]<<8|N[j++]<<16|N[j++]<<24;N=R.g[0],j=R.g[1],E=R.g[2];let I=R.g[3],A;A=N+(I^j&(E^I))+O[0]+3614090360&4294967295,N=j+(A<<7&4294967295|A>>>25),A=I+(E^N&(j^E))+O[1]+3905402710&4294967295,I=N+(A<<12&4294967295|A>>>20),A=E+(j^I&(N^j))+O[2]+606105819&4294967295,E=I+(A<<17&4294967295|A>>>15),A=j+(N^E&(I^N))+O[3]+3250441966&4294967295,j=E+(A<<22&4294967295|A>>>10),A=N+(I^j&(E^I))+O[4]+4118548399&4294967295,N=j+(A<<7&4294967295|A>>>25),A=I+(E^N&(j^E))+O[5]+1200080426&4294967295,I=N+(A<<12&4294967295|A>>>20),A=E+(j^I&(N^j))+O[6]+2821735955&4294967295,E=I+(A<<17&4294967295|A>>>15),A=j+(N^E&(I^N))+O[7]+4249261313&4294967295,j=E+(A<<22&4294967295|A>>>10),A=N+(I^j&(E^I))+O[8]+1770035416&4294967295,N=j+(A<<7&4294967295|A>>>25),A=I+(E^N&(j^E))+O[9]+2336552879&4294967295,I=N+(A<<12&4294967295|A>>>20),A=E+(j^I&(N^j))+O[10]+4294925233&4294967295,E=I+(A<<17&4294967295|A>>>15),A=j+(N^E&(I^N))+O[11]+2304563134&4294967295,j=E+(A<<22&4294967295|A>>>10),A=N+(I^j&(E^I))+O[12]+1804603682&4294967295,N=j+(A<<7&4294967295|A>>>25),A=I+(E^N&(j^E))+O[13]+4254626195&4294967295,I=N+(A<<12&4294967295|A>>>20),A=E+(j^I&(N^j))+O[14]+2792965006&4294967295,E=I+(A<<17&4294967295|A>>>15),A=j+(N^E&(I^N))+O[15]+1236535329&4294967295,j=E+(A<<22&4294967295|A>>>10),A=N+(E^I&(j^E))+O[1]+4129170786&4294967295,N=j+(A<<5&4294967295|A>>>27),A=I+(j^E&(N^j))+O[6]+3225465664&4294967295,I=N+(A<<9&4294967295|A>>>23),A=E+(N^j&(I^N))+O[11]+643717713&4294967295,E=I+(A<<14&4294967295|A>>>18),A=j+(I^N&(E^I))+O[0]+3921069994&4294967295,j=E+(A<<20&4294967295|A>>>12),A=N+(E^I&(j^E))+O[5]+3593408605&4294967295,N=j+(A<<5&4294967295|A>>>27),A=I+(j^E&(N^j))+O[10]+38016083&4294967295,I=N+(A<<9&4294967295|A>>>23),A=E+(N^j&(I^N))+O[15]+3634488961&4294967295,E=I+(A<<14&4294967295|A>>>18),A=j+(I^N&(E^I))+O[4]+3889429448&4294967295,j=E+(A<<20&4294967295|A>>>12),A=N+(E^I&(j^E))+O[9]+568446438&4294967295,N=j+(A<<5&4294967295|A>>>27),A=I+(j^E&(N^j))+O[14]+3275163606&4294967295,I=N+(A<<9&4294967295|A>>>23),A=E+(N^j&(I^N))+O[3]+4107603335&4294967295,E=I+(A<<14&4294967295|A>>>18),A=j+(I^N&(E^I))+O[8]+1163531501&4294967295,j=E+(A<<20&4294967295|A>>>12),A=N+(E^I&(j^E))+O[13]+2850285829&4294967295,N=j+(A<<5&4294967295|A>>>27),A=I+(j^E&(N^j))+O[2]+4243563512&4294967295,I=N+(A<<9&4294967295|A>>>23),A=E+(N^j&(I^N))+O[7]+1735328473&4294967295,E=I+(A<<14&4294967295|A>>>18),A=j+(I^N&(E^I))+O[12]+2368359562&4294967295,j=E+(A<<20&4294967295|A>>>12),A=N+(j^E^I)+O[5]+4294588738&4294967295,N=j+(A<<4&4294967295|A>>>28),A=I+(N^j^E)+O[8]+2272392833&4294967295,I=N+(A<<11&4294967295|A>>>21),A=E+(I^N^j)+O[11]+1839030562&4294967295,E=I+(A<<16&4294967295|A>>>16),A=j+(E^I^N)+O[14]+4259657740&4294967295,j=E+(A<<23&4294967295|A>>>9),A=N+(j^E^I)+O[1]+2763975236&4294967295,N=j+(A<<4&4294967295|A>>>28),A=I+(N^j^E)+O[4]+1272893353&4294967295,I=N+(A<<11&4294967295|A>>>21),A=E+(I^N^j)+O[7]+4139469664&4294967295,E=I+(A<<16&4294967295|A>>>16),A=j+(E^I^N)+O[10]+3200236656&4294967295,j=E+(A<<23&4294967295|A>>>9),A=N+(j^E^I)+O[13]+681279174&4294967295,N=j+(A<<4&4294967295|A>>>28),A=I+(N^j^E)+O[0]+3936430074&4294967295,I=N+(A<<11&4294967295|A>>>21),A=E+(I^N^j)+O[3]+3572445317&4294967295,E=I+(A<<16&4294967295|A>>>16),A=j+(E^I^N)+O[6]+76029189&4294967295,j=E+(A<<23&4294967295|A>>>9),A=N+(j^E^I)+O[9]+3654602809&4294967295,N=j+(A<<4&4294967295|A>>>28),A=I+(N^j^E)+O[12]+3873151461&4294967295,I=N+(A<<11&4294967295|A>>>21),A=E+(I^N^j)+O[15]+530742520&4294967295,E=I+(A<<16&4294967295|A>>>16),A=j+(E^I^N)+O[2]+3299628645&4294967295,j=E+(A<<23&4294967295|A>>>9),A=N+(E^(j|~I))+O[0]+4096336452&4294967295,N=j+(A<<6&4294967295|A>>>26),A=I+(j^(N|~E))+O[7]+1126891415&4294967295,I=N+(A<<10&4294967295|A>>>22),A=E+(N^(I|~j))+O[14]+2878612391&4294967295,E=I+(A<<15&4294967295|A>>>17),A=j+(I^(E|~N))+O[5]+4237533241&4294967295,j=E+(A<<21&4294967295|A>>>11),A=N+(E^(j|~I))+O[12]+1700485571&4294967295,N=j+(A<<6&4294967295|A>>>26),A=I+(j^(N|~E))+O[3]+2399980690&4294967295,I=N+(A<<10&4294967295|A>>>22),A=E+(N^(I|~j))+O[10]+4293915773&4294967295,E=I+(A<<15&4294967295|A>>>17),A=j+(I^(E|~N))+O[1]+2240044497&4294967295,j=E+(A<<21&4294967295|A>>>11),A=N+(E^(j|~I))+O[8]+1873313359&4294967295,N=j+(A<<6&4294967295|A>>>26),A=I+(j^(N|~E))+O[15]+4264355552&4294967295,I=N+(A<<10&4294967295|A>>>22),A=E+(N^(I|~j))+O[6]+2734768916&4294967295,E=I+(A<<15&4294967295|A>>>17),A=j+(I^(E|~N))+O[13]+1309151649&4294967295,j=E+(A<<21&4294967295|A>>>11),A=N+(E^(j|~I))+O[4]+4149444226&4294967295,N=j+(A<<6&4294967295|A>>>26),A=I+(j^(N|~E))+O[11]+3174756917&4294967295,I=N+(A<<10&4294967295|A>>>22),A=E+(N^(I|~j))+O[2]+718787259&4294967295,E=I+(A<<15&4294967295|A>>>17),A=j+(I^(E|~N))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(E+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+E&4294967295,R.g[3]=R.g[3]+I&4294967295}r.prototype.v=function(R,N){N===void 0&&(N=R.length);let j=N-this.blockSize,O=this.C,E=this.h,I=0;for(;I<N;){if(E==0)for(;I<=j;)i(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<N;)if(O[E++]=R.charCodeAt(I++),E==this.blockSize){i(this,O),E=0;break}}else for(;I<N;)if(O[E++]=R[I++],E==this.blockSize){i(this,O),E=0;break}}this.h=E,this.o+=N},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;N=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=N&255,N/=256;for(this.v(R),R=Array(16),N=0,j=0;j<4;++j)for(let O=0;O<32;O+=8)R[N++]=this.g[j]>>>O&255;return R};function o(R,N){var j=a;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=N(R)}function s(R,N){this.h=N;let j=[],O=!0;for(let E=R.length-1;E>=0;E--){let I=R[E]|0;O&&I==N||(j[E]=I,O=!1)}this.g=j}var a={};function c(R){return-128<=R&&R<128?o(R,function(N){return new s([N|0],N<0?-1:0)}):new s([R|0],R<0?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return d;if(R<0)return m(u(-R));let N=[],j=1;for(let O=0;R>=j;O++)N[O]=R/j|0,j*=4294967296;return new s(N,0)}function l(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return m(l(R.substring(1),N));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');let j=u(Math.pow(N,8)),O=d;for(let I=0;I<R.length;I+=8){var E=Math.min(8,R.length-I);let A=parseInt(R.substring(I,I+E),N);E<8?(E=u(Math.pow(N,E)),O=O.j(E).add(u(A))):(O=O.j(j),O=O.add(u(A)))}return O}var d=c(0),f=c(1),p=c(16777216);t=s.prototype,t.m=function(){if(y(this))return-m(this).m();let R=0,N=1;for(let j=0;j<this.g.length;j++){let O=this.i(j);R+=(O>=0?O:4294967296+O)*N,N*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(h(this))return"0";if(y(this))return"-"+m(this).toString(R);let N=u(Math.pow(R,6));var j=this;let O="";for(;;){let E=L(j,N).g;j=_(j,E.j(N));let I=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=E,h(j))return I+O;for(;I.length<6;)I="0"+I;O=I+O}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function h(R){if(R.h!=0)return!1;for(let N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function y(R){return R.h==-1}t.l=function(R){return R=_(this,R),y(R)?-1:h(R)?0:1};function m(R){let N=R.g.length,j=[];for(let O=0;O<N;O++)j[O]=~R.g[O];return new s(j,~R.h).add(f)}t.abs=function(){return y(this)?m(this):this},t.add=function(R){let N=Math.max(this.g.length,R.g.length),j=[],O=0;for(let E=0;E<=N;E++){let I=O+(this.i(E)&65535)+(R.i(E)&65535),A=(I>>>16)+(this.i(E)>>>16)+(R.i(E)>>>16);O=A>>>16,I&=65535,A&=65535,j[E]=A<<16|I}return new s(j,j[j.length-1]&-2147483648?-1:0)};function _(R,N){return R.add(m(N))}t.j=function(R){if(h(this)||h(R))return d;if(y(this))return y(R)?m(this).j(m(R)):m(m(this).j(R));if(y(R))return m(this.j(m(R)));if(this.l(p)<0&&R.l(p)<0)return u(this.m()*R.m());let N=this.g.length+R.g.length,j=[];for(var O=0;O<2*N;O++)j[O]=0;for(O=0;O<this.g.length;O++)for(let E=0;E<R.g.length;E++){let I=this.i(O)>>>16,A=this.i(O)&65535,g=R.i(E)>>>16,v=R.i(E)&65535;j[2*O+2*E]+=A*v,x(j,2*O+2*E),j[2*O+2*E+1]+=I*v,x(j,2*O+2*E+1),j[2*O+2*E+1]+=A*g,x(j,2*O+2*E+1),j[2*O+2*E+2]+=I*g,x(j,2*O+2*E+2)}for(R=0;R<N;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=N;R<2*N;R++)j[R]=0;return new s(j,0)};function x(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function D(R,N){this.g=R,this.h=N}function L(R,N){if(h(N))throw Error("division by zero");if(h(R))return new D(d,d);if(y(R))return N=L(m(R),N),new D(m(N.g),m(N.h));if(y(N))return N=L(R,m(N)),new D(m(N.g),N.h);if(R.g.length>30){if(y(R)||y(N))throw Error("slowDivide_ only works with positive integers.");for(var j=f,O=N;O.l(R)<=0;)j=$(j),O=$(O);var E=V(j,1),I=V(O,1);for(O=V(O,2),j=V(j,2);!h(O);){var A=I.add(O);A.l(R)<=0&&(E=E.add(j),I=A),O=V(O,1),j=V(j,1)}return N=_(R,E.j(N)),new D(E,N)}for(E=d;R.l(N)>=0;){for(j=Math.max(1,Math.floor(R.m()/N.m())),O=Math.ceil(Math.log(j)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),I=u(j),A=I.j(N);y(A)||A.l(R)>0;)j-=O,I=u(j),A=I.j(N);h(I)&&(I=f),E=E.add(I),R=_(R,A)}return new D(E,R)}t.B=function(R){return L(this,R).h},t.and=function(R){let N=Math.max(this.g.length,R.g.length),j=[];for(let O=0;O<N;O++)j[O]=this.i(O)&R.i(O);return new s(j,this.h&R.h)},t.or=function(R){let N=Math.max(this.g.length,R.g.length),j=[];for(let O=0;O<N;O++)j[O]=this.i(O)|R.i(O);return new s(j,this.h|R.h)},t.xor=function(R){let N=Math.max(this.g.length,R.g.length),j=[];for(let O=0;O<N;O++)j[O]=this.i(O)^R.i(O);return new s(j,this.h^R.h)};function $(R){let N=R.g.length+1,j=[];for(let O=0;O<N;O++)j[O]=R.i(O)<<1|R.i(O-1)>>>31;return new s(j,R.h)}function V(R,N){let j=N>>5;N%=32;let O=R.g.length-j,E=[];for(let I=0;I<O;I++)E[I]=N>0?R.i(I+j)>>>N|R.i(I+j+1)<<32-N:R.i(I+j);return new s(E,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d2=Q4.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=l,Zs=Q4.Integer=s}).apply(typeof X4<"u"?X4:typeof self<"u"?self:typeof window<"u"?window:{});var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Js={};var f2,w$,Eu,h2,th,p0,p2,m2,g2;(function(){var t,e=Object.defineProperty;function n(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof h0=="object"&&h0];for(var W=0;W<T.length;++W){var Q=T[W];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var r=n(this);function i(T,W){if(W)e:{var Q=r;T=T.split(".");for(var re=0;re<T.length-1;re++){var _e=T[re];if(!(_e in Q))break e;Q=Q[_e]}T=T[T.length-1],re=Q[T],W=W(re),W!=re&&W!=null&&e(Q,T,{configurable:!0,writable:!0,value:W})}}i("Symbol.dispose",function(T){return T||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(T){return T||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(T){return T||function(W){var Q=[],re;for(re in W)Object.prototype.hasOwnProperty.call(W,re)&&Q.push([re,W[re]]);return Q}});var o=o||{},s=this||self;function a(T){var W=typeof T;return W=="object"&&T!=null||W=="function"}function c(T,W,Q){return T.call.apply(T.bind,arguments)}function u(T,W,Q){return u=c,u.apply(null,arguments)}function l(T,W){var Q=Array.prototype.slice.call(arguments,1);return function(){var re=Q.slice();return re.push.apply(re,arguments),T.apply(this,re)}}function d(T,W){function Q(){}Q.prototype=W.prototype,T.Z=W.prototype,T.prototype=new Q,T.prototype.constructor=T,T.Ob=function(re,_e,Ce){for(var Ge=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)Ge[Jt-2]=arguments[Jt];return W.prototype[_e].apply(re,Ge)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?T=>T&&AsyncContext.Snapshot.wrap(T):T=>T;function p(T){let W=T.length;if(W>0){let Q=Array(W);for(let re=0;re<W;re++)Q[re]=T[re];return Q}return[]}function h(T,W){for(let re=1;re<arguments.length;re++){let _e=arguments[re];var Q=typeof _e;if(Q=Q!="object"?Q:_e?Array.isArray(_e)?"array":Q:"null",Q=="array"||Q=="object"&&typeof _e.length=="number"){Q=T.length||0;let Ce=_e.length||0;T.length=Q+Ce;for(let Ge=0;Ge<Ce;Ge++)T[Q+Ge]=_e[Ge]}else T.push(_e)}}class y{constructor(W,Q){this.i=W,this.j=Q,this.h=0,this.g=null}get(){let W;return this.h>0?(this.h--,W=this.g,this.g=W.next,W.next=null):W=this.i(),W}}function m(T){s.setTimeout(()=>{throw T},0)}function _(){var T=R;let W=null;return T.g&&(W=T.g,T.g=T.g.next,T.g||(T.h=null),W.next=null),W}class x{constructor(){this.h=this.g=null}add(W,Q){let re=D.get();re.set(W,Q),this.h?this.h.next=re:this.g=re,this.h=re}}var D=new y(()=>new L,T=>T.reset());class L{constructor(){this.next=this.g=this.h=null}set(W,Q){this.h=W,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let $,V=!1,R=new x,N=()=>{let T=Promise.resolve(void 0);$=()=>{T.then(j)}};function j(){for(var T;T=_();){try{T.h.call(T.g)}catch(Q){m(Q)}var W=D;W.j(T),W.h<100&&(W.h++,T.next=W.g,W.g=T)}V=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(T,W){this.type=T,this.g=this.target=W,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var T=!1,W=Object.defineProperty({},"passive",{get:function(){T=!0}});try{let Q=()=>{};s.addEventListener("test",Q,W),s.removeEventListener("test",Q,W)}catch{}return T})();function A(T){return/^[\s\xa0]*$/.test(T)}function g(T,W){E.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T&&this.init(T,W)}d(g,E),g.prototype.init=function(T,W){let Q=this.type=T.type,re=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;this.target=T.target||T.srcElement,this.g=W,W=T.relatedTarget,W||(Q=="mouseover"?W=T.fromElement:Q=="mouseout"&&(W=T.toElement)),this.relatedTarget=W,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=T.pointerType,this.state=T.state,this.i=T,T.defaultPrevented&&g.Z.h.call(this)},g.prototype.h=function(){g.Z.h.call(this);let T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var v="closure_listenable_"+(Math.random()*1e6|0),w=0;function b(T,W,Q,re,_e){this.listener=T,this.proxy=null,this.src=W,this.type=Q,this.capture=!!re,this.ha=_e,this.key=++w,this.da=this.fa=!1}function C(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function S(T,W,Q){for(let re in T)W.call(Q,T[re],re,T)}function F(T,W){for(let Q in T)W.call(void 0,T[Q],Q,T)}function q(T){let W={};for(let Q in T)W[Q]=T[Q];return W}let z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(T,W){let Q,re;for(let _e=1;_e<arguments.length;_e++){re=arguments[_e];for(Q in re)T[Q]=re[Q];for(let Ce=0;Ce<z.length;Ce++)Q=z[Ce],Object.prototype.hasOwnProperty.call(re,Q)&&(T[Q]=re[Q])}}function P(T){this.src=T,this.g={},this.h=0}P.prototype.add=function(T,W,Q,re,_e){let Ce=T.toString();T=this.g[Ce],T||(T=this.g[Ce]=[],this.h++);let Ge=k(T,W,re,_e);return Ge>-1?(W=T[Ge],Q||(W.fa=!1)):(W=new b(W,this.src,Ce,!!re,_e),W.fa=Q,T.push(W)),W};function K(T,W){let Q=W.type;if(Q in T.g){var re=T.g[Q],_e=Array.prototype.indexOf.call(re,W,void 0),Ce;(Ce=_e>=0)&&Array.prototype.splice.call(re,_e,1),Ce&&(C(W),T.g[Q].length==0&&(delete T.g[Q],T.h--))}}function k(T,W,Q,re){for(let _e=0;_e<T.length;++_e){let Ce=T[_e];if(!Ce.da&&Ce.listener==W&&Ce.capture==!!Q&&Ce.ha==re)return _e}return-1}var M="closure_lm_"+(Math.random()*1e6|0),H={};function Z(T,W,Q,re,_e){if(re&&re.once)return ne(T,W,Q,re,_e);if(Array.isArray(W)){for(let Ce=0;Ce<W.length;Ce++)Z(T,W[Ce],Q,re,_e);return null}return Q=he(Q),T&&T[v]?T.J(W,Q,a(re)?!!re.capture:!!re,_e):ie(T,W,Q,!1,re,_e)}function ie(T,W,Q,re,_e,Ce){if(!W)throw Error("Invalid event type");let Ge=a(_e)?!!_e.capture:!!_e,Jt=te(T);if(Jt||(T[M]=Jt=new P(T)),Q=Jt.add(W,Q,re,Ge,Ce),Q.proxy)return Q;if(re=J(),Q.proxy=re,re.src=T,re.listener=Q,T.addEventListener)I||(_e=Ge),_e===void 0&&(_e=!1),T.addEventListener(W.toString(),re,_e);else if(T.attachEvent)T.attachEvent(ee(W.toString()),re);else if(T.addListener&&T.removeListener)T.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function J(){function T(Q){return W.call(T.src,T.listener,Q)}let W=le;return T}function ne(T,W,Q,re,_e){if(Array.isArray(W)){for(let Ce=0;Ce<W.length;Ce++)ne(T,W[Ce],Q,re,_e);return null}return Q=he(Q),T&&T[v]?T.K(W,Q,a(re)?!!re.capture:!!re,_e):ie(T,W,Q,!0,re,_e)}function de(T,W,Q,re,_e){if(Array.isArray(W))for(var Ce=0;Ce<W.length;Ce++)de(T,W[Ce],Q,re,_e);else re=a(re)?!!re.capture:!!re,Q=he(Q),T&&T[v]?(T=T.i,Ce=String(W).toString(),Ce in T.g&&(W=T.g[Ce],Q=k(W,Q,re,_e),Q>-1&&(C(W[Q]),Array.prototype.splice.call(W,Q,1),W.length==0&&(delete T.g[Ce],T.h--)))):T&&(T=te(T))&&(W=T.g[W.toString()],T=-1,W&&(T=k(W,Q,re,_e)),(Q=T>-1?W[T]:null)&&ue(Q))}function ue(T){if(typeof T!="number"&&T&&!T.da){var W=T.src;if(W&&W[v])K(W.i,T);else{var Q=T.type,re=T.proxy;W.removeEventListener?W.removeEventListener(Q,re,T.capture):W.detachEvent?W.detachEvent(ee(Q),re):W.addListener&&W.removeListener&&W.removeListener(re),(Q=te(W))?(K(Q,T),Q.h==0&&(Q.src=null,W[M]=null)):C(T)}}}function ee(T){return T in H?H[T]:H[T]="on"+T}function le(T,W){if(T.da)T=!0;else{W=new g(W,this);let Q=T.listener,re=T.ha||T.src;T.fa&&ue(T),T=Q.call(re,W)}return T}function te(T){return T=T[M],T instanceof P?T:null}var ae="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(T){return typeof T=="function"?T:(T[ae]||(T[ae]=function(W){return T.handleEvent(W)}),T[ae])}function fe(){O.call(this),this.i=new P(this),this.M=this,this.G=null}d(fe,O),fe.prototype[v]=!0,fe.prototype.removeEventListener=function(T,W,Q,re){de(this,T,W,Q,re)};function ve(T,W){var Q,re=T.G;if(re)for(Q=[];re;re=re.G)Q.push(re);if(T=T.M,re=W.type||W,typeof W=="string")W=new E(W,T);else if(W instanceof E)W.target=W.target||T;else{var _e=W;W=new E(re,T),Y(W,_e)}_e=!0;let Ce,Ge;if(Q)for(Ge=Q.length-1;Ge>=0;Ge--)Ce=W.g=Q[Ge],_e=Ae(Ce,re,!0,W)&&_e;if(Ce=W.g=T,_e=Ae(Ce,re,!0,W)&&_e,_e=Ae(Ce,re,!1,W)&&_e,Q)for(Ge=0;Ge<Q.length;Ge++)Ce=W.g=Q[Ge],_e=Ae(Ce,re,!1,W)&&_e}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var T=this.i;for(let W in T.g){let Q=T.g[W];for(let re=0;re<Q.length;re++)C(Q[re]);delete T.g[W],T.h--}}this.G=null},fe.prototype.J=function(T,W,Q,re){return this.i.add(String(T),W,!1,Q,re)},fe.prototype.K=function(T,W,Q,re){return this.i.add(String(T),W,!0,Q,re)};function Ae(T,W,Q,re){if(W=T.i.g[String(W)],!W)return!0;W=W.concat();let _e=!0;for(let Ce=0;Ce<W.length;++Ce){let Ge=W[Ce];if(Ge&&!Ge.da&&Ge.capture==Q){let Jt=Ge.listener,Rr=Ge.ha||Ge.src;Ge.fa&&K(T.i,Ge),_e=Jt.call(Rr,re)!==!1&&_e}}return _e&&!re.defaultPrevented}function Re(T,W){if(typeof T!="function")if(T&&typeof T.handleEvent=="function")T=u(T.handleEvent,T);else throw Error("Invalid listener argument");return Number(W)>2147483647?-1:s.setTimeout(T,W||0)}function Oe(T){T.g=Re(()=>{T.g=null,T.i&&(T.i=!1,Oe(T))},T.l);let W=T.h;T.h=null,T.m.apply(null,W)}class ut extends O{constructor(W,Q){super(),this.m=W,this.l=Q,this.h=null,this.i=!1,this.g=null}j(W){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(T){O.call(this),this.h=T,this.g={}}d(He,O);var Ye=[];function Ht(T){S(T.g,function(W,Q){this.g.hasOwnProperty(Q)&&ue(W)},T),T.g={}}He.prototype.N=function(){He.Z.N.call(this),Ht(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=s.JSON.stringify,Qe=s.JSON.parse,pt=class{stringify(T){return s.JSON.stringify(T,void 0)}parse(T){return s.JSON.parse(T,void 0)}};function Ue(){}function Ve(){}var Nt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nt(){E.call(this,"d")}d(nt,E);function mt(){E.call(this,"c")}d(mt,E);var Ar={},gt=null;function bt(){return gt=gt||new fe}Ar.Ia="serverreachability";function Jn(T){E.call(this,Ar.Ia,T)}d(Jn,E);function It(T){let W=bt();ve(W,new Jn(W))}Ar.STAT_EVENT="statevent";function Mt(T,W){E.call(this,Ar.STAT_EVENT,T),this.stat=W}d(Mt,E);function Mn(T){let W=bt();ve(W,new Mt(W,T))}Ar.Ja="timingevent";function Ct(T,W){E.call(this,Ar.Ja,T),this.size=W}d(Ct,E);function vt(T,W){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){T()},W)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function kt(T,W,Q,re,_e,Ce){T.info(function(){if(T.g)if(Ce){var Ge="",Jt=Ce.split("&");for(let Pn=0;Pn<Jt.length;Pn++){var Rr=Jt[Pn].split("=");if(Rr.length>1){let Ur=Rr[0];Rr=Rr[1];let Qo=Ur.split("_");Ge=Qo.length>=2&&Qo[1]=="type"?Ge+(Ur+"="+Rr+"&"):Ge+(Ur+"=redacted&")}}}else Ge=null;else Ge=Ce;return"XMLHTTP REQ ("+re+") [attempt "+_e+"]: "+W+`
`+Q+`
`+Ge})}function _t(T,W,Q,re,_e,Ce,Ge){T.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+_e+"]: "+W+`
`+Q+`
`+Ce+" "+Ge})}function Br(T,W,Q,re){T.info(function(){return"XMLHTTP TEXT ("+W+"): "+ce(T,Q)+(re?" "+re:"")})}function Pt(T,W){T.info(function(){return"TIMEOUT: "+W})}er.prototype.info=function(){};function ce(T,W){if(!T.g)return W;if(!W)return null;try{let Ce=JSON.parse(W);if(Ce){for(T=0;T<Ce.length;T++)if(Array.isArray(Ce[T])){var Q=Ce[T];if(!(Q.length<2)){var re=Q[1];if(Array.isArray(re)&&!(re.length<1)){var _e=re[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(let Ge=1;Ge<re.length;Ge++)re[Ge]=""}}}}return dt(Ce)}catch{return W}}var we={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ke;function tn(){}d(tn,Ue),tn.prototype.g=function(){return new XMLHttpRequest},ke=new tn;function We(T){return encodeURIComponent(String(T))}function tt(T){var W=1;T=T.split(":");let Q=[];for(;W>0&&T.length;)Q.push(T.shift()),W--;return T.length&&Q.push(T.join(":")),Q}function nn(T,W,Q,re){this.j=T,this.i=W,this.l=Q,this.S=re||1,this.V=new He(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var et={},fn={};function Wt(T,W,Q){T.M=1,T.A=so(en(W)),T.u=Q,T.R=!0,Kt(T,null)}function Kt(T,W){T.F=Date.now(),Mr(T),T.B=en(T.A);var Q=T.B,re=T.S;Array.isArray(re)||(re=[String(re)]),So(Q.i,"t",re),T.C=0,Q=T.j.L,T.h=new yt,T.g=wx(T.j,Q?W:null,!T.u),T.P>0&&(T.O=new ut(u(T.Y,T,T.g),T.P)),W=T.V,Q=T.g,re=T.ba;var _e="readystatechange";Array.isArray(_e)||(_e&&(Ye[0]=_e.toString()),_e=Ye);for(let Ce=0;Ce<_e.length;Ce++){let Ge=Z(Q,_e[Ce],re||W.handleEvent,!1,W.h||W);if(!Ge)break;W.g[Ge.key]=Ge}W=T.J?q(T.J):{},T.u?(T.v||(T.v="POST"),W["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.B,T.v,T.u,W)):(T.v="GET",T.g.ea(T.B,T.v,null,W)),It(),kt(T.i,T.v,T.B,T.l,T.S,T.u)}nn.prototype.ba=function(T){T=T.target;let W=this.O;W&&ua(T)==3?W.j():this.Y(T)},nn.prototype.Y=function(T){try{if(T==this.g)e:{let Jt=ua(this.g),Rr=this.g.ya(),Pn=this.g.ca();if(!(Jt<3)&&(Jt!=3||this.g&&(this.h.h||this.g.la()||ux(this.g)))){this.K||Jt!=4||Rr==7||(Rr==8||Pn<=0?It(3):It(2)),kr(this);var W=this.g.ca();this.X=W;var Q=Sn(this);if(this.o=W==200,_t(this.i,this.v,this.B,this.l,this.S,Jt,W),this.o){if(this.U&&!this.L){t:{if(this.g){var re,_e=this.g;if((re=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(re)){var Ce=re;break t}}Ce=null}if(T=Ce)Br(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,De(this,T);else{this.o=!1,this.m=3,Mn(12),be(this),se(this);break e}}if(this.R){T=!0;let Ur;for(;!this.K&&this.C<Q.length;)if(Ur=gr(this,Q),Ur==fn){Jt==4&&(this.m=4,Mn(14),T=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==et){this.m=4,Mn(15),Br(this.i,this.l,Q,"[Invalid Chunk]"),T=!1;break}else Br(this.i,this.l,Ur,null),De(this,Ur);if(Gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||Q.length!=0||this.h.h||(this.m=1,Mn(16),T=!1),this.o=this.o&&T,!T)Br(this.i,this.l,Q,"[Invalid Chunked Response]"),be(this),se(this);else if(Q.length>0&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.aa&&!Ge.P&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Qy(Ge),Ge.P=!0,Mn(11))}}else Br(this.i,this.l,Q,null),De(this,Q);Jt==4&&be(this),this.o&&!this.K&&(Jt==4?yx(this.j,this):(this.o=!1,Mr(this)))}else O5(this.g),W==400&&Q.indexOf("Unknown SID")>0?(this.m=3,Mn(12)):(this.m=0,Mn(13)),be(this),se(this)}}}catch{}finally{}};function Sn(T){if(!Gn(T))return T.g.la();let W=ux(T.g);if(W==="")return"";let Q="",re=W.length,_e=ua(T.g)==4;if(!T.h.i){if(typeof TextDecoder>"u")return be(T),se(T),"";T.h.i=new s.TextDecoder}for(let Ce=0;Ce<re;Ce++)T.h.h=!0,Q+=T.h.i.decode(W[Ce],{stream:!(_e&&Ce==re-1)});return W.length=0,T.h.g+=Q,T.C=0,T.h.g}function Gn(T){return T.g?T.v=="GET"&&T.M!=2&&T.j.Aa:!1}function gr(T,W){var Q=T.C,re=W.indexOf(`
`,Q);return re==-1?fn:(Q=Number(W.substring(Q,re)),isNaN(Q)?et:(re+=1,re+Q>W.length?fn:(W=W.slice(re,re+Q),T.C=re+Q,W)))}nn.prototype.cancel=function(){this.K=!0,be(this)};function Mr(T){T.T=Date.now()+T.H,rr(T,T.H)}function rr(T,W){if(T.D!=null)throw Error("WatchDog timer not null");T.D=vt(u(T.aa,T),W)}function kr(T){T.D&&(s.clearTimeout(T.D),T.D=null)}nn.prototype.aa=function(){this.D=null;let T=Date.now();T-this.T>=0?(Pt(this.i,this.B),this.M!=2&&(It(),Mn(17)),be(this),this.m=2,se(this)):rr(this,this.T-T)};function se(T){T.j.I==0||T.K||yx(T.j,T)}function be(T){kr(T);var W=T.O;W&&typeof W.dispose=="function"&&W.dispose(),T.O=null,Ht(T.V),T.g&&(W=T.g,T.g=null,W.abort(),W.dispose())}function De(T,W){try{var Q=T.j;if(Q.I!=0&&(Q.g==T||Yt(Q.h,T))){if(!T.L&&Yt(Q.h,T)&&Q.I==3){try{var re=Q.Ba.g.parse(W)}catch{re=null}if(Array.isArray(re)&&re.length==3){var _e=re;if(_e[0]==0){e:if(!Q.v){if(Q.g)if(Q.g.F+3e3<T.F)zh(Q),Uh(Q);else break e;Xy(Q),Mn(18)}}else Q.xa=_e[1],0<Q.xa-Q.K&&_e[2]<37500&&Q.F&&Q.A==0&&!Q.C&&(Q.C=vt(u(Q.Va,Q),6e3));at(Q.h)<=1&&Q.ta&&(Q.ta=void 0)}else uc(Q,11)}else if((T.L||Q.g==T)&&zh(Q),!A(W))for(_e=Q.Ba.g.parse(W),W=0;W<_e.length;W++){let Pn=_e[W],Ur=Pn[0];if(!(Ur<=Q.K))if(Q.K=Ur,Pn=Pn[1],Q.I==2)if(Pn[0]=="c"){Q.M=Pn[1],Q.ba=Pn[2];let Qo=Pn[3];Qo!=null&&(Q.ka=Qo,Q.j.info("VER="+Q.ka));let dc=Pn[4];dc!=null&&(Q.za=dc,Q.j.info("SVER="+Q.za));let da=Pn[5];da!=null&&typeof da=="number"&&da>0&&(re=1.5*da,Q.O=re,Q.j.info("backChannelRequestTimeoutMs_="+re)),re=Q;let fa=T.g;if(fa){let Wh=fa.g?fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wh){var Ce=re.h;Ce.g||Wh.indexOf("spdy")==-1&&Wh.indexOf("quic")==-1&&Wh.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(Dt(Ce,Ce.h),Ce.h=null))}if(re.G){let Zy=fa.g?fa.g.getResponseHeader("X-HTTP-Session-Id"):null;Zy&&(re.wa=Zy,cn(re.J,re.G,Zy))}}Q.I=3,Q.l&&Q.l.ra(),Q.aa&&(Q.T=Date.now()-T.F,Q.j.info("Handshake RTT: "+Q.T+"ms")),re=Q;var Ge=T;if(re.na=_x(re,re.L?re.ba:null,re.W),Ge.L){St(re.h,Ge);var Jt=Ge,Rr=re.O;Rr&&(Jt.H=Rr),Jt.D&&(kr(Jt),Mr(Jt)),re.g=Ge}else mx(re);Q.i.length>0&&Hh(Q)}else Pn[0]!="stop"&&Pn[0]!="close"||uc(Q,7);else Q.I==3&&(Pn[0]=="stop"||Pn[0]=="close"?Pn[0]=="stop"?uc(Q,7):Yy(Q):Pn[0]!="noop"&&Q.l&&Q.l.qa(Pn),Q.A=0)}}It(4)}catch{}}var Ie=class{constructor(T,W){this.g=T,this.map=W}};function Be(T){this.l=T||10,s.PerformanceNavigationTiming?(T=s.performance.getEntriesByType("navigation"),T=T.length>0&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function st(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function at(T){return T.h?1:T.g?T.g.size:0}function Yt(T,W){return T.h?T.h==W:T.g?T.g.has(W):!1}function Dt(T,W){T.g?T.g.add(W):T.h=W}function St(T,W){T.h&&T.h==W?T.h=null:T.g&&T.g.has(W)&&T.g.delete(W)}Be.prototype.cancel=function(){if(this.i=Ot(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let T of this.g.values())T.cancel();this.g.clear()}};function Ot(T){if(T.h!=null)return T.i.concat(T.h.G);if(T.g!=null&&T.g.size!==0){let W=T.i;for(let Q of T.g.values())W=W.concat(Q.G);return W}return p(T.i)}var Kn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(T,W){if(T){T=T.split("&");for(let Q=0;Q<T.length;Q++){let re=T[Q].indexOf("="),_e,Ce=null;re>=0?(_e=T[Q].substring(0,re),Ce=T[Q].substring(re+1)):_e=T[Q],W(_e,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function Zt(T){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let W;T instanceof Zt?(this.l=T.l,ir(this,T.j),this.o=T.o,this.g=T.g,$r(this,T.u),this.h=T.h,oi(this,id(T.i)),this.m=T.m):T&&(W=String(T).match(Kn))?(this.l=!1,ir(this,W[1]||"",!0),this.o=Xo(W[2]||""),this.g=Xo(W[3]||"",!0),$r(this,W[4]),this.h=Xo(W[5]||"",!0),oi(this,W[6]||"",!0),this.m=Xo(W[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}Zt.prototype.toString=function(){let T=[];var W=this.j;W&&T.push(ao(W,_n,!0),":");var Q=this.g;return(Q||W=="file")&&(T.push("//"),(W=this.o)&&T.push(ao(W,_n,!0),"@"),T.push(We(Q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.u,Q!=null&&T.push(":",String(Q))),(Q=this.h)&&(this.g&&Q.charAt(0)!="/"&&T.push("/"),T.push(ao(Q,Q.charAt(0)=="/"?Ss:rd,!0))),(Q=this.i.toString())&&T.push("?",Q),(Q=this.m)&&T.push("#",ao(Q,_i)),T.join("")},Zt.prototype.resolve=function(T){let W=en(this),Q=!!T.j;Q?ir(W,T.j):Q=!!T.o,Q?W.o=T.o:Q=!!T.g,Q?W.g=T.g:Q=T.u!=null;var re=T.h;if(Q)$r(W,T.u);else if(Q=!!T.h){if(re.charAt(0)!="/")if(this.g&&!this.h)re="/"+re;else{var _e=W.h.lastIndexOf("/");_e!=-1&&(re=W.h.slice(0,_e+1)+re)}if(_e=re,_e==".."||_e==".")re="";else if(_e.indexOf("./")!=-1||_e.indexOf("/.")!=-1){re=_e.lastIndexOf("/",0)==0,_e=_e.split("/");let Ce=[];for(let Ge=0;Ge<_e.length;){let Jt=_e[Ge++];Jt=="."?re&&Ge==_e.length&&Ce.push(""):Jt==".."?((Ce.length>1||Ce.length==1&&Ce[0]!="")&&Ce.pop(),re&&Ge==_e.length&&Ce.push("")):(Ce.push(Jt),re=!0)}re=Ce.join("/")}else re=_e}return Q?W.h=re:Q=T.i.toString()!=="",Q?oi(W,id(T.i)):Q=!!T.m,Q&&(W.m=T.m),W};function en(T){return new Zt(T)}function ir(T,W,Q){T.j=Q?Xo(W,!0):W,T.j&&(T.j=T.j.replace(/:$/,""))}function $r(T,W){if(W){if(W=Number(W),isNaN(W)||W<0)throw Error("Bad port number "+W);T.u=W}else T.u=null}function oi(T,W,Q){W instanceof wi?(T.i=W,od(T.i,T.l)):(Q||(W=ao(W,yl)),T.i=new wi(W,T.l))}function cn(T,W,Q){T.i.set(W,Q)}function so(T){return cn(T,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),T}function Xo(T,W){return T?W?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function ao(T,W,Q){return typeof T=="string"?(T=encodeURI(T).replace(W,hn),Q&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function hn(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var _n=/[#\/\?@]/g,rd=/[#\?:]/g,Ss=/[#\?]/g,yl=/[#\?@]/g,_i=/#/g;function wi(T,W){this.h=this.g=null,this.i=T||null,this.j=!!W}function si(T){T.g||(T.g=new Map,T.h=0,T.i&&tr(T.i,function(W,Q){T.add(decodeURIComponent(W.replace(/\+/g," ")),Q)}))}t=wi.prototype,t.add=function(T,W){si(this),this.i=null,T=To(this,T);let Q=this.g.get(T);return Q||this.g.set(T,Q=[]),Q.push(W),this.h+=1,this};function la(T,W){si(T),W=To(T,W),T.g.has(W)&&(T.i=null,T.h-=T.g.get(W).length,T.g.delete(W))}function lc(T,W){return si(T),W=To(T,W),T.g.has(W)}t.forEach=function(T,W){si(this),this.g.forEach(function(Q,re){Q.forEach(function(_e){T.call(W,_e,re,this)},this)},this)};function Ts(T,W){si(T);let Q=[];if(typeof W=="string")lc(T,W)&&(Q=Q.concat(T.g.get(To(T,W))));else for(T=Array.from(T.g.values()),W=0;W<T.length;W++)Q=Q.concat(T[W]);return Q}t.set=function(T,W){return si(this),this.i=null,T=To(this,T),lc(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[W]),this.h+=1,this},t.get=function(T,W){return T?(T=Ts(this,T),T.length>0?String(T[0]):W):W};function So(T,W,Q){la(T,W),Q.length>0&&(T.i=null,T.g.set(To(T,W),p(Q)),T.h+=Q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let T=[],W=Array.from(this.g.keys());for(let re=0;re<W.length;re++){var Q=W[re];let _e=We(Q);Q=Ts(this,Q);for(let Ce=0;Ce<Q.length;Ce++){let Ge=_e;Q[Ce]!==""&&(Ge+="="+We(Q[Ce])),T.push(Ge)}}return this.i=T.join("&")};function id(T){let W=new wi;return W.i=T.i,T.g&&(W.g=new Map(T.g),W.h=T.h),W}function To(T,W){return W=String(W),T.j&&(W=W.toLowerCase()),W}function od(T,W){W&&!T.j&&(si(T),T.i=null,T.g.forEach(function(Q,re){let _e=re.toLowerCase();re!=_e&&(la(this,re),So(this,_e,Q))},T)),T.j=W}function vl(T,W){let Q=new er;if(s.Image){let re=new Image;re.onload=l(Do,Q,"TestLoadImage: loaded",!0,W,re),re.onerror=l(Do,Q,"TestLoadImage: error",!1,W,re),re.onabort=l(Do,Q,"TestLoadImage: abort",!1,W,re),re.ontimeout=l(Do,Q,"TestLoadImage: timeout",!1,W,re),s.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=T}else W(!1)}function bl(T,W){let Q=new er,re=new AbortController,_e=setTimeout(()=>{re.abort(),Do(Q,"TestPingServer: timeout",!1,W)},1e4);fetch(T,{signal:re.signal}).then(Ce=>{clearTimeout(_e),Ce.ok?Do(Q,"TestPingServer: ok",!0,W):Do(Q,"TestPingServer: server error",!1,W)}).catch(()=>{clearTimeout(_e),Do(Q,"TestPingServer: error",!1,W)})}function Do(T,W,Q,re,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),re(Q)}catch{}}function _l(){this.g=new pt}function Ds(T){this.i=T.Sb||null,this.h=T.ab||!1}d(Ds,Ue),Ds.prototype.g=function(){return new Bh(this.i,this.h)};function Bh(T,W){fe.call(this),this.H=T,this.o=W,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Bh,fe),t=Bh.prototype,t.open=function(T,W){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=T,this.D=W,this.readyState=1,ad(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let W={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};T&&(W.body=T),(this.H||s).fetch(new Request(this.D,W)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sd(this)),this.readyState=0},t.Pa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,ad(this)),this.g&&(this.readyState=3,ad(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ox(this)}else T.text().then(this.Oa.bind(this),this.ga.bind(this))};function ox(T){T.j.read().then(T.Ma.bind(T)).catch(T.ga.bind(T))}t.Ma=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var W=T.value?T.value:new Uint8Array(0);(W=this.B.decode(W,{stream:!T.done}))&&(this.response=this.responseText+=W)}T.done?sd(this):ad(this),this.readyState==3&&ox(this)}},t.Oa=function(T){this.g&&(this.response=this.responseText=T,sd(this))},t.Na=function(T){this.g&&(this.response=T,sd(this))},t.ga=function(){this.g&&sd(this)};function sd(T){T.readyState=4,T.l=null,T.j=null,T.B=null,ad(T)}t.setRequestHeader=function(T,W){this.A.append(T,W)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let T=[],W=this.h.entries();for(var Q=W.next();!Q.done;)Q=Q.value,T.push(Q[0]+": "+Q[1]),Q=W.next();return T.join(`\r
`)};function ad(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(Bh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function sx(T){let W="";return S(T,function(Q,re){W+=re,W+=":",W+=Q,W+=`\r
`}),W}function Ky(T,W,Q){e:{for(re in Q){var re=!1;break e}re=!0}re||(Q=sx(Q),typeof T=="string"?Q!=null&&We(Q):cn(T,W,Q))}function or(T){fe.call(this),this.headers=new Map,this.L=T||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(or,fe);var N5=/^https?$/i,P5=["POST","PUT"];t=or.prototype,t.Fa=function(T){this.H=T},t.ea=function(T,W,Q,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);W=W?W.toUpperCase():"GET",this.D=T,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ke.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(W,String(T),!0),this.B=!1}catch(Ce){ax(this,Ce);return}if(T=Q||"",Q=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var _e in re)Q.set(_e,re[_e]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(let Ce of re.keys())Q.set(Ce,re.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(Q.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),_e=s.FormData&&T instanceof s.FormData,!(Array.prototype.indexOf.call(P5,W,void 0)>=0)||re||_e||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[Ce,Ge]of Q)this.g.setRequestHeader(Ce,Ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(T),this.v=!1}catch(Ce){ax(this,Ce)}};function ax(T,W){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=W,T.o=5,cx(T),$h(T)}function cx(T){T.A||(T.A=!0,ve(T,"complete"),ve(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=T||7,ve(this,"complete"),ve(this,"abort"),$h(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$h(this,!0)),or.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?lx(this):this.Xa())},t.Xa=function(){lx(this)};function lx(T){if(T.h&&typeof o<"u"){if(T.v&&ua(T)==4)setTimeout(T.Ca.bind(T),0);else if(ve(T,"readystatechange"),ua(T)==4){T.h=!1;try{let Ce=T.ca();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var W=!0;break e;default:W=!1}var Q;if(!(Q=W)){var re;if(re=Ce===0){let Ge=String(T.D).match(Kn)[1]||null;!Ge&&s.self&&s.self.location&&(Ge=s.self.location.protocol.slice(0,-1)),re=!N5.test(Ge?Ge.toLowerCase():"")}Q=re}if(Q)ve(T,"complete"),ve(T,"success");else{T.o=6;try{var _e=ua(T)>2?T.g.statusText:""}catch{_e=""}T.l=_e+" ["+T.ca()+"]",cx(T)}}finally{$h(T)}}}}function $h(T,W){if(T.g){T.m&&(clearTimeout(T.m),T.m=null);let Q=T.g;T.g=null,W||ve(T,"ready");try{Q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ua(T){return T.g?T.g.readyState:0}t.ca=function(){try{return ua(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(T){if(this.g){var W=this.g.responseText;return T&&W.indexOf(T)==0&&(W=W.substring(T.length)),Qe(W)}};function ux(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.F){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function O5(T){let W={};T=(T.g&&ua(T)>=2&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<T.length;re++){if(A(T[re]))continue;var Q=tt(T[re]);let _e=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();let Ce=W[_e]||[];W[_e]=Ce,Ce.push(Q)}F(W,function(re){return re.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cd(T,W,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[T]||W}function dx(T){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cd("failFast",!1,T),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cd("baseRetryDelayMs",5e3,T),this.Za=cd("retryDelaySeedMs",1e4,T),this.Ta=cd("forwardChannelMaxRetries",2,T),this.va=cd("forwardChannelRequestTimeoutMs",2e4,T),this.ma=T&&T.xmlHttpFactory||void 0,this.Ua=T&&T.Rb||void 0,this.Aa=T&&T.useFetchStreams||!1,this.O=void 0,this.L=T&&T.supportsCrossDomainXhr||!1,this.M="",this.h=new Be(T&&T.concurrentRequestLimit),this.Ba=new _l,this.S=T&&T.fastHandshake||!1,this.R=T&&T.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=T&&T.Pb||!1,T&&T.ua&&this.j.ua(),T&&T.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&T&&T.detectBufferingProxy||!1,this.ia=void 0,T&&T.longPollingTimeout&&T.longPollingTimeout>0&&(this.ia=T.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dx.prototype,t.ka=8,t.I=1,t.connect=function(T,W,Q,re){Mn(0),this.W=T,this.H=W||{},Q&&re!==void 0&&(this.H.OSID=Q,this.H.OAID=re),this.F=this.X,this.J=_x(this,null,this.W),Hh(this)};function Yy(T){if(fx(T),T.I==3){var W=T.V++,Q=en(T.J);if(cn(Q,"SID",T.M),cn(Q,"RID",W),cn(Q,"TYPE","terminate"),ld(T,Q),W=new nn(T,T.j,W),W.M=2,W.A=so(en(Q)),Q=!1,s.navigator&&s.navigator.sendBeacon)try{Q=s.navigator.sendBeacon(W.A.toString(),"")}catch{}!Q&&s.Image&&(new Image().src=W.A,Q=!0),Q||(W.g=wx(W.j,null),W.g.ea(W.A)),W.F=Date.now(),Mr(W)}bx(T)}function Uh(T){T.g&&(Qy(T),T.g.cancel(),T.g=null)}function fx(T){Uh(T),T.v&&(s.clearTimeout(T.v),T.v=null),zh(T),T.h.cancel(),T.m&&(typeof T.m=="number"&&s.clearTimeout(T.m),T.m=null)}function Hh(T){if(!st(T.h)&&!T.m){T.m=!0;var W=T.Ea;$||N(),V||($(),V=!0),R.add(W,T),T.D=0}}function F5(T,W){return at(T.h)>=T.h.j-(T.m?1:0)?!1:T.m?(T.i=W.G.concat(T.i),!0):T.I==1||T.I==2||T.D>=(T.Sa?0:T.Ta)?!1:(T.m=vt(u(T.Ea,T,W),vx(T,T.D)),T.D++,!0)}t.Ea=function(T){if(this.m)if(this.m=null,this.I==1){if(!T){this.V=Math.floor(Math.random()*1e5),T=this.V++;let _e=new nn(this,this.j,T),Ce=this.o;if(this.U&&(Ce?(Ce=q(Ce),Y(Ce,this.U)):Ce=this.U),this.u!==null||this.R||(_e.J=Ce,Ce=null),this.S)e:{for(var W=0,Q=0;Q<this.i.length;Q++){t:{var re=this.i[Q];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(W+=re,W>4096){W=Q;break e}if(W===4096||Q===this.i.length-1){W=Q+1;break e}}W=1e3}else W=1e3;W=px(this,_e,W),Q=en(this.J),cn(Q,"RID",T),cn(Q,"CVER",22),this.G&&cn(Q,"X-HTTP-Session-Id",this.G),ld(this,Q),Ce&&(this.R?W="headers="+We(sx(Ce))+"&"+W:this.u&&Ky(Q,this.u,Ce)),Dt(this.h,_e),this.Ra&&cn(Q,"TYPE","init"),this.S?(cn(Q,"$req",W),cn(Q,"SID","null"),_e.U=!0,Wt(_e,Q,null)):Wt(_e,Q,W),this.I=2}}else this.I==3&&(T?hx(this,T):this.i.length==0||st(this.h)||hx(this))};function hx(T,W){var Q;W?Q=W.l:Q=T.V++;let re=en(T.J);cn(re,"SID",T.M),cn(re,"RID",Q),cn(re,"AID",T.K),ld(T,re),T.u&&T.o&&Ky(re,T.u,T.o),Q=new nn(T,T.j,Q,T.D+1),T.u===null&&(Q.J=T.o),W&&(T.i=W.G.concat(T.i)),W=px(T,Q,1e3),Q.H=Math.round(T.va*.5)+Math.round(T.va*.5*Math.random()),Dt(T.h,Q),Wt(Q,re,W)}function ld(T,W){T.H&&S(T.H,function(Q,re){cn(W,re,Q)}),T.l&&S({},function(Q,re){cn(W,re,Q)})}function px(T,W,Q){Q=Math.min(T.i.length,Q);let re=T.l?u(T.l.Ka,T.l,T):null;e:{var _e=T.i;let Jt=-1;for(;;){let Rr=["count="+Q];Jt==-1?Q>0?(Jt=_e[0].g,Rr.push("ofs="+Jt)):Jt=0:Rr.push("ofs="+Jt);let Pn=!0;for(let Ur=0;Ur<Q;Ur++){var Ce=_e[Ur].g;let Qo=_e[Ur].map;if(Ce-=Jt,Ce<0)Jt=Math.max(0,_e[Ur].g-100),Pn=!1;else try{Ce="req"+Ce+"_"||"";try{var Ge=Qo instanceof Map?Qo:Object.entries(Qo);for(let[dc,da]of Ge){let fa=da;a(da)&&(fa=dt(da)),Rr.push(Ce+dc+"="+encodeURIComponent(fa))}}catch(dc){throw Rr.push(Ce+"type="+encodeURIComponent("_badmap")),dc}}catch{re&&re(Qo)}}if(Pn){Ge=Rr.join("&");break e}}Ge=void 0}return T=T.i.splice(0,Q),W.G=T,Ge}function mx(T){if(!T.g&&!T.v){T.Y=1;var W=T.Da;$||N(),V||($(),V=!0),R.add(W,T),T.A=0}}function Xy(T){return T.g||T.v||T.A>=3?!1:(T.Y++,T.v=vt(u(T.Da,T),vx(T,T.A)),T.A++,!0)}t.Da=function(){if(this.v=null,gx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var T=4*this.T;this.j.info("BP detection timer enabled: "+T),this.B=vt(u(this.Wa,this),T)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mn(10),Uh(this),gx(this))};function Qy(T){T.B!=null&&(s.clearTimeout(T.B),T.B=null)}function gx(T){T.g=new nn(T,T.j,"rpc",T.Y),T.u===null&&(T.g.J=T.o),T.g.P=0;var W=en(T.na);cn(W,"RID","rpc"),cn(W,"SID",T.M),cn(W,"AID",T.K),cn(W,"CI",T.F?"0":"1"),!T.F&&T.ia&&cn(W,"TO",T.ia),cn(W,"TYPE","xmlhttp"),ld(T,W),T.u&&T.o&&Ky(W,T.u,T.o),T.O&&(T.g.H=T.O);var Q=T.g;T=T.ba,Q.M=1,Q.A=so(en(W)),Q.u=null,Q.R=!0,Kt(Q,T)}t.Va=function(){this.C!=null&&(this.C=null,Uh(this),Xy(this),Mn(19))};function zh(T){T.C!=null&&(s.clearTimeout(T.C),T.C=null)}function yx(T,W){var Q=null;if(T.g==W){zh(T),Qy(T),T.g=null;var re=2}else if(Yt(T.h,W))Q=W.G,St(T.h,W),re=1;else return;if(T.I!=0){if(W.o)if(re==1){Q=W.u?W.u.length:0,W=Date.now()-W.F;var _e=T.D;re=bt(),ve(re,new Ct(re,Q)),Hh(T)}else mx(T);else if(_e=W.m,_e==3||_e==0&&W.X>0||!(re==1&&F5(T,W)||re==2&&Xy(T)))switch(Q&&Q.length>0&&(W=T.h,W.i=W.i.concat(Q)),_e){case 1:uc(T,5);break;case 4:uc(T,10);break;case 3:uc(T,6);break;default:uc(T,2)}}}function vx(T,W){let Q=T.Qa+Math.floor(Math.random()*T.Za);return T.isActive()||(Q*=2),Q*W}function uc(T,W){if(T.j.info("Error code "+W),W==2){var Q=u(T.bb,T),re=T.Ua;let _e=!re;re=new Zt(re||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ir(re,"https"),so(re),_e?vl(re.toString(),Q):bl(re.toString(),Q)}else Mn(2);T.I=0,T.l&&T.l.pa(W),bx(T),fx(T)}t.bb=function(T){T?(this.j.info("Successfully pinged google.com"),Mn(2)):(this.j.info("Failed to ping google.com"),Mn(1))};function bx(T){if(T.I=0,T.ja=[],T.l){let W=Ot(T.h);(W.length!=0||T.i.length!=0)&&(h(T.ja,W),h(T.ja,T.i),T.h.i.length=0,p(T.i),T.i.length=0),T.l.oa()}}function _x(T,W,Q){var re=Q instanceof Zt?en(Q):new Zt(Q);if(re.g!="")W&&(re.g=W+"."+re.g),$r(re,re.u);else{var _e=s.location;re=_e.protocol,W=W?W+"."+_e.hostname:_e.hostname,_e=+_e.port;let Ce=new Zt(null);re&&ir(Ce,re),W&&(Ce.g=W),_e&&$r(Ce,_e),Q&&(Ce.h=Q),re=Ce}return Q=T.G,W=T.wa,Q&&W&&cn(re,Q,W),cn(re,"VER",T.ka),ld(T,re),re}function wx(T,W,Q){if(W&&!T.L)throw Error("Can't create secondary domain capable XhrIo object.");return W=T.Aa&&!T.ma?new or(new Ds({ab:Q})):new or(T.ma),W.Fa(T.L),W}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ex(){}t=Ex.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qh(){}qh.prototype.g=function(T,W){return new zi(T,W)};function zi(T,W){fe.call(this),this.g=new dx(W),this.l=T,this.h=W&&W.messageUrlParams||null,T=W&&W.messageHeaders||null,W&&W.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=W&&W.initMessageHeaders||null,W&&W.messageContentType&&(T?T["X-WebChannel-Content-Type"]=W.messageContentType:T={"X-WebChannel-Content-Type":W.messageContentType}),W&&W.sa&&(T?T["X-WebChannel-Client-Profile"]=W.sa:T={"X-WebChannel-Client-Profile":W.sa}),this.g.U=T,(T=W&&W.Qb)&&!A(T)&&(this.g.u=T),this.A=W&&W.supportsCrossDomainXhr||!1,this.v=W&&W.sendRawJson||!1,(W=W&&W.httpSessionIdParam)&&!A(W)&&(this.g.G=W,T=this.h,T!==null&&W in T&&(T=this.h,W in T&&delete T[W])),this.j=new wl(this)}d(zi,fe),zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zi.prototype.close=function(){Yy(this.g)},zi.prototype.o=function(T){var W=this.g;if(typeof T=="string"){var Q={};Q.__data__=T,T=Q}else this.v&&(Q={},Q.__data__=dt(T),T=Q);W.i.push(new Ie(W.Ya++,T)),W.I==3&&Hh(W)},zi.prototype.N=function(){this.g.l=null,delete this.j,Yy(this.g),delete this.g,zi.Z.N.call(this)};function Cx(T){nt.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var W=T.__sm__;if(W){e:{for(let Q in W){T=Q;break e}T=void 0}(this.i=T)&&(T=this.i,W=W!==null&&T in W?W[T]:void 0),this.data=W}else this.data=T}d(Cx,nt);function xx(){mt.call(this),this.status=1}d(xx,mt);function wl(T){this.g=T}d(wl,Ex),wl.prototype.ra=function(){ve(this.g,"a")},wl.prototype.qa=function(T){ve(this.g,new Cx(T))},wl.prototype.pa=function(T){ve(this.g,new xx)},wl.prototype.oa=function(){ve(this.g,"b")},qh.prototype.createWebChannel=qh.prototype.g,zi.prototype.send=zi.prototype.o,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,g2=Js.createWebChannelTransport=function(){return new qh},m2=Js.getStatEventTarget=function(){return bt()},p2=Js.Event=Ar,p0=Js.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,th=Js.ErrorCode=we,xe.COMPLETE="complete",h2=Js.EventType=xe,Ve.EventType=Nt,Nt.OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",fe.prototype.listen=fe.prototype.J,Eu=Js.WebChannel=Ve,w$=Js.FetchXmlHttpFactory=Ds,or.prototype.listenOnce=or.prototype.K,or.prototype.getLastError=or.prototype.Ha,or.prototype.getLastErrorCode=or.prototype.ya,or.prototype.getStatus=or.prototype.ca,or.prototype.getResponseJson=or.prototype.La,or.prototype.getResponseText=or.prototype.la,or.prototype.send=or.prototype.ea,or.prototype.setWithCredentials=or.prototype.Fa,f2=Js.XhrIo=or}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var Z4="@firebase/firestore",J4="4.9.3";var Kr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");var qu="12.7.0";var rl=new ms("@firebase/firestore");function Cu(){return rl.logLevel}function ot(t,...e){if(rl.logLevel<=an.DEBUG){let n=e.map(cC);rl.debug(`Firestore (${qu}): ${t}`,...n)}}function ta(t,...e){if(rl.logLevel<=an.ERROR){let n=e.map(cC);rl.error(`Firestore (${qu}): ${t}`,...n)}}function Mu(t,...e){if(rl.logLevel<=an.WARN){let n=e.map(cC);rl.warn(`Firestore (${qu}): ${t}`,...n)}}function cC(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function wt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HM(t,r,n)}function HM(t,e,n){let r=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ta(r),new Error(r)}function yn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HM(e,i,r)}function Vt(t,e){return t}var Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ke=class extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Eo=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var w0=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},w2=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kr.UNAUTHENTICATED))}shutdown(){}},E2=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},C2=class{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yn(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Eo,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Eo)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yn(typeof r.accessToken=="string",31837,{l:r}),new w0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return yn(e===null||typeof e=="string",2055,{h:e}),new Kr(e)}},x2=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},I2=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new x2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},E0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},S2=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yn(this.o===void 0,3512);let r=o=>{o.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function E$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var lh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=E$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function un(t,e){return t<e?-1:t>e?1:0}function T2(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return y2(i)===y2(o)?un(i,o):y2(i)?1:-1}return un(t.length,e.length)}var C$=55296,x$=57343;function y2(t){let e=t.charCodeAt(0);return e>=C$&&e<=x$}function ku(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var eM="__name__",C0=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&wt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&wt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return un(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):T2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}},qn=class t extends C0{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Ke(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},I$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,to=class t extends C0{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return I$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eM}static keyField(){return new t([eM])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Ke(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ke(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ke(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Et=class t{constructor(e){this.path=e}static fromPath(e){return new t(qn.fromString(e))}static fromName(e){return new t(qn.fromString(e).popFirst(5))}static empty(){return new t(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qn(e.slice()))}};function zM(t,e,n){if(!n)throw new Ke(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S$(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tM(t){if(!Et.isDocumentKey(t))throw new Ke(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nM(t){if(Et.isDocumentKey(t))throw new Ke(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ny(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt(12329,{type:typeof t})}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ny(t);throw new Ke(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function T$(t,e){if(e<=0)throw new Ke(Se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Cr(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ch(t,e){if(!qM(t))throw new Ke(Se.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ke(Se.INVALID_ARGUMENT,n);return!0}var rM=-62135596800,iM=1e6,xr=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rM)throw new Ke(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iM}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ch(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-rM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xr._jsonSchemaVersion="firestore/timestamp/1.0",xr._jsonSchema={type:Cr("string",xr._jsonSchemaVersion),seconds:Cr("number"),nanoseconds:Cr("number")};var Lt=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new xr(0,0))}static max(){return new t(new xr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uh=-1,D2=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};D2.UNKNOWN_ID=-1;function D$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new xr(n+1,0):new xr(n,r));return new il(i,Et.empty(),e)}function A$(t){return new il(t.readTime,t.key,uh)}var il=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Lt.min(),Et.empty(),uh)}static max(){return new t(Lt.max(),Et.empty(),uh)}};function M$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Et.comparator(t.documentKey,e.documentKey),n!==0?n:un(t.largestBatchId,e.largestBatchId))}var k$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",A2=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Wu(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==k$)throw t;ot("LocalStore","Unexpectedly lost primary lease")}var Fe=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function R$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gu(t){return t.name==="IndexedDbTransactionError"}var lC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),uC=-1;function xh(t){return t==null}function dh(t){return t===0&&1/t==-1/0}function N$(t){return typeof t=="number"&&Number.isInteger(t)&&!dh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var WM="";function P$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oM(e)),e=O$(t.get(n),e);return oM(e)}function O$(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case WM:n+="";break;default:n+=o}}return n}function oM(t){return t+WM+""}var F$="remoteDocuments",GM="owner";var KM="mutationQueues";var YM="mutations";var XM="documentMutations",L$="remoteDocumentsV14";var QM="remoteDocumentGlobal";var ZM="targets";var JM="targetDocuments";var e6="targetGlobal",t6="collectionParents";var n6="clientMetadata";var r6="bundles";var i6="namedQueries";var V$="indexConfiguration";var j$="indexState";var B$="indexEntries";var o6="documentOverlays";var $$="globals";var U$=[KM,YM,XM,F$,ZM,GM,e6,JM,n6,QM,t6,r6,i6],rpe=[...U$,o6],H$=[KM,YM,XM,L$,ZM,GM,e6,JM,n6,QM,t6,r6,i6,o6],z$=H$,q$=[...z$,V$,j$,B$];var ipe=[...q$,$$];function sM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s6(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var lr=class t{constructor(e,n){this.comparator=e,this.root=n||_s.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}},Tu=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_s=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}};_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1;_s.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new _s(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Yr=class t{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(e){return new x0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},x0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wo=class t{constructor(e){this.fields=e,e.sort(to.comparator)}static empty(){return new t([])}unionWith(e){let n=new Yr(to.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ku(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var I0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new I0("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mi.EMPTY_BYTE_STRING=new mi("");var W$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(yn(!!t,39018),typeof t=="string"){let e=0,n=W$.exec(t);if(yn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?mi.fromBase64String(t):mi.fromUint8Array(t)}var a6="server_timestamp",c6="__type__",l6="__previous_value__",u6="__local_write_time__";function dC(t){return(t?.mapValue?.fields||{})[c6]?.stringValue===a6}function ry(t){let e=t.mapValue.fields[l6];return dC(e)?ry(e):e}function fh(t){let e=na(t.mapValue.fields[u6].timestampValue);return new xr(e.seconds,e.nanos)}var M2=class{constructor(e,n,r,i,o,s,a,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=l}},S0="(default)",T0=class t{constructor(e,n){this.projectId=e,this.database=n||S0}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===S0}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var fC="__type__",d6="__max__",m0={mapValue:{fields:{__type__:{stringValue:d6}}}},hC="__vector__",Ru="value";function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dC(t)?4:h6(t)?9007199254740991:f6(t)?10:11:wt(28295,{value:t})}function Es(t,e){if(t===e)return!0;let n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fh(t).isEqual(fh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=na(i.timestampValue),a=na(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ra(i.bytesValue).isEqual(ra(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Zn(i.geoPointValue.latitude)===Zn(o.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Zn(i.integerValue)===Zn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Zn(i.doubleValue),a=Zn(o.doubleValue);return s===a?dh(s)===dh(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return ku(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(sM(s)!==sM(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Es(s[c],a[c])))return!1;return!0})(t,e);default:return wt(52216,{left:t})}}function hh(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function Nu(t,e){if(t===e)return 0;let n=Qa(t),r=Qa(e);if(n!==r)return un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Zn(o.integerValue||o.doubleValue),c=Zn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return aM(t.timestampValue,e.timestampValue);case 4:return aM(fh(t),fh(e));case 5:return T2(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=ra(o),c=ra(s);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=un(a[u],c[u]);if(l!==0)return l}return un(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=un(Zn(o.latitude),Zn(s.latitude));return a!==0?a:un(Zn(o.longitude),Zn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return cM(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},c=s.fields||{},u=a[Ru]?.arrayValue,l=c[Ru]?.arrayValue,d=un(u?.values?.length||0,l?.values?.length||0);return d!==0?d:cM(u,l)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===m0.mapValue&&s===m0.mapValue)return 0;if(o===m0.mapValue)return 1;if(s===m0.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let f=T2(c[d],l[d]);if(f!==0)return f;let p=Nu(a[c[d]],u[l[d]]);if(p!==0)return p}return un(c.length,l.length)})(t.mapValue,e.mapValue);default:throw wt(23264,{he:n})}}function aM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return un(t,e);let n=na(t),r=na(e),i=un(n.seconds,r.seconds);return i!==0?i:un(n.nanos,r.nanos)}function cM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Nu(n[i],r[i]);if(o)return o}return un(n.length,r.length)}function Pu(t){return k2(t)}function k2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=na(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Et.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=k2(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${k2(n.fields[s])}`;return i+"}"})(t.mapValue):wt(61005,{value:t})}function v0(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ry(t);return e?16+v0(e):16;case 5:return 2*t.stringValue.length;case 6:return ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+v0(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return tc(r.fields,(o,s)=>{i+=o.length+v0(s)}),i})(t.mapValue);default:throw wt(13486,{value:t})}}function lM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function R2(t){return!!t&&"integerValue"in t}function pC(t){return!!t&&"arrayValue"in t}function uM(t){return!!t&&"nullValue"in t}function dM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function b0(t){return!!t&&"mapValue"in t}function f6(t){return(t?.mapValue?.fields||{})[fC]?.stringValue===hC}function ih(t){if(t.geoPointValue)return{geoPointValue:ye({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:ye({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ih(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ih(t.arrayValue.values[n]);return e}return ye({},t)}function h6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===d6}var spe={mapValue:{fields:{[fC]:{stringValue:hC},[Ru]:{arrayValue:{}}}}};var $i=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!b0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(n)}setAll(e){let n=to.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ih(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());b0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];b0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){tc(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ih(this.value))}};function p6(t){let e=[];return tc(t.fields,(n,r)=>{let i=new to([n]);if(b0(r)){let o=p6(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new wo(e)}var ro=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Lt.min(),Lt.min(),Lt.min(),$i.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Lt.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Lt.min(),Lt.min(),$i.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Lt.min(),Lt.min(),$i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ou=class{constructor(e,n){this.position=e,this.inclusive=n}};function fM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Et.comparator(Et.fromName(s.referenceValue),n.key):r=Nu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}var ol=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var D0=class{},Er=class t extends D0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P2(e,n,r):n==="array-contains"?new L2(e,r):n==="in"?new V2(e,r):n==="not-in"?new j2(e,r):n==="array-contains-any"?new B2(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O2(e,r):new F2(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nu(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Nu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yo=class t extends D0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return m6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function m6(t){return t.op==="and"}function g6(t){return K$(t)&&m6(t)}function K$(t){for(let e of t.filters)if(e instanceof Yo)return!1;return!0}function N2(t){if(t instanceof Er)return t.field.canonicalString()+t.op.toString()+Pu(t.value);if(g6(t))return t.filters.map(e=>N2(e)).join(",");{let e=t.filters.map(n=>N2(n)).join(",");return`${t.op}(${e})`}}function y6(t,e){return t instanceof Er?(function(r,i){return i instanceof Er&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)})(t,e):t instanceof Yo?(function(r,i){return i instanceof Yo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&y6(s,i.filters[a]),!0):!1})(t,e):void wt(19439)}function v6(t){return t instanceof Er?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pu(n.value)}`})(t):t instanceof Yo?(function(n){return n.op.toString()+" {"+n.getFilters().map(v6).join(" ,")+"}"})(t):"Filter"}var P2=class extends Er{constructor(e,n,r){super(e,n,r),this.key=Et.fromName(r.referenceValue)}matches(e){let n=Et.comparator(e.key,this.key);return this.matchesComparison(n)}},O2=class extends Er{constructor(e,n){super(e,"in",n),this.keys=b6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},F2=class extends Er{constructor(e,n){super(e,"not-in",n),this.keys=b6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function b6(t,e){return(e.arrayValue?.values||[]).map(n=>Et.fromName(n.referenceValue))}var L2=class extends Er{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return pC(n)&&hh(n.arrayValue,this.value)}},V2=class extends Er{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&hh(this.value.arrayValue,n)}},j2=class extends Er{constructor(e,n){super(e,"not-in",n)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hh(this.value.arrayValue,n)}},B2=class extends Er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!pC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hh(this.value.arrayValue,r))}};var $2=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function pM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $2(t,e,n,r,i,o,s)}function mC(t){let e=Vt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>N2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pu(r)).join(",")),e.Te=n}return e.Te}function gC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hM(t.startAt,e.startAt)&&hM(t.endAt,e.endAt)}function U2(t){return Et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Za=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Y$(t,e,n,r,i,o,s,a){return new Za(t,e,n,r,i,o,s,a)}function iy(t){return new Za(t)}function mM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _6(t){return t.collectionGroup!==null}function oh(t){let e=Vt(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Yr(to.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ol(o,r))}),n.has(to.keyField().canonicalString())||e.Ie.push(new ol(to.keyField(),r))}return e.Ie}function ws(t){let e=Vt(t);return e.Ee||(e.Ee=X$(e,oh(t))),e.Ee}function X$(t,e){if(t.limitType==="F")return pM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ol(i.field,o)});let n=t.endAt?new Ou(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ou(t.startAt.position,t.startAt.inclusive):null;return pM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H2(t,e){let n=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function A0(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oy(t,e){return gC(ws(t),ws(e))&&t.limitType===e.limitType}function w6(t){return`${mC(ws(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>v6(i)).join(", ")}]`),xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Pu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Pu(i)).join(",")),`Target(${r})`})(ws(t))}; limitType=${t.limitType})`}function sy(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of oh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let u=fM(s,a,c);return s.inclusive?u<=0:u<0})(r.startAt,oh(r),i)||r.endAt&&!(function(s,a,c){let u=fM(s,a,c);return s.inclusive?u>=0:u>0})(r.endAt,oh(r),i))})(t,e)}function Q$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E6(t){return(e,n)=>{let r=!1;for(let i of oh(t)){let o=Z$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Z$(t,e,n){let r=t.field.isKeyField()?Et.comparator(e.key,n.key):(function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Nu(c,u):wt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:t.dir})}}var ia=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tc(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return s6(this.inner)}size(){return this.innerSize}};var J$=new lr(Et.comparator);function oa(){return J$}var C6=new lr(Et.comparator);function nh(...t){let e=C6;for(let n of t)e=e.insert(n.key,n);return e}function x6(t){let e=C6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function el(){return sh()}function I6(){return sh()}function sh(){return new ia(t=>t.toString(),(t,e)=>t.isEqual(e))}var eU=new lr(Et.comparator),tU=new Yr(Et.comparator);function dn(...t){let e=tU;for(let n of t)e=e.add(n);return e}var nU=new Yr(un);function rU(){return nU}function yC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function S6(t){return{integerValue:""+t}}function iU(t,e){return N$(e)?S6(e):yC(t,e)}var Fu=class{constructor(){this._=void 0}};function oU(t,e,n){return t instanceof sl?(function(i,o){let s={fields:{[c6]:{stringValue:a6},[u6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dC(o)&&(o=ry(o)),o&&(s.fields[l6]=o),{mapValue:s}})(n,e):t instanceof al?D6(t,e):t instanceof cl?A6(t,e):(function(i,o){let s=T6(i,o),a=gM(s)+gM(i.Ae);return R2(s)&&R2(i.Ae)?S6(a):yC(i.serializer,a)})(t,e)}function sU(t,e,n){return t instanceof al?D6(t,e):t instanceof cl?A6(t,e):n}function T6(t,e){return t instanceof Lu?(function(r){return R2(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var sl=class extends Fu{},al=class extends Fu{constructor(e){super(),this.elements=e}};function D6(t,e){let n=M6(e);for(let r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}var cl=class extends Fu{constructor(e){super(),this.elements=e}};function A6(t,e){let n=M6(e);for(let r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}var Lu=class extends Fu{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function gM(t){return Zn(t.integerValue||t.doubleValue)}function M6(t){return pC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var z2=class{constructor(e,n){this.field=e,this.transform=n}};function aU(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof al&&i instanceof al||r instanceof cl&&i instanceof cl?ku(r.elements,i.elements,Es):r instanceof Lu&&i instanceof Lu?Es(r.Ae,i.Ae):r instanceof sl&&i instanceof sl})(t.transform,e.transform)}var q2=class{constructor(e,n){this.version=e,this.transformResults=n}},Ri=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Vu=class{};function k6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ju(t.key,Ri.none()):new ll(t.key,t.data,Ri.none());{let n=t.data,r=$i.empty(),i=new Yr(to.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Cs(t.key,r,new wo(i.toArray()),Ri.none())}}function cU(t,e,n){t instanceof ll?(function(i,o,s){let a=i.value.clone(),c=vM(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Cs?(function(i,o,s){if(!_0(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=vM(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(R6(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ah(t,e,n,r){return t instanceof ll?(function(o,s,a,c){if(!_0(o.precondition,s))return a;let u=o.value.clone(),l=bM(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Cs?(function(o,s,a,c){if(!_0(o.precondition,s))return a;let u=bM(o.fieldTransforms,c,s),l=s.data;return l.setAll(R6(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))})(t,e,n,r):(function(o,s,a){return _0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function lU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=T6(r.transform,i||null);o!=null&&(n===null&&(n=$i.empty()),n.set(r.field,o))}return n||null}function yM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ku(r,i,(o,s)=>aU(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ll=class extends Vu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cs=class extends Vu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function R6(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function vM(t,e,n){let r=new Map;yn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sU(s,a,n[i]))}return r}function bM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,oU(o,s,e))}return r}var ju=class extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},M0=class extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var W2=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&cU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ah(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ah(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=I6();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=k6(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dn())}isEqual(e){return this.batchId===e.batchId&&ku(this.mutations,e.mutations,(n,r)=>yM(n,r))&&ku(this.baseMutations,e.baseMutations,(n,r)=>yM(n,r))}},G2=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return eU})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var K2=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Y2=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var _r,gn;function N6(t){switch(t){case Se.OK:return wt(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return wt(15467,{code:t})}}function P6(t){if(t===void 0)return ta("GRPC error has no .code"),Se.UNKNOWN;switch(t){case _r.OK:return Se.OK;case _r.CANCELLED:return Se.CANCELLED;case _r.UNKNOWN:return Se.UNKNOWN;case _r.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case _r.INTERNAL:return Se.INTERNAL;case _r.UNAVAILABLE:return Se.UNAVAILABLE;case _r.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case _r.NOT_FOUND:return Se.NOT_FOUND;case _r.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case _r.ABORTED:return Se.ABORTED;case _r.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case _r.DATA_LOSS:return Se.DATA_LOSS;default:return wt(39323,{code:t})}}(gn=_r||(_r={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";var uU=null;function dU(){return new TextEncoder}var fU=new Zs([4294967295,4294967295],0);function _M(t){let e=dU().encode(t),n=new d2;return n.update(e),new Uint8Array(n.digest())}function wM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([i,o],0)]}var X2=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tl(`Invalid padding: ${n}`);if(r<0)throw new tl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Zs.fromNumber(r)));return i.compare(fU)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=_M(e),[r,i]=wM(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=_M(e),[r,i]=wM(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},tl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var k0=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Lt.min(),i,new lr(un),oa(),dn())}},ph=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,dn(),dn(),dn())}};var Du=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},R0=class{constructor(e,n){this.targetId=e,this.Ce=n}},N0=class{constructor(e,n,r=mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},P0=class{constructor(){this.ve=0,this.Fe=EM(),this.Me=mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dn(),n=dn(),r=dn();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wt(38017,{changeType:o})}}),new ph(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=EM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,yn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Q2=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.Je=g0(),this.He=g0(),this.Ye=new lr(un)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(U2(o))if(r===0){let s=new Et(o.path);this.et(n,s,ro.newNoDocument(s,Lt.min()))}else yn(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),c=a?this.ct(a,e,s):1;if(c!==0){this.it(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}uU?.lt((function(l,d,f,p,h){let y={localCacheCount:l,existenceFilterCount:d.count,databaseId:f.database,projectId:f.projectId},m=d.unchangedNames;return m&&(y.bloomFilter={applied:h===0,hashCount:m?.hashCount??0,bitmapLength:m?.bits?.bitmap?.length??0,padding:m?.bits?.padding??0,mightContain:_=>p?.mightContain(_)??!1}),y})(s,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=ra(r).toUint8Array()}catch(c){if(c instanceof I0)return Mu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new X2(s,i,o)}catch(c){return Mu(c instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&U2(a.target)){let c=new Et(a.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,ro.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=dn();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new k0(e,n,this.Ye,this.je,r);return this.je=oa(),this.Je=g0(),this.He=g0(),this.Ye=new lr(un),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new P0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yr(un),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yr(un),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function g0(){return new lr(Et.comparator)}function EM(){return new lr(Et.comparator)}var hU={asc:"ASCENDING",desc:"DESCENDING"},pU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mU={and:"AND",or:"OR"},Z2=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function J2(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function O0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gU(t,e){return O0(t,e.toTimestamp())}function no(t){return yn(!!t,49232),Lt.fromTimestamp((function(n){let r=na(n);return new xr(r.seconds,r.nanos)})(t))}function vC(t,e){return eE(t,e).canonicalString()}function eE(t,e){let n=(function(i){return new qn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function F6(t){let e=qn.fromString(t);return yn(U6(e),10190,{key:e.toString()}),e}function F0(t,e){return vC(t.databaseId,e.path)}function ch(t,e){let n=F6(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Et(V6(n))}function L6(t,e){return vC(t.databaseId,e)}function yU(t){let e=F6(t);return e.length===4?qn.emptyPath():V6(e)}function tE(t){return new qn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V6(t){return yn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function CM(t,e,n){return{name:F0(t,e),fields:n.value.mapValue.fields}}function vU(t,e){return"found"in e?(function(r,i){yn(!!i.found,43571),i.found.name,i.found.updateTime;let o=ch(r,i.found.name),s=no(i.found.updateTime),a=i.found.createTime?no(i.found.createTime):Lt.min(),c=new $i({mapValue:{fields:i.found.fields}});return ro.newFoundDocument(o,s,a,c)})(t,e):"missing"in e?(function(r,i){yn(!!i.missing,3894),yn(!!i.readTime,22933);let o=ch(r,i.missing),s=no(i.readTime);return ro.newNoDocument(o,s)})(t,e):wt(7234,{result:e})}function bU(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:wt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,l){return u.useProto3Json?(yn(l===void 0||typeof l=="string",58123),mi.fromBase64String(l||"")):(yn(l===void 0||l instanceof Buffer||l instanceof Uint8Array,16193),mi.fromUint8Array(l||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let l=u.code===void 0?Se.UNKNOWN:P6(u.code);return new Ke(l,u.message||"")})(s);n=new N0(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ch(t,r.document.name),o=no(r.document.updateTime),s=r.document.createTime?no(r.document.createTime):Lt.min(),a=new $i({mapValue:{fields:r.document.fields}}),c=ro.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Du(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ch(t,r.document),o=r.readTime?no(r.readTime):Lt.min(),s=ro.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Du([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ch(t,r.document),o=r.removedTargetIds||[];n=new Du([],o,i,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Y2(i,o),a=r.targetId;n=new R0(a,s)}}return n}function j6(t,e){let n;if(e instanceof ll)n={update:CM(t,e.key,e.value)};else if(e instanceof ju)n={delete:F0(t,e.key)};else if(e instanceof Cs)n={update:CM(t,e.key,e.data),updateMask:DU(e.fieldMask)};else{if(!(e instanceof M0))return wt(16599,{Vt:e.type});n={verify:F0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof sl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lu)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw wt(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:gU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:wt(27497)})(t,e.precondition)),n}function _U(t,e){return t&&t.length>0?(yn(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?no(i.updateTime):no(o);return s.isEqual(Lt.min())&&(s=no(o)),new q2(s,i.transformResults||[])})(n,e))):[]}function wU(t,e){return{documents:[L6(t,e.path)]}}function EU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L6(t,i);let o=(function(u){if(u.length!==0)return $6(Yo.create(u,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(l=>(function(f){return{field:Iu(f.field),direction:IU(f.dir)}})(l))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=J2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function CU(t){let e=yU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yn(r===1,65062);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=(function(d){let f=B6(d);return f instanceof Yo&&g6(f)?f.getFilters():[f]})(n.where));let s=[];n.orderBy&&(s=(function(d){return d.map(f=>(function(h){return new ol(Su(h.field),(function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(h.direction))})(f))})(n.orderBy));let a=null;n.limit&&(a=(function(d){let f;return f=typeof d=="object"?d.value:d,xh(f)?null:f})(n.limit));let c=null;n.startAt&&(c=(function(d){let f=!!d.before,p=d.values||[];return new Ou(p,f)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){let f=!d.before,p=d.values||[];return new Ou(p,f)})(n.endAt)),Y$(e,i,s,o,a,"F",c,u)}function xU(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function B6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Su(n.unaryFilter.field);return Er.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Su(n.unaryFilter.field);return Er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Su(n.unaryFilter.field);return Er.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Su(n.unaryFilter.field);return Er.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Er.create(Su(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yo.create(n.compositeFilter.filters.map(r=>B6(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(t):wt(30097,{filter:t})}function IU(t){return hU[t]}function SU(t){return pU[t]}function TU(t){return mU[t]}function Iu(t){return{fieldPath:t.canonicalString()}}function Su(t){return to.fromServerFormat(t.fieldPath)}function $6(t){return t instanceof Er?(function(n){if(n.op==="=="){if(dM(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NAN"}};if(uM(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dM(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NAN"}};if(uM(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(n.field),op:SU(n.op),value:n.value}}})(t):t instanceof Yo?(function(n){let r=n.getFilters().map(i=>$6(i));return r.length===1?r[0]:{compositeFilter:{op:TU(n.op),filters:r}}})(t):wt(54877,{filter:t})}function DU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var mh=class t{constructor(e,n,r,i,o=Lt.min(),s=Lt.min(),a=mi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var nE=class{constructor(e){this.yt=e}};function AU(t){let e=CU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A0(e,e.limit,"L"):e}var L0=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Zn(e.integerValue));else if("doubleValue"in e){let r=Zn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),dh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=na(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ra(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?h6(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):f6(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):wt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=Ru,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Zn(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Et.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};L0.Kt=new L0;var rE=class{constructor(){this.Cn=new iE}addToCollectionParentIndex(e,n){return this.Cn.add(n),Fe.resolve()}getCollectionParents(e,n){return Fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Fe.resolve()}deleteFieldIndex(e,n){return Fe.resolve()}deleteAllFieldIndexes(e){return Fe.resolve()}createTargetIndexes(e,n){return Fe.resolve()}getDocumentsMatchingTarget(e,n){return Fe.resolve(null)}getIndexType(e,n){return Fe.resolve(0)}getFieldIndexes(e,n){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,n){return Fe.resolve(il.min())}getMinOffsetFromCollectionGroup(e,n){return Fe.resolve(il.min())}updateCollectionGroup(e,n,r){return Fe.resolve()}updateIndexEntries(e,n){return Fe.resolve()}},iE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yr(qn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yr(qn.comparator)).toArray()}};var ape=new Uint8Array(0);var xM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H6=41943040,_o=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(H6,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);var gh=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var IM="LruGarbageCollector",MU=1048576;function SM([t,e],[n,r]){let i=un(t,n);return i===0?un(e,r):i}var oE=class{constructor(e){this.Ir=e,this.buffer=new Yr(SM),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();SM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},sE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(IM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gu(n)?ot(IM,"Ignoring IndexedDB error during garbage collection: ",n):await Wu(n)}await this.Vr(3e5)})}},aE=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Fe.resolve(lC.ce);let r=new oE(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(xM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xM):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,c,u,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Cu()<=an.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-l}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}};function kU(t,e){return new aE(t,e)}var cE=class{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?Fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var lE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var uE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ah(r.mutation,i,wo.empty(),xr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dn()){let i=el();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=nh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=el();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dn()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=oa(),s=sh(),a=(function(){return sh()})();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Cs)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),ah(l.mutation,u,l.mutation.getFieldMask(),xr.now())):s.set(u.key,wo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>a.set(u,new lE(l,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){let r=sh(),i=new lr((s,a)=>s-a),o=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||wo.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||dn()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=I6();l.forEach(f=>{if(!o.has(f)){let p=k6(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Fe.resolve(el()),a=uh,c=o;return s.next(u=>Fe.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?Fe.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,dn())).next(l=>({batchId:a,changes:x6(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Et(n)).next(r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=nh();return this.indexManager.getCollectionParents(e,o).next(a=>Fe.forEach(a,c=>{let u=(function(d,f){return new Za(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,ro.newInvalidDocument(l)))});let a=nh();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&ah(l.mutation,u,wo.empty(),xr.now()),sy(n,u)&&(a=a.insert(c,u))}),a})}};var dE=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:no(i.createTime)}})(n)),Fe.resolve()}getNamedQuery(e,n){return Fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:AU(i.bundledQuery),readTime:no(i.readTime)}})(n)),Fe.resolve()}};var fE=class{constructor(){this.overlays=new lr(Et.comparator),this.qr=new Map}getOverlay(e,n){return Fe.resolve(this.overlays.get(n))}getOverlays(e,n){let r=el();return Fe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),Fe.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),Fe.resolve()}getOverlaysForCollection(e,n,r){let i=el(),o=n.length+1,s=new Et(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lr((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=el(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=el(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return Fe.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new K2(n,r));let o=this.qr.get(n);o===void 0&&(o=dn(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var hE=class{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(e){return Fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Fe.resolve()}};var yh=class{constructor(){this.Qr=new Yr(wr.$r),this.Ur=new Yr(wr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new wr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new wr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new Et(new qn([])),r=new wr(n,e),i=new wr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new Et(new qn([])),r=new wr(n,e),i=new wr(n,e+1),o=dn();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new wr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},wr=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Et.comparator(e.key,n.key)||un(e.Yr,n.Yr)}static Kr(e,n){return un(e.Yr,n.Yr)||Et.comparator(e.key,n.key)}};var pE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yr(wr.$r)}checkEmpty(e){return Fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new W2(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new wr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Fe.resolve(s)}lookupMutationBatch(e,n){return Fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return Fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(this.mutationQueue.length===0?uC:this.tr-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new wr(n,0),i=new wr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),Fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yr(un);return n.forEach(i=>{let o=new wr(i,0),s=new wr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),Fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Et.isDocumentKey(o)||(o=o.child(""));let s=new wr(new Et(o),0),a=new Yr(un);return this.Zr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},s),Fe.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Fe.forEach(n.mutations,i=>{let o=new wr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new wr(n,0),i=this.Zr.firstAfterOrEqual(r);return Fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var mE=class{constructor(e){this.ri=e,this.docs=(function(){return new lr(Et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return Fe.resolve(r?r.document.mutableCopy():ro.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ro.newInvalidDocument(i))}),Fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oa(),s=n.path,a=new Et(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||M$(A$(l),r)<=0||(i.has(l.key)||sy(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return Fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){wt(9500)}ii(e,n){return Fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gE(this)}getSize(e){return Fe.resolve(this.size)}},gE=class extends cE{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var yE=class{constructor(e){this.persistence=e,this.si=new ia(n=>mC(n),gC),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new yh,this.targetCount=0,this.ai=gh.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Fe.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new gh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Fe.resolve()}updateTargetData(e,n){return this.Pr(n),Fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Fe.waitFor(o).next(()=>i)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return Fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Fe.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return Fe.resolve(r)}containsKey(e,n){return Fe.resolve(this._i.containsKey(n))}};var V0=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new lC(0),this.li=!1,this.li=!0,this.hi=new hE,this.referenceDelegate=e(this),this.Pi=new yE(this),this.indexManager=new rE,this.remoteDocumentCache=(function(i){return new mE(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new nE(n),this.Ii=new dE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new pE(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ot("MemoryPersistence","Starting transaction:",e);let i=new vE(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return Fe.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},vE=class extends A2{constructor(e){super(),this.currentSequenceNumber=e}},bE=class t{constructor(e){this.persistence=e,this.Ri=new yh,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.fi,r=>{let i=Et.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,Lt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Fe.or([()=>Fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},j0=class t{constructor(e,n){this.persistence=e,this.pi=new ia(r=>P$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kU(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return Fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Fe.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?Fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Lt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Fe.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=v0(e.data.value)),n}br(e,n,r){return Fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return Fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var _E=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=dn(),i=dn();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var wE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var EE=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mA()?8:R$(Gr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new wE;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Cu()<=an.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Fe.resolve()):(Cu()<=an.DEBUG&&ot("QueryEngine","Query:",xu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Cu()<=an.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):Fe.resolve())}ys(e,n){if(mM(n))return Fe.resolve(null);let r=ws(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=A0(n,null,"F"),r=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=dn(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Ds(n,a);return this.Cs(n,u,s,c.readTime)?this.ys(e,A0(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return mM(n)||i.isEqual(Lt.min())?Fe.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?Fe.resolve(null):(Cu()<=an.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xu(n)),this.vs(e,s,n,D$(i,uh)).next(a=>a))})}Ds(e,n){let r=new Yr(E6(e));return n.forEach((i,o)=>{sy(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Cu()<=an.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",xu(n)),this.ps.getDocumentsMatchingQuery(e,n,il.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var bC="LocalStore",RU=3e8,CE=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new lr(un),this.xs=new ia(o=>mC(o),gC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function NU(t,e,n,r){return new CE(t,e,n,r)}async function z6(t,e){let n=Vt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=dn();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function PU(t,e){let n=Vt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,l){let d=u.batch,f=d.keys(),p=Fe.resolve();return f.forEach(h=>{p=p.next(()=>l.getEntry(c,h)).next(y=>{let m=u.docVersions.get(h);yn(m!==null,48541),y.version.compareTo(m)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=dn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function q6(t){let e=Vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function OU(t,e){let n=Vt(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((l,d)=>{let f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(o,l.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(mi.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),(function(y,m,_){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=RU?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(f,p,l)&&a.push(n.Pi.updateTargetData(o,p))});let c=oa(),u=dn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(FU(o,s,e.documentUpdates).next(l=>{c=l.ks,u=l.qs})),!r.isEqual(Lt.min())){let l=n.Pi.getLastRemoteSnapshotVersion(o).next(d=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return Fe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=i,o))}function FU(t,e,n){let r=dn(),i=dn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=oa();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Lt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ot(bC,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:s,qs:i}})}function LU(t,e){let n=Vt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VU(t,e){let n=Vt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,Fe.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new mh(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function xE(t,e,n){let r=Vt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Gu(s))throw s;ot(bC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function TM(t,e,n){let r=Vt(t),i=Lt.min(),o=dn();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,u,l){let d=Vt(c),f=d.xs.get(l);return f!==void 0?Fe.resolve(d.Ms.get(f)):d.Pi.getTargetData(u,l)})(r,s,ws(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Lt.min(),n?o:dn())).next(a=>(jU(r,Q$(e),a),{documents:a,Qs:o})))}function jU(t,e,n){let r=t.Os.get(e)||Lt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var B0=class{constructor(){this.activeTargetIds=rU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var IE=class{constructor(){this.Mo=new B0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var SE=class{Oo(e){}shutdown(){}};var DM="ConnectivityMonitor",$0=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(DM,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){ot(DM,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var y0=null;function TE(){return y0===null?y0=(function(){return 268435456+Math.round(2147483648*Math.random())})():y0++,"0x"+y0.toString(16)}var v2="RestConnection",BU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},DE=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===S0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=TE(),a=this.zo(e,n.toUriEncodedString());ot(v2,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);let{host:u}=new URL(a),l=La(u);return this.Jo(e,a,c,r,l).then(d=>(ot(v2,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Mu(v2,`RPC '${e}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=BU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var AE=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var pi="WebChannelConnection",ME=class extends DE{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=TE();return new Promise((a,c)=>{let u=new f2;u.setWithCredentials(!0),u.listenOnce(h2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case th.NO_ERROR:let d=u.getResponseJson();ot(pi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case th.TIMEOUT:ot(pi,`RPC '${e}' ${s} timed out`),c(new Ke(Se.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:let f=u.getStatus();if(ot(pi,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);let h=p?.error;if(h&&h.status&&h.message){let y=(function(_){let x=_.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(x)>=0?x:Se.UNKNOWN})(h.status);c(new Ke(y,h.message))}else c(new Ke(Se.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ke(Se.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ot(pi,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);ot(pi,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}T_(e,n,r){let i=TE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=g2(),a=m2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");ot(pi,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c);this.I_(d);let f=!1,p=!1,h=new AE({Yo:m=>{p?ot(pi,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(ot(pi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ot(pi,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},Zo:()=>d.close()}),y=(m,_,x)=>{m.listen(_,D=>{try{x(D)}catch(L){setTimeout(()=>{throw L},0)}})};return y(d,Eu.EventType.OPEN,()=>{p||(ot(pi,`RPC '${e}' stream ${i} transport opened.`),h.o_())}),y(d,Eu.EventType.CLOSE,()=>{p||(p=!0,ot(pi,`RPC '${e}' stream ${i} transport closed`),h.a_(),this.E_(d))}),y(d,Eu.EventType.ERROR,m=>{p||(p=!0,Mu(pi,`RPC '${e}' stream ${i} transport errored. Name:`,m.name,"Message:",m.message),h.a_(new Ke(Se.UNAVAILABLE,"The operation could not be completed")))}),y(d,Eu.EventType.MESSAGE,m=>{if(!p){let _=m.data[0];yn(!!_,16349);let x=_,D=x?.error||x[0]?.error;if(D){ot(pi,`RPC '${e}' stream ${i} received error:`,D);let L=D.status,$=(function(N){let j=_r[N];if(j!==void 0)return P6(j)})(L),V=D.message;$===void 0&&($=Se.INTERNAL,V="Unknown error status: "+L+" with message "+D.message),p=!0,h.a_(new Ke($,V)),d.close()}else ot(pi,`RPC '${e}' stream ${i} received:`,_),h.u_(_)}}),y(a,p2.STAT_EVENT,m=>{m.stat===p0.PROXY?ot(pi,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===p0.NOPROXY&&ot(pi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.__()},0),h}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function b2(){return typeof document<"u"?document:null}function ay(t){return new Z2(t,!0)}var vh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var AM="PersistentStream",U0=class{constructor(e,n,r,i,o,s,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vh(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new Ke(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ot(AM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ot(AM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kE=class extends U0{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=bU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Lt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Lt.min():s.readTime?no(s.readTime):Lt.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=tE(this.serializer),n.addTarget=(function(o,s){let a,c=s.target;if(a=U2(c)?{documents:wU(o,c)}:{query:EU(o,c).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=O6(o,s.resumeToken);let u=J2(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Lt.min())>0){a.readTime=O0(o,s.snapshotVersion.toTimestamp());let u=J2(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=xU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=tE(this.serializer),n.removeTarget=e,this.q_(n)}},RE=class extends U0{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return yn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){yn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=_U(e.writeResults,e.commitTime),r=no(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=tE(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>j6(this.serializer,r))};this.q_(n)}};var NE=class{},PE=class extends NE{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ke(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,eE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Se.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,eE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Se.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},OE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var ul="RemoteStore",FE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{fl(this)&&(ot(ul,"Restarting streams for network reachability change."),await(async function(c){let u=Vt(c);u.Ea.add(4),await Ih(u),u.Ra.set("Unknown"),u.Ea.delete(4),await cy(u)})(this))})}),this.Ra=new OE(r,i)}};async function cy(t){if(fl(t))for(let e of t.da)await e(!0)}async function Ih(t){for(let e of t.da)await e(!1)}function W6(t,e){let n=Vt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),CC(n)?EC(n):Ku(n).O_()&&wC(n,e))}function _C(t,e){let n=Vt(t),r=Ku(n);n.Ia.delete(e),r.O_()&&G6(n,e),n.Ia.size===0&&(r.O_()?r.L_():fl(n)&&n.Ra.set("Unknown"))}function wC(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ku(t).Y_(e)}function G6(t,e){t.Va.Ue(e),Ku(t).Z_(e)}function EC(t){t.Va=new Q2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ku(t).start(),t.Ra.ua()}function CC(t){return fl(t)&&!Ku(t).x_()&&t.Ia.size>0}function fl(t){return Vt(t).Ea.size===0}function K6(t){t.Va=void 0}async function $U(t){t.Ra.set("Online")}async function UU(t){t.Ia.forEach((e,n)=>{wC(t,e)})}async function HU(t,e){K6(t),CC(t)?(t.Ra.ha(e),EC(t)):t.Ra.set("Unknown")}async function zU(t,e,n){if(t.Ra.set("Online"),e instanceof N0&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){ot(ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await H0(t,r)}else if(e instanceof Du?t.Va.Ze(e):e instanceof R0?t.Va.st(e):t.Va.tt(e),!n.isEqual(Lt.min()))try{let r=await q6(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.Ia.get(u);l&&o.Ia.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.Ia.get(c);if(!l)return;o.Ia.set(c,l.withResumeToken(mi.EMPTY_BYTE_STRING,l.snapshotVersion)),G6(o,c);let d=new mh(l.target,c,u,l.sequenceNumber);wC(o,d)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){ot(ul,"Failed to raise snapshot:",r),await H0(t,r)}}async function H0(t,e,n){if(!Gu(e))throw e;t.Ea.add(1),await Ih(t),t.Ra.set("Offline"),n||(n=()=>q6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ot(ul,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cy(t)})}function Y6(t,e){return e().catch(n=>H0(t,n,e))}async function ly(t){let e=Vt(t),n=Ja(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uC;for(;qU(e);)try{let i=await LU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,WU(e,i)}catch(i){await H0(e,i)}X6(e)&&Q6(e)}function qU(t){return fl(t)&&t.Ta.length<10}function WU(t,e){t.Ta.push(e);let n=Ja(t);n.O_()&&n.X_&&n.ea(e.mutations)}function X6(t){return fl(t)&&!Ja(t).x_()&&t.Ta.length>0}function Q6(t){Ja(t).start()}async function GU(t){Ja(t).ra()}async function KU(t){let e=Ja(t);for(let n of t.Ta)e.ea(n.mutations)}async function YU(t,e,n){let r=t.Ta.shift(),i=G2.from(r,e,n);await Y6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ly(t)}async function XU(t,e){e&&Ja(t).X_&&await(async function(r,i){if((function(s){return N6(s)&&s!==Se.ABORTED})(i.code)){let o=r.Ta.shift();Ja(r).B_(),await Y6(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ly(r)}})(t,e),X6(t)&&Q6(t)}async function MM(t,e){let n=Vt(t);n.asyncQueue.verifyOperationInProgress(),ot(ul,"RemoteStore received new credentials");let r=fl(n);n.Ea.add(3),await Ih(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cy(n)}async function QU(t,e){let n=Vt(t);e?(n.Ea.delete(2),await cy(n)):e||(n.Ea.add(2),await Ih(n),n.Ra.set("Unknown"))}function Ku(t){return t.ma||(t.ma=(function(n,r,i){let o=Vt(n);return o.sa(),new kE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:$U.bind(null,t),t_:UU.bind(null,t),r_:HU.bind(null,t),H_:zU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),CC(t)?EC(t):t.Ra.set("Unknown")):(await t.ma.stop(),K6(t))})),t.ma}function Ja(t){return t.fa||(t.fa=(function(n,r,i){let o=Vt(n);return o.sa(),new RE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:GU.bind(null,t),r_:XU.bind(null,t),ta:KU.bind(null,t),na:YU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ly(t)):(await t.fa.stop(),t.Ta.length>0&&(ot(ul,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var LE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xC(t,e){if(ta("AsyncQueue",`${e}: ${t}`),Gu(t))return new Ke(Se.UNAVAILABLE,`${e}: ${t}`);throw t}var z0=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Et.comparator(n.key,r.key):(n,r)=>Et.comparator(n.key,r.key),this.keyedMap=nh(),this.sortedSet=new lr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var q0=class{constructor(){this.ga=new lr(Et.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Bu=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,z0.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var VE=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},jE=class{constructor(){this.queries=kM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Vt(n),o=i.queries;i.queries=kM(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new Ke(Se.ABORTED,"Firestore shutting down"))}};function kM(){return new ia(t=>w6(t),oy)}async function IC(t,e){let n=Vt(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new VE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=xC(s,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&TC(n)}async function SC(t,e){let n=Vt(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZU(t,e){let n=Vt(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&TC(n)}function JU(t,e,n){let r=Vt(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function TC(t){t.Ca.forEach(e=>{e.next()})}var BE,RM;(RM=BE||(BE={})).Ma="default",RM.Cache="cache";var bh=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Bu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==BE.Cache}};var W0=class{constructor(e){this.key=e}},G0=class{constructor(e){this.key=e}},$E=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dn(),this.mutatedKeys=dn(),this.eu=E6(e),this.tu=new z0(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new q0,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let f=i.get(l),p=sy(this.query,d)?d:null,h=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),m=!1;f&&p?f.data.isEqual(p.data)?h!==y&&(r.track({type:3,doc:p}),m=!0):this.su(f,p)||(r.track({type:2,doc:p}),m=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),m=!0):f&&!p&&(r.track({type:1,doc:f}),m=!0,(c||u)&&(a=!0)),m&&(p?(s=s.add(p),o=y?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((l,d)=>(function(p,h){let y=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:m})}};return y(p)-y(h)})(l.type,d.type)||this.eu(l.doc,d.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,s.length!==0||u?{snapshot:new Bu(this.query,e.tu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=dn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new G0(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new W0(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=dn();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},DC="SyncEngine",UE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},HE=class{constructor(e){this.key=e,this.hu=!1}},zE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ia(a=>w6(a),oy),this.Iu=new Map,this.Eu=new Set,this.du=new lr(Et.comparator),this.Au=new Map,this.Ru=new yh,this.Vu={},this.mu=new Map,this.fu=gh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function eH(t,e,n=!0){let r=rk(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Z6(r,e,n,!0),i}async function tH(t,e){let n=rk(t);await Z6(n,e,!0,!1)}async function Z6(t,e,n,r){let i=await VU(t.localStore,ws(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await nH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&W6(t.remoteStore,i),a}async function nH(t,e,n,r,i){t.pu=(d,f,p)=>(async function(y,m,_,x){let D=m.view.ru(_);D.Cs&&(D=await TM(y.localStore,m.query,!1).then(({documents:R})=>m.view.ru(R,D)));let L=x&&x.targetChanges.get(m.targetId),$=x&&x.targetMismatches.get(m.targetId)!=null,V=m.view.applyChanges(D,y.isPrimaryClient,L,$);return PM(y,m.targetId,V.au),V.snapshot})(t,d,f,p);let o=await TM(t.localStore,e,!0),s=new $E(e,o.Qs),a=s.ru(o.documents),c=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);PM(t,n,u.au);let l=new UE(e,n,s);return t.Tu.set(e,l),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function rH(t,e,n){let r=Vt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!oy(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_C(r.remoteStore,i.targetId),qE(r,i.targetId)}).catch(Wu)):(qE(r,i.targetId),await xE(r.localStore,i.targetId,!0))}async function iH(t,e){let n=Vt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_C(n.remoteStore,r.targetId))}async function oH(t,e,n){let r=fH(t);try{let i=await(function(s,a){let c=Vt(s),u=xr.now(),l=a.reduce((p,h)=>p.add(h.key),dn()),d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let h=oa(),y=dn();return c.Ns.getEntries(p,l).next(m=>{h=m,h.forEach((_,x)=>{x.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,h)).next(m=>{d=m;let _=[];for(let x of a){let D=lU(x,d.get(x.key).overlayedDocument);D!=null&&_.push(new Cs(x.key,D,p6(D.value.mapValue),Ri.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,_,a)}).next(m=>{f=m;let _=m.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(p,m.batchId,_)})}).then(()=>({batchId:f.batchId,changes:x6(d)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let u=s.Vu[s.currentUser.toKey()];u||(u=new lr(un)),u=u.insert(a,c),s.Vu[s.currentUser.toKey()]=u})(r,i.batchId,n),await Sh(r,i.changes),await ly(r.remoteStore)}catch(i){let o=xC(i,"Failed to persist write");n.reject(o)}}async function J6(t,e){let n=Vt(t);try{let r=await OU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?yn(s.hu,14607):i.removedDocuments.size>0&&(yn(s.hu,42227),s.hu=!1))}),await Sh(n,r,e)}catch(r){await Wu(r)}}function NM(t,e,n){let r=Vt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=Vt(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let f of d.Sa)f.va(a)&&(u=!0)}),u&&TC(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sH(t,e,n){let r=Vt(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new lr(Et.comparator);s=s.insert(o,ro.newNoDocument(o,Lt.min()));let a=dn().add(o),c=new k0(Lt.min(),new Map,new lr(un),s,a);await J6(r,c),r.du=r.du.remove(o),r.Au.delete(e),AC(r)}else await xE(r.localStore,e,!1).then(()=>qE(r,e,n)).catch(Wu)}async function aH(t,e){let n=Vt(t),r=e.batch.batchId;try{let i=await PU(n.localStore,e);tk(n,r,null),ek(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sh(n,i)}catch(i){await Wu(i)}}async function cH(t,e,n){let r=Vt(t);try{let i=await(function(s,a){let c=Vt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(yn(d!==null,37113),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})})(r.localStore,e);tk(r,e,n),ek(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sh(r,i)}catch(i){await Wu(i)}}function ek(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function tk(t,e,n){let r=Vt(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function qE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||nk(t,r)})}function nk(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(_C(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),AC(t))}function PM(t,e,n){for(let r of n)r instanceof W0?(t.Ru.addReference(r.key,e),lH(t,r)):r instanceof G0?(ot(DC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||nk(t,r.key)):wt(19791,{wu:r})}function lH(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ot(DC,"New document in limbo: "+n),t.Eu.add(r),AC(t))}function AC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new Et(qn.fromString(e)),r=t.fu.next();t.Au.set(r,new HE(n)),t.du=t.du.insert(n,r),W6(t.remoteStore,new mh(ws(iy(n.path)),r,"TargetPurposeLimboResolution",lC.ce))}}async function Sh(t,e,n){let r=Vt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{s.push(r.pu(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let l=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,l?"current":"not-current")}if(u){i.push(u);let l=_E.As(c.targetId,u);o.push(l)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(c,u){let l=Vt(c);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Fe.forEach(u,f=>Fe.forEach(f.Es,p=>l.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>Fe.forEach(f.ds,p=>l.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Gu(d))throw d;ot(bC,"Failed to update sequence numbers: "+d)}for(let d of u){let f=d.targetId;if(!d.fromCache){let p=l.Ms.get(f),h=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(h);l.Ms=l.Ms.insert(f,y)}}})(r.localStore,o))}async function uH(t,e){let n=Vt(t);if(!n.currentUser.isEqual(e)){ot(DC,"User change. New user:",e.toKey());let r=await z6(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(c=>{c.reject(new Ke(Se.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sh(n,r.Ls)}}function dH(t,e){let n=Vt(t),r=n.Au.get(e);if(r&&r.hu)return dn().add(r.key);{let i=dn(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function rk(t){let e=Vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sH.bind(null,e),e.Pu.H_=ZU.bind(null,e.eventManager),e.Pu.yu=JU.bind(null,e.eventManager),e}function fH(t){let e=Vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cH.bind(null,e),e}var ik=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=ay(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return NU(this.persistence,new EE,n.initialUser,this.serializer)}Cu(n){return new V0(bE.mi,this.serializer)}Du(n){return new IE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),WE=class extends ik{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){yn(this.persistence.referenceDelegate instanceof j0,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new sE(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new V0(r=>j0.mi(r,n),this.serializer)}};var hH=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uH.bind(null,this.syncEngine),await QU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new jE})()}createDatastore(n){let r=ay(n.databaseInfo.databaseId),i=(function(s){return new ME(s)})(n.databaseInfo);return(function(s,a,c,u){return new PE(s,a,c,u)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,c){return new FE(i,o,s,a,c)})(this.localStore,this.datastore,n.asyncQueue,r=>NM(this.syncEngine,r,0),(function(){return $0.v()?new $0:new SE})())}createSyncEngine(n,r){return(function(o,s,a,c,u,l,d){let f=new zE(o,s,a,c,u,l);return d&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Vt(r);ot(ul,"RemoteStore shutting down."),i.Ea.add(5),await Ih(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var _h=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var GE=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ke(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=await(async function(i,o){let s=Vt(i),a={documents:o.map(d=>F0(s.serializer,d))},c=await s.Ho("BatchGetDocuments",s.serializer.databaseId,qn.emptyPath(),a,o.length),u=new Map;c.forEach(d=>{let f=vU(s.serializer,d);u.set(f.key.toString(),f)});let l=[];return o.forEach(d=>{let f=u.get(d.toString());yn(!!f,55234,{key:d}),l.push(f)}),l})(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=Et.fromPath(r);this.mutations.push(new M0(i,this.precondition(i)))}),await(async function(r,i){let o=Vt(r),s={writes:i.map(a=>j6(o.serializer,a))};await o.Go("Commit",o.serializer.databaseId,qn.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw wt(50498,{Gu:e.constructor.name});n=Lt.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ke(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Lt.min())?Ri.exists(!1):Ri.updateTime(n):Ri.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Lt.min()))throw new Ke(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(n)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var KE=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new vh(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{let e=new GE(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{let n=this.updateFunction(e);return!xh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!N6(n)}return!1}};var ec="FirestoreClient",YE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ot(ec,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ot(ec,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=xC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function _2(t,e){t.asyncQueue.verifyOperationInProgress(),ot(ec,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await z6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OM(t,e){t.asyncQueue.verifyOperationInProgress();let n=await pH(t);ot(ec,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MM(e.remoteStore,i)),t._onlineComponents=e}async function pH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot(ec,"Using user provided OfflineComponentProvider");try{await _2(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Mu("Error using user provided cache. Falling back to memory cache: "+n),await _2(t,new ik)}}else ot(ec,"Using default OfflineComponentProvider"),await _2(t,new WE(void 0));return t._offlineComponents}async function MC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot(ec,"Using user provided OnlineComponentProvider"),await OM(t,t._uninitializedComponentsProvider._online)):(ot(ec,"Using default OnlineComponentProvider"),await OM(t,new hH))),t._onlineComponents}function mH(t){return MC(t).then(e=>e.syncEngine)}function gH(t){return MC(t).then(e=>e.datastore)}async function K0(t){let e=await MC(t),n=e.eventManager;return n.onListen=eH.bind(null,e.syncEngine),n.onUnlisten=rH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iH.bind(null,e.syncEngine),n}function yH(t,e,n={}){let r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,u){let l=new _h({next:f=>{l.Nu(),s.enqueueAndForget(()=>SC(o,d));let p=f.docs.has(a);!p&&f.fromCache?u.reject(new Ke(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new Ke(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new bh(iy(a.path),l,{includeMetadataChanges:!0,qa:!0});return IC(o,d)})(await K0(t),t.asyncQueue,e,n,r)),r.promise}function vH(t,e,n={}){let r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,u){let l=new _h({next:f=>{l.Nu(),s.enqueueAndForget(()=>SC(o,d)),f.fromCache&&c.source==="server"?u.reject(new Ke(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new bh(a,l,{includeMetadataChanges:!0,qa:!0});return IC(o,d)})(await K0(t),t.asyncQueue,e,n,r)),r.promise}function ok(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var FM=new Map;var sk="firestore.googleapis.com",LM=!0,Y0=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sk,this.ssl=LM}else this.host=e.host,this.ssl=e.ssl??LM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MU)throw new Ke(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ok(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$u=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new w2;switch(r.type){case"firstParty":return new I2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=FM.get(n);r&&(ot("ComponentProvider","Removing Datastore"),FM.delete(n),r.terminate())})(this),Promise.resolve()}};function ak(t,e,n,r={}){t=Ni(t,$u);let i=La(e),o=t._getSettings(),s=Ne(ye({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(Og(`https://${a}`),Fg("Firestore",!0)),o.host!==sk&&o.host!==a&&Mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Ne(ye({},o),{host:a,ssl:i,emulatorOptions:r});if(!ps(c,s)&&(t._setSettings(c),r.mockUserToken)){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Kr.MOCK_USER;else{u=lA(r.mockUserToken,t._app?.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ke(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kr(d)}t._authCredentials=new E2(new w0(u,l))}}var sa=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ir=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ch(n,t._jsonSchema))return new t(e,r||null,new Et(qn.fromString(n.referencePath)))}};Ir._jsonSchemaVersion="firestore/documentReference/1.0",Ir._jsonSchema={type:Cr("string",Ir._jsonSchemaVersion),referencePath:Cr("string")};var Ga=class t extends sa{constructor(e,n,r){super(e,n,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ir(this.firestore,null,new Et(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ck(t,e,...n){if(t=Ln(t),zM("collection","path",e),t instanceof $u){let r=qn.fromString(e,...n);return nM(r),new Ga(t,null,r)}{if(!(t instanceof Ir||t instanceof Ga))throw new Ke(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qn.fromString(e,...n));return nM(r),new Ga(t.firestore,null,r)}}function kC(t,e,...n){if(t=Ln(t),arguments.length===1&&(e=lh.newId()),zM("doc","path",e),t instanceof $u){let r=qn.fromString(e,...n);return tM(r),new Ir(t,null,new Et(r))}{if(!(t instanceof Ir||t instanceof Ga))throw new Ke(Se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qn.fromString(e,...n));return tM(r),new Ir(t.firestore,t instanceof Ga?t.converter:null,new Et(r))}}var VM="AsyncQueue",X0=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vh(this,"async_queue_retry"),this._c=()=>{let r=b2();r&&ot(VM,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=b2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=b2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new Eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gu(e))throw e;ot(VM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",jM(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=LE.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&wt(47125,{Pc:jM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function jM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function BM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Co=class extends $u{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X0,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new X0(e),this._firestoreClient=void 0,await e}}};function lk(t,e){let n=typeof t=="object"?t:Wc(),r=typeof t=="string"?t:e||S0,i=gu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cA("firestore");o&&ak(i,...o)}return i}function Th(t){if(t._terminated)throw new Ke(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bH(t),t._firestoreClient}function bH(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new M2(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,ok(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var ea=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(mi.fromBase64String(e))}catch(n){throw new Ke(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ch(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};ea._jsonSchemaVersion="firestore/bytes/1.0",ea._jsonSchema={type:Cr("string",ea._jsonSchemaVersion),bytes:Cr("string")};var dl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new to(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Uu=class{constructor(e){this._methodName=e}};var Ka=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ch(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ka._jsonSchemaVersion="firestore/geoPoint/1.0",Ka._jsonSchema={type:Cr("string",Ka._jsonSchemaVersion),latitude:Cr("number"),longitude:Cr("number")};var Ya=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ch(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new Ke(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ya._jsonSchemaVersion="firestore/vectorValue/1.0",Ya._jsonSchema={type:Cr("string",Ya._jsonSchemaVersion),vectorValues:Cr("object")};var _H=/^__.*__$/,XE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ll(e,this.data,n,this.fieldTransforms)}},Q0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function uk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:t})}}var QE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(ye(ye({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return J0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uk(this.Ac)&&_H.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},ZE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ay(e)}Cc(e,n,r,i=!1){return new QE({Ac:e,methodName:n,Dc:r,path:to.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Dh(t){let e=t._freezeSettings(),n=ay(t._databaseId);return new ZE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RC(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);NC("Data must be an object, but it was:",s,r);let a=hk(r,s),c,u;if(o.merge)c=new wo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let f=eC(e,d,n);if(!s.contains(f))throw new Ke(Se.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);mk(l,f)||l.push(f)}c=new wo(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new XE(new $i(a),c,u)}var Z0=class t extends Uu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var JE=class t extends Uu{_toFieldTransform(e){return new z2(e.path,new sl)}isEqual(e){return e instanceof t}};function dk(t,e,n,r){let i=t.Cc(1,e,n);NC("Data must be an object, but it was:",i,r);let o=[],s=$i.empty();tc(r,(c,u)=>{let l=PC(e,c,n);u=Ln(u);let d=i.yc(l);if(u instanceof Z0)o.push(l);else{let f=Ah(u,d);f!=null&&(o.push(l),s.set(l,f))}});let a=new wo(o);return new Q0(s,a,i.fieldTransforms)}function fk(t,e,n,r,i,o){let s=t.Cc(1,e,n),a=[eC(e,r,n)],c=[i];if(o.length%2!=0)throw new Ke(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(eC(e,o[f])),c.push(o[f+1]);let u=[],l=$i.empty();for(let f=a.length-1;f>=0;--f)if(!mk(u,a[f])){let p=a[f],h=c[f];h=Ln(h);let y=s.yc(p);if(h instanceof Z0)u.push(p);else{let m=Ah(h,y);m!=null&&(u.push(p),l.set(p,m))}}let d=new wo(u);return new Q0(l,d,s.fieldTransforms)}function wH(t,e,n,r=!1){return Ah(n,t.Cc(r?4:3,e))}function Ah(t,e){if(pk(t=Ln(t)))return NC("Unsupported field value:",e,t),hk(t,e);if(t instanceof Uu)return(function(r,i){if(!uk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=Ah(a,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=xr.fromDate(r);return{timestampValue:O0(i.serializer,o)}}if(r instanceof xr){let o=new xr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:O0(i.serializer,o)}}if(r instanceof Ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:O6(i.serializer,r._byteString)};if(r instanceof Ir){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ya)return(function(s,a){return{mapValue:{fields:{[fC]:{stringValue:hC},[Ru]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return yC(a.serializer,u)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ny(r)}`)})(t,e)}function hk(t,e){let n={};return s6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tc(t,(r,i)=>{let o=Ah(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function pk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xr||t instanceof Ka||t instanceof ea||t instanceof Ir||t instanceof Uu||t instanceof Ya)}function NC(t,e,n){if(!pk(n)||!qM(n)){let r=ny(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function eC(t,e,n){if((e=Ln(e))instanceof dl)return e._internalPath;if(typeof e=="string")return PC(t,e);throw J0("Field path arguments must be of type string or ",t,!1,void 0,n)}var EH=new RegExp("[~\\*/\\[\\]]");function PC(t,e,n){if(e.search(EH)>=0)throw J0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dl(...e.split("."))._internalPath}catch{throw J0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function J0(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ke(Se.INVALID_ARGUMENT,a+t+c)}function mk(t,e){return t.some(n=>n.isEqual(e))}var Hu=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(uy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},tC=class extends Hu{data(){return super.data()}};function uy(t,e){return typeof e=="string"?PC(t,e):e instanceof dl?e._internalPath:e._delegate._internalPath}function gk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wh=class{},Eh=class extends wh{};function yk(t,e,...n){let r=[];e instanceof wh&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(c=>c instanceof nC).length,a=o.filter(c=>c instanceof ey).length;if(s>1||s>0&&a>0)throw new Ke(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var ey=class t extends Eh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return wk(e._query,n),new sa(e.firestore,e.converter,H2(e._query,n))}_parse(e){let n=Dh(e.firestore);return(function(o,s,a,c,u,l,d){let f;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new Ke(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){UM(d,l);let h=[];for(let y of d)h.push($M(c,o,y));f={arrayValue:{values:h}}}else f=$M(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||UM(d,l),f=wH(a,s,d,l==="in"||l==="not-in");return Er.create(u,l,f)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function vk(t,e,n){let r=e,i=uy("where",t);return ey._create(i,r,n)}var nC=class t extends wh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yo.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)wk(s,c),s=H2(s,c)})(e._query,n),new sa(e.firestore,e.converter,H2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var rC=class t extends Eh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new Ke(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ol(o,s)})(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Za(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function bk(t,e="asc"){let n=e,r=uy("orderBy",t);return rC._create(r,n)}var iC=class t extends Eh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new sa(e.firestore,e.converter,A0(e._query,this._limit,this._limitType))}};function _k(t){return T$("limit",t),iC._create("limit",t,"F")}function $M(t,e,n){if(typeof(n=Ln(n))=="string"){if(n==="")throw new Ke(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_6(e)&&n.indexOf("/")!==-1)throw new Ke(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(qn.fromString(n));if(!Et.isDocumentKey(r))throw new Ke(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lM(t,new Et(r))}if(n instanceof Ir)return lM(t,n._key);throw new Ke(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ny(n)}.`)}function UM(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wk(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ke(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ty=class{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return tc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[Ru].arrayValue?.values?.map(r=>Zn(r.doubleValue));return new Ya(n)}convertGeoPoint(e){return new Ka(Zn(e.latitude),Zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fh(e));default:return null}}convertTimestamp(e){let n=na(e);return new xr(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=qn.fromString(e);yn(U6(r),9688,{name:e});let i=new T0(r.get(1),r.get(3)),o=new Et(r.popFirst(5));return i.isEqual(n)||ta(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function OC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var oC=class extends ty{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,n)}};var Wa=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xa=class t extends Hu{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(uy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Cr("string",Xa._jsonSchemaVersion),bundleSource:Cr("string","DocumentSnapshot"),bundleName:Cr("string"),bundle:Cr("string")};var Au=class extends Xa{data(e={}){return super.data(e)}},nl=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Au(this._firestore,this._userDataWriter,r.key,r,new Wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:CH(a.type),doc:c,oldIndex:u,newIndex:l}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function CH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:t})}}function Ek(t){t=Ni(t,Ir);let e=Ni(t.firestore,Co);return yH(Th(e),t._key).then(n=>Dk(e,t,n))}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:Cr("string",nl._jsonSchemaVersion),bundleSource:Cr("string","QuerySnapshot"),bundleName:Cr("string"),bundle:Cr("string")};var zu=class extends ty{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,n)}};function Ck(t){t=Ni(t,sa);let e=Ni(t.firestore,Co),n=Th(e),r=new zu(e);return gk(t._query),vH(n,t._query).then(i=>new nl(e,r,t,i))}function xk(t,e,n){t=Ni(t,Ir);let r=Ni(t.firestore,Co),i=OC(t.converter,e,n);return dy(r,[RC(Dh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ri.none())])}function Ik(t,e,n,...r){t=Ni(t,Ir);let i=Ni(t.firestore,Co),o=Dh(i),s;return s=typeof(e=Ln(e))=="string"||e instanceof dl?fk(o,"updateDoc",t._key,e,n,r):dk(o,"updateDoc",t._key,e),dy(i,[s.toMutation(t._key,Ri.exists(!0))])}function Sk(t){return dy(Ni(t.firestore,Co),[new ju(t._key,Ri.none())])}function Tk(t,e){let n=Ni(t.firestore,Co),r=kC(t),i=OC(t.converter,e);return dy(n,[RC(Dh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ri.exists(!1))]).then(()=>r)}function FC(t,...e){t=Ln(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||BM(e[r])||(n=e[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(BM(e[r])){let c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let o,s,a;if(t instanceof Ir)s=Ni(t.firestore,Co),a=iy(t._key.path),o={next:c=>{e[r]&&e[r](Dk(s,t,c))},error:e[r+1],complete:e[r+2]};else{let c=Ni(t,sa);s=Ni(c.firestore,Co),a=c._query;let u=new zu(s);o={next:l=>{e[r]&&e[r](new nl(s,u,c,l))},error:e[r+1],complete:e[r+2]},gk(t._query)}return(function(u,l,d,f){let p=new _h(f),h=new bh(l,p,d);return u.asyncQueue.enqueueAndForget(async()=>IC(await K0(u),h)),()=>{p.Nu(),u.asyncQueue.enqueueAndForget(async()=>SC(await K0(u),h))}})(Th(s),a,i,o)}function dy(t,e){return(function(r,i){let o=new Eo;return r.asyncQueue.enqueueAndForget(async()=>oH(await mH(r),i,o)),o.promise})(Th(t),e)}function Dk(t,e,n){let r=n.docs.get(e._key),i=new zu(t);return new Xa(t,i,e._key,r,new Wa(n.hasPendingWrites,n.fromCache),e.converter)}var xH={maxAttempts:5};function rh(t,e){if((t=Ln(t)).firestore!==e)throw new Ke(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var sC=class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Dh(e)}get(e){let n=rh(e,this._firestore),r=new oC(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return wt(24041);let o=i[0];if(o.isFoundDocument())return new Hu(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Hu(this._firestore,r,n._key,null,n.converter);throw wt(18433,{doc:o})})}set(e,n,r){let i=rh(e,this._firestore),o=OC(i.converter,n,r),s=RC(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){let o=rh(e,this._firestore),s;return s=typeof(n=Ln(n))=="string"||n instanceof dl?fk(this._dataReader,"Transaction.update",o._key,n,r,i):dk(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){let n=rh(e,this._firestore);return this._transaction.delete(n._key),this}};var aC=class extends sC{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=rh(e,this._firestore),r=new zu(this._firestore);return super.get(e).then(i=>new Xa(this._firestore,r,n._key,i._document,new Wa(!1,!1),n.converter))}};function Ak(t,e,n){t=Ni(t,Co);let r=ye(ye({},xH),n);return(function(o){if(o.maxAttempts<1)throw new Ke(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,s,a){let c=new Eo;return o.asyncQueue.enqueueAndForget(async()=>{let u=await gH(o);new KE(o.asyncQueue,u,a,s,c).ju()}),c.promise})(Th(t),i=>e(new aC(t,i)),r)}function Nn(){return new JE("serverTimestamp")}(function(e,n=!0){(function(i){qu=i})(ja),Go(new ki("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Co(new C2(r.getProvider("auth-internal")),new S2(s,r.getProvider("app-check-internal")),(function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T0(u.options.projectId,l)})(s,i),s);return o=ye({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),cr(Z4,J4,e),cr(Z4,J4,"esm2020")})();var fy=function(){return fy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fy.apply(this,arguments)};var TH={includeMetadataChanges:!1};function LC(t,e){return e===void 0&&(e=TH),new Gt(function(n){var r=FC(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Mk(t){return LC(t,{includeMetadataChanges:!0})}function kk(t,e){return e===void 0&&(e={}),Mk(t).pipe($e(function(n){return VC(n,e)}))}function VC(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:fy(fy({},r),(n={},n[e.idField]=t.id,n))}function Rk(t){return LC(t,{includeMetadataChanges:!0}).pipe($e(function(e){return e.docs}))}function Nk(t,e){return e===void 0&&(e={}),Rk(t).pipe($e(function(n){return n.map(function(r){return VC(r,e)})}))}var Lr=class{constructor(e){return e}},Pk="firestore",jC=class{constructor(){return vu(Pk)}};var BC=new ct("angularfire2.firestore-instances");function DH(t,e){let n=Hf(Pk,t,e);return n&&new Lr(n)}function AH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lr(r)}}var MH={provide:jC,deps:[[new Yi,BC]]},kH={provide:Lr,useFactory:DH,deps:[[new Yi,BC],Gs]};function Ok(t,...e){return cr("angularfire",Ba.full,"fst"),No([kH,MH,{provide:BC,useFactory:AH(t),multi:!0,deps:[Xn,fr,$a,Kc,[new Yi,eh],[new Yi,bu],...e]}])}var Ui=zn(Nk,!0);var Fk=zn(kk,!0);var Pi=zn(Tk,!0,2);var vn=zn(ck,!0,2);var io=zn(Sk,!0,2);var Vn=zn(kC,!0,2);var Lk=zn(Ek,!0);var gi=zn(Ck,!0);var Vk=zn(lk,!0);var Oi=zn(_k,!0,2);var aa=zn(bk,!0,2),ii=zn(yk,!0,2);var jk=zn(Ak,!0),Bk=zn(xk,!0,2);var yi=zn(Ik,!0,2);var Hi=zn(vk,!0,2);function Yu(t){if(!t)return"";if(typeof t=="object"&&typeof t.toDate=="function"){let n=t.toDate();return Wn(n)}if(t instanceof Date)return Wn(t);if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t))return t;let e=new Date(t);return isNaN(e.getTime())?"":Wn(e)}function Wn(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function nc(t){if(!t)return"";let[e,n,r]=t.split("-").map(Number);return!e||!n||!r?t:new Intl.DateTimeFormat("pt-BR").format(new Date(e,n-1,r))}function Sr(t){if(!t)return null;let[e,n,r]=t.split("-").map(Number);return!e||!n||!r?null:new Date(e,n-1,r)}var vi=class t{firestore=ge(Lr);list$(e){let n=vn(this.firestore,`users/${e}/categories`),r=ii(n,aa("name"),Oi(1e3));return Ui(r,{idField:"id"}).pipe($e(i=>i.map(o=>Ne(ye({},o),{type:o.type??"expense"}))))}async add(e,n){let r=vn(this.firestore,`users/${e}/categories`);await Pi(r,Ne(ye({},n),{createdAt:Nn()}))}async update(e,n,r){let i=Vn(this.firestore,`users/${e}/categories/${n}`);await yi(i,ye({},r))}async delete(e,n){let r=vn(this.firestore,`users/${e}/transactions`),i=ii(r,Hi("categoryId","==",n),Oi(1));if(!(await gi(i)).empty)throw new Error("Categoria em uso em lan\xE7amentos. N\xE3o \xE9 poss\xEDvel excluir.");let s=Vn(this.firestore,`users/${e}/categories/${n}`);await io(s)}async ensureDefaultCategories(e){let n=vn(this.firestore,`users/${e}/categories`);(await gi(ii(n,Oi(1)))).empty}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var jn=class t{constructor(e,n,r){this.auth=e;this.firestore=n;this.categoriesService=r;this.user$=q4(this.auth).pipe(Sp({bufferSize:1,refCount:!0})),this.profile$=this.user$.pipe(Tt(i=>i?Fk(Vn(this.firestore,`users/${i.uid}`)):Le(null)),$e(i=>i?.birthDate?Ne(ye({},i),{age:this.calculateAge(i.birthDate)}):i),Sp({bufferSize:1,refCount:!0}))}user$;profile$;async register(e,n,r){let i=await W4(this.auth,e,n),o=Vn(this.firestore,`users/${i.user.uid}`);return await Bk(o,Ne(ye({uid:i.user.uid,email:e},r),{createdAt:Nn(),updatedAt:Nn()})),await this.categoriesService.ensureDefaultCategories(i.user.uid),i.user}login(e,n){return On(K4(this.auth,e,n)).pipe(Tt(r=>On(this.categoriesService.ensureDefaultCategories(r.user.uid)).pipe($e(()=>r.user))))}logout(){return On(Y4(this.auth))}async updateProfile(e){let n=this.auth.currentUser;if(!n)throw new Error("Usu\xE1rio n\xE3o autenticado");let r=Vn(this.firestore,`users/${n.uid}`);await yi(r,Ne(ye({},e),{updatedAt:Nn()}))}async reauthenticate(e){let n=this.auth.currentUser;if(!n)throw new Error("USER_NOT_LOGGED");let r=n.email;if(!r)throw new Error("USER_NO_EMAIL");let i=s0.credential(r,e);await a0(n,i)}async requestEmailChange(e,n){let r=this.auth.currentUser;if(!r)throw new Error("USER_NOT_LOGGED");if(!e||!e.includes("@"))throw new Error("INVALID_EMAIL");await this.reauthenticate(n),await c0(r,e)}async updateUserPassword(e,n){let r=this.auth.currentUser;if(!r)throw new Error("USER_NOT_LOGGED");if(!e||e.length<6)throw new Error("WEAK_PASSWORD");await this.reauthenticate(n),await l0(r,e)}async updateEmailSecure(e,n){await this.requestEmailChange(n,e)}async updatePasswordSecure(e,n){await this.updateUserPassword(n,e)}calculateAge(e){let n=Sr(e);if(!n)return 0;let r=new Date,i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return(o<0||o===0&&r.getDate()<n.getDate())&&i--,i}static \u0275fac=function(n){return new(n||t)(Ft(Jc),Ft(Lr),Ft(vi))};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var $k=()=>{let t=ge(jn),e=ge(Mi);return t.user$.pipe(lo(1),$e(n=>n?!0:e.createUrlTree(["/auth/login"])))},Uk=()=>{let t=ge(jn),e=ge(Mi);return t.user$.pipe(lo(1),$e(n=>e.createUrlTree([n?"/app/dashboard":"/auth/login"])))};var hy=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-redirect"]],decls:0,vars:0,template:function(n,r){},encapsulation:2})};var Zk=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(lt(yo),lt(di))};static \u0275dir=pn({type:t})}return t})(),Oh=(()=>{class t extends Zk{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,features:[pr]})}return t})(),pl=new ct(""),PH={provide:pl,useExisting:zr(()=>WC),multi:!0},WC=(()=>{class t extends Oh{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Me("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ti([PH]),pr]})}return t})(),OH={provide:pl,useExisting:zr(()=>ur),multi:!0};function FH(){let t=vo()?vo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var LH=new ct(""),ur=(()=>{class t extends Zk{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!FH())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(lt(yo),lt(di),lt(LH,8))};static \u0275dir=pn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ti([OH]),pr]})}return t})();function GC(t){return t==null||KC(t)===0}function KC(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var ic=new ct(""),Fh=new ct(""),VH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xe=class{static min(e){return Jk(e)}static max(e){return e5(e)}static required(e){return t5(e)}static requiredTrue(e){return jH(e)}static email(e){return BH(e)}static minLength(e){return $H(e)}static maxLength(e){return UH(e)}static pattern(e){return HH(e)}static nullValidator(e){return my()}static compose(e){return a5(e)}static composeAsync(e){return l5(e)}};function Jk(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function e5(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function t5(t){return GC(t.value)?{required:!0}:null}function jH(t){return t.value===!0?null:{required:!0}}function BH(t){return GC(t.value)||VH.test(t.value)?null:{email:!0}}function $H(t){return e=>{let n=e.value?.length??KC(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function UH(t){return e=>{let n=e.value?.length??KC(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function HH(t){if(!t)return my;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(GC(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function my(t){return null}function n5(t){return t!=null}function r5(t){return Vs(t)?On(t):t}function i5(t){let e={};return t.forEach(n=>{e=n!=null?ye(ye({},e),n):e}),Object.keys(e).length===0?null:e}function o5(t,e){return e.map(n=>n(t))}function zH(t){return!t.validate}function s5(t){return t.map(e=>zH(e)?e:n=>e.validate(n))}function a5(t){if(!t)return null;let e=t.filter(n5);return e.length==0?null:function(n){return i5(o5(n,e))}}function c5(t){return t!=null?a5(s5(t)):null}function l5(t){if(!t)return null;let e=t.filter(n5);return e.length==0?null:function(n){let r=o5(n,e).map(r5);return S1(r).pipe($e(i5))}}function u5(t){return t!=null?l5(s5(t)):null}function Hk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function d5(t){return t._rawValidators}function f5(t){return t._rawAsyncValidators}function $C(t){return t?Array.isArray(t)?t:[t]:[]}function gy(t,e){return Array.isArray(t)?t.includes(e):t===e}function zk(t,e){let n=$C(e);return $C(t).forEach(i=>{gy(n,i)||n.push(i)}),n}function qk(t,e){return $C(e).filter(n=>!gy(t,n))}var yy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=c5(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=u5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},oo=class extends yy{name;get formDirective(){return null}get path(){return null}},hl=class extends yy{_parent=null;name=null;valueAccessor=null},vy=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Tr=(()=>{class t extends vy{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(lt(hl,2))};static \u0275dir=pn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&xn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pr]})}return t})(),Qr=(()=>{class t extends vy{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(lt(oo,10))};static \u0275dir=pn({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&xn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pr]})}return t})();var Mh="VALID",py="INVALID",Xu="PENDING",kh="DISABLED",rc=class{},by=class extends rc{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Rh=class extends rc{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Nh=class extends rc{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Qu=class extends rc{status;source;constructor(e,n){super(),this.status=e,this.source=n}},UC=class extends rc{source;constructor(e){super(),this.source=e}},Ph=class extends rc{source;constructor(e){super(),this.source=e}};function YC(t){return(Cy(t)?t.validators:t)||null}function qH(t){return Array.isArray(t)?c5(t):t||null}function XC(t,e){return(Cy(e)?e.asyncValidators:t)||null}function WH(t){return Array.isArray(t)?u5(t):t||null}function Cy(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function h5(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Je(1e3,"");if(!r[n])throw new Je(1001,"")}function p5(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Je(1002,"")})}var Zu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return sr(this.statusReactive)}set status(e){sr(()=>this.statusReactive.set(e))}_status=eu(()=>this.statusReactive());statusReactive=Ki(void 0);get valid(){return this.status===Mh}get invalid(){return this.status===py}get pending(){return this.status==Xu}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}errors;get pristine(){return sr(this.pristineReactive)}set pristine(e){sr(()=>this.pristineReactive.set(e))}_pristine=eu(()=>this.pristineReactive());pristineReactive=Ki(!0);get dirty(){return!this.pristine}get touched(){return sr(this.touchedReactive)}set touched(e){sr(()=>this.touchedReactive.set(e))}_touched=eu(()=>this.touchedReactive());touchedReactive=Ki(!1);get untouched(){return!this.touched}_events=new Bn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qk(e,this._rawAsyncValidators))}hasValidator(e){return gy(this._rawValidators,e)}hasAsyncValidator(e){return gy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ne(ye({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Nh(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Nh(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ne(ye({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Rh(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Rh(!0,r))}markAsPending(e={}){this.status=Xu;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qu(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ne(ye({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=kh,this.errors=null,this._forEachChild(i=>{i.disable(Ne(ye({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new by(this.value,r)),this._events.next(new Qu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ne(ye({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mh,this._forEachChild(r=>{r.enable(Ne(ye({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ne(ye({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===Xu)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new by(this.value,n)),this._events.next(new Qu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ne(ye({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xu,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=r5(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Qu(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Un,this.statusChanges=new Un}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?py:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xu)?Xu:this._anyControlsHaveStatus(py)?py:Mh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Rh(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Nh(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cy(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WH(this._rawAsyncValidators)}},_y=class extends Zu{constructor(e,n,r){super(YC(n),XC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){p5(this,!0,e),Object.keys(e).forEach(r=>{h5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,Ne(ye({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ph(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var HC=class extends _y{};var xy=new ct("",{factory:()=>Iy}),Iy="always";function Sy(t,e){return[...e.path,t]}function zC(t,e,n=Iy){QC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),KH(t,e),XH(t,e),YH(t,e),GH(t,e)}function Wk(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ey(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function wy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function GH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function QC(t,e){let n=d5(t);e.validator!==null?t.setValidators(Hk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=f5(t);e.asyncValidator!==null?t.setAsyncValidators(Hk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();wy(e._rawValidators,i),wy(e._rawAsyncValidators,i)}function Ey(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=d5(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=f5(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return wy(e._rawValidators,r),wy(e._rawAsyncValidators,r),n}function KH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&m5(t,e)})}function YH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&m5(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function m5(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function XH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function QH(t,e){t==null,QC(t,e)}function ZH(t,e){return Ey(t,e)}function g5(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function JH(t){return Object.getPrototypeOf(t.constructor)===Oh}function ez(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function y5(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ur?n=o:JH(o)?r=o:i=o}),i||r||n||null}function tz(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Kk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xr=class extends Zu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(YC(n),XC(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Kk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Ph(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Kk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nz=t=>t instanceof Xr,rz=(()=>{class t extends oo{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Sy(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,standalone:!1,features:[pr]})}return t})();var iz={provide:hl,useExisting:zr(()=>ml)},Yk=Promise.resolve(),ml=(()=>{class t extends hl{_changeDetectorRef;callSetDisabledState;control=new Xr;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Un;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=y5(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),g5(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Yk.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ra(r);Yk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Sy(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(lt(oo,9),lt(ic,10),lt(Fh,10),lt(pl,10),lt(ds,8),lt(xy,8))};static \u0275dir=pn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ti([iz]),pr,go]})}return t})();var Zr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=pn({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),oz={provide:pl,useExisting:zr(()=>ca),multi:!0},ca=(()=>{class t extends Oh{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Me("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ti([oz]),pr]})}return t})();var qC=class extends Zu{constructor(e,n,r){super(YC(n),XC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){p5(this,!1,e),e.forEach((r,i)=>{h5(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],Ne(ye({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ph(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var v5=(()=>{class t extends oo{callSetDisabledState;get submitted(){return sr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=eu(()=>this._submittedReactive());_submittedReactive=Ki(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this.onChanges(n)}ngOnDestroy(){this.onDestroy()}onChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Ey(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(n){let r=this.form.get(n.path);return zC(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Wk(n.control||null,n,!1),tz(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}getFormArray(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}updateModel(n,r){this.form.get(n.path).setValue(r)}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}onSubmit(n){return this.submitted=!0,ez(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new UC(this.control)),n?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Wk(r||null,n),nz(i)&&(zC(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);QH(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&ZH(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QC(this.form,this),this._oldForm&&Ey(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(lt(ic,10),lt(Fh,10),lt(xy,8))};static \u0275dir=pn({type:t,features:[pr,go]})}return t})();var b5=new ct("");var sz={provide:oo,useExisting:zr(()=>_5)},_5=(()=>{class t extends rz{name=null;constructor(n,r,i){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){w5(this._parent)}static \u0275fac=function(r){return new(r||t)(lt(oo,13),lt(ic,10),lt(Fh,10))};static \u0275dir=pn({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Ti([sz]),pr]})}return t})(),az={provide:oo,useExisting:zr(()=>Ty)},Ty=(()=>{class t extends oo{_parent;name=null;constructor(n,r,i){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){w5(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Sy(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||t)(lt(oo,13),lt(ic,10),lt(Fh,10))};static \u0275dir=pn({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Ti([az]),pr]})}return t})();function w5(t){return!(t instanceof _5)&&!(t instanceof v5)&&!(t instanceof Ty)}var cz={provide:hl,useExisting:zr(()=>Vr)},Vr=(()=>{class t extends hl{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Un;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=y5(this,o)}ngOnChanges(n){this._added||this._setUpControl(),g5(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Sy(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(lt(oo,13),lt(ic,10),lt(Fh,10),lt(pl,10),lt(b5,8))};static \u0275dir=pn({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ti([cz]),pr,go]})}return t})();var lz={provide:oo,useExisting:zr(()=>jr)},jr=(()=>{class t extends v5{form=null;ngSubmit=new Un;get control(){return this.form}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ti([lz]),pr]})}return t})(),uz={provide:pl,useExisting:zr(()=>xs),multi:!0};function E5(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function dz(t){return t.split(":")[0]}var xs=(()=>{class t extends Oh{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=ge(Ma).injector;destroyRef=ge(Lo);cdr=ge(ds);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Tm({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=E5(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=dz(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Me("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ti([uz]),pr]})}return t})(),oc=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(E5(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(lt(di),lt(yo),lt(xs,9))};static \u0275dir=pn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),fz={provide:pl,useExisting:zr(()=>C5),multi:!0};function Xk(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function hz(t){return t.split(":")[0]}var C5=(()=>{class t extends Oh{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=hz(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Me("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ti([fz]),pr]})}return t})(),sc=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Xk(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Xk(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(lt(di),lt(yo),lt(C5,9))};static \u0275dir=pn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function x5(t){return typeof t=="number"?t:parseFloat(t)}var ZC=(()=>{class t{_validator=my;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):my,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=pn({type:t,features:[go]})}return t})(),pz={provide:ic,useExisting:zr(()=>JC),multi:!0},JC=(()=>{class t extends ZC{max;inputName="max";normalizeInput=n=>x5(n);createValidator=n=>e5(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ii("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Ti([pz]),pr]})}return t})(),mz={provide:ic,useExisting:zr(()=>gl),multi:!0},gl=(()=>{class t extends ZC{min;inputName="min";normalizeInput=n=>x5(n);createValidator=n=>Jk(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ii("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Ti([mz]),pr]})}return t})(),gz={provide:ic,useExisting:zr(()=>ex),multi:!0};var ex=(()=>{class t extends ZC{required;inputName="required";normalizeInput=Ra;createValidator=n=>t5;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})();static \u0275dir=pn({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ii("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ti([gz]),pr]})}return t})();var I5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=cs({type:t});static \u0275inj=Ro({})}return t})();function Qk(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Jr=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return Qk(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _y(i,o)}record(n,r=null){let i=this._reduceControls(n);return new HC(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Qk(r)?o=r:(o.validators=r,o.asyncValidators=i),new Xr(n,Ne(ye({},o),{nonNullable:!0}))):new Xr(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new qC(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Xr)return n;if(n instanceof Zu)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ju=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xy,useValue:n.callSetDisabledState??Iy}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=cs({type:t});static \u0275inj=Ro({imports:[I5]})}return t})(),ei=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:b5,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:xy,useValue:n.callSetDisabledState??Iy}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=cs({type:t});static \u0275inj=Ro({imports:[I5]})}return t})();function yz(t,e){t&1&&(U(0,"small",19),G(1," Informe um e-mail v\xE1lido. "),B())}function vz(t,e){t&1&&(U(0,"small",19),G(1," Senha m\xEDnima de 6 caracteres. "),B())}function bz(t,e){if(t&1&&(U(0,"div",7)(1,"div",20),G(2),B()()),t&2){let n=pe();X(2),Te(n.message)}}var Dy=class t{fb=ge(Jr);auth=ge(jn);router=ge(Mi);message="";loading=!1;showPassword=!1;form=this.fb.group({email:["",[Xe.required,Xe.email]],password:["",[Xe.required,Xe.minLength(6)]]});async onSubmit(){if(this.message="",this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0;try{let{email:e,password:n}=this.form.value;await rn(this.auth.login(e,n)),await this.router.navigate(["/app/dashboard"])}catch(e){this.message=e?.message??"Erro ao entrar"}finally{this.loading=!1}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-login"]],decls:32,vars:8,consts:[[1,"auth-wrapper","d-flex","align-items-center","justify-content-center"],[1,"auth-card","p-4","p-md-5","shadow-lg"],[1,"mb-4","text-center"],[1,"text-uppercase","text-primary","fw-semibold","letter-spacing"],[1,"fw-bold","mb-2"],[1,"text-secondary"],[1,"row","g-3",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"form-label","text-secondary"],["type","email","placeholder","Seu e-mail","formControlName","email",1,"form-control","glass-input"],["class","text-danger",4,"ngIf"],[1,"input-group"],["placeholder","Sua senha","formControlName","password",1,"form-control","glass-input",3,"type"],["type","button","aria-label","Mostrar ou ocultar senha",1,"btn","btn-outline-light",3,"click"],[1,"bi",3,"ngClass"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"],[1,"col-12","text-center"],["routerLink","/auth/register",1,"ms-2","text-primary"],["class","col-12",4,"ngIf"],[1,"text-danger"],[1,"alert","alert-danger","mb-0"]],template:function(n,r){if(n&1&&(U(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),G(4,"GestaoDeGastos"),B(),U(5,"h2",4),G(6,"Bem-vindo"),B(),U(7,"p",5),G(8,"Acesse sua conta para continuar controlando seus gastos."),B()(),U(9,"form",6),Me("ngSubmit",function(){return r.onSubmit()}),U(10,"div",7)(11,"label",8),G(12,"E-mail"),B(),Ee(13,"input",9),me(14,yz,2,0,"small",10),B(),U(15,"div",7)(16,"label",8),G(17,"Senha"),B(),U(18,"div",11),Ee(19,"input",12),U(20,"button",13),Me("click",function(){return r.showPassword=!r.showPassword}),Ee(21,"i",14),B()(),me(22,vz,2,0,"small",10),B(),U(23,"div",7)(24,"button",15),G(25),B()(),U(26,"div",16)(27,"span",5),G(28,"Ainda n\xE3o tem conta?"),B(),U(29,"a",17),G(30,"Criar conta"),B()(),me(31,bz,3,1,"div",18),B()()()),n&2){let i,o;X(9),oe("formGroup",r.form),X(5),oe("ngIf",((i=r.form.get("email"))==null?null:i.touched)&&((i=r.form.get("email"))==null?null:i.invalid)),X(5),oe("type",r.showPassword?"text":"password"),X(2),oe("ngClass",r.showPassword?"bi-eye-slash":"bi-eye"),X(),oe("ngIf",((o=r.form.get("password"))==null?null:o.touched)&&((o=r.form.get("password"))==null?null:o.invalid)),X(2),oe("disabled",r.loading),X(),je(" ",r.loading?"Entrando...":"Entrar"," "),X(6),oe("ngIf",r.message)}},dependencies:[Cn,mr,Fn,ei,Zr,ur,Tr,Qr,jr,Vr,ji],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 20%,rgba(59,130,246,.08),transparent 35%),radial-gradient(circle at 80% 0%,rgba(16,185,129,.08),transparent 30%),var(--bg-gradient)}.auth-card[_ngcontent-%COMP%]{max-width:420px;width:100%;border-radius:18px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff0f;border:1px solid rgba(255,255,255,.1)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133;background:#ffffff1f;color:#fff}.letter-spacing[_ngcontent-%COMP%]{letter-spacing:.08em}"]})};function _z(t,e){t&1&&(U(0,"small",26),G(1," Informe um nome v\xE1lido. "),B())}function wz(t,e){t&1&&(U(0,"small",26),G(1," Informe um sobrenome v\xE1lido. "),B())}function Ez(t,e){t&1&&(U(0,"small",26),G(1," Informe uma data v\xE1lida. "),B())}function Cz(t,e){t&1&&(U(0,"div",26),G(1," Voc\xEA precisa ter pelo menos 18 anos. "),B())}function xz(t,e){t&1&&(U(0,"small",26),G(1," Informe um e-mail v\xE1lido. "),B())}function Iz(t,e){t&1&&(U(0,"small",26),G(1," M\xEDnimo de 6 caracteres. "),B())}function Sz(t,e){t&1&&(U(0,"small",26),G(1," As senhas n\xE3o conferem. "),B())}function Tz(t,e){if(t&1&&(U(0,"div",21)(1,"div",27),G(2),B()()),t&2){let n=pe();X(2),Te(n.message)}}var Ay=class t{fb=ge(Jr);auth=ge(jn);router=ge(Mi);message="";loading=!1;showPassword=!1;showConfirmPassword=!1;form=this.fb.group({firstName:["",[Xe.required,Xe.minLength(2)]],lastName:["",[Xe.required,Xe.minLength(2)]],birthDate:[null,Xe.required],email:["",[Xe.required,Xe.email]],password:["",[Xe.required,Xe.minLength(6)]],confirmPassword:["",[Xe.required]]},{validators:e=>e.get("password")?.value===e.get("confirmPassword")?.value?null:{mismatch:!0}});async onSubmit(){if(this.message="",this.form.invalid){this.form.markAllAsTouched();return}let e=this.form.value.birthDate,n=this.calculateAge(e);if(n<18){this.form.get("birthDate")?.setErrors({underage:!0});return}this.loading=!0;try{let{email:r,password:i,firstName:o,lastName:s}=this.form.value;await this.auth.register(r,i,{firstName:o,lastName:s,birthDate:e,age:n}),await this.router.navigate(["/app/dashboard"])}catch(r){this.message=r?.message??"Erro ao criar conta"}finally{this.loading=!1}}calculateAge(e){if(!e)return 0;let n=Sr(e);if(!n)return 0;let r=new Date,i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return(o<0||o===0&&r.getDate()<n.getDate())&&i--,i}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-register"]],decls:56,vars:15,consts:[[1,"auth-wrapper","d-flex","align-items-center","justify-content-center"],[1,"auth-card","p-4","p-md-5","shadow-lg"],[1,"mb-4","text-center"],[1,"text-uppercase","text-primary","fw-semibold","letter-spacing"],[1,"fw-bold","mb-2"],[1,"text-secondary"],[1,"row","g-3",3,"ngSubmit","formGroup"],[1,"col-md-6"],[1,"form-label","text-secondary"],["type","text","placeholder","Nome","formControlName","firstName",1,"form-control","glass-input"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Sobrenome","formControlName","lastName",1,"form-control","glass-input"],[1,"col-md-4"],["type","date","formControlName","birthDate","required","",1,"form-control","glass-input"],[1,"col-md-8"],["type","email","placeholder","seu@email.com","formControlName","email",1,"form-control","glass-input"],[1,"input-group"],["formControlName","password","placeholder","M\xEDnimo 6 caracteres",1,"form-control","glass-input",3,"type"],["type","button","aria-label","Mostrar ou ocultar senha",1,"btn","btn-outline-light",3,"click"],[1,"bi",3,"ngClass"],["formControlName","confirmPassword","placeholder","Confirme sua senha",1,"form-control","glass-input",3,"type"],[1,"col-12"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"],[1,"col-12","text-center"],["routerLink","/auth/login",1,"ms-2","text-primary"],["class","col-12",4,"ngIf"],[1,"text-danger"],[1,"alert","alert-danger","mb-0"]],template:function(n,r){if(n&1&&(U(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),G(4,"GestaoDeGastos"),B(),U(5,"h2",4),G(6,"Crie sua conta"),B(),U(7,"p",5),G(8,"Organize seus gastos com um visual futurista e leve."),B()(),U(9,"form",6),Me("ngSubmit",function(){return r.onSubmit()}),U(10,"div",7)(11,"label",8),G(12,"Nome"),B(),Ee(13,"input",9),me(14,_z,2,0,"small",10),B(),U(15,"div",7)(16,"label",8),G(17,"Sobrenome"),B(),Ee(18,"input",11),me(19,wz,2,0,"small",10),B(),U(20,"div",12)(21,"label",8),G(22,"Data de nascimento"),B(),Ee(23,"input",13),me(24,Ez,2,0,"small",10)(25,Cz,2,0,"div",10),B(),U(26,"div",14)(27,"label",8),G(28,"E-mail"),B(),Ee(29,"input",15),me(30,xz,2,0,"small",10),B(),U(31,"div",7)(32,"label",8),G(33,"Senha"),B(),U(34,"div",16),Ee(35,"input",17),U(36,"button",18),Me("click",function(){return r.showPassword=!r.showPassword}),Ee(37,"i",19),B()(),me(38,Iz,2,0,"small",10),B(),U(39,"div",7)(40,"label",8),G(41,"Confirmar senha"),B(),U(42,"div",16),Ee(43,"input",20),U(44,"button",18),Me("click",function(){return r.showConfirmPassword=!r.showConfirmPassword}),Ee(45,"i",19),B()(),me(46,Sz,2,0,"small",10),B(),U(47,"div",21)(48,"button",22),G(49),B()(),U(50,"div",23)(51,"span",5),G(52,"J\xE1 possui conta?"),B(),U(53,"a",24),G(54,"Entrar"),B()(),me(55,Tz,3,1,"div",25),B()()()),n&2){let i,o,s,a,c,u,l;X(9),oe("formGroup",r.form),X(5),oe("ngIf",((i=r.form.get("firstName"))==null?null:i.touched)&&((i=r.form.get("firstName"))==null?null:i.invalid)),X(5),oe("ngIf",((o=r.form.get("lastName"))==null?null:o.touched)&&((o=r.form.get("lastName"))==null?null:o.invalid)),X(5),oe("ngIf",((s=r.form.get("birthDate"))==null?null:s.touched)&&((s=r.form.get("birthDate"))==null?null:s.invalid)),X(),oe("ngIf",(a=r.form.get("birthDate"))==null||a.errors==null?null:a.errors.underage),X(5),oe("ngIf",((c=r.form.get("email"))==null?null:c.touched)&&((c=r.form.get("email"))==null?null:c.invalid)),X(5),oe("type",r.showPassword?"text":"password"),X(2),oe("ngClass",r.showPassword?"bi-eye-slash":"bi-eye"),X(),oe("ngIf",((u=r.form.get("password"))==null?null:u.touched)&&((u=r.form.get("password"))==null?null:u.invalid)),X(5),oe("type",r.showConfirmPassword?"text":"password"),X(2),oe("ngClass",r.showConfirmPassword?"bi-eye-slash":"bi-eye"),X(),oe("ngIf",(r.form.errors==null?null:r.form.errors.mismatch)&&((l=r.form.get("confirmPassword"))==null?null:l.touched)),X(2),oe("disabled",r.loading),X(),je(" ",r.loading?"Criando...":"Criar conta"," "),X(6),oe("ngIf",r.message)}},dependencies:[Cn,mr,Fn,ei,Zr,ur,Tr,Qr,ex,jr,Vr,ji],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 20%,rgba(59,130,246,.08),transparent 35%),radial-gradient(circle at 80% 0%,rgba(16,185,129,.08),transparent 30%),var(--bg-gradient)}.auth-card[_ngcontent-%COMP%]{max-width:640px;width:100%;border-radius:18px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff0f;border:1px solid rgba(255,255,255,.1)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133;background:#ffffff1f;color:#fff}.letter-spacing[_ngcontent-%COMP%]{letter-spacing:.08em}"]})};function Dz(t,e){if(t&1){let n=At();U(0,"li")(1,"a",8),Me("click",function(){ze(n);let i=pe();return qe(i.navigate.emit())}),Ee(2,"i",9),U(3,"span"),G(4),B()()()}if(t&2){let n=e.$implicit;X(),oe("routerLink",n.path),X(),oe("ngClass",n.icon),X(2),Te(n.label)}}function Az(t,e){if(t&1){let n=At();U(0,"div",10)(1,"a",8),Me("click",function(){ze(n);let i=pe();return qe(i.navigate.emit())}),Ee(2,"i",9),U(3,"span"),G(4),B()(),U(5,"a",8),Me("click",function(){ze(n);let i=pe();return qe(i.navigate.emit())}),Ee(6,"i",9),U(7,"span"),G(8),B()(),U(9,"div",11),G(10,"Gestao de Gastos - Pedro Krieger"),B()()}if(t&2){let n=pe();X(),oe("routerLink",n.links[n.links.length-2].path),X(),oe("ngClass",n.links[n.links.length-2].icon),X(2),Te(n.links[n.links.length-2].label),X(),oe("routerLink",n.links[n.links.length-1].path),X(),oe("ngClass",n.links[n.links.length-1].icon),X(2),Te(n.links[n.links.length-1].label)}}var My=class t{isOpen=!0;navigate=new Un;links=[{label:"Dashboard",icon:"bi-speedometer2",path:"/app/dashboard"},{label:"Lan\xE7amentos",icon:"bi-arrow-left-right",path:"/app/transactions"},{label:"Contas",icon:"bi-wallet2",path:"/app/accounts"},{label:"Categorias",icon:"bi-collection",path:"/app/categories"},{label:"Metas",icon:"bi-bullseye",path:"/app/budgets"},{label:"Relat\xF3rios",icon:"bi-graph-up",path:"/app/reports"},{label:"Cr\xE9dito",icon:"bi-credit-card-2-front",path:"/app/credit"},{label:"Ajuda",icon:"bi-question-circle",path:"/app/ajuda"},{label:"Configura\xE7\xF5es",icon:"bi-gear",path:"/app/settings"}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-sidebar"]],inputs:{isOpen:"isOpen"},outputs:{navigate:"navigate"},decls:12,vars:4,consts:[[1,"sidebar","glass-card"],[1,"sidebar-main"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"text-uppercase","text-primary","fw-semibold","small"],[1,"fw-bold","fs-5"],[1,"list-unstyled","d-flex","flex-column","gap-2"],[4,"ngFor","ngForOf"],["class","sidebar-footer",4,"ngIf"],["routerLinkActive","active",1,"sidebar-link","d-flex","align-items-center","gap-3",3,"click","routerLink"],[1,"bi",3,"ngClass"],[1,"sidebar-footer"],[1,"sidebar-watermark"]],template:function(n,r){n&1&&(U(0,"aside",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),G(5,"GestaoDeGastos"),B(),U(6,"div",4),G(7,"Painel"),B()()(),U(8,"nav")(9,"ul",5),me(10,Dz,5,3,"li",6),B()()(),me(11,Az,11,6,"div",7),B()),n&2&&(xn("open",r.isOpen),X(10),oe("ngForOf",r.links.slice(0,-2)),X(),oe("ngIf",r.links.length>1))},dependencies:[Cn,mr,ar,Fn,ji,K_],styles:[".sidebar[_ngcontent-%COMP%]{width:250px;min-height:100vh;height:100vh;position:fixed;top:0;left:0;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;transition:transform .3s ease,opacity .3s ease}@media(max-width:991px){.sidebar[_ngcontent-%COMP%]{position:fixed;inset:0 auto 0 0;z-index:1050;transform:translate(-100%);opacity:0}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0);opacity:1}}.sidebar-link[_ngcontent-%COMP%]{padding:.75rem .9rem;border-radius:12px;color:#cdd5df;text-decoration:none;transition:background-color .2s ease,color .2s ease,transform .2s ease}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff14;color:#fff;transform:translate(4px)}.sidebar-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6366f133,#22d3ee2e);color:#fff;border:1px solid rgba(255,255,255,.08)}.sidebar-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:#8b5cf6}.sidebar-footer[_ngcontent-%COMP%]{margin-top:auto;padding-top:.75rem;display:flex;flex-direction:column;gap:.35rem}.sidebar-watermark[_ngcontent-%COMP%]{padding:0 .9rem;font-size:.7rem;color:#cdd5df;opacity:.6}"]})};var ky=class t{auth=ge(jn);router=ge(Mi);toggleSidebar=new Un;user$=this.auth.user$;profile$=this.auth.profile$;logout(){this.auth.logout().subscribe({next:()=>this.router.navigate(["/auth/login"])})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-navbar"]],outputs:{toggleSidebar:"toggleSidebar"},decls:20,vars:8,consts:[[1,"navbar","glass-card","mb-3"],[1,"d-flex","align-items-center","gap-3"],["type","button",1,"btn","btn-outline-light","d-lg-none",3,"click"],[1,"bi","bi-list"],[1,"text-uppercase","text-secondary","small"],[1,"fw-bold"],[1,"text-end"],[1,"small","text-secondary"],[1,"fw-semibold"],[1,"btn","btn-sm","btn-outline-light",3,"click"]],template:function(n,r){if(n&1&&(ls(0,"nav",0)(1,"div",1)(2,"button",2),rf("click",function(){return r.toggleSidebar.emit()}),Lm(3,"i",3),us(),ls(4,"div")(5,"div",4),G(6,"GestaoDeGastos"),us(),ls(7,"div",5),G(8,"Futuro das suas finan\xE7as"),us()()(),ls(9,"div",1)(10,"div",6)(11,"div",7),G(12),Pe(13,"async"),Pe(14,"async"),us(),ls(15,"div",8),G(16),Pe(17,"async"),us()(),ls(18,"button",9),rf("click",function(){return r.logout()}),G(19,"Sair"),us()()()),n&2){let i,o;X(12),je(" ",((i=mn(13,2,r.profile$))==null?null:i.firstName)||((i=mn(14,4,r.user$))==null?null:i.email)," "),X(4),Te((o=mn(17,6,r.user$))==null?null:o.email)}},dependencies:[Cn,Fr],styles:[".navbar[_ngcontent-%COMP%]{border-radius:16px;padding:1rem 1.25rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff0a;border:1px solid rgba(255,255,255,.06);color:#e5e7eb;display:flex;justify-content:space-between;align-items:center;position:fixed;top:0;left:var(--sidebar-width);right:0;height:var(--navbar-height);z-index:1030}@media(max-width:991px){.navbar[_ngcontent-%COMP%]{left:0}}"]})};var Ry=class t{sidebarOpen=!0;toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}handleNavigate(){window.innerWidth<992&&(this.sidebarOpen=!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-shell-layout"]],decls:6,vars:1,consts:[[1,"shell-wrapper","d-flex"],[3,"navigate","isOpen"],[1,"flex-grow-1","main-area"],[3,"toggleSidebar"],[1,"content-area"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"app-sidebar",1),Me("navigate",function(){return r.handleNavigate()}),B(),U(2,"div",2)(3,"app-navbar",3),Me("toggleSidebar",function(){return r.toggleSidebar()}),B(),U(4,"div",4),Ee(5,"router-outlet"),B()()()),n&2&&(X(),oe("isOpen",r.sidebarOpen))},dependencies:[Cn,Hc,My,ky],styles:[".shell-wrapper[_ngcontent-%COMP%]{min-height:100vh;height:100vh;overflow:hidden;background:var(--bg-gradient);color:#e5e7eb;--sidebar-width: 250px;--navbar-height: 72px}.main-area[_ngcontent-%COMP%]{width:calc(100% - var(--sidebar-width));margin-left:var(--sidebar-width);height:100vh;overflow:hidden;padding:0}.content-area[_ngcontent-%COMP%]{height:100vh;overflow-y:auto;padding:calc(var(--navbar-height) + 1.25rem) 1.25rem 1.25rem}@media(max-width:991px){.main-area[_ngcontent-%COMP%]{margin-left:0;width:100%}.content-area[_ngcontent-%COMP%]{padding:calc(var(--navbar-height) + 1rem) 1rem 1rem}}"]})};var xo=class t{firestore=ge(Lr);listByRange$(e,n,r){let i=vn(this.firestore,`users/${e}/transactions`),o=Wn(n),s=Wn(r);return Ui(i,{idField:"id"}).pipe($e(a=>a.map(c=>Ne(ye({},c),{date:Yu(c.date)})).filter(c=>c.date&&c.date>=o&&c.date<=s).sort((c,u)=>c.date<u.date?1:c.date>u.date?-1:0).slice(0,2e3)))}listRecent$(e,n=5){let r=vn(this.firestore,`users/${e}/transactions`);return Ui(r,{idField:"id"}).pipe($e(i=>i.map(o=>Ne(ye({},o),{date:Yu(o.date)})).sort((o,s)=>o.date<s.date?1:o.date>s.date?-1:0).slice(0,n)))}listAll$(e){let n=vn(this.firestore,`users/${e}/transactions`);return Ui(n,{idField:"id"}).pipe($e(r=>r.map(i=>Ne(ye({},i),{date:Yu(i.date)})).sort((i,o)=>i.date<o.date?1:i.date>o.date?-1:0)))}listMonth$(e,n,r){let i=new Date(r,n-1,1,0,0,0),o=new Date(r,n,0,23,59,59);return this.listByRange$(e,i,o)}listMonthExpensesByCategory$(e,n,r){let i=new Date(r,n-1,1,0,0,0),o=new Date(r,n,0,23,59,59);return this.listByRange$(e,i,o).pipe($e(s=>s.filter(a=>a.type==="expense").reduce((a,c)=>{let u=c.categoryId||"uncategorized";return a[u]=(a[u]||0)+c.amount,a},{})))}async add(e,n){let r=vn(this.firestore,`users/${e}/transactions`);await Pi(r,Ne(ye({},n),{categoryId:n.categoryId||null,accountId:n.accountId||null,accountOriginId:n.accountOriginId||null,accountDestinationId:n.accountDestinationId||null,notes:n.notes||null,date:n.date,createdAt:Nn()}))}async update(e,n,r){let i=Vn(this.firestore,`users/${e}/transactions/${n}`);await yi(i,Ne(ye({},r),{categoryId:r.categoryId||null,accountId:r.accountId||null,accountOriginId:r.accountOriginId||null,accountDestinationId:r.accountDestinationId||null,notes:r.notes||null,date:r.date}))}async delete(e,n){let r=Vn(this.firestore,`users/${e}/transactions/${n}`);await io(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var Io=class t{firestore=ge(Lr);list$(e){let n=vn(this.firestore,`users/${e}/accounts`),r=ii(n,aa("name"),Oi(1e3));return Ui(r,{idField:"id"}).pipe($e(i=>i.map(o=>Ne(ye({},o),{initialBalance:Number(o.initialBalance??0)}))))}async add(e,n){let r=vn(this.firestore,`users/${e}/accounts`);await Pi(r,Ne(ye({},n),{initialBalance:Number(n.initialBalance??0),createdAt:Nn()}))}async update(e,n,r){let i=Vn(this.firestore,`users/${e}/accounts/${n}`);await yi(i,ye(ye({},r),r.initialBalance!==void 0?{initialBalance:Number(r.initialBalance)}:{}))}async delete(e,n){let r=vn(this.firestore,`users/${e}/transactions`),i=ii(r,Hi("accountId","==",n),Oi(1));if(!(await gi(i)).empty)throw new Error("Conta em uso em lan\xE7amentos. N\xE3o \xE9 poss\xEDvel excluir.");let s=Vn(this.firestore,`users/${e}/accounts/${n}`);await io(s)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var ed=class t{firestore=ge(Lr);listByMonth$(e,n,r){let i=vn(this.firestore,`users/${e}/budgets`);return Ui(i,{idField:"id"}).pipe($e(o=>o.filter(s=>s.month===n&&s.year===r)))}async add(e,n){let r=vn(this.firestore,`users/${e}/budgets`);if((await gi(r)).docs.some(s=>{let a=s.data();return a.categoryId===n.categoryId&&a.month===n.month&&a.year===n.year}))throw new Error("J\xE1 existe uma meta para esta categoria neste m\xEAs.");await Pi(r,Ne(ye({},n),{createdAt:Nn()}))}async update(e,n,r){let i=Vn(this.firestore,`users/${e}/budgets/${n}`);await yi(i,ye({},r))}async delete(e,n){let r=Vn(this.firestore,`users/${e}/budgets/${n}`);await io(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};function Lh(t,e){let n=Sr(t);if(!n||e<=0)return[];let r=[];for(let i=0;i<e;i++){let o=new Date(n.getFullYear(),n.getMonth()+i,n.getDate());r.push(Wn(o))}return r}var ac=class t{firestore=ge(Lr);listCards$(e){let n=vn(this.firestore,`users/${e}/creditCards`),r=ii(n,aa("name"),Oi(1e3));return Ui(r,{idField:"id"}).pipe($e(i=>i.map(o=>Ne(ye({},o),{brand:o.brand??null,limit:this.normalizeNullableNumber(o.limit),closingDay:this.normalizeNullableNumber(o.closingDay),dueDay:Number(o.dueDay??0)}))))}async addCard(e,n){let r=vn(this.firestore,`users/${e}/creditCards`);await Pi(r,Ne(ye({},n),{brand:n.brand||null,limit:this.normalizeNullableNumber(n.limit),closingDay:this.normalizeNullableNumber(n.closingDay),dueDay:Number(n.dueDay??0),createdAt:Nn(),updatedAt:Nn()}))}async updateCard(e,n,r){let i=Vn(this.firestore,`users/${e}/creditCards/${n}`);await yi(i,Ne(ye(ye(ye(ye(ye({},r),r.brand!==void 0?{brand:r.brand||null}:{}),r.limit!==void 0?{limit:this.normalizeNullableNumber(r.limit)}:{}),r.closingDay!==void 0?{closingDay:this.normalizeNullableNumber(r.closingDay)}:{}),r.dueDay!==void 0?{dueDay:Number(r.dueDay??0)}:{}),{updatedAt:Nn()}))}async deleteCard(e,n){let r=vn(this.firestore,`users/${e}/creditPurchases`),i=ii(r,Hi("cardId","==",n),Oi(1));if(!(await gi(i)).empty)throw new Error("Cart\xE3o em uso em compras. N\xE3o \xE9 poss\xEDvel excluir.");let s=Vn(this.firestore,`users/${e}/creditCards/${n}`);await io(s)}listPurchases$(e){let n=vn(this.firestore,`users/${e}/creditPurchases`),r=ii(n,aa("purchaseDate","desc"),Oi(2e3));return Ui(r,{idField:"id"}).pipe($e(i=>i.map(o=>Ne(ye({},o),{categoryId:o.categoryId??null,installmentsCount:Number(o.installmentsCount??0),installmentAmounts:(o.installmentAmounts??[]).map(s=>Number(s??0)),sameValue:!!o.sameValue}))))}listInstallments$(e){let n=vn(this.firestore,`users/${e}/creditInstallments`),r=ii(n,aa("dueDate","asc"),Oi(5e3));return Ui(r,{idField:"id"}).pipe($e(i=>i.map(o=>Ne(ye({},o),{amount:Number(o.amount??0),installmentNumber:Number(o.installmentNumber??0),paid:!!o.paid,paidAt:o.paidAt??void 0}))))}async addPurchaseWithInstallments(e,n,r){let i=Number(n.installmentsCount??0),o=this.normalizeInstallmentAmounts(n.installmentAmounts,i,n.sameValue),s=await Pi(vn(this.firestore,`users/${e}/creditPurchases`),Ne(ye({},n),{categoryId:n.categoryId||null,installmentsCount:i,installmentAmounts:o,sameValue:!!n.sameValue,status:n.status||"open",createdAt:Nn(),updatedAt:Nn()})),a=Lh(n.firstDueDate,i),c=vn(this.firestore,`users/${e}/creditInstallments`);for(let u=0;u<i;u++)await Pi(c,{purchaseId:s.id,cardId:n.cardId,installmentNumber:u+1,amount:Number(o[u]??0),dueDate:a[u]||n.firstDueDate,paymentAccountId:r.paymentAccountId,paid:!1,createdAt:Nn()})}async updatePurchaseWithInstallments(e,n,r,i,o){let s=Number(r.installmentsCount??0),a=this.normalizeInstallmentAmounts(r.installmentAmounts,s,r.sameValue),c=Vn(this.firestore,`users/${e}/creditPurchases/${n}`);await yi(c,Ne(ye({},r),{categoryId:r.categoryId||null,installmentsCount:s,installmentAmounts:a,sameValue:!!r.sameValue,updatedAt:Nn()}));let u=vn(this.firestore,`users/${e}/creditInstallments`),l=ii(u,Hi("purchaseId","==",n)),d=await gi(l),f=new Map;for(let m of d.docs){let _=m.data(),x=Number(_.installmentNumber??0);!Number.isFinite(x)||x<=0||f.has(x)||f.set(x,{ref:m.ref,data:_})}let p=new Map;for(let m of o??[]){let _=Number(m?.installmentNumber??m?.number??0);!Number.isFinite(_)||_<=0||p.set(_,m)}let h=Lh(r.firstDueDate,s),y=new Set;for(let m=0;m<s;m++){let _=m+1;y.add(_);let x=f.get(_),D=Number(a[m]??0),L=h[m]||r.firstDueDate,$=(x?.data?.paid||x?.data?.paymentMovementId)&&x.data.paymentAccountId||i.paymentAccountId;if(x){await yi(x.ref,{cardId:r.cardId,installmentNumber:_,amount:D,dueDate:L,paymentAccountId:$});continue}let V=p.get(_);await Pi(u,{purchaseId:n,cardId:r.cardId,installmentNumber:_,amount:D,dueDate:L,paymentAccountId:$,paid:V?.paid??!1,paidAt:V?.paidAt??void 0,paymentMovementId:V?.paymentMovementId??null,createdAt:Nn()})}for(let[m,_]of f.entries())y.has(m)||await io(_.ref)}async deletePurchase(e,n){let r=vn(this.firestore,`users/${e}/creditInstallments`),i=ii(r,Hi("purchaseId","==",n)),o=await gi(i);for(let a of o.docs)await io(a.ref);let s=Vn(this.firestore,`users/${e}/creditPurchases/${n}`);await io(s)}async setInstallmentPaid(e,n){let{purchaseId:r,installmentId:i,accountId:o,paid:s}=n,a=Vn(this.firestore,`users/${e}/creditPurchases/${r}`),c=Vn(this.firestore,`users/${e}/creditInstallments/${i}`),u=null;if(s){let l=await Lk(c);if(l.exists()){let d=l.data(),f=Number(d.installmentNumber??0),p=Number.isFinite(f)&&f>0?f:null;!d.paymentMovementId&&p!==null&&(u=await this.findExistingInstallmentMovement(e,o,r,p))}}await jk(this.firestore,async l=>{let[d,f]=await Promise.all([l.get(a),l.get(c)]);if(!f.exists())throw new Error("Parcela n\xE3o encontrada");let p=d.exists()?d.data():null,h=f.data(),y=!!h.paid,m=h.paymentMovementId??null;if(s){if(y&&m)return;if(m&&!y){l.update(c,{paid:!0,paidAt:h.paidAt??Nn()});return}if(u){l.update(c,{paid:!0,paidAt:h.paidAt??Nn(),paymentMovementId:u});return}let _=Wn(new Date),x=Number(h.amount??0);if(!Number.isFinite(x)||x<=0)throw new Error("Valor inv\xE1lido");let D=Vn(vn(this.firestore,`users/${e}/transactions`)),L=p&&p.installmentsCount?` (${h.installmentNumber}/${p.installmentsCount})`:"",$=`Parcela cartao - ${p?.description??"Compra"}${L}`,V=Number(h.installmentNumber??0),R=Number.isFinite(V)&&V>0?V:null;l.set(D,{type:"expense",description:$,amount:x,date:_,dueDate:h.dueDate??null,categoryId:p?.categoryId||null,accountId:o,accountOriginId:null,accountDestinationId:null,notes:"Pagamento manual de parcela (Cr\xE9dito)",source:"credit_installment_payment",purchaseId:r,installmentKey:R,installmentId:i,createdAt:Nn()}),l.update(c,{paid:!0,paidAt:Nn(),paymentMovementId:D.id});return}if(y){if(m){let _=Vn(this.firestore,`users/${e}/transactions/${m}`);l.delete(_)}l.update(c,{paid:!1,paidAt:void 0,paymentMovementId:null})}})}async findExistingInstallmentMovement(e,n,r,i){let o=vn(this.firestore,`users/${e}/transactions`),s=ii(o,Hi("source","==","credit_installment_payment"),Hi("purchaseId","==",r),Hi("installmentKey","==",i),Hi("accountId","==",n),aa("createdAt","desc"),Oi(1)),a=await gi(s);return a.empty?null:a.docs[0].id}normalizeNullableNumber(e){if(e==null||e==="")return null;let n=Number(e);return Number.isNaN(n)?null:n}normalizeInstallmentAmounts(e,n,r){if(n<=0)return[];let i=(e??[]).map(o=>Number(o??0));if(r){let o=Number(i[0]??0);return Array.from({length:n},()=>o)}return Array.from({length:n},(o,s)=>Number(i[s]??0))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var dr=t=>[t,"BRL","symbol","1.2-2","pt-BR"],Vh=t=>[t,"BRL","symbol","1.0-0","pt-BR"];function kz(t,e){if(t&1&&(U(0,"div",61),G(1),B()),t&2){let n=pe().$implicit;X(),Te(n.detail)}}function Rz(t,e){if(t&1&&(U(0,"div",58)(1,"div",59),G(2),B(),me(3,kz,2,1,"div",60),B()),t&2){let n=e.$implicit;xn("tone-warning",n.tone==="warning")("tone-danger",n.tone==="danger")("tone-info",n.tone==="info")("tone-success",n.tone==="success"),X(2),Te(n.title),X(),oe("ngIf",n.detail)}}function Nz(t,e){if(t&1&&(U(0,"div",56),me(1,Rz,4,10,"div",57),B()),t&2){let n=pe().ngIf;X(),oe("ngForOf",n.alerts)}}function Pz(t,e){t&1&&(U(0,"div",62),G(1,"Nenhum alerta relevante no momento."),B())}function Oz(t,e){if(t&1&&(Ul(),Ee(0,"line")),t&2){let n=e.$implicit,r=pe(2).ngIf;Ii("x1",0)("x2",r.charts.dailyBalance.width)("y1",n)("y2",n)}}function Fz(t,e){if(t&1&&(Ul(),U(0,"text",68),G(1),B()),t&2){let n=e.$implicit,r=pe(2).ngIf;Ii("x",n.x)("y",r.charts.dailyBalance.labelY),X(),je(" ",n.text," ")}}function Lz(t,e){if(t&1&&(ft(0),Ul(),U(1,"svg",63)(2,"g",64),me(3,Oz,1,4,"line",45),B(),Ee(4,"path",65),U(5,"g",66),me(6,Fz,2,3,"text",67),B()(),ht()),t&2){let n=pe().ngIf;X(),Ii("viewBox",n.charts.dailyBalance.viewBox)("height",n.charts.dailyBalance.height),X(2),oe("ngForOf",n.charts.dailyBalance.grid),X(),Ii("d",n.charts.dailyBalance.path),X(2),oe("ngForOf",n.charts.dailyBalance.labels)}}function Vz(t,e){t&1&&(U(0,"div",69),G(1,"Sem dados no per\xEDodo"),B())}function jz(t,e){if(t&1&&(U(0,"div",76),Ee(1,"span",77),U(2,"span",78),G(3),B(),U(4,"span",79),G(5),Pe(6,"currency"),B()()),t&2){let n=e.$implicit;X(),fi("background",n.color),X(2),Te(n.label),X(2),Te(it(6,4,rt(10,dr,n.total)))}}function Bz(t,e){if(t&1&&(ft(0),U(1,"div",70),Ee(2,"div",71),U(3,"div",72)(4,"div",73),G(5),Pe(6,"currency"),B(),U(7,"div",27),G(8,"Total gasto"),B()()(),U(9,"div",74),me(10,jz,7,12,"div",75),B(),ht()),t&2){let n=pe().ngIf;X(2),fi("background",n.charts.categoryDonut.gradient),X(3),Te(it(6,4,rt(10,dr,n.charts.categoryDonut.total))),X(5),oe("ngForOf",n.charts.categoryDonut.slices)}}function $z(t,e){t&1&&(U(0,"div",69),G(1,"Sem dados no per\xEDodo"),B())}function Uz(t,e){if(t&1&&(U(0,"div",82)(1,"div",83),G(2),B(),U(3,"div",84),Ee(4,"span",85),B(),U(5,"div",86),G(6),Pe(7,"currency"),B()()),t&2){let n=e.$implicit;X(2),Te(n.label),X(2),fi("width",n.percent,"%"),X(2),Te(it(7,4,rt(10,Vh,n.value)))}}function Hz(t,e){if(t&1&&(ft(0),U(1,"div",80),me(2,Uz,8,12,"div",81),B(),ht()),t&2){let n=pe().ngIf;X(2),oe("ngForOf",n.monthProgress.weeklySpend)}}function zz(t,e){t&1&&(U(0,"div",69),G(1,"Sem dados no per\xEDodo"),B())}function qz(t,e){if(t&1&&(U(0,"div",89)(1,"div",90),G(2),B(),U(3,"div",91),Ee(4,"span",92),B(),U(5,"div",93),G(6),Pe(7,"currency"),B()()),t&2){let n=e.$implicit;X(2),Te(n.name),X(2),fi("width",n.percent,"%")("background",n.color),X(2),Te(it(7,6,rt(12,dr,n.total)))}}function Wz(t,e){if(t&1&&(ft(0),U(1,"div",87),me(2,qz,8,14,"div",88),B(),ht()),t&2){let n=pe().ngIf;X(2),oe("ngForOf",n.monthProgress.topCategories)}}function Gz(t,e){t&1&&(U(0,"div",69),G(1,"Sem despesas no m\xEAs"),B())}function Kz(t,e){if(t&1&&(U(0,"div",96)(1,"div",97),G(2),B(),U(3,"div",98),Ee(4,"span",99),B(),U(5,"div",100),G(6),Pe(7,"currency"),B()()),t&2){let n=e.$implicit;X(2),Te(n.name),X(2),fi("width",n.percent,"%")("background",n.color),X(2),Te(it(7,6,rt(12,dr,n.total)))}}function Yz(t,e){if(t&1&&(ft(0),U(1,"div",94),me(2,Kz,8,14,"div",95),B(),ht()),t&2){let n=pe().ngIf;X(2),oe("ngForOf",n.charts.topCategories)}}function Xz(t,e){t&1&&(U(0,"div",69),G(1,"Sem despesas no m\xEAs"),B())}function Qz(t,e){if(t&1&&(U(0,"div",103)(1,"div",104),G(2),B(),U(3,"div",105)(4,"span",16),G(5,"Usado:"),B(),U(6,"span"),G(7),Pe(8,"currency"),B()(),U(9,"div",105)(10,"span",16),G(11,"Limite:"),B(),U(12,"span"),G(13),Pe(14,"currency"),B()(),U(15,"div",106)(16,"div",107),Ee(17,"div",108),B(),U(18,"small",16),G(19),Pe(20,"currency"),B()()()),t&2){let n=e.$implicit;X(2),Te(n.name),X(5),Te(it(8,6,rt(24,dr,n.used))),X(6),Te(n.limit===null?"\uFFFD":it(14,12,rt(26,dr,n.limit))),X(4),fi("width",n.percent??0,"%"),X(2),je(" Dispon\xEDvel: ",n.available===null?"\uFFFD":it(20,18,rt(28,dr,n.available))," ")}}function Zz(t,e){if(t&1&&(ft(0),U(1,"div",101),me(2,Qz,21,30,"div",102),B(),ht()),t&2){let n=pe().ngIf;X(2),oe("ngForOf",n.lists.creditCards)}}function Jz(t,e){t&1&&(U(0,"div",69),G(1,"Sem cart\xF5es cadastrados"),B())}function eq(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",109),G(4),B(),U(5,"td"),G(6),B(),U(7,"td"),G(8),B(),U(9,"td",110),G(10),Pe(11,"currency"),B()()),t&2){let n=e.$implicit,r=pe(2);X(2),Te(r.formatDate(n.date)),X(2),Te(n.description),X(2),Te(n.accountName),X(2),Te(n.categoryName),X(),xn("text-success",n.type==="income")("text-danger",n.type==="expense"),X(),je(" ",it(11,9,rt(15,dr,n.amount))," ")}}function tq(t,e){t&1&&(U(0,"tr")(1,"td",111),G(2,"Sem lan\xE7amentos recentes."),B()())}function nq(t,e){if(t&1&&(U(0,"div",114)(1,"div")(2,"div",115),G(3),B(),U(4,"div",27),G(5),B()(),U(6,"div",44)(7,"div",115),G(8),Pe(9,"currency"),B(),U(10,"div",116),G(11),B()()()),t&2){let n=e.$implicit,r=pe(3);X(3),Te(r.formatDate(n.dueDate)),X(2),Te(n.cardName),X(3),Te(it(9,8,rt(14,dr,n.amount))),X(2),xn("text-success",n.paid)("text-warning",!n.paid),X(),je(" ",n.paid?"Pago":"Pendente"," ")}}function rq(t,e){if(t&1&&(ft(0),U(1,"div",112),me(2,nq,12,16,"div",113),B(),ht()),t&2){let n=pe().ngIf;X(2),oe("ngForOf",n.lists.upcomingInstallments)}}function iq(t,e){t&1&&(U(0,"div",69),G(1,"Sem vencimentos pr\xF3ximos."),B())}function oq(t,e){if(t&1&&(U(0,"div",119)(1,"div",120),G(2),B(),U(3,"div",121)(4,"span",16),G(5,"Limite:"),B(),U(6,"span"),G(7),Pe(8,"currency"),B()(),U(9,"div",121)(10,"span",16),G(11,"Gasto:"),B(),U(12,"span"),G(13),Pe(14,"currency"),B()(),U(15,"div",122)(16,"div",107),Ee(17,"div",108),B(),U(18,"small",16),G(19),Pe(20,"currency"),B()()()),t&2){let n=e.$implicit;X(2),Te(n.categoryName),X(5),Te(it(8,10,rt(28,dr,n.limit))),X(6),Te(it(14,16,rt(30,dr,n.spent))),X(4),fi("width",n.percent,"%"),xn("warning",n.percent>=80)("danger",n.percent>=100),X(2),je("Restante: ",it(20,22,rt(32,dr,n.remaining)))}}function sq(t,e){if(t&1&&(ft(0),U(1,"div",117),me(2,oq,21,34,"div",118),B(),ht()),t&2){let n=pe().ngIf;X(2),oe("ngForOf",n.lists.budgets)}}function aq(t,e){t&1&&(U(0,"div",69),G(1,"Nenhuma meta cadastrada."),B())}function cq(t,e){if(t&1&&(U(0,"div",129)(1,"span"),G(2),Pe(3,"number"),B(),U(4,"span",16),G(5,"vs m\xEAs anterior"),B()()),t&2){let n=pe().$implicit;X(),xn("text-success",n.diffPercent>=0)("text-danger",n.diffPercent<0),X(),Bo(" ",n.diffPercent>=0?"+":"","",$s(3,6,n.diffPercent,"1.0-0"),"% ")}}function lq(t,e){if(t&1&&(U(0,"div",125)(1,"div",115),G(2),B(),U(3,"div",126),G(4),Pe(5,"currency"),B(),U(6,"div",127)(7,"span"),G(8),Pe(9,"currency"),B(),U(10,"span"),G(11),Pe(12,"currency"),B()(),me(13,cq,6,9,"div",128),B()),t&2){let n=e.$implicit;X(2),Te(n.name),X(2),Te(it(5,5,rt(23,dr,n.currentBalance))),X(4),je("Entradas: ",it(9,11,rt(25,Vh,n.income))),X(3),je("Saidas: ",it(12,17,rt(27,Vh,n.expense))),X(2),oe("ngIf",n.diffPercent!==null)}}function uq(t,e){if(t&1&&(ft(0),U(1,"div",123),me(2,lq,14,29,"div",124),B(),ht()),t&2){let n=pe().ngIf;X(2),oe("ngForOf",n.accounts)}}function dq(t,e){t&1&&(U(0,"div",69),G(1,"Nenhuma conta cadastrada."),B())}function fq(t,e){t&1&&(U(0,"div",141),G(1," Sem movimentacoes "),B())}function hq(t,e){if(t&1&&(U(0,"div",142),G(1," Entradas: "),U(2,"b"),G(3),Pe(4,"currency"),B()()),t&2){let n=pe().$implicit;X(3),Te(it(4,1,rt(7,dr,n.income)))}}function pq(t,e){if(t&1&&(U(0,"div",142),G(1," Saidas: "),U(2,"b"),G(3),Pe(4,"currency"),B()()),t&2){let n=pe().$implicit;X(3),Te(it(4,1,rt(7,dr,n.expense)))}}function mq(t,e){if(t&1&&(U(0,"div",142),G(1," Saldo do dia: "),U(2,"b"),G(3),Pe(4,"currency"),B()()),t&2){let n=pe().$implicit;X(3),Te(it(4,1,rt(7,dr,n.net)))}}function gq(t,e){if(t&1){let n=At();U(0,"div",134)(1,"div",135),Me("click",function(i){let o=ze(n).$implicit,s=pe(3);return i.stopPropagation(),qe(s.toggleDayTooltip(o.day))}),U(2,"div",136)(3,"div",137),G(4),Pe(5,"date"),B(),me(6,fq,2,0,"div",138)(7,hq,5,9,"div",139)(8,pq,5,9,"div",139)(9,mq,5,9,"div",139),B()(),U(10,"div",140),G(11),B()()}if(t&2){let n=e.$implicit,r=pe(3);X(),xn("has-data",n.hasData)("today",n.isToday)("open",r.openDay===n.day),X(3),Te($s(5,12,n.date,"dd/MM")),X(2),oe("ngIf",n.income===0&&n.expense===0),X(),oe("ngIf",n.income!==0||n.expense!==0),X(),oe("ngIf",n.income!==0||n.expense!==0),X(),oe("ngIf",n.income!==0||n.expense!==0),X(2),Te(n.day)}}function yq(t,e){if(t&1&&(U(0,"div",130)(1,"div",131),Ee(2,"div",132),me(3,gq,12,15,"div",133),B()()),t&2){let n=e.ngIf,r=pe(2);X(3),oe("ngForOf",n)("ngForTrackBy",r.trackByTimelineDay)}}function vq(t,e){if(t&1){let n=At();ft(0),U(1,"div",12)(2,"div",18)(3,"div",19)(4,"div",20),G(5,"Saldo total"),B(),U(6,"div",21),G(7),Pe(8,"currency"),B(),U(9,"div",22),G(10,"Somat\xF3rio das contas"),B()(),U(11,"div",19)(12,"div",20),G(13,"Receitas do m\xEAs"),B(),U(14,"div",23),G(15),Pe(16,"currency"),B(),U(17,"div",22),G(18,"Entradas confirmadas"),B()(),U(19,"div",19)(20,"div",20),G(21,"Despesas do m\xEAs"),B(),U(22,"div",24),G(23),Pe(24,"currency"),B(),U(25,"div",22),G(26,"Sa\xEDdas confirmadas"),B()(),U(27,"div",19)(28,"div",20),G(29,"COMPROMETIMENTO DA RENDA"),B(),U(30,"div",21),G(31),Pe(32,"number"),B(),U(33,"div",22),G(34,"Despesas / Receitas (m\xEAs)"),B()(),U(35,"div",19)(36,"div",20),G(37,"Total gasto no cart\xE3o"),B(),U(38,"div",21),G(39),Pe(40,"currency"),B(),U(41,"div",22),G(42,"Parcelas com vencimento no m\xEAs"),B()(),U(43,"div",19)(44,"div",20),G(45,"Total pago no cart\xE3o"),B(),U(46,"div",21),G(47),Pe(48,"currency"),B(),U(49,"div",22),G(50,"Pagamentos feitos neste m\xEAs"),B(),U(51,"div",22),G(52),Pe(53,"currency"),B()()()(),U(54,"div",12)(55,"div",25)(56,"div")(57,"p",14),G(58,"Alertas"),B(),U(59,"h5",26),G(60,"Alertas inteligentes"),B()(),U(61,"span",27),G(62,"Insights do m\xEAs"),B()()(),U(63,"div",12),me(64,Nz,2,1,"div",28)(65,Pz,2,0,"ng-template",null,1,$t),B(),U(67,"div",12)(68,"div",25)(69,"div")(70,"p",14),G(71,"Graficos"),B(),U(72,"h5",26),G(73,"Tend\xEAncias e distribui\xE7\xF5es"),B()(),U(74,"span",27),G(75,"\xDAltimos movimentos"),B()()(),U(76,"div",29)(77,"div",30)(78,"div",31)(79,"h6",32),G(80,"Evolu\xE7\xE3o di\xE1ria do saldo"),B(),U(81,"span",27),G(82,"Cumulativo do m\xEAs"),B()(),U(83,"div",33),me(84,Lz,7,5,"ng-container",17)(85,Vz,2,0,"ng-template",null,2,$t),B()()(),U(87,"div",34)(88,"div",30)(89,"div",35)(90,"h6",32),G(91,"Distribui\xE7\xE3o por categoria"),B(),U(92,"span",27),G(93,"Despesas do m\xEAs"),B()(),me(94,Bz,11,12,"ng-container",17)(95,$z,2,0,"ng-template",null,3,$t),B()(),U(97,"div",12)(98,"div",25)(99,"div")(100,"p",14),G(101,"Progresso do m\xEAs"),B(),U(102,"h5",26),G(103,"Progresso do m\xEAs"),B()(),U(104,"span",27),G(105,"Semana a semana"),B()()(),U(106,"div",36)(107,"div",30)(108,"div",31)(109,"h6",32),G(110,"Gastos por semana"),B(),U(111,"span",27),G(112,"Semanas do m\xEAs"),B()(),me(113,Hz,3,1,"ng-container",17)(114,zz,2,0,"ng-template",null,4,$t),B()(),U(116,"div",36)(117,"div",30)(118,"div",31)(119,"h6",32),G(120,"Top categorias do m\xEAs"),B(),U(121,"span",27),G(122,"Concentra\xE7\xE3o atual"),B()(),me(123,Wz,3,1,"ng-container",17)(124,Gz,2,0,"ng-template",null,5,$t),B()(),U(126,"div",36)(127,"div",30)(128,"div",31)(129,"h6",32),G(130,"Proje\xE7\xE3o do m\xEAs"),B(),U(131,"span",27),G(132,"M\xE9dia di\xE1ria"),B()(),U(133,"div",37)(134,"div",38)(135,"span",16),G(136,"M\xE9dia di\xE1ria"),B(),U(137,"span"),G(138),Pe(139,"currency"),B()(),U(140,"div",38)(141,"span",16),G(142,"Proje\xE7\xE3o total"),B(),U(143,"span"),G(144),Pe(145,"currency"),B()(),U(146,"div",38)(147,"span",16),G(148,"Dias restantes"),B(),U(149,"span"),G(150),B()()()()(),U(151,"div",39)(152,"div",40)(153,"div",35)(154,"h6",32),G(155,"Top categorias do m\xEAs"),B(),U(156,"span",27),G(157,"Concentra\xE7\xE3o de gastos"),B()(),me(158,Yz,3,1,"ng-container",17)(159,Xz,2,0,"ng-template",null,6,$t),B()(),U(161,"div",39)(162,"div",40)(163,"div",35)(164,"h6",32),G(165,"Cart\xF5es de cr\xE9dito"),B(),U(166,"span",27),G(167,"Limite usado e dispon\xEDvel"),B()(),me(168,Zz,3,1,"ng-container",17)(169,Jz,2,0,"ng-template",null,7,$t),B()(),U(171,"div",12)(172,"div",25)(173,"div")(174,"p",14),G(175,"Listas \xFAteis"),B(),U(176,"h5",26),G(177,"Hist\xF3rico e vencimentos"),B()(),U(178,"span",27),G(179,"A\xE7\xF5es r\xE1pidas"),B()()(),U(180,"div",29)(181,"div",40)(182,"div",35)(183,"h6",32),G(184,"\xDAltimos lan\xE7amentos"),B(),U(185,"a",41),G(186,"Ver todos"),B()(),U(187,"div",42)(188,"table",43)(189,"thead")(190,"tr",16)(191,"th"),G(192,"Data"),B(),U(193,"th"),G(194,"Descri\xE7\xE3o"),B(),U(195,"th"),G(196,"Conta"),B(),U(197,"th"),G(198,"Categoria"),B(),U(199,"th",44),G(200,"Valor"),B()()(),U(201,"tbody"),me(202,eq,12,17,"tr",45)(203,tq,3,0,"tr",46),B()()()()(),U(204,"div",34)(205,"div",40)(206,"div",35)(207,"h6",32),G(208,"Pr\xF3ximos vencimentos"),B(),U(209,"span",27),G(210,"Pr\xF3ximos 15 dias"),B()(),me(211,rq,3,1,"ng-container",17)(212,iq,2,0,"ng-template",null,8,$t),B()(),U(214,"div",39)(215,"div",40)(216,"div",35)(217,"h6",32),G(218,"Metas em andamento"),B(),U(219,"a",47),G(220,"Ver metas"),B()(),me(221,sq,3,1,"ng-container",17)(222,aq,2,0,"ng-template",null,9,$t),B()(),U(224,"div",39)(225,"div",40)(226,"div",35)(227,"h6",32),G(228,"Resumo por conta"),B(),U(229,"a",48),G(230,"Ver contas"),B()(),me(231,uq,3,1,"ng-container",17)(232,dq,2,0,"ng-template",null,10,$t),B()(),U(234,"div",12)(235,"section",49),Me("click",function(){ze(n);let i=pe();return qe(i.closeTooltip())}),U(236,"div",50)(237,"div",51)(238,"div",52)(239,"h6",53),G(240,"Linha do tempo do mes"),B(),U(241,"small",16),G(242," Passe o mouse (ou toque) em um dia para ver entradas e saidas. "),B()(),U(243,"div",54)(244,"small"),G(245,"Dica: dias com movimentacao ficam destacados."),B()()(),me(246,yq,4,2,"div",55),Pe(247,"async"),B()()(),ht()}if(t&2){let n=e.ngIf,r=Bt(66),i=Bt(86),o=Bt(96),s=Bt(115),a=Bt(125),c=Bt(160),u=Bt(170),l=Bt(213),d=Bt(223),f=Bt(233),p=pe();X(7),Te(it(8,33,rt(86,dr,n.kpis.totalBalance))),X(8),Te(it(16,39,rt(88,dr,n.kpis.income))),X(8),Te(it(24,45,rt(90,dr,n.kpis.expense))),X(8),je(" ",$s(32,51,n.kpis.incomeCommitmentPercent,"1.0-0")+"%"," "),X(8),je(" ",n.kpis.creditTotal===null?"-":it(40,54,rt(92,dr,n.kpis.creditTotal))," "),X(8),je(" ",n.kpis.creditPaid===null?"-":it(48,60,rt(94,dr,n.kpis.creditPaid))," "),X(5),je(" Fatura em aberto do m\xEAs: ",n.kpis.billOpen===null?"-":it(53,66,rt(96,dr,n.kpis.billOpen))," "),X(12),oe("ngIf",n.alerts.length>0)("ngIfElse",r),X(20),oe("ngIf",!n.charts.dailyBalance.empty)("ngIfElse",i),X(10),oe("ngIf",!n.charts.categoryDonut.empty)("ngIfElse",o),X(19),oe("ngIf",n.monthProgress.totalExpense>0)("ngIfElse",s),X(10),oe("ngIf",n.monthProgress.topCategories.length>0)("ngIfElse",a),X(15),je(" ",n.monthProgress.forecast.avgPerDay===null?"-":it(139,72,rt(98,Vh,n.monthProgress.forecast.avgPerDay))," "),X(6),je(" ",n.monthProgress.forecast.projectedTotal===null?"-":it(145,78,rt(100,Vh,n.monthProgress.forecast.projectedTotal))," "),X(6),Te(n.monthProgress.forecast.remainingDays),X(8),oe("ngIf",n.charts.topCategories.length>0)("ngIfElse",c),X(10),oe("ngIf",n.lists.creditCards.length>0)("ngIfElse",u),X(34),oe("ngForOf",n.lists.recentTransactions),X(),oe("ngIf",n.lists.recentTransactions.length===0),X(8),oe("ngIf",n.lists.upcomingInstallments.length>0)("ngIfElse",l),X(10),oe("ngIf",n.lists.budgets.length>0)("ngIfElse",d),X(10),oe("ngIf",n.accounts.length>0)("ngIfElse",f),X(15),oe("ngIf",mn(247,84,p.timelineDays$))}}function bq(t,e){t&1&&(U(0,"div",12)(1,"div",40),Ee(2,"div",144)(3,"div",147)(4,"div",148),B()())}function _q(t,e){if(t&1&&(U(0,"div",12)(1,"div",143),Ee(2,"div",144)(3,"div",145),B()(),me(4,bq,5,0,"div",146)),t&2){let n=pe();X(4),oe("ngForOf",n.skeletonCards)}}var Ny=class t{auth=ge(jn);transactionsService=ge(xo);accountsService=ge(Io);categoriesService=ge(vi);budgetsService=ge(ed);creditService=ge(ac);now=new Date;month=this.now.getMonth()+1;year=this.now.getFullYear();today=new Date(this.now.getFullYear(),this.now.getMonth(),this.now.getDate());previous=this.getPreviousMonth(this.month,this.year);next7=this.addDays(this.today,7);next15=this.addDays(this.today,15);loadingDashboard=!0;openDay=null;skeletonCards=Array.from({length:6});skeletonRows=Array.from({length:5});transactions$=this.auth.user$.pipe(ln(()=>this.loadingDashboard=!0),Tt(e=>e?this.transactionsService.listMonth$(e.uid,this.month,this.year):Le([])),En(()=>Le([])));timelineDays$=this.transactions$.pipe($e(e=>{let n=new Date,r=n.getFullYear(),i=n.getMonth(),o=n.getDate(),s=new Date(r,i+1,0).getDate(),a=new Map;(e??[]).forEach(u=>{let l=u,d=this.toDate(l.date??l.data??l.createdAt??l.timestamp);if(!d)return;let f=this.startOfDay(d);if(f.getFullYear()!==r||f.getMonth()!==i)return;let p=f.getDate(),h=a.get(p)??{income:0,expense:0},y=Number(l.amount??l.value??0)||0,m=String(l.type??l.kind??"").toLowerCase(),_=m.includes("income")||m.includes("entrada")||m==="in"||l.isIncome===!0,x=m.includes("expense")||m.includes("saida")||m==="out"||l.isExpense===!0;_?h.income+=y:x&&(h.expense+=y),a.set(p,h)});let c=[];for(let u=1;u<=s;u+=1){let l=a.get(u)??{income:0,expense:0};c.push({day:u,date:new Date(r,i,u,12,0,0,0),income:l.income,expense:l.expense,net:l.income-l.expense,hasData:l.income!==0||l.expense!==0,isToday:u===o})}return c}));allTransactions$=this.auth.user$.pipe(Tt(e=>e?this.transactionsService.listAll$(e.uid):Le([])),En(()=>Le([])));recentTransactions$=this.auth.user$.pipe(Tt(e=>e?this.transactionsService.listRecent$(e.uid,10):Le([])),En(()=>Le([])));accounts$=this.auth.user$.pipe(Tt(e=>e?this.accountsService.list$(e.uid):Le([])),En(()=>Le([])));categories$=this.auth.user$.pipe(Tt(e=>e?this.categoriesService.list$(e.uid):Le([])),En(()=>Le([])));budgets$=this.auth.user$.pipe(Tt(e=>e?this.budgetsService.listByMonth$(e.uid,this.month,this.year):Le([])),En(()=>Le([])));creditCards$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listCards$(e.uid):Le([])),En(()=>Le([])));creditInstallments$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listInstallments$(e.uid):Le([])),En(()=>Le([])));view$=$n([this.accounts$,this.transactions$,this.allTransactions$,this.categories$,this.budgets$,this.creditCards$,this.creditInstallments$,this.recentTransactions$]).pipe($e(([e,n,r,i,o,s,a,c])=>{let u=this.buildAccountBalances(e,r),l=new Map(e.map(te=>[te.id||"",te])),d=new Map(i.map(te=>[te.id||"",te])),f=new Map(s.map(te=>[te.id||"",te])),p=this.sum(u.map(te=>te.currentBalance)),h=this.sum(n.filter(te=>te.type==="income").map(te=>te.amount)),y=this.sum(n.filter(te=>te.type==="expense").map(te=>te.amount)),m=h-y,_=h>0?y/h*100:0,x=this.sumByCategory(n),D=this.sumByCategory(r.filter(te=>this.isInMonth(te.date,this.previous.month,this.previous.year))),L=this.buildCategoryBreakdown(x,i),$=this.buildCategoryDonut(L),V=this.buildDailyBalanceChart(n),R=this.buildMonthlyComparison(r),N=this.sum(Array.from(D.values())),j=this.getTopCategory(x,i,y),O=this.buildMonthProgress(n,L),E=a.filter(te=>this.isInMonth(te.dueDate,this.month,this.year)),I=this.sum(E.map(te=>Number(te.amount??0))),A=this.sum(E.filter(te=>!te.paid).map(te=>Number(te.amount??0))),g=this.sum(a.filter(te=>{if(!te.paid)return!1;let ae=this.toDate(te.paidAt);return ae?ae.getMonth()+1===this.month&&ae.getFullYear()===this.year:!1}).map(te=>Number(te.amount??0))),v=I>0||g>0||A>0,w=v?I:null,b=v?g:null,C=v?Math.max(0,I-g):null,S=v?A:null,F=a.map(te=>{let ae=this.toDate(te.dueDate);if(!ae||!this.inRange(ae,this.today,this.next15))return null;let fe=f.get(te.cardId)?.name||"Cart\xE3o";return{id:te.id,dueDate:te.dueDate,amount:Number(te.amount??0),cardName:fe,paid:!!te.paid}}).filter(te=>!!te).sort((te,ae)=>te.dueDate<ae.dueDate?-1:1),q=this.sum(a.filter(te=>{let ae=this.toDate(te.dueDate);return ae?this.inRange(ae,this.today,this.next7):!1}).filter(te=>!te.paid).map(te=>te.amount)),z=this.sum(a.filter(te=>{let ae=this.toDate(te.dueDate);return ae?this.inRange(ae,this.today,this.next15):!1}).filter(te=>!te.paid).map(te=>te.amount)),Y=a.length>0,P={totalBalance:p,income:h,expense:y,result:m,incomeCommitmentPercent:_,fixedVariable:null,creditPaid:b,creditOpen:C,creditTotal:w,billPaid:b,billOpen:S,billTotal:w,upcoming7:Y?q:null,upcoming15:Y?z:null},K=o.map(te=>{let ae=x.get(te.categoryId)??0,he=te.limitAmount-ae,fe=te.limitAmount>0?Math.min(100,ae/te.limitAmount*100):0;return{id:te.id,categoryName:d.get(te.categoryId)?.name||"Categoria",limit:te.limitAmount,spent:ae,remaining:he,percent:fe}}),k=new Map;a.filter(te=>!te.paid).forEach(te=>{let ae=k.get(te.cardId)??0;k.set(te.cardId,ae+Number(te.amount??0))});let M=s.map(te=>{let ae=k.get(te.id||"")??0,he=te.limit??null,fe=he!==null?he-ae:null,ve=he&&he>0?ae/he*100:null;return{id:te.id,name:te.name,limit:he,used:ae,available:fe,percent:ve}}),H=[];if(j&&H.push({tone:"info",title:`Maior gasto do m\xEAs: ${j.categoryName}`,detail:`${this.formatCurrency(j.total)} (${j.percent.toFixed(0)}%)`}),N>0){let te=(y-N)/N*100;H.push({tone:te>=0?"warning":"success",title:"Despesas vs m\xEAs anterior",detail:`${te>=0?"+":""}${te.toFixed(0)}%`})}let Z=[...u].sort((te,ae)=>te.currentBalance-ae.currentBalance)[0];Z&&H.push({tone:"danger",title:`Menor saldo: ${Z.name}`,detail:this.formatCurrency(Z.currentBalance)});let ie=a.filter(te=>{let ae=this.toDate(te.dueDate);return ae?this.inRange(ae,this.today,this.next7)&&!te.paid:!1}),J=r.filter(te=>{let ae=te;if(!(ae?.type==="bill"||ae?.kind==="due"||ae?.isBill===!0))return!1;let he=this.toDate(ae.date);return he?this.inRange(he,this.today,this.next7):!1}),ne=this.sum(ie.map(te=>te.amount))+this.sum(J.map(te=>te.amount)),de=ie.length+J.length;de>0&&H.push({tone:"warning",title:"Vencimentos nos pr\xF3ximos 7 dias",detail:`${de} itens - ${this.formatCurrency(ne)}`}),K.filter(te=>te.percent>=80).sort((te,ae)=>ae.percent-te.percent).slice(0,2).forEach(te=>{H.push({tone:te.percent>=100?"danger":"warning",title:`Meta: ${te.categoryName}`,detail:`${te.percent.toFixed(0)}% usado`})});let ee=c.map(te=>{let ae=te.categoryId?d.get(te.categoryId)?.name||"Categoria":"Sem categoria",he="-";if(te.type==="transfer"){let fe=l.get(te.accountOriginId||"")?.name||"-",ve=l.get(te.accountDestinationId||"")?.name||"-";he=`${fe} -> ${ve}`}else he=l.get(te.accountId||"")?.name||"-";return{id:te.id,date:te.date,description:te.description,type:te.type,amount:te.amount,accountName:he,categoryName:ae}}),le=u.map(te=>{let ae=this.sumAccountMonth(r,te.id,this.month,this.year),he=this.sumAccountMonth(r,te.id,this.previous.month,this.previous.year),fe=he.net!==0?(ae.net-he.net)/Math.abs(he.net)*100:null;return{id:te.id,name:te.name,currentBalance:te.currentBalance,income:ae.income,expense:ae.expense,net:ae.net,diffPercent:fe}});return{monthLabel:`${this.month}/${this.year}`,kpis:P,alerts:H.slice(0,6),charts:{dailyBalance:V,categoryDonut:$,monthlyComparison:R,topCategories:L},monthProgress:O,lists:{recentTransactions:ee,upcomingInstallments:F,budgets:K,creditCards:M},accounts:le}}),ln(()=>this.loadingDashboard=!1),En(()=>(this.loadingDashboard=!1,Le(this.emptyView()))));formatDate(e){return nc(e)}trackByTimelineDay(e,n){return n.day}toggleDayTooltip(e){this.openDay=this.openDay===e?null:e}closeTooltip(){this.openDay=null}emptyView(){return{monthLabel:`${this.month}/${this.year}`,kpis:{totalBalance:0,income:0,expense:0,result:0,incomeCommitmentPercent:0,fixedVariable:null,creditPaid:null,creditOpen:null,creditTotal:null,billPaid:null,billOpen:null,billTotal:null,upcoming7:null,upcoming15:null},alerts:[],charts:{dailyBalance:this.emptyLineChart(),categoryDonut:{total:0,gradient:"",slices:[],empty:!0},monthlyComparison:[],topCategories:[]},monthProgress:{weeklySpend:[],topCategories:[],forecast:{avgPerDay:null,projectedTotal:null,remainingDays:0},totalExpense:0},lists:{recentTransactions:[],upcomingInstallments:[],budgets:[],creditCards:[]},accounts:[]}}buildAccountBalances(e,n){return e.map(r=>{let i=n.filter(u=>u.type==="income"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),o=n.filter(u=>u.type==="expense"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),s=n.filter(u=>u.type==="transfer"&&u.accountOriginId===r.id).reduce((u,l)=>u+l.amount,0),a=n.filter(u=>u.type==="transfer"&&u.accountDestinationId===r.id).reduce((u,l)=>u+l.amount,0),c=Number(r.initialBalance??0);return Ne(ye({},r),{currentBalance:c+i-o-s+a})})}sumAccountMonth(e,n,r,i){if(!n)return{income:0,expense:0,net:0};let o=e.filter(d=>this.isInMonth(d.date,r,i)),s=o.filter(d=>d.type==="income"&&d.accountId===n).reduce((d,f)=>d+f.amount,0),a=o.filter(d=>d.type==="expense"&&d.accountId===n).reduce((d,f)=>d+f.amount,0),c=o.filter(d=>d.type==="transfer"&&d.accountOriginId===n).reduce((d,f)=>d+f.amount,0),u=o.filter(d=>d.type==="transfer"&&d.accountDestinationId===n).reduce((d,f)=>d+f.amount,0),l=s-a-c+u;return{income:s,expense:a,net:l}}sumByCategory(e){let n=new Map;return e.filter(r=>r.type==="expense").forEach(r=>{let i=r.categoryId||"uncategorized";n.set(i,(n.get(i)??0)+r.amount)}),n}buildCategoryBreakdown(e,n){let i=Array.from(e.entries()).map(([s,a])=>{let c=n.find(u=>u.id===s);return{categoryId:s,name:c?.name||"Categoria",total:a,color:c?.color||"#5ad1ff",percent:0}}).sort((s,a)=>a.total-s.total).slice(0,5),o=Math.max(...i.map(s=>s.total),0);return i.map(s=>Ne(ye({},s),{percent:o>0?s.total/o*100:0}))}buildCategoryDonut(e){let n=e.filter(a=>a.total>0),r=n.reduce((a,c)=>a+c.total,0);if(n.length===0||r<=0)return{total:0,gradient:"",slices:[],empty:!0};let i=n.map(a=>({label:a.name,total:a.total,color:a.color,percent:a.total/r*100})),o=0,s=i.map(a=>{let c=o+a.percent,u=`${a.color} ${o.toFixed(2)}% ${c.toFixed(2)}%`;return o=c,u}).join(", ");return{total:r,gradient:`conic-gradient(${s})`,slices:i,empty:!1}}buildDailyBalanceChart(e){let u=new Date(this.year,this.month,0).getDate();if(u<=0)return this.emptyLineChart();let l=Array.from({length:u},()=>0);e.forEach(D=>{let L=Number(D.date?.split("-")[2]??0);!L||L<1||L>u||(D.type==="income"&&(l[L-1]+=D.amount),D.type==="expense"&&(l[L-1]-=D.amount))});let d=0,f=l.map(D=>(d+=D,d)),p=Math.max(...f,0),h=Math.min(...f,0);if(p===0&&h===0)return this.emptyLineChart();let y=p-h||1,_=f.map((D,L)=>{let $=u===1?180:16+L/(u-1)*328,V=14+(1-(D-h)/y)*122;return{x:$,y:V}}).map((D,L)=>`${L===0?"M":"L"} ${D.x} ${D.y}`).join(" "),x=this.buildLineLabels(u,16,328);return{empty:!1,path:_,labels:x,grid:[14,14+122/2,136],viewBox:"0 0 360 160",width:360,height:160,labelY:152}}buildLineLabels(e,n,r){if(e<=0)return[];let i=Math.floor((e-1)/2),o=e<=2?[0,e-1]:[0,i,e-1];return Array.from(new Set(o.filter(a=>a>=0))).map(a=>{let c=e===1?n+r/2:n+a/(e-1)*r,u=(a+1).toString().padStart(2,"0");return{x:c,text:u}})}buildMonthlyComparison(e){let r=this.buildRecentMonths(6).map(({month:o,year:s})=>{let a=e.filter(d=>this.isInMonth(d.date,o,s)),c=a.filter(d=>d.type==="income").reduce((d,f)=>d+f.amount,0),u=a.filter(d=>d.type==="expense").reduce((d,f)=>d+f.amount,0),l=c-u;return{label:`${o.toString().padStart(2,"0")}/${s}`,income:c,expense:u,result:l,incomePct:0,expensePct:0,resultPct:0}}),i=Math.max(...r.flatMap(o=>[o.income,o.expense,Math.abs(o.result)]),0);return r.map(o=>Ne(ye({},o),{incomePct:i>0?o.income/i*100:0,expensePct:i>0?o.expense/i*100:0,resultPct:i>0?Math.abs(o.result)/i*100:0}))}buildMonthProgress(e,n){let r=e.filter(h=>h.type==="expense"),i=this.sum(r.map(h=>h.amount)),o=[0,0,0,0,0];r.forEach(h=>{let y=Number(h.date?.split("-")[2]??0);if(!y)return;let m=y<=7?0:y<=14?1:y<=21?2:y<=28?3:4;o[m]+=h.amount});let s=Math.max(...o,0),a=o.map((h,y)=>({label:`Sem ${y+1}`,value:h,percent:s>0?h/s*100:0})),c=new Date(this.year,this.month,0).getDate(),u=Math.min(this.today.getDate(),c),l=this.sum(r.filter(h=>{let y=this.toDate(h.date);return y?y<=this.today:!1}).map(h=>h.amount)),d=u>0&&l>0?l/u:null,f=d!==null?d*c:null,p=Math.max(0,c-u);return{weeklySpend:a,topCategories:n,forecast:{avgPerDay:d,projectedTotal:f,remainingDays:p},totalExpense:i}}getTopCategory(e,n,r){let i=null;return e.forEach((o,s)=>{if(!(o<=0)&&(!i||o>i.total)){let a=n.find(u=>u.id===s)?.name||"Categoria",c=r>0?o/r*100:0;i={categoryId:s,categoryName:a,total:o,percent:c}}}),i}getLatestTransactionDate(e){return e.map(r=>this.toDate(r.date)).filter(r=>!!r).sort((r,i)=>i.getTime()-r.getTime())[0]??null}isInMonth(e,n,r){let i=this.getMonthYear(e);return i?i.month===n&&i.year===r:!1}getMonthYear(e){if(!e)return null;let[n,r]=e.split("-").map(Number);return!n||!r?null:{year:n,month:r}}sum(e){return e.reduce((n,r)=>n+r,0)}formatCurrency(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}isDateLike(e){return e instanceof Date}startOfDay(e){let n=new Date(e);return n.setHours(0,0,0,0),n}toDate(e){if(!e)return null;if(this.isDateLike(e))return e;if(typeof e=="number")return new Date(e);if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){let[i,o,s]=e.split("-").map(Number);return new Date(i,o-1,s,12,0,0,0)}let r=new Date(e);return Number.isNaN(r.getTime())?null:r}let n=e;return n?.toDate&&typeof n.toDate=="function"?n.toDate():null}inRange(e,n,r){return e>=n&&e<=r}daysBetween(e,n){let r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()-r.getTime();return Math.floor(o/(1e3*60*60*24))}addDays(e,n){let r=new Date(e);return r.setDate(r.getDate()+n),r}getPreviousMonth(e,n){return e===1?{month:12,year:n-1}:{month:e-1,year:n}}buildRecentMonths(e){let n=[],r=this.month,i=this.year;for(let o=0;o<e;o+=1)n.push({month:r,year:i}),r-=1,r<1&&(r=12,i-=1);return n}emptyLineChart(){return{empty:!0,path:"",labels:[],grid:[],viewBox:"0 0 360 160",width:360,height:160,labelY:152}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-dashboard"]],decls:14,vars:6,consts:[["dashboardLoadingTpl",""],["emptyAlertsTpl",""],["emptyLineTpl",""],["emptyDonutTpl",""],["emptyWeekTpl",""],["emptyProgressTopTpl",""],["emptyTopTpl",""],["emptyCardsTpl",""],["emptyUpcomingTpl",""],["emptyBudgetsTpl",""],["emptyAccountsTpl",""],[1,"row","g-3","dashboard-page"],[1,"col-12"],[1,"page-header","d-flex","align-items-center","justify-content-between","flex-wrap","gap-2"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"text-secondary"],[4,"ngIf","ngIfElse"],[1,"kpi-grid"],[1,"glass-card","kpi-card","kpi-center"],[1,"kpi-label"],[1,"kpi-value"],[1,"kpi-sub"],[1,"kpi-value","text-success"],[1,"kpi-value","text-danger"],[1,"section-header"],[1,"mb-0","fw-semibold"],[1,"text-secondary","small"],["class","alerts-grid",4,"ngIf","ngIfElse"],[1,"col-lg-7"],[1,"glass-card","chart-card","h-100"],[1,"chart-header"],[1,"fw-semibold","mb-0"],[1,"chart-wrap"],[1,"col-lg-5"],[1,"card-header-row"],[1,"col-lg-4"],[1,"forecast-list"],[1,"forecast-row"],[1,"col-lg-6"],[1,"glass-card","p-3","h-100"],["routerLink","/app/transactions",1,"btn","btn-sm","btn-outline-light"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/app/budgets",1,"btn","btn-sm","btn-outline-light"],["routerLink","/app/accounts",1,"btn","btn-sm","btn-outline-light"],[1,"glass-card","p-3","timeline-section",3,"click"],[1,"timeline-viewport"],[1,"timeline-header"],[1,"timeline-title"],[1,"fw-semibold","mb-1"],[1,"timeline-help","text-secondary"],["class","timeline-scroll",4,"ngIf"],[1,"alerts-grid"],["class","alert-card",3,"tone-warning","tone-danger","tone-info","tone-success",4,"ngFor","ngForOf"],[1,"alert-card"],[1,"alert-title"],["class","alert-detail",4,"ngIf"],[1,"alert-detail"],[1,"glass-card","p-3","text-secondary"],[1,"chart-svg"],[1,"chart-grid"],[1,"chart-line"],[1,"chart-labels"],["text-anchor","middle",4,"ngFor","ngForOf"],["text-anchor","middle"],[1,"text-secondary","small","empty-state"],[1,"donut-layout"],[1,"donut-chart"],[1,"donut-meta"],[1,"donut-total"],[1,"donut-legend"],["class","donut-legend-row",4,"ngFor","ngForOf"],[1,"donut-legend-row"],[1,"legend-dot"],[1,"legend-label"],[1,"legend-value"],[1,"week-list"],["class","week-row",4,"ngFor","ngForOf"],[1,"week-row"],[1,"week-label"],[1,"week-bar"],[1,"week-fill"],[1,"week-value"],[1,"progress-category-list"],["class","progress-category-row",4,"ngFor","ngForOf"],[1,"progress-category-row"],[1,"progress-category-name"],[1,"progress-category-bar"],[1,"progress-category-fill"],[1,"progress-category-value"],[1,"category-list"],["class","category-row",4,"ngFor","ngForOf"],[1,"category-row"],[1,"category-name"],[1,"category-bar"],[1,"category-fill"],[1,"category-value"],[1,"credit-list"],["class","credit-row",4,"ngFor","ngForOf"],[1,"credit-row"],[1,"credit-title"],[1,"credit-values"],[1,"credit-progress"],[1,"bar-track"],[1,"bar-fill"],[1,"text-truncate",2,"max-width","180px"],[1,"text-end","fw-semibold"],["colspan","5",1,"text-center","text-secondary","py-3"],[1,"upcoming-list"],["class","upcoming-row",4,"ngFor","ngForOf"],[1,"upcoming-row"],[1,"fw-semibold"],[1,"small"],[1,"budget-list"],["class","budget-row",4,"ngFor","ngForOf"],[1,"budget-row"],[1,"budget-title"],[1,"budget-values"],[1,"budget-progress"],[1,"accounts-grid"],["class","account-card",4,"ngFor","ngForOf"],[1,"account-card"],[1,"account-balance"],[1,"account-meta"],["class","account-diff",4,"ngIf"],[1,"account-diff"],[1,"timeline-scroll"],[1,"timeline-track"],[1,"timeline-line"],["class","timeline-node",4,"ngFor","ngForOf","ngForTrackBy"],[1,"timeline-node"],[1,"timeline-dot",3,"click"],[1,"timeline-tooltip"],[1,"tt-date"],["class","tt-empty",4,"ngIf"],["class","tt-row",4,"ngIf"],[1,"timeline-day-label"],[1,"tt-empty"],[1,"tt-row"],[1,"glass-card","p-3"],[1,"skeleton","skeleton-line","w-50","mb-2"],[1,"skeleton","skeleton-line","w-75"],["class","col-12",4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","lg","w-75"],[1,"skeleton","skeleton-line","w-75","mt-2"]],template:function(n,r){if(n&1&&(U(0,"div",11)(1,"div",12)(2,"div",13)(3,"div")(4,"p",14),G(5,"Vis\xE3o geral"),B(),U(6,"h3",15),G(7,"Dashboard"),B()(),U(8,"div",16),G(9),B()()(),me(10,vq,248,102,"ng-container",17),Pe(11,"async"),me(12,_q,5,1,"ng-template",null,0,$t),B()),n&2){let i=Bt(13);X(9),Bo("M\xEAs atual: ",r.month,"/",r.year),X(),oe("ngIf",mn(11,4,r.view$))("ngIfElse",i)}},dependencies:[Cn,ar,Fn,ji,Fr,mf,Qi,pf],styles:['.page-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:-.02em}.glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.kpi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.kpi-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;min-height:110px}.kpi-label[_ngcontent-%COMP%]{font-size:.72rem;letter-spacing:.08em;text-transform:uppercase;color:var(--app-muted)}.kpi-value[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:700}.kpi-sub[_ngcontent-%COMP%]{font-size:.85rem;color:var(--app-muted)}.alerts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.alert-card[_ngcontent-%COMP%]{padding:12px;border-radius:14px;background:#131f3399;border:1px solid rgba(255,255,255,.08);border-left:4px solid rgba(148,163,184,.6)}.alert-card.tone-warning[_ngcontent-%COMP%]{border-left-color:#facc15cc}.alert-card.tone-danger[_ngcontent-%COMP%]{border-left-color:#f87171e6}.alert-card.tone-info[_ngcontent-%COMP%]{border-left-color:#38bdf8e6}.alert-card.tone-success[_ngcontent-%COMP%]{border-left-color:#22c55ee6}.alert-title[_ngcontent-%COMP%]{font-weight:600}.alert-detail[_ngcontent-%COMP%]{font-size:.85rem;color:var(--app-muted)}.card-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.card-header-row[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]{white-space:nowrap;border-radius:10px;padding:6px 12px}.chart-card[_ngcontent-%COMP%]{border-radius:16px;padding:14px;min-height:220px}.chart-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.chart-wrap[_ngcontent-%COMP%]{position:relative;width:100%;height:320px;overflow:hidden}.chart-svg[_ngcontent-%COMP%]{width:100%;display:block;height:100%}.chart-grid[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:#ffffff14;stroke-width:1}.chart-line[_ngcontent-%COMP%]{fill:none;stroke:#38bdf8e6;stroke-width:2.4}.chart-labels[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#ffffff8c;font-size:10px}.donut-layout[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.donut-chart[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:50%;position:relative}.donut-chart[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:34px;background:#0e1626e6;border-radius:50%;border:1px solid rgba(255,255,255,.08)}.donut-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.donut-total[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.donut-legend[_ngcontent-%COMP%]{margin-top:12px;display:grid;gap:8px}.donut-legend-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:.85rem}.legend-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:inline-block}.legend-label[_ngcontent-%COMP%]{flex:1}.month-rows[_ngcontent-%COMP%]{display:grid;gap:12px}.month-row[_ngcontent-%COMP%]{display:grid;gap:8px;grid-template-columns:70px 1fr}.month-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--app-muted);align-self:center}.month-bars[_ngcontent-%COMP%]{display:grid;gap:6px}.bar-track[_ngcontent-%COMP%]{width:100%;height:8px;background:#ffffff14;border-radius:999px;overflow:hidden}.bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:999px;background:#38bdf8cc}.bar-fill.income[_ngcontent-%COMP%]{background:#22c55ecc}.bar-fill.expense[_ngcontent-%COMP%]{background:#f87171d9}.bar-fill.result[_ngcontent-%COMP%]{background:#3b82f6d9}.bar-fill.result.negative[_ngcontent-%COMP%]{background:#fb923cd9}.bar-fill.warning[_ngcontent-%COMP%]{background:#facc15e6}.bar-fill.danger[_ngcontent-%COMP%]{background:#f87171e6}.month-values[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;font-size:.8rem;color:var(--app-muted)}.category-list[_ngcontent-%COMP%], .week-list[_ngcontent-%COMP%], .progress-category-list[_ngcontent-%COMP%], .forecast-list[_ngcontent-%COMP%]{display:grid;gap:12px}.week-row[_ngcontent-%COMP%], .progress-category-row[_ngcontent-%COMP%], .forecast-row[_ngcontent-%COMP%]{display:grid;gap:8px;align-items:center}.week-row[_ngcontent-%COMP%]{grid-template-columns:60px 1fr 90px;font-size:.85rem}.week-label[_ngcontent-%COMP%]{color:var(--app-muted)}.week-bar[_ngcontent-%COMP%], .progress-category-bar[_ngcontent-%COMP%]{height:8px;background:#ffffff14;border-radius:999px;overflow:hidden}.week-fill[_ngcontent-%COMP%], .progress-category-fill[_ngcontent-%COMP%]{display:block;height:100%;border-radius:999px}.week-fill[_ngcontent-%COMP%]{background:#22c55ecc}.progress-category-row[_ngcontent-%COMP%]{grid-template-columns:120px 1fr 90px}.progress-category-name[_ngcontent-%COMP%]{font-size:.85rem;color:var(--app-text)}.progress-category-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.forecast-row[_ngcontent-%COMP%]{grid-template-columns:1fr auto;font-size:.9rem}.category-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 1fr 100px;align-items:center;gap:10px}.category-name[_ngcontent-%COMP%]{font-size:.85rem;color:var(--app-text)}.category-bar[_ngcontent-%COMP%]{height:8px;background:#ffffff14;border-radius:999px;overflow:hidden}.category-fill[_ngcontent-%COMP%]{display:block;height:100%;border-radius:999px}.category-value[_ngcontent-%COMP%]{text-align:right;font-weight:600}.credit-list[_ngcontent-%COMP%], .budget-list[_ngcontent-%COMP%], .upcoming-list[_ngcontent-%COMP%]{display:grid;gap:12px}.credit-row[_ngcontent-%COMP%], .budget-row[_ngcontent-%COMP%], .upcoming-row[_ngcontent-%COMP%]{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0f172a99}.credit-title[_ngcontent-%COMP%], .budget-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px}.credit-values[_ngcontent-%COMP%], .budget-values[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem}.credit-progress[_ngcontent-%COMP%], .budget-progress[_ngcontent-%COMP%]{margin-top:6px;display:grid;gap:6px}.upcoming-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.accounts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:12px}.account-card[_ngcontent-%COMP%]{padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:#0f172a99;display:grid;gap:6px}.account-balance[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700}.account-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.8rem;color:var(--app-muted)}.account-diff[_ngcontent-%COMP%]{font-size:.8rem}.timeline-section[_ngcontent-%COMP%]{display:grid;gap:12px;overflow:visible!important;position:relative;margin-top:18px;z-index:5}.timeline-viewport[_ngcontent-%COMP%]{position:relative;overflow:visible!important}.timeline-header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:18px}.timeline-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.timeline-title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .timeline-hint[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--app-muted)}.timeline-scroll[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:visible;position:relative;padding:90px 0 8px}.timeline-track[_ngcontent-%COMP%]{position:relative;display:flex;align-items:stretch;justify-content:space-between;gap:6px;min-width:560px;padding:0 12px;height:170px;overflow:visible!important;--axisY: 86px;--dot-size: 12px;--label-offset: 18px}.timeline-line[_ngcontent-%COMP%]{position:absolute;left:8px;right:8px;top:var(--axisY);height:2px;background:#ffffff1f;transform:translateY(-50%);z-index:0;opacity:.35}.timeline-node[_ngcontent-%COMP%]{position:relative;flex:1 0 0;min-width:16px;height:100%}.timeline-dot[_ngcontent-%COMP%]{position:absolute;z-index:2;width:var(--dot-size);height:var(--dot-size);border-radius:50%;background:#fff3;border:1px solid rgba(255,255,255,.25);cursor:pointer;pointer-events:auto;opacity:.75;top:var(--axisY);left:50%;transform:translate(-50%,-50%);transition:transform .2s ease,box-shadow .2s ease,background .2s ease}.timeline-dot.has-data[_ngcontent-%COMP%]{background:#ffffff80;opacity:1}.timeline-dot.today[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1.15);outline:2px solid rgba(255,255,255,.25);outline-offset:3px}.timeline-dot[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 3px #ffffff1f}.timeline-tooltip[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:38px;transform:translate(-50%);display:none;min-width:240px;padding:16px 18px;border-radius:14px;background:#141c2df2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.12);box-shadow:0 12px 30px #00000059;font-size:.75rem;white-space:nowrap;pointer-events:none;z-index:999999}.timeline-dot[_ngcontent-%COMP%]:hover   .timeline-tooltip[_ngcontent-%COMP%], .timeline-dot.open[_ngcontent-%COMP%]   .timeline-tooltip[_ngcontent-%COMP%]{display:block}.timeline-tooltip[_ngcontent-%COMP%]   .tt-date[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px}.timeline-tooltip[_ngcontent-%COMP%]   .tt-empty[_ngcontent-%COMP%]{color:var(--app-muted);margin-bottom:6px}.timeline-tooltip[_ngcontent-%COMP%]   .tt-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;font-size:12px;opacity:.95}.timeline-day-label[_ngcontent-%COMP%]{position:absolute;top:calc(var(--axisY) + var(--label-offset));left:50%;transform:translate(-50%);font-size:10px;opacity:.65;line-height:1;-webkit-user-select:none;user-select:none;pointer-events:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff08}.empty-state[_ngcontent-%COMP%]{padding:12px 0}@media(max-width:992px){.month-row[_ngcontent-%COMP%], .category-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.donut-layout[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media(max-width:768px){.chart-wrap[_ngcontent-%COMP%]{height:260px}}@media(max-width:576px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.timeline-track[_ngcontent-%COMP%]{min-width:520px}}.kpi-center[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.kpi-center[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%], .kpi-center[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%], .kpi-center[_ngcontent-%COMP%]   .kpi-sub[_ngcontent-%COMP%]{width:100%;text-align:center}']})};var bi=class t{toastsSubject=new kn([]);timers=new Map;toasts$=this.toastsSubject.asObservable();success(e,n){this.show("success",e,n)}error(e,n){this.show("error",e,n)}info(e,n){this.show("info",e,n)}warning(e,n){this.show("warning",e,n)}show(e,n,r){let i=`${Date.now()}-${Math.random().toString(16).slice(2)}`,o={id:i,type:e,message:n,actionLabel:r?.actionLabel,action:r?.action},s=r?.durationMs??(e==="error"?7e3:4e3);if(this.toastsSubject.next([...this.toastsSubject.value,o]),s>0){let a=setTimeout(()=>this.dismiss(i),s);this.timers.set(i,a)}}dismiss(e){let n=this.toastsSubject.value;if(!n.length)return;let r=n.filter(o=>o.id!==e);this.toastsSubject.next(r);let i=this.timers.get(e);i&&(clearTimeout(i),this.timers.delete(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var wq=(t,e,n)=>({"bg-success-subtle text-success":t,"bg-danger-subtle text-danger":e,"bg-info-subtle text-info":n}),Eq=t=>[t,"BRL","symbol","1.2-2","pt-BR"];function Cq(t,e){if(t&1&&(U(0,"option",44),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),Te(n.name)}}function xq(t,e){if(t&1&&(ft(0),U(1,"option",42),G(2,"Selecione..."),B(),me(3,Cq,2,2,"option",43),ht()),t&2){let n=pe().ngIf;X(3),oe("ngForOf",n)}}function Iq(t,e){t&1&&(U(0,"small",37),G(1," Selecione o tipo (receita/despesa) para ver categorias. "),B())}function Sq(t,e){if(t&1&&(U(0,"div")(1,"label",24),G(2,"Categoria"),B(),U(3,"select",39),me(4,xq,4,1,"ng-container",5),B(),U(5,"div",40),G(6,"Selecione uma categoria."),B(),me(7,Iq,2,0,"small",41),B()),t&2){let n,r,i,o=pe(4);X(3),xn("is-invalid",((n=o.form.get("categoryId"))==null?null:n.touched)&&((n=o.form.get("categoryId"))==null?null:n.invalid)),X(),oe("ngIf",(r=o.form.get("type"))==null?null:r.value),X(3),oe("ngIf",!((i=o.form.get("type"))!=null&&i.value))}}function Tq(t,e){if(t&1&&(ft(0),me(1,Sq,8,4,"div",5),Pe(2,"async"),ht()),t&2){let n=pe(3);X(),oe("ngIf",mn(2,1,n.filteredCategories$))}}function Dq(t,e){if(t&1&&(U(0,"option",44),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),Te(n.name)}}function Aq(t,e){if(t&1&&(U(0,"option",44),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),Te(n.name)}}function Mq(t,e){t&1&&(U(0,"small",37),G(1," Cadastre uma conta antes de transferir. "),B())}function kq(t,e){if(t&1&&(ft(0),U(1,"div",14)(2,"div",15)(3,"label",24),G(4,"Conta origem"),B(),U(5,"select",45)(6,"option",42),G(7,"Selecione..."),B(),me(8,Dq,2,2,"option",43),B(),U(9,"div",40),G(10,"Selecione a conta de origem."),B()(),U(11,"div",15)(12,"label",24),G(13,"Conta destino"),B(),U(14,"select",46)(15,"option",42),G(16,"Selecione..."),B(),me(17,Aq,2,2,"option",43),B(),U(18,"div",40),G(19,"Selecione a conta de destino."),B()()(),me(20,Mq,2,0,"small",41),ht()),t&2){let n,r,i=pe().ngIf,o=pe(2);X(5),xn("is-invalid",((n=o.form.get("accountOriginId"))==null?null:n.touched)&&((n=o.form.get("accountOriginId"))==null?null:n.invalid)),X(3),oe("ngForOf",i),X(6),xn("is-invalid",((r=o.form.get("accountDestinationId"))==null?null:r.touched)&&((r=o.form.get("accountDestinationId"))==null?null:r.invalid)),X(3),oe("ngForOf",i),X(3),oe("ngIf",i.length===0)}}function Rq(t,e){if(t&1&&(U(0,"option",44),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),Te(n.name)}}function Nq(t,e){t&1&&(U(0,"small",37),G(1," Cadastre uma conta para continuar. "),B())}function Pq(t,e){if(t&1&&(U(0,"div")(1,"label",24),G(2,"Conta"),B(),U(3,"select",47)(4,"option",42),G(5,"Selecione..."),B(),me(6,Rq,2,2,"option",43),B(),U(7,"div",40),G(8,"Selecione uma conta."),B(),me(9,Nq,2,0,"small",41),B()),t&2){let n,r=pe().ngIf,i=pe(2);X(3),xn("is-invalid",((n=i.form.get("accountId"))==null?null:n.touched)&&((n=i.form.get("accountId"))==null?null:n.invalid)),X(3),oe("ngForOf",r),X(3),oe("ngIf",r.length===0)}}function Oq(t,e){t&1&&Ee(0,"span",48)}function Fq(t,e){if(t&1){let n=At();U(0,"tr")(1,"td"),G(2),B(),U(3,"td",50),G(4),B(),U(5,"td")(6,"span",51),G(7),B()(),U(8,"td"),G(9),B(),U(10,"td"),G(11),B(),U(12,"td",52),G(13),Pe(14,"currency"),B(),U(15,"td",53)(16,"div",54)(17,"button",55),Me("click",function(){let i=ze(n).$implicit,o=pe(5);return qe(o.edit(i))}),Ee(18,"i",56),G(19," Editar "),B(),U(20,"button",57),Me("click",function(){let i=ze(n).$implicit,o=pe(5);return qe(o.delete(i))}),Ee(21,"i",58),G(22," Excluir "),B()()()()}if(t&2){let n=e.$implicit,r=pe(3).ngIf,i=pe().ngIf,o=pe();X(2),Te(o.formatDate(n.date)),X(2),Te(n.description),X(2),oe("ngClass",sf(13,wq,n.type==="income",n.type==="expense",n.type==="transfer")),X(),Te(n.type==="income"?"Receita":n.type==="expense"?"Despesa":"Transfer\xEAncia"),X(2),Te(n.type==="transfer"?"-":o.getCategoryName(i,n.categoryId)),X(2),je(" ",n.type==="transfer"?o.getTransferLabel(r,n):o.getAccountName(r,n.accountId)," "),X(2),je(" ",it(14,7,rt(17,Eq,n.amount))," ")}}function Lq(t,e){if(t&1&&(ft(0),me(1,Fq,23,19,"tr",49),ht()),t&2){let n=pe().ngIf,r=pe(3);X(),oe("ngForOf",n)("ngForTrackBy",r.trackById)}}function Vq(t,e){if(t&1&&(ft(0),me(1,Lq,2,2,"ng-container",28),ht()),t&2){let n=e.ngIf;pe();let r=Bt(78);X(),oe("ngIf",n.length>0)("ngIfElse",r)}}function jq(t,e){t&1&&(U(0,"tr")(1,"td"),Ee(2,"div",60),B(),U(3,"td"),Ee(4,"div",61),B(),U(5,"td"),Ee(6,"div",60),B(),U(7,"td"),Ee(8,"div",60),B(),U(9,"td"),Ee(10,"div",60),B(),U(11,"td",38),Ee(12,"div",62),B(),U(13,"td",38),Ee(14,"div",62),B()())}function Bq(t,e){if(t&1&&me(0,jq,15,0,"tr",59),t&2){let n=pe(3);oe("ngForOf",n.skeletonRows)}}function $q(t,e){if(t&1){let n=At();U(0,"tr")(1,"td",63)(2,"div",64)(3,"div"),G(4,"Nenhum dado encontrado para este per\xEDodo."),B(),U(5,"button",65),Me("click",function(){ze(n);let i=pe(3);return qe(i.resetForm())}),G(6," Adicionar lan\xE7amento "),B()()()()}}function Uq(t,e){if(t&1){let n=At();ft(0),U(1,"div",6)(2,"div",7)(3,"div")(4,"p",8),G(5,"Fluxo"),B(),U(6,"h3",9),G(7,"Lan\xE7amentos"),B()()()(),U(8,"div",10)(9,"div",11)(10,"h6",12),G(11),B(),U(12,"form",13),Me("ngSubmit",function(){ze(n);let i=pe(2);return qe(i.save())}),U(13,"div",14)(14,"div",15)(15,"label",16),G(16,"Tipo"),B(),U(17,"div",17)(18,"input",18),Me("click",function(){ze(n);let i=pe(2);return qe(i.toggleType("income"))}),B(),U(19,"label",19),G(20,"Receita"),B(),U(21,"input",20),Me("click",function(){ze(n);let i=pe(2);return qe(i.toggleType("expense"))}),B(),U(22,"label",21),G(23,"Despesa"),B(),U(24,"input",22),Me("click",function(){ze(n);let i=pe(2);return qe(i.toggleType("transfer"))}),B(),U(25,"label",23),G(26,"Transfer\xEAncia"),B()()(),U(27,"div",15)(28,"label",24),G(29,"Data"),B(),Ee(30,"input",25),B()(),U(31,"div")(32,"label",24),G(33,"Descri\xE7\xE3o"),B(),Ee(34,"input",26),B(),U(35,"div")(36,"label",24),G(37,"Valor"),B(),Ee(38,"input",27),B(),me(39,Tq,3,3,"ng-container",5)(40,kq,21,7,"ng-container",28)(41,Pq,10,4,"ng-template",null,0,$t),U(43,"div")(44,"label",24),G(45,"Observa\xE7\xF5es"),B(),Ee(46,"textarea",29),B(),U(47,"div",30)(48,"button",31),me(49,Oq,1,0,"span",32),G(50),B(),U(51,"button",33),Me("click",function(){ze(n);let i=pe(2);return qe(i.resetForm())}),G(52,"Limpar"),B()()()()(),U(53,"div",34)(54,"div",11)(55,"div",35)(56,"table",36)(57,"thead")(58,"tr",37)(59,"th"),G(60,"Data"),B(),U(61,"th"),G(62,"Descri\xE7\xE3o"),B(),U(63,"th"),G(64,"Tipo"),B(),U(65,"th"),G(66,"Categoria"),B(),U(67,"th"),G(68,"Conta"),B(),U(69,"th",38),G(70,"Valor"),B(),Ee(71,"th"),B()(),U(72,"tbody"),me(73,Vq,2,2,"ng-container",28),Pe(74,"async"),B(),me(75,Bq,1,1,"ng-template",null,1,$t)(77,$q,7,0,"ng-template",null,2,$t),B()()()(),ht()}if(t&2){let n,r,i,o,s,a,c=Bt(42),u=Bt(76),l=pe(2);X(11),Te(l.editingId?"Editar lan\xE7amento":"Novo lan\xE7amento"),X(),oe("formGroup",l.form),X(6),oe("checked",((n=l.form.get("type"))==null?null:n.value)==="income"),X(3),oe("checked",((r=l.form.get("type"))==null?null:r.value)==="expense"),X(3),oe("checked",((i=l.form.get("type"))==null?null:i.value)==="transfer"),X(15),oe("ngIf",((o=l.form.get("type"))==null?null:o.value)!=="transfer"),X(),oe("ngIf",((s=l.form.get("type"))==null?null:s.value)==="transfer")("ngIfElse",c),X(8),oe("disabled",l.form.invalid||((a=l.form.get("type"))==null?null:a.value)===null||l.saving),X(),oe("ngIf",l.saving),X(),je(" ",l.saving?"Salvando...":l.editingId?"Salvar":"Adicionar"," "),X(23),oe("ngIf",mn(74,13,l.transactionsView$))("ngIfElse",u)}}function Hq(t,e){if(t&1&&(U(0,"div",4),me(1,Uq,79,15,"ng-container",5),Pe(2,"async"),B()),t&2){let n=pe();X(),oe("ngIf",mn(2,1,n.accounts$))}}var Py=class t{fb=ge(Jr);transactionsService=ge(xo);auth=ge(jn);categoriesService=ge(vi);accountsService=ge(Io);notifications=ge(bi);typeSub;editingId=null;today=Wn(new Date);loadingTransactions=!0;saving=!1;skeletonRows=Array.from({length:6});pendingDeleteIds$=new kn(new Set);pendingDeletes=new Map;categories$=this.auth.user$.pipe(Tt(e=>e?this.categoriesService.list$(e.uid):Le([])),$e(e=>e??[]));accounts$=this.auth.user$.pipe(Tt(e=>e?this.accountsService.list$(e.uid):Le([])),$e(e=>e??[]));transactions$=this.auth.user$.pipe(ln(()=>this.loadingTransactions=!0),Tt(e=>e?this.transactionsService.listAll$(e.uid):Le([])),$e(e=>(e??[]).slice().sort((n,r)=>{let i=n.date??n.data,o=r.date??r.data;if(typeof i=="string"&&typeof o=="string"&&i!==o)return o.localeCompare(i);let s=td(i),a=td(o);if(a!==s)return a-s;let c=td(n.createdAt),u=td(r.createdAt);if(u!==c)return u-c;let l=td(n.updatedAt),d=td(r.updatedAt);if(d!==l)return d-l;let f=S5(n.id);return S5(r.id)-f})),ln(()=>this.loadingTransactions=!1),En(()=>(this.loadingTransactions=!1,Le([]))));transactionsView$=$n([this.transactions$,this.pendingDeleteIds$]).pipe($e(([e,n])=>e.filter(r=>!n.has(r.id??""))));form=this.fb.group({type:new Xr(null,Xe.required),description:["",[Xe.required,Xe.minLength(2)]],amount:new Xr(null,[Xe.required,Xe.min(.01)]),date:[this.today,Xe.required],categoryId:new Xr({value:"",disabled:!0},Xe.required),accountId:new Xr("",Xe.required),accountOriginId:new Xr({value:"",disabled:!0},Xe.required),accountDestinationId:new Xr({value:"",disabled:!0},Xe.required),notes:[""]});filteredCategories$=$n([this.categories$,this.form.get("type").valueChanges.pipe(gc(this.form.get("type").value))]).pipe($e(([e,n])=>!n||n==="transfer"?[]:e.filter(r=>r.type===n)));constructor(){let e=n=>{let r=this.form.get("categoryId"),i=this.form.get("accountId"),o=this.form.get("accountOriginId"),s=this.form.get("accountDestinationId");!r||!i||!o||!s||(n==="transfer"?(r.setValue("",{emitEvent:!1}),r.disable({emitEvent:!1}),r.clearValidators(),i.setValue("",{emitEvent:!1}),i.disable({emitEvent:!1}),i.clearValidators(),o.enable({emitEvent:!1}),s.enable({emitEvent:!1}),o.setValidators([Xe.required]),s.setValidators([Xe.required])):n?(r.enable({emitEvent:!1}),r.setValidators([Xe.required]),i.enable({emitEvent:!1}),i.setValidators([Xe.required]),o.setValue("",{emitEvent:!1}),s.setValue("",{emitEvent:!1}),o.disable({emitEvent:!1}),s.disable({emitEvent:!1}),o.clearValidators(),s.clearValidators()):(r.setValue("",{emitEvent:!1}),r.disable({emitEvent:!1}),r.clearValidators(),i.setValue("",{emitEvent:!1}),i.disable({emitEvent:!1}),i.clearValidators(),o.setValue("",{emitEvent:!1}),s.setValue("",{emitEvent:!1}),o.disable({emitEvent:!1}),s.disable({emitEvent:!1}),o.clearValidators(),s.clearValidators()),r.updateValueAndValidity({emitEvent:!1}),i.updateValueAndValidity({emitEvent:!1}),o.updateValueAndValidity({emitEvent:!1}),s.updateValueAndValidity({emitEvent:!1}))};e(this.form.get("type")?.value??null),this.typeSub=this.form.get("type")?.valueChanges.subscribe(n=>{e(n)})}toggleType(e){let n=this.form.get("type")?.value??null;this.form.get("type")?.setValue(n===e?null:e),this.form.get("type")?.markAsTouched()}ngOnDestroy(){this.typeSub?.unsubscribe(),this.flushPendingDeletes()}async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await rn(this.auth.user$);if(!e)return;let{type:n,description:r,amount:i,date:o,categoryId:s,accountId:a,accountOriginId:c,accountDestinationId:u,notes:l}=this.form.value,d=Number(i);if(!Number.isFinite(d)||d<=0){this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}this.saving=!0;try{if(n==="transfer"&&c===u){this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.");return}this.editingId?await this.transactionsService.update(e.uid,this.editingId,{type:n,description:r,amount:d,date:o,categoryId:n==="transfer"?null:s,accountId:n==="transfer"?null:a,accountOriginId:n==="transfer"?c:null,accountDestinationId:n==="transfer"?u:null,notes:l||""}):await this.transactionsService.add(e.uid,{type:n,description:r,amount:d,date:o,categoryId:n==="transfer"?null:s,accountId:n==="transfer"?null:a,accountOriginId:n==="transfer"?c:null,accountDestinationId:n==="transfer"?u:null,notes:l||""}),this.notifications.success("Salvo com sucesso"),this.resetForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}edit(e){this.editingId=e.id||null,this.form.patchValue({type:e.type,description:e.description,amount:e.amount,date:Yu(e.date),categoryId:e.categoryId||"",accountId:e.accountId||"",accountOriginId:e.accountOriginId||"",accountDestinationId:e.accountDestinationId||"",notes:e.notes||""})}resetForm(){this.editingId=null,this.form.reset({type:null,description:"",amount:null,date:Wn(new Date),categoryId:"",accountId:"",accountOriginId:"",accountDestinationId:"",notes:""}),this.form.get("categoryId")?.disable({emitEvent:!1}),this.form.get("accountId")?.disable({emitEvent:!1}),this.form.get("accountOriginId")?.disable({emitEvent:!1}),this.form.get("accountDestinationId")?.disable({emitEvent:!1})}async delete(e){if(!e.id||!confirm("Excluir este lan\xE7amento?"))return;let r=await rn(this.auth.user$);if(!r||this.pendingDeletes.has(e.id))return;let i=setTimeout(()=>{this.commitDelete(e.id)},5e3);this.pendingDeletes.set(e.id,{tx:e,uid:r.uid,timer:i}),this.refreshPendingIds(),this.notifications.info("Lan\xE7amento removido. Voc\xEA pode desfazer.",{durationMs:5e3,actionLabel:"Desfazer",action:()=>this.undoDelete(e.id)})}getCategoryName(e,n){return n?e.find(r=>r.id===n)?.name||"Categoria removida":"N/A"}getAccountName(e,n){return n?e.find(r=>r.id===n)?.name||"Conta removida":"Sem conta"}getTransferLabel(e,n){let r=this.getAccountName(e,n.accountOriginId),i=this.getAccountName(e,n.accountDestinationId);return`${r} -> ${i}`}trackById(e,n){return n.id}formatDate(e){return nc(e)}refreshPendingIds(){this.pendingDeleteIds$.next(new Set(this.pendingDeletes.keys()))}undoDelete(e){let n=this.pendingDeletes.get(e);n&&(clearTimeout(n.timer),this.pendingDeletes.delete(e),this.refreshPendingIds(),this.notifications.info("Exclus\xE3o desfeita."))}async commitDelete(e){let n=this.pendingDeletes.get(e);if(n){this.pendingDeletes.delete(e),this.refreshPendingIds();try{await this.transactionsService.delete(n.uid,e),this.notifications.success("Exclu\xEDdo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}}}async flushPendingDeletes(){let e=Array.from(this.pendingDeletes.values());this.pendingDeletes.clear(),this.refreshPendingIds(),await Promise.all(e.map(async n=>{if(clearTimeout(n.timer),n.tx.id)try{await this.transactionsService.delete(n.uid,n.tx.id)}catch{}}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-transactions"]],decls:2,vars:3,consts:[["singleAccount",""],["loadingTransactionsTpl",""],["emptyTransactionsTpl",""],["class","row g-3",4,"ngIf"],[1,"row","g-3"],[4,"ngIf"],[1,"col-12"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"col-lg-5"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"row","g-2"],[1,"col-md-6"],[1,"form-label","text-secondary","d-block"],["role","group","aria-label","Tipo",1,"btn-group","w-100"],["type","checkbox","id","tx-type-income","autocomplete","off",1,"btn-check",3,"click","checked"],["for","tx-type-income",1,"btn","btn-outline-success","flex-fill"],["type","checkbox","id","tx-type-expense","autocomplete","off",1,"btn-check",3,"click","checked"],["for","tx-type-expense",1,"btn","btn-outline-danger","flex-fill"],["type","checkbox","id","tx-type-transfer","autocomplete","off",1,"btn-check",3,"click","checked"],["for","tx-type-transfer",1,"btn","btn-outline-info","flex-fill"],[1,"form-label","text-secondary"],["type","date","formControlName","date",1,"form-control","glass-input"],["formControlName","description","placeholder","Ex: Supermercado",1,"form-control","glass-input"],["type","number","formControlName","amount","placeholder","Ex: 150.00","min","0.01","step","0.01",1,"form-control","glass-input"],[4,"ngIf","ngIfElse"],["rows","2","formControlName","notes",1,"form-control","glass-input"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-7"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],["formControlName","categoryId",1,"form-select","glass-input"],[1,"invalid-feedback"],["class","text-secondary",4,"ngIf"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","accountOriginId",1,"form-select","glass-input"],["formControlName","accountDestinationId",1,"form-select","glass-input"],["formControlName","accountId",1,"form-select","glass-input"],[1,"spinner-border","spinner-border-sm","me-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-truncate",2,"max-width","220px"],[1,"badge",3,"ngClass"],[1,"text-end","fw-semibold"],[1,"text-end","text-nowrap"],[1,"d-inline-flex","align-items-center","flex-nowrap"],[1,"btn","btn-sm","btn-outline-light","me-2",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"bi","bi-trash","me-1"],[4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-100"],[1,"skeleton","skeleton-line","w-50","ms-auto"],["colspan","7"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){n&1&&(me(0,Hq,3,3,"div",3),Pe(1,"async")),n&2&&oe("ngIf",mn(1,1,r.categories$))},dependencies:[Cn,mr,ar,Fn,ei,Zr,oc,sc,ur,ca,xs,Tr,Qr,gl,jr,Vr,Fr,Qi],styles:[".glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #22d3ee33}"]})};function td(t){if(!t)return 0;if(typeof t.toMillis=="function")return t.toMillis();if(t instanceof Date)return t.getTime();if(typeof t=="number")return t;if(typeof t=="string"){let e=Date.parse(t);return Number.isFinite(e)?e:0}return 0}function S5(t){if(!t)return 0;let e=0;for(let n=0;n<t.length;n++)e=e*31+t.charCodeAt(n)>>>0;return e}var zq=t=>[t,"BRL","symbol","1.2-2","pt-BR"];function qq(t,e){t&1&&Ee(0,"span",24)}function Wq(t,e){t&1&&Ee(0,"span",32)}function Gq(t,e){if(t&1){let n=At();U(0,"tr")(1,"td")(2,"span",26),G(3," \xA0 "),B(),G(4),B(),U(5,"td",27),G(6),Pe(7,"currency"),B(),U(8,"td",22)(9,"button",28),Me("click",function(){let i=ze(n).$implicit,o=pe(3);return qe(o.edit(i))}),Ee(10,"i",29),G(11," Editar "),B(),U(12,"button",30),Me("click",function(){let i=ze(n).$implicit,o=pe(3);return qe(o.delete(i))}),me(13,Wq,1,0,"span",31),G(14),B()()()}if(t&2){let n=e.$implicit,r=pe(3);X(2),fi("background",n.color||"#94a3b8"),X(2),je(" ",n.name," "),X(2),je(" ",it(7,7,rt(13,zq,n.currentBalance))," "),X(6),oe("disabled",r.deletingId===n.id),X(),oe("ngIf",r.deletingId===n.id),X(),je(" ",r.deletingId===n.id?"Excluindo...":"Excluir"," ")}}function Kq(t,e){if(t&1&&(ft(0),me(1,Gq,15,15,"tr",25),ht()),t&2){let n=pe().ngIf,r=pe();X(),oe("ngForOf",n)("ngForTrackBy",r.trackById)}}function Yq(t,e){if(t&1&&(ft(0),me(1,Kq,2,2,"ng-container",23),ht()),t&2){let n=e.ngIf;pe();let r=Bt(48);X(),oe("ngIf",n.length>0)("ngIfElse",r)}}function Xq(t,e){t&1&&(U(0,"tr")(1,"td"),Ee(2,"div",34),B(),U(3,"td",22),Ee(4,"div",35),B(),U(5,"td",22),Ee(6,"div",35),B()())}function Qq(t,e){if(t&1&&me(0,Xq,7,0,"tr",33),t&2){let n=pe();oe("ngForOf",n.skeletonRows)}}function Zq(t,e){if(t&1){let n=At();U(0,"tr")(1,"td",36)(2,"div",37)(3,"div"),G(4,"Nenhum dado encontrado para este per\xEDodo"),B(),U(5,"button",38),Me("click",function(){ze(n);let i=pe();return qe(i.resetForm())}),G(6," Cadastrar conta "),B()()()()}}var Oy=class t{fb=ge(Jr);auth=ge(jn);accountsService=ge(Io);transactionsService=ge(xo);notifications=ge(bi);editingId=null;loadingAccounts=!0;saving=!1;deletingId=null;skeletonRows=Array.from({length:5});form=this.fb.group({name:["",[Xe.required,Xe.minLength(2)]],initialBalance:[0,[Xe.required,Xe.min(0)]],color:["#6366f1",Xe.required]});accounts$=this.auth.user$.pipe(Tt(e=>e?this.accountsService.list$(e.uid):Le([])),$e(e=>e??[]));transactions$=this.auth.user$.pipe(Tt(e=>e?this.transactionsService.listAll$(e.uid):Le([])),$e(e=>e??[]));view$=$n([this.accounts$,this.transactions$]).pipe($e(([e,n])=>e.map(r=>{let i=n.filter(u=>u.type==="income"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),o=n.filter(u=>u.type==="expense"&&u.accountId===r.id).reduce((u,l)=>u+l.amount,0),s=n.filter(u=>u.type==="transfer"&&u.accountOriginId===r.id).reduce((u,l)=>u+l.amount,0),a=n.filter(u=>u.type==="transfer"&&u.accountDestinationId===r.id).reduce((u,l)=>u+l.amount,0),c=Number(r.initialBalance??0);return Ne(ye({},r),{currentBalance:c+i-o-s+a})})),ln(()=>this.loadingAccounts=!1),En(()=>(this.loadingAccounts=!1,Le([]))));trackById(e,n){return n.id}edit(e){this.editingId=e.id||null,this.form.patchValue({name:e.name,initialBalance:Number(e.initialBalance??0),color:e.color||"#6366f1"})}resetForm(){this.editingId=null,this.form.reset({name:"",initialBalance:0,color:"#6366f1"})}async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await rn(this.auth.user$);if(!e)return;let{name:n,initialBalance:r,color:i}=this.form.value;this.saving=!0;try{this.editingId?await this.accountsService.update(e.uid,this.editingId,{name:n,initialBalance:Number(r??0),color:i||"#6366f1"}):await this.accountsService.add(e.uid,{name:n,initialBalance:Number(r??0),color:i||"#6366f1"}),this.notifications.success("Salvo com sucesso"),this.resetForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}async delete(e){if(!confirm(`Excluir conta "${e.name}"?`)||!e.id)return;let r=await rn(this.auth.user$);if(r){this.deletingId=e.id;try{await this.accountsService.delete(r.uid,e.id),this.notifications.success("Exclu\xEDdo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.deletingId===e.id&&(this.deletingId=null)}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-accounts"]],decls:49,vars:9,consts:[["loadingAccountsTpl",""],["emptyAccountsTpl",""],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"form-label","text-secondary"],["formControlName","name","placeholder","Ex: Banco principal",1,"form-control","glass-input"],["type","number","formControlName","initialBalance","placeholder","Ex: 500.00","step","0.01",1,"form-control","glass-input"],["type","color","formControlName","color",1,"form-control","form-control-color","w-100"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-8"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],[4,"ngIf","ngIfElse"],[1,"spinner-border","spinner-border-sm","me-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","rounded-pill","me-2"],[1,"text-end","fw-semibold"],[1,"btn","btn-sm","btn-outline-light","me-2",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-light",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-50","ms-auto"],["colspan","3"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){if(n&1){let i=At();U(0,"div",2)(1,"div",3)(2,"div")(3,"p",4),G(4,"Organiza\xE7\xE3o"),B(),U(5,"h3",5),G(6,"Contas"),B()()(),U(7,"div",6)(8,"div",7)(9,"h6",8),G(10),B(),U(11,"form",9),Me("ngSubmit",function(){return ze(i),qe(r.save())}),U(12,"div")(13,"label",10),G(14,"Nome"),B(),Ee(15,"input",11),B(),U(16,"div")(17,"label",10),G(18,"Saldo inicial"),B(),Ee(19,"input",12),B(),U(20,"div")(21,"label",10),G(22,"Cor"),B(),Ee(23,"input",13),B(),U(24,"div",14)(25,"button",15),me(26,qq,1,0,"span",16),G(27),B(),U(28,"button",17),Me("click",function(){return ze(i),qe(r.resetForm())}),G(29,"Limpar"),B()()()()(),U(30,"div",18)(31,"div",7)(32,"div",19)(33,"table",20)(34,"thead")(35,"tr",21)(36,"th"),G(37,"Nome"),B(),U(38,"th",22),G(39,"Saldo atual"),B(),U(40,"th",22),G(41,"A\xE7\xF5es"),B()()(),U(42,"tbody"),me(43,Yq,2,2,"ng-container",23),Pe(44,"async"),B(),me(45,Qq,1,1,"ng-template",null,0,$t)(47,Zq,7,0,"ng-template",null,1,$t),B()()()()()}if(n&2){let i=Bt(46);X(10),Te(r.editingId?"Editar conta":"Nova conta"),X(),oe("formGroup",r.form),X(14),oe("disabled",r.saving),X(),oe("ngIf",r.saving),X(),je(" ",r.saving?"Salvando...":r.editingId?"Salvar alteracoes":"Adicionar"," "),X(16),oe("ngIf",mn(44,7,r.view$))("ngIfElse",i)}},dependencies:[Cn,ar,Fn,ei,Zr,ur,ca,Tr,Qr,jr,Vr,Fr,Qi],styles:[".glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133}.glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}"]})};var Jq=(t,e)=>({"bg-success-subtle text-success":t,"bg-danger-subtle text-danger":e});function eW(t,e){t&1&&(U(0,"small",32),G(1," Selecione um tipo. "),B())}function tW(t,e){t&1&&Ee(0,"span",33)}function nW(t,e){t&1&&Ee(0,"span",42)}function rW(t,e){if(t&1){let n=At();U(0,"tr")(1,"td"),G(2),B(),U(3,"td")(4,"span",35),G(5,"\xA0"),B(),U(6,"small",36),G(7),B()(),U(8,"td")(9,"span",37),G(10),B()(),U(11,"td",30)(12,"button",38),Me("click",function(){let i=ze(n).$implicit,o=pe(3);return qe(o.edit(i))}),Ee(13,"i",39),G(14," Editar "),B(),U(15,"button",40),Me("click",function(){let i=ze(n).$implicit,o=pe(3);return qe(o.delete(i))}),me(16,nW,1,0,"span",41),G(17),B()()()}if(t&2){let n=e.$implicit,r=pe(3);X(2),Te(n.name),X(2),fi("background",n.color),X(3),Te(n.color),X(2),oe("ngClass",Fc(9,Jq,n.type==="income",n.type==="expense")),X(),je(" ",n.type==="income"?"Receita":"Despesa"," "),X(5),oe("disabled",r.deletingId===n.id),X(),oe("ngIf",r.deletingId===n.id),X(),je(" ",r.deletingId===n.id?"Excluindo...":"Excluir"," ")}}function iW(t,e){if(t&1&&(ft(0),me(1,rW,18,12,"tr",34),ht()),t&2){let n=pe().ngIf,r=pe();X(),oe("ngForOf",n)("ngForTrackBy",r.trackById)}}function oW(t,e){if(t&1&&(ft(0),me(1,iW,2,2,"ng-container",31),ht()),t&2){let n=e.ngIf;pe();let r=Bt(59);X(),oe("ngIf",n.length>0)("ngIfElse",r)}}function sW(t,e){t&1&&(U(0,"tr")(1,"td"),Ee(2,"div",44),B(),U(3,"td"),Ee(4,"div",45),B(),U(5,"td"),Ee(6,"div",45),B(),U(7,"td",30),Ee(8,"div",46),B()())}function aW(t,e){if(t&1&&me(0,sW,9,0,"tr",43),t&2){let n=pe();oe("ngForOf",n.skeletonRows)}}function cW(t,e){if(t&1){let n=At();U(0,"tr")(1,"td",47)(2,"div",48)(3,"div"),G(4,"Nenhum dado encontrado para este per\xEDodo."),B(),U(5,"button",49),Me("click",function(){ze(n);let i=pe();return qe(i.resetForm())}),G(6," Cadastrar categoria "),B()()()()}}var Fy=class t{fb=ge(Jr);categoriesService=ge(vi);auth=ge(jn);notifications=ge(bi);editingId=null;loadingCategories=!0;saving=!1;deletingId=null;skeletonRows=Array.from({length:5});searchTerm$=new kn("");form=this.fb.group({name:["",[Xe.required,Xe.minLength(2)]],color:["#6366f1",Xe.required],type:new Xr(null,Xe.required)});categories$=$n([this.auth.user$,this.searchTerm$]).pipe(Tt(([e,n])=>e?this.categoriesService.list$(e.uid).pipe($e(r=>(r??[]).filter(i=>i.name.toLowerCase().includes((n||"").toLowerCase())))):Le([])),ln(()=>this.loadingCategories=!1),En(()=>(this.loadingCategories=!1,Le([]))));trackById(e,n){return n.id}setSearch(e){this.searchTerm$.next(e)}edit(e){this.editingId=e.id||null,this.form.patchValue({name:e.name,color:e.color,type:e.type??"expense"})}resetForm(){this.editingId=null,this.form.reset({color:"#6366f1",type:null})}toggleCategoryType(e){let n=this.form.get("type")?.value??null;this.form.get("type")?.setValue(n===e?null:e),this.form.get("type")?.markAsTouched()}async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await rn(this.auth.user$);if(!e)return;let{name:n,color:r,type:i}=this.form.value;this.saving=!0;try{this.editingId?await this.categoriesService.update(e.uid,this.editingId,{name:n,color:r,type:i}):await this.categoriesService.add(e.uid,{name:n,color:r,type:i}),this.notifications.success("Salvo com sucesso"),this.resetForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}async delete(e){if(!confirm(`Excluir categoria "${e.name}"?`)||!e.id)return;let r=await rn(this.auth.user$);if(r){this.deletingId=e.id;try{await this.categoriesService.delete(r.uid,e.id),this.notifications.success("Exclu\xEDdo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.deletingId===e.id&&(this.deletingId=null)}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-categories"]],decls:60,vars:12,consts:[["loadingCategoriesTpl",""],["emptyCategoriesTpl",""],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"w-auto"],["type","text","placeholder","Buscar...",1,"form-control","glass-input",3,"input"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"form-label","text-secondary"],["formControlName","name","placeholder","Ex: Alimenta\xE7\xE3o",1,"form-control","glass-input"],["type","color","formControlName","color",1,"form-control","form-control-color","w-100"],[1,"form-label","text-secondary","d-block"],["role","group","aria-label","Tipo",1,"btn-group","w-100"],["type","checkbox","id","category-type-income","autocomplete","off",1,"btn-check",3,"click","checked"],["for","category-type-income",1,"btn","btn-outline-success","w-50"],["type","checkbox","id","category-type-expense","autocomplete","off",1,"btn-check",3,"click","checked"],["for","category-type-expense",1,"btn","btn-outline-danger","w-50"],["class","text-danger",4,"ngIf"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-8"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],[4,"ngIf","ngIfElse"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","rounded-pill"],[1,"ms-2","text-secondary"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-light","me-2",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-light",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-50"],[1,"skeleton","skeleton-line","w-50","ms-auto"],["colspan","4"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){if(n&1){let i=At();U(0,"div",2)(1,"div",3)(2,"div")(3,"p",4),G(4,"Organiza\xE7\xE3o"),B(),U(5,"h3",5),G(6,"Categorias"),B()(),U(7,"div",6)(8,"input",7),Me("input",function(s){return ze(i),qe(r.setSearch(s.target.value))}),B()()(),U(9,"div",8)(10,"div",9)(11,"h6",10),G(12),B(),U(13,"form",11),Me("ngSubmit",function(){return ze(i),qe(r.save())}),U(14,"div")(15,"label",12),G(16,"Nome"),B(),Ee(17,"input",13),B(),U(18,"div")(19,"label",12),G(20,"Cor"),B(),Ee(21,"input",14),B(),U(22,"div")(23,"label",15),G(24,"Tipo"),B(),U(25,"div",16)(26,"input",17),Me("click",function(){return ze(i),qe(r.toggleCategoryType("income"))}),B(),U(27,"label",18),G(28,"Receita"),B(),U(29,"input",19),Me("click",function(){return ze(i),qe(r.toggleCategoryType("expense"))}),B(),U(30,"label",20),G(31,"Despesa"),B()(),me(32,eW,2,0,"small",21),B(),U(33,"div",22)(34,"button",23),me(35,tW,1,0,"span",24),G(36),B(),U(37,"button",25),Me("click",function(){return ze(i),qe(r.resetForm())}),G(38,"Limpar"),B()()()()(),U(39,"div",26)(40,"div",9)(41,"div",27)(42,"table",28)(43,"thead")(44,"tr",29)(45,"th"),G(46,"Nome"),B(),U(47,"th"),G(48,"Cor"),B(),U(49,"th"),G(50,"Tipo"),B(),U(51,"th",30),G(52,"A\xE7\xF5es"),B()()(),U(53,"tbody"),me(54,oW,2,2,"ng-container",31),Pe(55,"async"),B(),me(56,aW,1,1,"ng-template",null,0,$t)(58,cW,7,0,"ng-template",null,1,$t),B()()()()()}if(n&2){let i,o,s,a=Bt(57);X(12),Te(r.editingId?"Editar categoria":"Nova categoria"),X(),oe("formGroup",r.form),X(13),oe("checked",((i=r.form.get("type"))==null?null:i.value)==="income"),X(3),oe("checked",((o=r.form.get("type"))==null?null:o.value)==="expense"),X(3),oe("ngIf",((s=r.form.get("type"))==null?null:s.touched)&&((s=r.form.get("type"))==null?null:s.invalid)),X(2),oe("disabled",r.saving),X(),oe("ngIf",r.saving),X(),je(" ",r.saving?"Salvando...":r.editingId?"Salvar alteracoes":"Adicionar"," "),X(18),oe("ngIf",mn(55,10,r.categories$))("ngIfElse",a)}},dependencies:[Cn,mr,ar,Fn,ei,Zr,ur,Tr,Qr,jr,Vr,Fr],styles:[".glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133}.glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}"]})};var jh=t=>[t,"BRL","symbol","1.2-2","pt-BR"],lW=(t,e)=>({"bg-danger":t,"bg-info":e});function uW(t,e){if(t&1&&(U(0,"option",24),G(1),B()),t&2){let n=e.$implicit;oe("ngValue",n.value),X(),Te(n.label)}}function dW(t,e){if(t&1&&(U(0,"option",24),G(1),B()),t&2){let n=e.$implicit;oe("ngValue",n),X(),Te(n)}}function fW(t,e){if(t&1&&(U(0,"option",25),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),Te(n.name)}}function hW(t,e){t&1&&Ee(0,"span",26)}function pW(t,e){t&1&&Ee(0,"span",42)}function mW(t,e){if(t&1&&(U(0,"div",43),G(1),Pe(2,"currency"),Pe(3,"currency"),B()),t&2){let n=pe().$implicit;X(),Bo(" Voc\xEA excedeu a meta em ",it(2,2,rt(14,jh,n.remaining*-1)),". Sugest\xE3o: reduza em ",it(3,8,rt(16,jh,n.remaining*-1))," para voltar ao limite. ")}}function gW(t,e){t&1&&(U(0,"div",44),G(1," Alerta: 80% da meta atingido. "),B())}function yW(t,e){if(t&1){let n=At();U(0,"div",28)(1,"div",29)(2,"div")(3,"div",30),G(4),B(),U(5,"small",31),G(6),B()(),U(7,"div",7)(8,"button",32),Me("click",function(){let i=ze(n).$implicit,o=pe(4);return qe(o.edit(i))}),Ee(9,"i",33),G(10," Editar "),B(),U(11,"button",34),Me("click",function(){let i=ze(n).$implicit,o=pe(4);return qe(o.delete(i))}),me(12,pW,1,0,"span",35),G(13),B()()(),U(14,"div",36)(15,"span"),G(16),Pe(17,"currency"),B(),U(18,"span"),G(19),Pe(20,"currency"),B(),U(21,"span"),G(22),Pe(23,"currency"),B()(),U(24,"div",37),Ee(25,"div",38),B(),U(26,"div",39),G(27),B(),me(28,mW,4,18,"div",40)(29,gW,2,0,"div",41),B()}if(t&2){let n=e.$implicit,r=pe(4);X(4),Te(n.categoryName),X(2),Bo("",r.selectedMonth,"/",r.selectedYear),X(5),oe("disabled",r.deletingId===n.id),X(),oe("ngIf",r.deletingId===n.id),X(),je(" ",r.deletingId===n.id?"Excluindo...":"Excluir"," "),X(3),je("Limite: ",it(17,15,rt(33,jh,n.limitAmount))),X(3),je("Gasto: ",it(20,21,rt(35,jh,n.spent))),X(3),je("Restante do m\xEAs: ",it(23,27,rt(37,jh,n.remaining))),X(3),fi("width",n.percent,"%"),oe("ngClass",Fc(39,lW,n.percent>=100,n.percent<100)),X(2),je("",n.percent,"% utilizado"),X(),oe("ngIf",n.percent>=100),X(),oe("ngIf",n.percent>=80&&n.percent<100)}}function vW(t,e){if(t&1&&(ft(0),me(1,yW,30,42,"div",27),ht()),t&2){let n=pe().ngIf,r=pe(2);X(),oe("ngForOf",n)("ngForTrackBy",r.trackById)}}function bW(t,e){if(t&1&&(ft(0),me(1,vW,2,2,"ng-container",23),ht()),t&2){let n=e.ngIf;pe();let r=Bt(43);X(),oe("ngIf",n.length>0)("ngIfElse",r)}}function _W(t,e){t&1&&(U(0,"div",28),Ee(1,"div",46)(2,"div",47)(3,"div",48)(4,"div",48),B())}function wW(t,e){if(t&1&&me(0,_W,5,0,"div",45),t&2){let n=pe(2);oe("ngForOf",n.skeletonRows)}}function EW(t,e){if(t&1){let n=At();U(0,"div",49)(1,"div"),G(2,"Nenhum dado encontrado para este per\xEDodo."),B(),U(3,"button",50),Me("click",function(){ze(n);let i=pe(2);return qe(i.resetForm())}),G(4,"Criar meta"),B()()}}function CW(t,e){if(t&1){let n=At();U(0,"div",3)(1,"div",4)(2,"div")(3,"p",5),G(4,"Planejamento"),B(),U(5,"h3",6),G(6,"Metas"),B()(),U(7,"div",7)(8,"select",8),Bs("ngModelChange",function(i){ze(n);let o=pe();return ka(o.selectedMonth,i)||(o.selectedMonth=i),qe(i)}),Me("change",function(){ze(n);let i=pe();return qe(i.changePeriod())}),me(9,uW,2,2,"option",9),B(),U(10,"select",8),Bs("ngModelChange",function(i){ze(n);let o=pe();return ka(o.selectedYear,i)||(o.selectedYear=i),qe(i)}),Me("change",function(){ze(n);let i=pe();return qe(i.changePeriod())}),me(11,dW,2,2,"option",9),B()()(),U(12,"div",10)(13,"div",11)(14,"h6",12),G(15),B(),U(16,"form",13),Me("ngSubmit",function(){ze(n);let i=pe();return qe(i.save())}),U(17,"div")(18,"label",14),G(19,"Categoria"),B(),U(20,"select",15)(21,"option",16),G(22,"Selecione..."),B(),me(23,fW,2,2,"option",17),B()(),U(24,"div")(25,"label",14),G(26,"Limite (R$)"),B(),Ee(27,"input",18),B(),U(28,"div",7)(29,"button",19),me(30,hW,1,0,"span",20),G(31),B(),U(32,"button",21),Me("click",function(){ze(n);let i=pe();return qe(i.resetForm())}),G(33,"Limpar"),B()()()()(),U(34,"div",22)(35,"div",11)(36,"h6",12),G(37,"Metas do per\xEDodo"),B(),me(38,bW,2,2,"ng-container",23),Pe(39,"async"),me(40,wW,1,1,"ng-template",null,0,$t)(42,EW,5,0,"ng-template",null,1,$t),B()()()}if(t&2){let n=e.ngIf,r=Bt(41),i=pe();X(8),js("ngModel",i.selectedMonth),X(),oe("ngForOf",i.months),X(),js("ngModel",i.selectedYear),X(),oe("ngForOf",i.years),X(4),Te(i.editingId?"Editar meta":"Nova meta"),X(),oe("formGroup",i.form),X(7),oe("ngForOf",n),X(6),oe("disabled",i.saving),X(),oe("ngIf",i.saving),X(),je(" ",i.saving?"Salvando...":i.editingId?"Salvar":"Adicionar"," "),X(7),oe("ngIf",mn(39,12,i.view$))("ngIfElse",r)}}var Ly=class t{fb=ge(Jr);auth=ge(jn);budgetsService=ge(ed);categoriesService=ge(vi);transactionsService=ge(xo);notifications=ge(bi);editingId=null;loadingBudgets=!0;saving=!1;deletingId=null;skeletonRows=Array.from({length:3});warnedKeys=new Set;selectedMonth=new Date().getMonth()+1;selectedYear=new Date().getFullYear();refresh$=new kn(void 0);form=this.fb.group({categoryId:["",Xe.required],limitAmount:[0,[Xe.required,Xe.min(1)]]});categories$=this.auth.user$.pipe(Tt(e=>e?this.categoriesService.list$(e.uid):Le([])),$e(e=>e??[]));budgets$=$n([this.auth.user$,this.refresh$]).pipe(Tt(([e])=>e?this.budgetsService.listByMonth$(e.uid,this.selectedMonth,this.selectedYear):Le([])),$e(e=>e??[]));expenses$=$n([this.auth.user$,this.refresh$]).pipe(Tt(([e])=>e?this.transactionsService.listMonthExpensesByCategory$(e.uid,this.selectedMonth,this.selectedYear):Le({})));view$=$n([this.budgets$,this.categories$,this.expenses$]).pipe($e(([e,n,r])=>e.map(i=>{let o=r[i.categoryId]||0,s=i.limitAmount-o,a=i.limitAmount?Math.min(100,Math.round(o/i.limitAmount*100)):0,c=n.find(u=>u.id===i.categoryId)?.name||"Categoria";return Ne(ye({},i),{spent:o,remaining:s,percent:a,categoryName:c})})),ln(e=>{this.loadingBudgets=!1,this.checkBudgetAlerts(e)}),En(()=>(this.loadingBudgets=!1,Le([]))));months=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"].map((e,n)=>({value:n+1,label:e}));years=Array.from({length:6}).map((e,n)=>this.selectedYear-2+n);async save(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let e=await rn(this.auth.user$);if(!e)return;let{categoryId:n,limitAmount:r}=this.form.value;this.saving=!0;try{this.editingId?await this.budgetsService.update(e.uid,this.editingId,{limitAmount:Number(r)}):await this.budgetsService.add(e.uid,{categoryId:n,limitAmount:Number(r),month:this.selectedMonth,year:this.selectedYear}),this.notifications.success("Salvo com sucesso"),this.resetForm(),this.loadingBudgets=!0,this.refresh$.next()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.saving=!1}}edit(e){this.editingId=e.id||null,this.selectedMonth=e.month,this.selectedYear=e.year,this.form.patchValue({categoryId:e.categoryId,limitAmount:e.limitAmount}),this.form.get("categoryId")?.disable(),this.loadingBudgets=!0,this.refresh$.next()}resetForm(){this.editingId=null,this.form.enable(),this.form.reset({limitAmount:0,categoryId:""})}changePeriod(){this.loadingBudgets=!0,this.refresh$.next()}async delete(e){if(!e.id||!confirm("Excluir esta meta?"))return;let r=await rn(this.auth.user$);if(r){this.deletingId=e.id;try{await this.budgetsService.delete(r.uid,e.id),this.notifications.success("Exclu\xEDdo com sucesso"),this.loadingBudgets=!0,this.refresh$.next()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.deletingId===e.id&&(this.deletingId=null)}}}trackById(e,n){return n.id}checkBudgetAlerts(e){e.forEach(n=>{if(!(!n.id&&!n.categoryId)){if(n.percent>=100){let r=this.buildAlertKey(n,"100");this.hasAlerted(r)||(this.notifications.error("Meta excedida. Verifique os detalhes."),this.markAlerted(r));return}if(n.percent>=80){let r=this.buildAlertKey(n,"80");this.hasAlerted(r)||(this.notifications.warning("Atingiu 80% da meta."),this.markAlerted(r))}}})}buildAlertKey(e,n){return`budget-alert-${e.id||e.categoryId||"meta"}-${e.month}-${e.year}-${n}`}hasAlerted(e){if(this.warnedKeys.has(e))return!0;try{return typeof localStorage<"u"&&localStorage.getItem(e)==="1"}catch{return!1}}markAlerted(e){this.warnedKeys.add(e);try{typeof localStorage<"u"&&localStorage.setItem(e,"1")}catch{}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-budgets"]],decls:2,vars:3,consts:[["loadingBudgetsTpl",""],["emptyBudgetsTpl",""],["class","row g-3",4,"ngIf"],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"d-flex","gap-2"],[1,"form-select","glass-input",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"form-label","text-secondary"],["formControlName","categoryId",1,"form-select","glass-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","limitAmount","min","0","step","0.01",1,"form-control","glass-input"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"col-lg-8"],[4,"ngIf","ngIfElse"],[3,"ngValue"],[3,"value"],[1,"spinner-border","spinner-border-sm","me-2"],["class","budget-card p-3 mb-3 rounded",4,"ngFor","ngForOf","ngForTrackBy"],[1,"budget-card","p-3","mb-3","rounded"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-semibold"],[1,"text-secondary"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"d-flex","justify-content-between","text-secondary","small"],[1,"progress","mt-2",2,"height","8px"],["role","progressbar",1,"progress-bar",3,"ngClass"],[1,"text-end","small","mt-1","text-secondary"],["class","text-danger small mt-2",4,"ngIf"],["class","text-warning small mt-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-danger","small","mt-2"],[1,"text-warning","small","mt-2"],["class","budget-card p-3 mb-3 rounded",4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-50","mb-2"],[1,"skeleton","skeleton-line","w-75","mb-3"],[1,"skeleton","skeleton-line","w-100","mb-2"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"]],template:function(n,r){n&1&&(me(0,CW,44,14,"div",2),Pe(1,"async")),n&2&&oe("ngIf",mn(1,1,r.categories$))},dependencies:[Cn,mr,ar,Fn,ei,Zr,oc,sc,ur,ca,xs,Tr,Qr,gl,jr,Vr,Ju,ml,Fr,Qi],styles:[".glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.budget-card[_ngcontent-%COMP%]{background:#ffffff0a;border:1px solid rgba(255,255,255,.05)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3b82f633}"]})};var Vy=class t{constructor(e){this.transactionsService=e}getReport(e,n,r){return this.transactionsService.listByRange$(e,n,r).pipe($e(i=>{let o=i.filter(u=>u.type==="income").reduce((u,l)=>u+l.amount,0),s=i.filter(u=>u.type==="expense").reduce((u,l)=>u+l.amount,0),a=i.filter(u=>u.type==="expense"&&!!u.categoryId).reduce((u,l)=>{let d=l.categoryId;return u[d]=(u[d]||0)+l.amount,u},{}),c=Object.entries(a).map(([u,l])=>({categoryId:u,categoryName:"",total:l}));return{summary:{totalIncome:o,totalExpense:s,balance:o-s},byCategory:c,transactions:i}}))}getAnnualReport(e,n){let r=new Date(n,0,1,0,0,0),i=new Date(n,11,31,23,59,59);return this.transactionsService.listByRange$(e,r,i).pipe($e(o=>{let s=Array.from({length:12},(u,l)=>({month:l+1,income:0,expense:0,balance:0}));o.forEach(u=>{let[l,d]=(u.date||"").split("-").map(Number);l!==n||!d||(u.type==="income"&&(s[d-1].income+=u.amount),u.type==="expense"&&(s[d-1].expense+=u.amount))}),s.forEach(u=>{u.balance=u.income-u.expense});let a=s.reduce((u,l)=>(u.totalIncome+=l.income,u.totalExpense+=l.expense,u.balance+=l.balance,u),{totalIncome:0,totalExpense:0,balance:0}),c=s.some(u=>u.income>0||u.expense>0);return{year:n,months:s,totals:a,hasData:c}}))}static \u0275fac=function(n){return new(n||t)(Ft(xo))};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var jy=n1(D5()),nd=n1(ix());var By=class t{async exportRelatorioXlsx(e){let{titulo:n,filtrosTexto:r,rows:i,saldoInicial:o,fileName:s}=e,a=new jy.default.Workbook;a.creator="Gest\xE3o de Gastos",a.created=new Date;let c=a.addWorksheet("Relat\xF3rio",{views:[{state:"frozen",ySplit:4}]}),u=["Data","Tipo","Descri\xE7\xE3o","Categoria","Conta/Origem","Destino","Valor"],l={style:"thin",color:{argb:"FF111827"}},d={style:"hair",color:{argb:"FFE5E7EB"}},f={top:l,left:l,bottom:l,right:l};c.mergeCells("A1:G1");let p=c.getCell("A1");p.value=n,p.font={size:16,bold:!0},p.alignment={vertical:"middle",horizontal:"left"},c.mergeCells("A2:G2");let h=c.getCell("A2");h.value=r??"",h.font={italic:!0,color:{argb:"FF666666"}},h.alignment={vertical:"middle",horizontal:"left",wrapText:!0};let y=3;c.getRow(y).height=18,c.getCell(y,6).value="Saldo inicial",c.getCell(y,6).font={bold:!0},c.getCell(y,7).value=Number.isFinite(o)?o:0,c.getCell(y,7).numFmt='"R$" #,##0.00',c.getCell(y,7).font={bold:!0};let m=4,_=c.getRow(m);_.values=u,_.font={bold:!0,color:{argb:"FFFFFFFF"}},_.alignment={vertical:"middle",horizontal:"left"},_.height=20;for(let O=1;O<=u.length;O++){let E=c.getCell(m,O);E.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F2937"}},E.border=f}let x=m+1;i.forEach((O,E)=>{let I=x+E,A=O.data instanceof Date?O.data:new Date(O.data),g=O.contaOrigem??O.conta??"",v=O.destino??"",w=this.normalizeTipo(O.tipo);c.getRow(I).values=[A,w,O.descricao??"",O.categoria??"",g,v,O.valor??0],c.getCell(I,1).numFmt="dd/mm/yyyy",c.getCell(I,7).numFmt='"R$" #,##0.00',c.getCell(I,2).alignment={horizontal:"center"};let b=c.getCell(I,7);O.tipo==="saida"&&(b.font={color:{argb:"FFB91C1C"}}),O.tipo==="entrada"&&(b.font={color:{argb:"FF15803D"}});for(let C=1;C<=u.length;C++)c.getCell(I,C).border={bottom:d}}),c.autoFilter={from:{row:m,column:1},to:{row:m,column:u.length}};let D=x+i.length-1,L=D+2;c.getCell(L,6).value="TOTAL",c.getCell(L,6).font={bold:!0},i.length>0?c.getCell(L,7).value={formula:`G${y}+SUMIF(B${x}:B${D},"entrada",G${x}:G${D})-SUMIF(B${x}:B${D},"sa\xEDda",G${x}:G${D})`}:c.getCell(L,7).value=Number.isFinite(o)?o:0,c.getCell(L,7).numFmt='"R$" #,##0.00',c.getCell(L,7).font={bold:!0},[12,16,40,22,18,18,14].forEach((O,E)=>c.getColumn(E+1).width=O);let V=await a.xlsx.writeBuffer(),R=new Blob([V],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),N=(s||n).replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),j=N.toLowerCase().endsWith(".xlsx")?N:`${N}.xlsx`;(0,nd.saveAs)(R,j)}exportRelatorioCsv(e){let n=["Data","Tipo","Descri\xE7\xE3o","Categoria","Conta/Origem","Destino","Valor"],r=e.rows.map(c=>[c.data,this.normalizeTipo(c.tipo),c.descricao,c.categoria,c.contaOrigem,c.destino,this.formatCsvNumber(c.valor)]),i=this.buildCsv(n,r),o=new Blob([i],{type:"text/csv;charset=utf-8"}),s=e.fileName.replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),a=s.toLowerCase().endsWith(".csv")?s:`${s}.csv`;(0,nd.saveAs)(o,a)}exportRelatorioAnualCsv(e){let n=["Ano-M\xEAs","Data","Tipo","Descri\xE7\xE3o","Categoria","Conta/Origem","Destino","Valor"],r=e.rows.map(c=>[c.anoMes,c.data,this.normalizeTipo(c.tipo),c.descricao,c.categoria,c.contaOrigem,c.destino,this.formatCsvNumber(c.valor)]),i=this.buildCsv(n,r),o=new Blob([i],{type:"text/csv;charset=utf-8"}),s=e.fileName.replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),a=s.toLowerCase().endsWith(".csv")?s:`${s}.csv`;(0,nd.saveAs)(o,a)}async exportRelatorioAnualXlsx(e){let n=new jy.default.Workbook;n.creator="Gest\xE3o de Gastos",n.created=new Date;let r=n.addWorksheet("Resumo Anual");r.views=[{state:"frozen",ySplit:7}];let i=Number.isFinite(e.saldoInicial)?Number(e.saldoInicial):0,o=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],s=o.map(()=>({entradas:0,saidas:0})),a=0,c=0;e.rows.forEach(j=>{let O=Number(j.valor)||0,E=this.normalizeTipo(j.tipo);if(E!=="entrada"&&E!=="sa\xEDda")return;let I=j.data instanceof Date?j.data:new Date(j.data);if(!Number.isFinite(I.getTime())||I.getFullYear()!==e.year)return;let A=I.getMonth();E==="entrada"?(a+=O,s[A].entradas+=O):(c+=O,s[A].saidas+=O)});let u=i+a-c,l=r.getCell("A1");l.value=`Resumo Anual ${e.year}`,l.font={size:16,bold:!0},l.alignment={vertical:"middle",horizontal:"left"},r.getRow(1).height=22,r.getCell("A1").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFEFF3F6"}},r.mergeCells("A1:D1"),r.getCell("A3").value="Total de Entradas",r.getCell("B3").value=a,r.getCell("A4").value="Total de Sa\xEDdas",r.getCell("B4").value=c,r.getCell("A5").value="Saldo do Ano",r.getCell("B5").value=u,r.getCell("A3").font={bold:!0},r.getCell("A4").font={bold:!0},r.getCell("A5").font={bold:!0},r.getCell("B5").font={bold:!0},r.getCell("B3").numFmt='"R$" #,##0.00',r.getCell("B4").numFmt='"R$" #,##0.00',r.getCell("B5").numFmt='"R$" #,##0.00';let d={argb:"FFE8F5E9"},f={argb:"FFFDECEA"},p={argb:"FFE8F1FF"};["A3","B3"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:d}}),["A4","B4"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:f}}),["A5","B5"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:p}}),r.getCell("A3").alignment={horizontal:"left"},r.getCell("A4").alignment={horizontal:"left"},r.getCell("A5").alignment={horizontal:"left"},r.getCell("B3").alignment={horizontal:"right"},r.getCell("B4").alignment={horizontal:"right"},r.getCell("B5").alignment={horizontal:"right"},r.getCell("A7").value="M\xEAs",r.getCell("B7").value="Entradas",r.getCell("C7").value="Sa\xEDdas",r.getCell("D7").value="Saldo",r.getRow(7).font={bold:!0},r.getRow(7).alignment={vertical:"middle",horizontal:"left"},["A7","B7","C7","D7"].forEach(j=>{r.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE5E7EB"}}});let h={top:{style:"thin",color:{argb:"FFD1D5DB"}},left:{style:"thin",color:{argb:"FFD1D5DB"}},bottom:{style:"thin",color:{argb:"FFD1D5DB"}},right:{style:"thin",color:{argb:"FFD1D5DB"}}},y=0,m=0,_=0,x=0;o.forEach((j,O)=>{let E=8+O,I=s[O].entradas,A=s[O].saidas,g=I===0&&A===0?0:i+I-A;y+=I,m+=A,(I>0||A>0)&&(_+=g,x+=1),r.getCell(E,1).value=j,r.getCell(E,2).value=I,r.getCell(E,3).value=A,r.getCell(E,4).value=g,r.getCell(E,2).numFmt='"R$" #,##0.00',r.getCell(E,3).numFmt='"R$" #,##0.00',r.getCell(E,4).numFmt='"R$" #,##0.00',r.getCell(E,1).alignment={horizontal:"left"},r.getCell(E,2).alignment={horizontal:"right"},r.getCell(E,3).alignment={horizontal:"right"},r.getCell(E,4).alignment={horizontal:"right"};for(let v=1;v<=4;v++)r.getCell(E,v).border=h});let D=8+o.length,L=x>0?_/x:0;r.getCell(D,1).value="TOTAL",r.getCell(D,2).value=y,r.getCell(D,3).value=m,r.getCell(D,4).value=L,r.getRow(D).font={bold:!0},r.getCell(D,2).numFmt='"R$" #,##0.00',r.getCell(D,3).numFmt='"R$" #,##0.00',r.getCell(D,4).numFmt='"R$" #,##0.00',r.getCell(D,1).alignment={horizontal:"left"},r.getCell(D,2).alignment={horizontal:"right"},r.getCell(D,3).alignment={horizontal:"right"},r.getCell(D,4).alignment={horizontal:"right"};for(let j=1;j<=4;j++)r.getCell(D,j).border=h;["A7","B7","C7","D7"].forEach(j=>{r.getCell(j).border=h}),r.getColumn(1).width=26,r.getColumn(2).width=18,r.getColumn(3).width=18,r.getColumn(4).width=18,r.autoFilter={from:{row:7,column:1},to:{row:7,column:4}};let $=await n.xlsx.writeBuffer(),V=new Blob([$],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),R=(e.fileName||e.titulo).replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),N=R.toLowerCase().endsWith(".xlsx")?R:`${R}.xlsx`;(0,nd.saveAs)(V,N)}async exportRelatorioCartaoXlsx(e){let n=new jy.default.Workbook;n.creator="Gest\xE3o de Gastos",n.created=new Date;let r={style:"thin",color:{argb:"FF111827"}},i={style:"hair",color:{argb:"FFE5E7EB"}},o={top:r,left:r,bottom:r,right:r};e.sheets.forEach(l=>{let d=n.addWorksheet(l.name,{views:[{state:"frozen",ySplit:1}]}),f=d.getRow(1);f.values=l.headers,f.font={bold:!0,color:{argb:"FFFFFFFF"}},f.alignment={vertical:"middle",horizontal:"left"},f.height=20;for(let p=1;p<=l.headers.length;p++){let h=d.getCell(1,p);h.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F2937"}},h.border=o}l.rows.forEach((p,h)=>{let y=2+h;d.getRow(y).values=p;for(let m=1;m<=l.headers.length;m++){let _=d.getCell(y,m);_.border={bottom:i};let x=l.columnFormats?.[m];x&&(_.numFmt=x)}}),l.columnWidths?.length&&l.columnWidths.forEach((p,h)=>{d.getColumn(h+1).width=p}),d.autoFilter={from:{row:1,column:1},to:{row:1,column:l.headers.length}}});let s=await n.xlsx.writeBuffer(),a=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=e.fileName.replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),u=c.toLowerCase().endsWith(".xlsx")?c:`${c}.xlsx`;(0,nd.saveAs)(a,u)}normalizeTipo(e){return e==="saida"?"sa\xEDda":e==="transferencia"?"transfer\xEAncia":e??""}buildCsv(e,n,r=";"){let o=n.map(s=>s.map(a=>this.escapeCsv(a,r)).join(r));return`\uFEFF${[e.join(r),...o].join(`
`)}`}formatCsvNumber(e){return Number.isFinite(e)?Number(e).toFixed(2):"0.00"}escapeCsv(e,n=";"){let r=`${e??""}`;return r.includes(n)||r.includes('"')||r.includes(`
`)||r.includes("\r")?`"${r.replace(/\"/g,'""')}"`:r}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var A5=n1(ix());var Dr=t=>[t,"BRL","symbol","1.2-2","pt-BR"],xW=(t,e,n)=>({"bg-success-subtle text-success":t,"bg-danger-subtle text-danger":e,"bg-info-subtle text-info":n}),IW=(t,e)=>({"bg-success-subtle text-success":t,"bg-warning-subtle text-warning":e});function SW(t,e){t&1&&Ee(0,"span",17)}function TW(t,e){t&1&&Ee(0,"span",17)}function DW(t,e){if(t&1){let n=At();ft(0),U(1,"button",15),Me("click",function(){ze(n);let i=pe(2);return qe(i.exportCsv())}),me(2,SW,1,0,"span",16),G(3),B(),U(4,"button",15),Me("click",function(){ze(n);let i=pe(2);return qe(i.exportXlsx())}),me(5,TW,1,0,"span",16),G(6),B(),ht()}if(t&2){let n=pe(2);X(),oe("disabled",n.exportingCsv),X(),oe("ngIf",n.exportingCsv),X(),je(" ",n.exportingCsv?"Exportando...":"Exportar CSV"," "),X(),oe("disabled",n.exportingXlsx),X(),oe("ngIf",n.exportingXlsx),X(),je(" ",n.exportingXlsx?"Exportando...":"Exportar Excel"," ")}}function AW(t,e){t&1&&Ee(0,"span",17)}function MW(t,e){t&1&&Ee(0,"span",17)}function kW(t,e){if(t&1){let n=At();ft(0),U(1,"button",15),Me("click",function(){ze(n);let i=pe(2);return qe(i.exportAnnualCsv())}),me(2,AW,1,0,"span",16),G(3),B(),U(4,"button",15),Me("click",function(){ze(n);let i=pe(2);return qe(i.exportAnnualXlsx())}),me(5,MW,1,0,"span",16),G(6),B(),ht()}if(t&2){let n=pe(2);X(),oe("disabled",n.exportingAnnualCsv),X(),oe("ngIf",n.exportingAnnualCsv),X(),je(" ",n.exportingAnnualCsv?"Exportando...":"Exportar CSV"," "),X(),oe("disabled",n.exportingAnnualXlsx),X(),oe("ngIf",n.exportingAnnualXlsx),X(),je(" ",n.exportingAnnualXlsx?"Exportando...":"Exportar Excel"," ")}}function RW(t,e){if(t&1){let n=At();ft(0),U(1,"div",14)(2,"button",11),Me("click",function(){ze(n);let i=pe();return qe(i.setPeriodMode("period"))}),G(3," Per\xEDodo "),B(),U(4,"button",11),Me("click",function(){ze(n);let i=pe();return qe(i.setPeriodMode("annual"))}),G(5," Relat\xF3rio anual "),B()(),me(6,DW,7,6,"ng-container",12)(7,kW,7,6,"ng-container",12),ht()}if(t&2){let n=pe();X(2),xn("active",n.periodMode==="period"),X(2),xn("active",n.periodMode==="annual"),X(2),oe("ngIf",n.periodMode==="period"),X(),oe("ngIf",n.periodMode==="annual")}}function NW(t,e){t&1&&Ee(0,"span",17)}function PW(t,e){t&1&&Ee(0,"span",17)}function OW(t,e){if(t&1){let n=At();ft(0),U(1,"button",15),Me("click",function(){ze(n);let i=pe();return qe(i.exportCreditCsv())}),me(2,NW,1,0,"span",16),G(3),B(),U(4,"button",15),Me("click",function(){ze(n);let i=pe();return qe(i.exportCreditExcel())}),me(5,PW,1,0,"span",16),G(6),B(),ht()}if(t&2){let n=pe();X(),oe("disabled",n.exportingCreditCsv),X(),oe("ngIf",n.exportingCreditCsv),X(),je(" ",n.exportingCreditCsv?"Exportando...":"Exportar CSV (Cart\xE3o)"," "),X(),oe("disabled",n.exportingCreditXlsx),X(),oe("ngIf",n.exportingCreditXlsx),X(),je(" ",n.exportingCreditXlsx?"Exportando...":"Exportar Excel (Cart\xE3o)"," ")}}function FW(t,e){if(t&1){let n=At();ft(0),U(1,"div",18)(2,"div",19)(3,"div",27)(4,"div"),G(5,"Nenhum dado encontrado para este per\xEDodo."),B(),U(6,"button",28),Me("click",function(){ze(n);let i=pe(3);return qe(i.applyFilters())}),G(7," Gerar relat\xF3rio "),B()()()(),ht()}}function LW(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",41),G(4),Pe(5,"currency"),B()()),t&2){let n=e.$implicit;X(2),Te(n.categoryName||"Categoria"),X(2),je(" ",it(5,2,rt(8,Dr,n.total))," ")}}function VW(t,e){t&1&&(U(0,"tr")(1,"td",42),G(2,"Sem dados"),B()())}function jW(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",43),G(4),B(),U(5,"td")(6,"span",44),G(7),B()(),U(8,"td",45),G(9),Pe(10,"currency"),B()()),t&2){let n=e.$implicit,r=pe(4);X(2),Te(r.formatDateShort(n.date)),X(2),Te(n.description),X(2),oe("ngClass",sf(11,xW,n.type==="income",n.type==="expense",n.type==="transfer")),X(),Te(n.type==="income"?"Receita":n.type==="expense"?"Despesa":"Transfer\xEAncia"),X(2),je(" ",it(10,5,rt(15,Dr,n.amount))," ")}}function BW(t,e){t&1&&(U(0,"tr")(1,"td",46),G(2,"Nenhum lan\xE7amento no per\xEDodo."),B()())}function $W(t,e){if(t&1&&(U(0,"div",21)(1,"div",29)(2,"div",30),G(3,"Entradas"),B(),U(4,"h4",31),G(5),Pe(6,"currency"),B()()(),U(7,"div",21)(8,"div",29)(9,"div",30),G(10,"Sa\xEDdas"),B(),U(11,"h4",32),G(12),Pe(13,"currency"),B()()(),U(14,"div",21)(15,"div",29)(16,"div",30),G(17,"Saldo"),B(),U(18,"h4",33),G(19),Pe(20,"currency"),B()()(),U(21,"div",34)(22,"div",29)(23,"h6",35),G(24,"Gasto por categoria"),B(),U(25,"div",36)(26,"table",37)(27,"thead")(28,"tr",38)(29,"th"),G(30,"Categoria"),B(),U(31,"th",39),G(32,"Total"),B()()(),U(33,"tbody"),me(34,LW,6,10,"tr",40)(35,VW,3,0,"tr",12),B()()()()(),U(36,"div",34)(37,"div",29)(38,"h6",35),G(39,"Lan\xE7amentos"),B(),U(40,"div",36)(41,"table",37)(42,"thead")(43,"tr",38)(44,"th"),G(45,"Data"),B(),U(46,"th"),G(47,"Desc"),B(),U(48,"th"),G(49,"Tipo"),B(),U(50,"th"),G(51,"Valor"),B()()(),U(52,"tbody"),me(53,jW,11,17,"tr",40)(54,BW,3,0,"tr",12),B()()()()()),t&2){let n=pe().ngIf;X(5),je(" ",it(6,7,rt(25,Dr,n.summary.totalIncome))," "),X(7),je(" ",it(13,13,rt(27,Dr,n.summary.totalExpense))," "),X(7),je(" ",it(20,19,rt(29,Dr,n.summary.balance))," "),X(15),oe("ngForOf",n==null?null:n.byCategory),X(),oe("ngIf",(n==null||n.byCategory==null?null:n.byCategory.length)===0),X(18),oe("ngForOf",n==null?null:n.transactions),X(),oe("ngIf",(n==null||n.transactions==null?null:n.transactions.length)===0)}}function UW(t,e){if(t&1&&(ft(0),me(1,FW,8,0,"ng-container",26)(2,$W,55,31,"ng-template",null,1,$t),ht()),t&2){let n=e.ngIf,r=Bt(3);X(),oe("ngIf",!n||(n==null||n.transactions==null?null:n.transactions.length)===0)("ngIfElse",r)}}function HW(t,e){t&1&&(U(0,"div",21)(1,"div",29),Ee(2,"div",49)(3,"div",50),B()())}function zW(t,e){t&1&&(U(0,"tr")(1,"td"),Ee(2,"div",51),B(),U(3,"td",39),Ee(4,"div",52),B()())}function qW(t,e){t&1&&(U(0,"tr")(1,"td"),Ee(2,"div",51),B(),U(3,"td"),Ee(4,"div",53),B(),U(5,"td"),Ee(6,"div",54),B(),U(7,"td"),Ee(8,"div",54),B()())}function WW(t,e){if(t&1&&(me(0,HW,4,0,"div",47),U(1,"div",34)(2,"div",29),Ee(3,"div",48),U(4,"div",36)(5,"table",37)(6,"thead")(7,"tr",38)(8,"th"),G(9,"Categoria"),B(),U(10,"th",39),G(11,"Total"),B()()(),U(12,"tbody"),me(13,zW,5,0,"tr",40),B()()()()(),U(14,"div",34)(15,"div",29),Ee(16,"div",48),U(17,"div",36)(18,"table",37)(19,"thead")(20,"tr",38)(21,"th"),G(22,"Data"),B(),U(23,"th"),G(24,"Desc"),B(),U(25,"th"),G(26,"Tipo"),B(),U(27,"th"),G(28,"Valor"),B()()(),U(29,"tbody"),me(30,qW,9,0,"tr",40),B()()()()()),t&2){let n=pe(2);oe("ngForOf",n.skeletonCards),X(13),oe("ngForOf",n.skeletonRows),X(17),oe("ngForOf",n.skeletonRows)}}function GW(t,e){if(t&1){let n=At();ft(0),U(1,"div",18)(2,"div",19)(3,"form",20),Me("ngSubmit",function(){ze(n);let i=pe();return qe(i.applyFilters())}),U(4,"div",21)(5,"label",22),G(6,"In\xEDcio"),B(),Ee(7,"input",23),B(),U(8,"div",21)(9,"label",22),G(10,"Fim"),B(),Ee(11,"input",24),B(),U(12,"div",21)(13,"button",25),G(14,"Gerar"),B()()()()(),me(15,UW,4,2,"ng-container",26),Pe(16,"async"),me(17,WW,31,3,"ng-template",null,0,$t),ht()}if(t&2){let n=Bt(18),r=pe();X(3),oe("formGroup",r.form),X(12),oe("ngIf",mn(16,3,r.report$))("ngIfElse",n)}}function KW(t,e){if(t&1&&(U(0,"option",74),G(1),B()),t&2){let n=e.$implicit,r=e.index;oe("ngValue",r+1),X(),je(" ",n," ")}}function YW(t,e){if(t&1&&(U(0,"option",74),G(1),B()),t&2){let n=e.$implicit;oe("ngValue",n),X(),Te(n)}}function XW(t,e){if(t&1&&(U(0,"option",75),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),je(" ",n.name," ")}}function QW(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",41),G(4),Pe(5,"currency"),B(),U(6,"td",79),G(7),Pe(8,"currency"),B(),U(9,"td",80),G(10),Pe(11,"currency"),B(),U(12,"td",81),G(13),B()()),t&2){let n=e.$implicit;X(2),Te(n.cardName),X(2),je(" ",it(5,7,rt(25,Dr,n.summary.total))," "),X(3),je(" ",it(8,13,rt(27,Dr,n.summary.paid))," "),X(3),je(" ",it(11,19,rt(29,Dr,n.summary.pending))," "),X(3),of(" ",n.summary.countTotal," / ",n.summary.countPaid," / ",n.summary.countPending," ")}}function ZW(t,e){t&1&&(U(0,"tr")(1,"td",82),G(2,"Sem dados"),B()())}function JW(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",41),G(4),Pe(5,"currency"),B(),U(6,"td",81),G(7),Pe(8,"number"),B()()),t&2){let n=e.$implicit;X(2),Te(n.categoryName),X(2),je(" ",it(5,3,rt(12,Dr,n.total))," "),X(3),je("",$s(8,9,n.percent,"1.0-0"),"%")}}function eG(t,e){t&1&&(U(0,"tr")(1,"td",83),G(2,"Sem dados"),B()())}function tG(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",84),G(4),B(),U(5,"td"),G(6),B(),U(7,"td"),G(8),B(),U(9,"td",45),G(10),Pe(11,"currency"),B(),U(12,"td")(13,"span",44),G(14),B()(),U(15,"td"),G(16),B(),U(17,"td"),G(18),B()()),t&2){let n=e.$implicit,r=pe(5);X(2),Te(r.formatDateShort(n.dueDate)),X(2),Te(n.description),X(2),Te(n.categoryName),X(2),Te(n.installmentLabel),X(2),je(" ",it(11,9,rt(15,Dr,n.amount))," "),X(3),oe("ngClass",Fc(17,IW,n.status==="Pago",n.status==="Pendente")),X(),Te(n.status),X(2),Te(n.paidAt?r.formatDateShort(n.paidAt):"-"),X(2),Te(n.accountName)}}function nG(t,e){t&1&&(U(0,"tr")(1,"td",85),G(2,"Sem parcelas no per\xEDodo."),B()())}function rG(t,e){if(t&1&&(ft(0),U(1,"div",34)(2,"div",29)(3,"h6",35),G(4,"Fatura do per\xEDodo (vencimento)"),B(),U(5,"div",36)(6,"table",37)(7,"thead")(8,"tr",38)(9,"th"),G(10,"Vencimento"),B(),U(11,"th"),G(12,"Compra"),B(),U(13,"th"),G(14,"Categoria"),B(),U(15,"th"),G(16,"Parcela"),B(),U(17,"th"),G(18,"Valor"),B(),U(19,"th"),G(20,"Status"),B(),U(21,"th"),G(22,"Pago em"),B(),U(23,"th"),G(24,"Conta"),B()()(),U(25,"tbody"),me(26,tG,19,20,"tr",40)(27,nG,3,0,"tr",12),B()()()()(),ht()),t&2){let n=pe(2).ngIf;X(26),oe("ngForOf",n.billRows),X(),oe("ngIf",n.billRows.length===0)}}function iG(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",45),G(4),Pe(5,"currency"),B(),U(6,"td"),G(7),B(),U(8,"td",84),G(9),B(),U(10,"td"),G(11),B(),U(12,"td"),G(13),B()()),t&2){let n=e.$implicit,r=pe(5);X(2),Te(r.formatDateShort(n.paidAt)),X(2),je(" ",it(5,6,rt(12,Dr,n.amount))," "),X(3),Te(n.cardName),X(2),Te(n.description),X(2),Te(n.installmentLabel),X(2),Te(n.accountName)}}function oG(t,e){t&1&&(U(0,"tr")(1,"td",86),G(2,"Sem pagamentos no per\xEDodo."),B()())}function sG(t,e){if(t&1&&(ft(0),U(1,"div",34)(2,"div",29)(3,"h6",35),G(4,"Pagamentos no per\xEDodo (data do pagamento)"),B(),U(5,"div",36)(6,"table",37)(7,"thead")(8,"tr",38)(9,"th"),G(10,"Pagamento"),B(),U(11,"th"),G(12,"Valor"),B(),U(13,"th"),G(14,"Cart\xE3o"),B(),U(15,"th"),G(16,"Compra"),B(),U(17,"th"),G(18,"Parcela"),B(),U(19,"th"),G(20,"Conta"),B()()(),U(21,"tbody"),me(22,iG,14,14,"tr",40)(23,oG,3,0,"tr",12),B()()()()(),ht()),t&2){let n=pe(2).ngIf;X(22),oe("ngForOf",n.paymentRows),X(),oe("ngIf",n.paymentRows.length===0)}}function aG(t,e){if(t&1&&(ft(0),U(1,"div",21)(2,"div",29)(3,"div",30),G(4,"Total gasto no per\xEDodo"),B(),U(5,"h4",33),G(6),Pe(7,"currency"),B(),U(8,"div",30),G(9),B()()(),U(10,"div",21)(11,"div",29)(12,"div",30),G(13,"Total pago no per\xEDodo"),B(),U(14,"h4",78),G(15),Pe(16,"currency"),B()()(),U(17,"div",21)(18,"div",29)(19,"div",30),G(20,"Total pendente do per\xEDodo"),B(),U(21,"h4",32),G(22),Pe(23,"currency"),B()()(),U(24,"div",18)(25,"div",19)(26,"h6",35),G(27,"Resumo por cart\xE3o"),B(),U(28,"div",36)(29,"table",37)(30,"thead")(31,"tr",38)(32,"th"),G(33,"Cart\xE3o"),B(),U(34,"th",39),G(35,"Total"),B(),U(36,"th",39),G(37,"Pago"),B(),U(38,"th",39),G(39,"Pendente"),B(),U(40,"th",39),G(41,"Parcelas"),B()()(),U(42,"tbody"),me(43,QW,14,31,"tr",40)(44,ZW,3,0,"tr",12),B()()()()(),U(45,"div",34)(46,"div",29)(47,"h6",35),G(48,"Top categorias do cart\xE3o"),B(),U(49,"div",36)(50,"table",37)(51,"thead")(52,"tr",38)(53,"th"),G(54,"Categoria"),B(),U(55,"th",39),G(56,"Total"),B(),U(57,"th",39),G(58,"%"),B()()(),U(59,"tbody"),me(60,JW,9,14,"tr",40)(61,eG,3,0,"tr",12),B()()()()(),me(62,rG,28,2,"ng-container",12)(63,sG,24,2,"ng-container",12),ht()),t&2){let n=pe().ngIf;X(6),je(" ",it(7,12,rt(30,Dr,n.summary.total))," "),X(3),of(" Parcelas: ",n.summary.countTotal," (pagas ",n.summary.countPaid,", pendentes ",n.summary.countPending,") "),X(6),je(" ",it(16,18,rt(32,Dr,n.summary.paid))," "),X(7),je(" ",it(23,24,rt(34,Dr,n.summary.pending))," "),X(21),oe("ngForOf",n.cardSummaries),X(),oe("ngIf",n.cardSummaries.length===0),X(16),oe("ngForOf",n.topCategories),X(),oe("ngIf",n.topCategories.length===0),X(),oe("ngIf",n.filters.view==="due"),X(),oe("ngIf",n.filters.view==="payment")}}function cG(t,e){t&1&&(U(0,"div",18)(1,"div",87),G(2," Nenhum dado de cart\xE3o encontrado para este per\xEDodo. "),B()())}function lG(t,e){if(t&1&&(ft(0),U(1,"div",18)(2,"div",76)(3,"div")(4,"p",7),G(5,"Cart\xE3o de cr\xE9dito"),B(),U(6,"h5",77),G(7,"Resumo do cart\xE3o"),B()(),U(8,"span",30),G(9),B()()(),me(10,aG,64,36,"ng-container",26)(11,cG,3,0,"ng-template",null,2,$t),ht()),t&2){let n=e.ngIf,r=Bt(12);X(9),je("Per\xEDodo: ",n.periodLabel),X(),oe("ngIf",n.hasData)("ngIfElse",r)}}function uG(t,e){if(t&1){let n=At();U(0,"div",55)(1,"div",5)(2,"div",18)(3,"div",19)(4,"div",56)(5,"div")(6,"p",7),G(7,"Cart\xE3o de cr\xE9dito"),B(),U(8,"h6",57),G(9,"Relat\xF3rios de cart\xE3o"),B()()(),U(10,"form",58),Me("ngSubmit",function(){ze(n);let i=pe();return qe(i.applyCreditFilters())}),U(11,"div",59)(12,"label",22),G(13,"M\xEAs"),B(),U(14,"select",60),me(15,KW,2,2,"option",61),B()(),U(16,"div",59)(17,"label",22),G(18,"Ano"),B(),U(19,"select",62),me(20,YW,2,2,"option",61),B()(),U(21,"div",63)(22,"label",22),G(23,"Cart\xE3o"),B(),U(24,"select",64)(25,"option",65),G(26,"Todos"),B(),me(27,XW,2,2,"option",66),Pe(28,"async"),B()(),U(29,"div",59)(30,"label",22),G(31,"Status"),B(),U(32,"select",67)(33,"option",65),G(34,"Todos"),B(),U(35,"option",68),G(36,"Pagos"),B(),U(37,"option",69),G(38,"Pendentes"),B()()(),U(39,"div",59)(40,"label",22),G(41,"Vis\xE3o"),B(),U(42,"select",70)(43,"option",71),G(44,"Fatura (vencimento)"),B(),U(45,"option",72),G(46,"Pagamentos"),B()()(),U(47,"div",59)(48,"button",25),G(49,"Aplicar filtros"),B()(),U(50,"div",59)(51,"button",73),Me("click",function(){ze(n);let i=pe();return qe(i.resetCreditFilters())}),G(52," Limpar filtros "),B()()()()(),me(53,lG,13,3,"ng-container",12),Pe(54,"async"),B()()}if(t&2){let n=pe();X(10),oe("formGroup",n.creditForm),X(5),oe("ngForOf",n.monthLabels),X(5),oe("ngForOf",n.creditYears),X(7),oe("ngForOf",mn(28,5,n.creditCards$)),X(26),oe("ngIf",mn(54,7,n.creditReport$))}}function dG(t,e){if(t&1&&(U(0,"option",74),G(1),B()),t&2){let n=e.$implicit;oe("ngValue",n),X(),Te(n)}}function fG(t,e){if(t&1){let n=At();ft(0),U(1,"div",18)(2,"div",19)(3,"div",27)(4,"div"),G(5,"Nenhum dado encontrado para este per\xEDodo."),B(),U(6,"button",28),Me("click",function(){ze(n);let i=pe(3);return qe(i.changeAnnualYear())}),G(7," Selecionar ano "),B()()()(),ht()}}function hG(t,e){if(t&1&&(U(0,"tr")(1,"td"),G(2),B(),U(3,"td",41),G(4),Pe(5,"currency"),B(),U(6,"td",41),G(7),Pe(8,"currency"),B(),U(9,"td",41),G(10),Pe(11,"currency"),B()()),t&2){let n=e.$implicit,r=pe(4);X(2),Te(r.monthLabels[n.month-1]),X(2),je(" ",it(5,4,rt(22,Dr,n.income))," "),X(3),je(" ",it(8,10,rt(24,Dr,n.expense))," "),X(3),je(" ",it(11,16,rt(26,Dr,n.balance))," ")}}function pG(t,e){if(t&1&&(U(0,"tfoot")(1,"tr",91)(2,"th",92),G(3,"Total"),B(),U(4,"th",39),G(5),Pe(6,"currency"),B(),U(7,"th",39),G(8),Pe(9,"currency"),B(),U(10,"th",39),G(11),Pe(12,"currency"),B()()()),t&2){let n=e.ngIf;X(5),Te(it(6,3,rt(21,Dr,n.totalIncome))),X(3),Te(it(9,9,rt(23,Dr,n.totalExpense))),X(3),Te(it(12,15,rt(25,Dr,n.balance)))}}function mG(t,e){if(t&1&&(U(0,"div",18)(1,"div",19)(2,"div",36)(3,"table",37)(4,"thead")(5,"tr",38)(6,"th"),G(7,"M\xEAs"),B(),U(8,"th",39),G(9,"Entradas"),B(),U(10,"th",39),G(11,"Sa\xEDdas"),B(),U(12,"th",39),G(13,"Saldo"),B()()(),U(14,"tbody"),me(15,hG,12,28,"tr",40),B(),me(16,pG,13,27,"tfoot",12),B()()()()),t&2){let n=pe().ngIf;X(15),oe("ngForOf",n.months),X(),oe("ngIf",n==null?null:n.totals)}}function gG(t,e){if(t&1&&(ft(0),me(1,fG,8,0,"ng-container",26)(2,mG,17,2,"ng-template",null,4,$t),ht()),t&2){let n=e.ngIf,r=Bt(3);X(),oe("ngIf",!(n!=null&&n.hasData))("ngIfElse",r)}}function yG(t,e){t&1&&(U(0,"tr")(1,"td"),Ee(2,"div",54),B(),U(3,"td",39),Ee(4,"div",52),B(),U(5,"td",39),Ee(6,"div",52),B(),U(7,"td",39),Ee(8,"div",52),B()())}function vG(t,e){if(t&1&&(U(0,"div",18)(1,"div",19),Ee(2,"div",48),U(3,"div",36)(4,"table",37)(5,"thead")(6,"tr",38)(7,"th"),G(8,"M\xEAs"),B(),U(9,"th",39),G(10,"Entradas"),B(),U(11,"th",39),G(12,"Sa\xEDdas"),B(),U(13,"th",39),G(14,"Saldo"),B()()(),U(15,"tbody"),me(16,yG,9,0,"tr",40),B()()()()()),t&2){let n=pe(2);X(16),oe("ngForOf",n.skeletonRows)}}function bG(t,e){if(t&1){let n=At();ft(0),U(1,"div",18)(2,"div",19)(3,"div",88)(4,"div",21)(5,"label",22),G(6,"Ano"),B(),U(7,"select",89),Bs("ngModelChange",function(i){ze(n);let o=pe();return ka(o.annualYear,i)||(o.annualYear=i),qe(i)}),Me("change",function(){ze(n);let i=pe();return qe(i.changeAnnualYear())}),me(8,dG,2,2,"option",61),B()(),U(9,"div",21)(10,"button",90),Me("click",function(){ze(n);let i=pe();return qe(i.changeAnnualYear())}),G(11,"Gerar"),B()()()()(),me(12,gG,4,2,"ng-container",26),Pe(13,"async"),me(14,vG,17,1,"ng-template",null,3,$t),ht()}if(t&2){let n=Bt(15),r=pe();X(7),js("ngModel",r.annualYear),X(),oe("ngForOf",r.annualYears),X(4),oe("ngIf",mn(13,4,r.annualReport$))("ngIfElse",n)}}var $y=class t{fb=ge(Jr);auth=ge(jn);reportsService=ge(Vy);categoriesService=ge(vi);accountsService=ge(Io);creditService=ge(ac);reportExportService=ge(By);notifications=ge(bi);lastReport=null;lastAnnualReport=null;loadingReport=!0;loadingAnnualReport=!0;exportingXlsx=!1;exportingCsv=!1;exportingAnnualXlsx=!1;exportingAnnualCsv=!1;exportingCreditCsv=!1;exportingCreditXlsx=!1;lastCreditReport=null;skeletonCards=Array.from({length:3});skeletonRows=Array.from({length:4});monthLabels=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];currentMonth=new Date().getMonth()+1;currentYear=new Date().getFullYear();viewMode="default";periodMode="period";annualYear=this.currentYear;annualYears=Array.from({length:6}).map((e,n)=>this.currentYear-2+n);creditYears=Array.from({length:6}).map((e,n)=>this.currentYear-2+n);form=this.fb.group({start:[Wn(new Date(new Date().getFullYear(),new Date().getMonth(),1)),Xe.required],end:[Wn(new Date),Xe.required]});creditForm=this.fb.group({month:[this.currentMonth,Xe.required],year:[this.currentYear,Xe.required],cardId:["all"],status:["all"],view:["due"]});filters$=new kn({start:this.form.value.start||Wn(new Date),end:this.form.value.end||Wn(new Date)});annualYear$=new kn(this.annualYear);creditFilters$=new kn(this.normalizeCreditFilters(this.creditForm.value));categories$=this.auth.user$.pipe(Tt(e=>e?this.categoriesService.list$(e.uid):Le([])));accounts$=this.auth.user$.pipe(Tt(e=>e?this.accountsService.list$(e.uid):Le([])),$e(e=>e??[]));creditCards$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listCards$(e.uid):Le([])),$e(e=>e??[]));creditPurchases$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listPurchases$(e.uid):Le([])),$e(e=>e??[]));creditInstallments$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listInstallments$(e.uid):Le([])),$e(e=>e??[]));report$=$n([this.auth.user$,this.filters$]).pipe(Tt(([e,n])=>e?this.reportsService.getReport(e.uid,Sr(n.start)??new Date,Sr(n.end)??new Date):Le(null)),Tt(e=>$n([Le(e),this.categories$,this.accounts$]).pipe($e(([n,r,i])=>{if(!n)return null;let o=n.byCategory.map(u=>Ne(ye({},u),{categoryName:r.find(l=>l.id===u.categoryId)?.name||"Categoria"})),s=this.getSaldoInicialTotal(i),a=n.summary.totalIncome??0,c=n.summary.totalExpense??0;return Ne(ye({},n),{summary:Ne(ye({},n.summary),{balance:s+a-c}),byCategory:o})}))),ln(e=>{this.lastReport=e,this.loadingReport=!1}),En(()=>(this.loadingReport=!1,this.lastReport=null,Le(null))));annualReport$=$n([this.auth.user$,this.annualYear$]).pipe(Tt(([e,n])=>e?this.reportsService.getAnnualReport(e.uid,n):Le(null)),Tt(e=>$n([Le(e),this.accounts$]).pipe($e(([n,r])=>{if(!n)return null;let i=this.getSaldoInicialTotal(r),o=new Date,s=o.getFullYear(),a=o.getMonth(),c=Number(n.year??this.annualYear),u=c<s?11:c>s?-1:a,l=0,d=0,f=(n.months??[]).map((y,m)=>{let _=Number(y.income??0),x=Number(y.expense??0),D=Number(y.month??m+1)-1,L=0;return D<=u&&(l+=_,d+=x,L=i+l-d),Ne(ye({},y),{income:_,expense:x,balance:L})}),p=n.totals?.totalIncome??0,h=n.totals?.totalExpense??0;return Ne(ye({},n),{months:f,totals:{totalIncome:p,totalExpense:h,balance:i+(p-h)}})}))),ln(e=>{this.lastAnnualReport=e,this.loadingAnnualReport=!1}),En(()=>(this.loadingAnnualReport=!1,this.lastAnnualReport=null,Le(null))));creditReport$=$n([this.creditCards$,this.creditPurchases$,this.creditInstallments$,this.categories$,this.accounts$,this.creditFilters$]).pipe($e(([e,n,r,i,o,s])=>{let a=this.normalizeCreditFilters(s),c=this.buildMonthRange(a.month,a.year),u=new Map(e.map(z=>[z.id||"",z])),l=new Map(n.map(z=>[z.id||"",z])),d=new Map(i.map(z=>[z.id||"",z])),f=new Map(o.map(z=>[z.id||"",z])),p=a.cardId!=="all"?a.cardId:null,h=z=>!p||z.cardId===p?!0:l.get(z.purchaseId||"")?.cardId===p,y=r.filter(z=>{let Y=this.toJsDate(z.dueDate??z.date);return Y?h(z)&&this.inRange(Y,c.start,c.end):!1}),m=r.filter(z=>{let Y=this.toJsDate(z.paidAt);return Y?h(z)&&this.inRange(Y,c.start,c.end):!1}),_=this.sum(y.map(z=>Number(z.amount??0))),x=this.sum(m.map(z=>Number(z.amount??0))),D=y.length,L=y.filter(z=>z.paid).length,$=D-L,V={total:_,paid:x,pending:_-x,countTotal:D,countPaid:L,countPending:$},R=new Map,N=new Map;y.forEach(z=>{let Y=Number(z.amount??0),P=z.cardId||l.get(z.purchaseId||"")?.cardId||"";if(!P)return;let K=R.get(P)??{total:0,paid:0,pending:0,countTotal:0,countPaid:0,countPending:0};K.total+=Y,K.countTotal+=1,z.paid?K.countPaid+=1:K.countPending+=1,R.set(P,K)}),m.forEach(z=>{let Y=Number(z.amount??0),P=z.cardId||l.get(z.purchaseId||"")?.cardId||"";if(!P)return;let K=N.get(P)??0;N.set(P,K+Y)});let j=Array.from(R.entries()).map(([z,Y])=>{let P=N.get(z)??0;return{cardId:z,cardName:u.get(z)?.name||"Cartao",summary:Ne(ye({},Y),{paid:P,pending:Y.total-P})}}).sort((z,Y)=>z.cardName.localeCompare(Y.cardName)),O=z=>a.status==="paid"?z.status==="Pago":a.status==="pending"?z.status!=="Pago":!0,E=z=>{let Y=l.get(z.purchaseId||""),P=u.get(z.cardId)?.name||"Cartao",K=Y?.categoryId&&d.get(Y.categoryId)?.name||"\u2014",k=this.buildInstallmentLabel(z,Y),M=this.toYmd(z.dueDate??z.date),H=z.paidAt?this.toYmd(z.paidAt):"",Z=z.paymentAccountId||u.get(z.cardId||"")?.paymentAccountId||"",ie=f.get(Z||"")?.name||"\u2014",J=Y?.purchaseDate?this.toYmd(Y.purchaseDate):"";return{dueDate:M,description:Y?.description||"Compra",categoryName:K,installmentLabel:k,amount:Number(z.amount??0),status:z.paid?"Pago":"Pendente",paidAt:H||void 0,accountName:ie,cardName:P,purchaseId:z.purchaseId||"",purchaseDate:J||void 0}},I=y.map(z=>E(z)).sort((z,Y)=>z.dueDate<Y.dueDate?-1:1),A=I.filter(z=>O(z)),g=z=>{let Y=l.get(z.purchaseId||""),P=u.get(z.cardId)?.name||"Cartao",K=z.paymentAccountId||u.get(z.cardId||"")?.paymentAccountId||"",k=f.get(K||"")?.name||"\u2014",M=this.toYmd(z.paidAt),H=this.toYmd(z.dueDate??z.date);return{paidAt:M,dueDate:H||void 0,amount:Number(z.amount??0),description:Y?.description||"Compra",installmentLabel:this.buildInstallmentLabel(z,Y),cardName:P,accountName:k,movementId:z.paymentMovementId??"",purchaseId:z.purchaseId||""}},v=m.map(z=>g(z)).sort((z,Y)=>z.paidAt<Y.paidAt?-1:1),w=a.status==="pending"?[]:v,b=new Map;y.forEach(z=>{let K=(l.get(z.purchaseId||"")?.categoryId??"")||"uncategorized";b.set(K,(b.get(K)??0)+Number(z.amount??0))});let C=Array.from(b.entries()).map(([z,Y])=>({categoryName:z&&d.get(z)?.name||"\u2014",total:Y,percent:_>0?Y/_*100:0})).sort((z,Y)=>Y.total-z.total).slice(0,5),S=p?u.get(p)?.name||"Cartao":"Todos",F=`${String(a.month).padStart(2,"0")}/${a.year}`,q=y.length>0||m.length>0;return{periodLabel:F,cardLabel:S,summary:V,cardSummaries:j,billRows:A,billRowsAll:I,paymentRows:w,paymentRowsAll:v,topCategories:C,cardsCount:e.length,hasData:q,filters:a}}),ln(e=>{this.lastCreditReport=e}));applyFilters(){if(this.form.invalid){this.form.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let{start:e,end:n}=this.form.value,r=Sr(e),i=Sr(n);if(!r||!i||r>i){this.notifications.warning("Data inicial deve ser anterior a final.");return}this.loadingReport=!0,this.filters$.next({start:e,end:n})}setViewMode(e){this.viewMode=e}applyCreditFilters(){if(this.creditForm.invalid){this.creditForm.markAllAsTouched(),this.notifications.warning("Preencha os filtros de cart\xE3o.");return}let e=this.normalizeCreditFilters(this.creditForm.value);if(!e.month||!e.year){this.notifications.warning("Informe m\xEAs e ano v\xE1lidos.");return}this.creditForm.patchValue(e,{emitEvent:!1}),this.creditFilters$.next(e)}resetCreditFilters(){let e=this.getDefaultCreditFilters();this.creditForm.reset(e,{emitEvent:!1}),this.creditFilters$.next(e)}setPeriodMode(e){this.periodMode=e,e==="annual"&&(this.loadingAnnualReport=!0,this.annualYear$.next(this.annualYear))}changeAnnualYear(){this.loadingAnnualReport=!0,this.annualYear$.next(this.annualYear)}async exportXlsx(){if(!this.lastReport||this.lastReport.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}this.exportingXlsx=!0;try{let{start:e,end:n}=this.form.value,r=e&&n?`Per\xEDodo: ${this.formatDate(e)} a ${this.formatDate(n)}`:void 0,i=await rn(this.categories$),o=await rn(this.accounts$),s=this.lastReport.transactions.map(l=>{let d=o.find(h=>h.id===l.accountId)?.name||"",f=o.find(h=>h.id===l.accountOriginId)?.name||"",p=o.find(h=>h.id===l.accountDestinationId)?.name||"";return{data:l.date,descricao:l.description,categoria:l.type==="transfer"?"-":i.find(h=>h.id===l.categoryId)?.name||"",contaOrigem:l.type==="transfer"?f:d,destino:l.type==="transfer"?p:"",tipo:l.type==="income"?"entrada":l.type==="expense"?"saida":"transferencia",valor:l.amount}}),a=this.getSaldoInicialTotal(o),c=e?e.slice(0,7):this.buildCurrentYearMonth(),u=this.buildFileName("periodo",c);await this.reportExportService.exportRelatorioXlsx({titulo:"Relat\xF3rio",filtrosTexto:r,rows:s,saldoInicial:a,fileName:u}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingXlsx=!1}}async exportCsv(){if(!this.lastReport||this.lastReport.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}this.exportingCsv=!0;try{let e=await rn(this.categories$),n=await rn(this.accounts$),r=this.lastReport.transactions.map(s=>{let a=n.find(l=>l.id===s.accountId)?.name||"",c=n.find(l=>l.id===s.accountOriginId)?.name||"",u=n.find(l=>l.id===s.accountDestinationId)?.name||"";return{data:s.date,tipo:s.type==="income"?"entrada":s.type==="expense"?"saida":"transferencia",descricao:s.description,categoria:s.type==="transfer"?"-":e.find(l=>l.id===s.categoryId)?.name||"",contaOrigem:s.type==="transfer"?c:a,destino:s.type==="transfer"?u:"",valor:s.amount}}),i=this.form.value.start?this.form.value.start.slice(0,7):this.buildCurrentYearMonth(),o=this.buildFileName("per\xEDodo",i);this.reportExportService.exportRelatorioCsv({rows:r,fileName:o}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingCsv=!1}}async exportAnnualCsv(){if(!this.lastAnnualReport||!this.lastAnnualReport.hasData){this.notifications.info("Sem dados para exportar.");return}this.exportingAnnualCsv=!0;try{let e=await rn(this.auth.user$);if(!e){this.notifications.info("Sem dados para exportar.");return}let n=await rn(this.categories$),r=await rn(this.accounts$),i=new Date(this.annualYear,0,1),o=new Date(this.annualYear,11,31),s=await rn(this.reportsService.getReport(e.uid,i,o));if(!s||s.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}let a=s.transactions.map(u=>{let l=r.find(h=>h.id===u.accountId)?.name||"",d=r.find(h=>h.id===u.accountOriginId)?.name||"",f=r.find(h=>h.id===u.accountDestinationId)?.name||"";return{anoMes:this.buildYearMonth(u.date),data:u.date,tipo:u.type==="income"?"entrada":u.type==="expense"?"saida":"transferencia",descricao:u.description,categoria:u.type==="transfer"?"-":n.find(h=>h.id===u.categoryId)?.name||"",contaOrigem:u.type==="transfer"?d:l,destino:u.type==="transfer"?f:"",valor:u.amount}}),c=this.buildFileName("anual",`${this.annualYear}`);this.reportExportService.exportRelatorioAnualCsv({rows:a,fileName:c}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingAnnualCsv=!1}}async exportAnnualXlsx(){if(!this.lastAnnualReport||!this.lastAnnualReport.hasData){this.notifications.info("Sem dados para exportar.");return}this.exportingAnnualXlsx=!0;try{let e=await rn(this.auth.user$);if(!e){this.notifications.info("Sem dados para exportar.");return}let n=await rn(this.categories$),r=await rn(this.accounts$),i=this.getSaldoInicialTotal(r),o=new Date(this.annualYear,0,1),s=new Date(this.annualYear,11,31),a=await rn(this.reportsService.getReport(e.uid,o,s));if(!a||a.transactions.length===0){this.notifications.info("Sem dados para exportar.");return}let c=a.transactions.map(l=>{let d=r.find(h=>h.id===l.accountId)?.name||"",f=r.find(h=>h.id===l.accountOriginId)?.name||"",p=r.find(h=>h.id===l.accountDestinationId)?.name||"";return{data:l.date,descricao:l.description,categoria:l.type==="transfer"?"-":n.find(h=>h.id===l.categoryId)?.name||"",contaOrigem:l.type==="transfer"?f:d,destino:l.type==="transfer"?p:"",tipo:l.type==="income"?"entrada":l.type==="expense"?"saida":"transferencia",valor:l.amount}}),u=this.buildFileName("anual",`${this.annualYear}`);await this.reportExportService.exportRelatorioAnualXlsx({titulo:"Relat\xF3rio anual",rows:c,year:this.annualYear,saldoInicial:i,fileName:u}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingAnnualXlsx=!1}}async exportCreditCsv(){if(!this.lastCreditReport||!this.lastCreditReport.hasData){this.notifications.info("Sem dados para exportar.");return}this.exportingCreditCsv=!0;try{let e=this.lastCreditReport,n=this.buildYearMonthFromMonth(e.filters.month,e.filters.year);if(e.filters.view==="payment"){let r=["Data do pagamento","Valor","Cart\xE3o","Compra","Parcela","Conta"],i=e.paymentRows.map(o=>[this.formatDateShort(o.paidAt),this.formatCsvNumber(o.amount),o.cardName,o.description,o.installmentLabel,o.accountName]);this.exportCsvCustom(r,i,this.buildFileName("cartao_pagamentos",n))}else{let r=["Cart\xE3o","Compra","Categoria","Parcela","Vencimento","Valor","Status","Pago em","Conta"],i=e.billRows.map(o=>[o.cardName,o.description,o.categoryName,o.installmentLabel,this.formatDateShort(o.dueDate),this.formatCsvNumber(o.amount),o.status,o.paidAt?this.formatDateShort(o.paidAt):"",o.accountName]);this.exportCsvCustom(r,i,this.buildFileName("cartao_fatura",n))}this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingCreditCsv=!1}}async exportCreditExcel(){if(!this.lastCreditReport||!this.lastCreditReport.hasData){this.notifications.info("Sem dados para exportar.");return}this.exportingCreditXlsx=!0;try{let e=this.lastCreditReport,n=this.buildYearMonthFromMonth(e.filters.month,e.filters.year),r="\u2014",i=e.billRowsAll??e.billRows,o=e.paymentRowsAll??e.paymentRows,s=b=>Number.isFinite(b)?`R$ ${Number(b).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:r,a=b=>Number.isFinite(b)?`${Number(b).toLocaleString("pt-BR",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:r,c=b=>(b?this.formatDate(b):"")||r,u=(b,C)=>{let S=null,F=null,q="",z="";return b.forEach(Y=>{let P=C(Y);if(!P)return;let K=Sr(P);K&&((!S||K<S)&&(S=K,q=P),(!F||K>F)&&(F=K,z=P))}),{minYmd:q,maxYmd:z}},l=b=>b.purchaseId||`${b.cardName}::${b.description}::${b.categoryName}`,d=new Map;i.forEach(b=>{let C=l(b),S=d.get(C)??{cardName:b.cardName||r,description:b.description||r,categoryName:b.categoryName||r,total:0,paidTotal:0,countTotal:0,countPaid:0,firstDue:b.dueDate,lastDue:b.dueDate};S.total+=Number(b.amount??0),S.countTotal+=1,b.status==="Pago"&&(S.paidTotal+=Number(b.amount??0),S.countPaid+=1);let F=b.dueDate;if(F){let q=Sr(F);if(q){let z=S.firstDue?Sr(S.firstDue):null,Y=S.lastDue?Sr(S.lastDue):null;(!z||q<z)&&(S.firstDue=F),(!Y||q>Y)&&(S.lastDue=F)}}d.set(C,S)});let{minYmd:f,maxYmd:p}=u(i,b=>b.dueDate),{minYmd:h,maxYmd:y}=u(o,b=>b.paidAt),m=o.length,_=e.summary.countTotal>0?e.summary.total/e.summary.countTotal:null,x=m>0?e.summary.paid/m:null,D=new Map;o.forEach(b=>{let C=b.accountName||r;D.set(C,(D.get(C)??0)+b.amount)});let L=Array.from(D.entries()).sort((b,C)=>C[1]-b[1]),$=L.slice(0,3).map(([b,C])=>({name:b,total:C}));for(;$.length<3;)$.push({name:r,total:Number.NaN});let V=L.length?{name:L[0][0],total:L[0][1]}:{name:r,total:Number.NaN},R=e.topCategories.map(b=>({name:b.categoryName||r,total:b.total,percent:b.percent}));for(;R.length<5;)R.push({name:r,total:Number.NaN,percent:Number.NaN});let N=b=>b==null||b===""||typeof b=="number"&&!Number.isFinite(b)?r:b,j=(b,C)=>!Number.isFinite(b)||!Number.isFinite(C)?r:`${s(b)} (${a(C)})`,O=[],E=(b,C,S,F)=>{O.push([b,C,N(S),N(F??r)])},I=()=>{O.push(["","","",""])};E("Per\xEDodo","Per\xEDodo",e.periodLabel||r),E("Per\xEDodo","Cart\xE3o selecionado",e.cardLabel||r),I(),E("Totais do Cart\xE3o","Total gasto no per\xEDodo",s(e.summary.total)),E("Totais do Cart\xE3o","Total pago no per\xEDodo",s(e.summary.paid)),E("Totais do Cart\xE3o","Total pendente no per\xEDodo",s(e.summary.pending)),I(),E("Parcelas","Parcelas totais",e.summary.countTotal),E("Parcelas","Parcelas pagas",e.summary.countPaid),E("Parcelas","Parcelas pendentes",e.summary.countPending),E("Parcelas","Ticket m\xE9dio da parcela",s(_??Number.NaN)),E("Parcelas","Valor m\xE9dio pago",s(x??Number.NaN)),I(),E("Datas","Primeiro vencimento do per\xEDodo",c(f)),E("Datas","\xDAltimo vencimento do per\xEDodo",c(p)),E("Datas","Primeiro pagamento do per\xEDodo",c(h)),E("Datas","\xDAltimo pagamento do per\xEDodo",c(y)),I(),E("Fatura","Total da fatura no per\xEDodo",s(e.summary.total)),E("Fatura","% quitada",e.summary.total>0?a(e.summary.paid/e.summary.total*100):r),E("Fatura","% pendente",e.summary.total>0?a(e.summary.pending/e.summary.total*100):r),I(),E("Contas vinculadas","Conta mais utilizada",V.name,s(V.total)),E("Contas vinculadas","Total debitado (Top 1)",$[0].name,s($[0].total)),E("Contas vinculadas","Total debitado (Top 2)",$[1].name,s($[1].total)),E("Contas vinculadas","Total debitado (Top 3)",$[2].name,s($[2].total)),I(),E("Categorias","Top 1",R[0].name,j(R[0].total,R[0].percent)),E("Categorias","Top 2",R[1].name,j(R[1].total,R[1].percent)),E("Categorias","Top 3",R[2].name,j(R[2].total,R[2].percent)),E("Categorias","Top 4",R[3].name,j(R[3].total,R[3].percent)),E("Categorias","Top 5",R[4].name,j(R[4].total,R[4].percent));let A=e.billRows.map(b=>{let C=l(b),S=d.get(C),F=S?.countPaid===0?"Pendente":S&&S.countPaid===S.countTotal?"Quitada no per\xEDodo":S?"Parcial":r,q=S?S.total:r;return[b.cardName,b.description,b.categoryName,b.installmentLabel,c(b.dueDate),b.amount,b.status,c(b.paidAt),b.accountName||r,q,F,c(b.purchaseDate),b.accountName||r]}),g=e.paymentRows.map(b=>{let C=b.paidAt?Sr(b.paidAt):null,S=b.dueDate?Sr(b.dueDate):null,F=C&&S?C<S:!1,q=C&&S&&F?"Adiantamento":"Pagamento",z=C&&S?F?"Sim":"N\xE3o":r,Y=C&&S?Math.round((S.getTime()-C.getTime())/864e5):null;return[c(b.paidAt),b.amount,b.cardName,b.description,b.installmentLabel,b.accountName||r,b.movementId||"",q,z,Y??r]}),v=Array.from(d.values()).sort((b,C)=>b.cardName.localeCompare(C.cardName)||b.description.localeCompare(C.description)).map(b=>[b.cardName||r,b.description||r,b.categoryName||r,b.total,b.paidTotal,b.total-b.paidTotal,b.countTotal>0?`${b.countPaid}/${b.countTotal}`:r,c(b.firstDue),c(b.lastDue),b.total-b.paidTotal<=0?"Quitada":"Em aberto"]),w=e.topCategories.map(b=>[b.categoryName,b.total,e.summary.total>0?b.percent/100:0]);await this.reportExportService.exportRelatorioCartaoXlsx({fileName:this.buildFileName("cartao",n),sheets:[{name:"Resumo",headers:["Grupo","M\xE9trica","Valor","Observa\xE7\xE3o"],rows:O,columnWidths:[20,36,22,28]},{name:"Fatura (Vencimentos)",headers:["Cart\xE3o","Compra/Descri\xE7\xE3o","Categoria","Parcela","Vencimento","Valor","Status","Pago em","Conta","Valor acumulado da compra","Situa\xE7\xE3o da compra","Data de compra","Conta debitada"],rows:A,columnFormats:{6:'"R$" #,##0.00',10:'"R$" #,##0.00'}},{name:"Pagamentos (Adiantamentos)",headers:["Data do pagamento","Valor","Cart\xE3o","Compra/Descri\xE7\xE3o","Parcela","Conta debitada","ID do movimento","Tipo de pagamento","Pago antes do vencimento","Dias de antecipa\xE7\xE3o"],rows:g,columnFormats:{2:'"R$" #,##0.00'}},{name:"Compras (Resumo)",headers:["Cart\xE3o","Compra/Descri\xE7\xE3o","Categoria","Total da compra","Total pago","Total pendente","Parcelas (pagas/total)","Primeiro vencimento","\xDAltimo vencimento","Status geral"],rows:v,columnFormats:{4:'"R$" #,##0.00',5:'"R$" #,##0.00',6:'"R$" #,##0.00'}},{name:"Categorias",headers:["Categoria","Total","% do total"],rows:w,columnFormats:{2:'"R$" #,##0.00',3:"0%"}}]}),this.notifications.success("Salvo com sucesso")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.exportingCreditXlsx=!1}}normalizeCreditFilters(e){let n=Number(e?.month??this.currentMonth),r=Number(e?.year??this.currentYear),i=typeof e?.cardId=="string"?e.cardId:"all",o=e?.status==="paid"||e?.status==="pending"?e.status:"all",s=e?.view==="payment"?"payment":"due";return{month:Number.isFinite(n)?Math.min(Math.max(n,1),12):this.currentMonth,year:Number.isFinite(r)?r:this.currentYear,cardId:i,status:o,view:s}}getDefaultCreditFilters(){return{month:this.currentMonth,year:this.currentYear,cardId:"all",status:"all",view:"due"}}buildMonthRange(e,n){let r=Math.min(Math.max(e,1),12),i=Number.isFinite(n)?n:this.currentYear,o=new Date(i,r-1,1,0,0,0,0),s=new Date(i,r,0,23,59,59,999);return{start:o,end:s}}buildYearMonthFromMonth(e,n){let r=String(Math.min(Math.max(e,1),12)).padStart(2,"0");return`${n}-${r}`}parseLocalYmd(e){if(!e)return null;let n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)return null;let r=Number(n[1]),i=Number(n[2])-1,o=Number(n[3]);return!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)?null:new Date(r,i,o,12,0,0,0)}toJsDate(e){if(!e)return null;if(e?.toDate&&typeof e.toDate=="function")return e.toDate();if(e instanceof Date)return e;if(typeof e=="string"){let n=this.parseLocalYmd(e);if(n)return n}if(typeof e=="string"||typeof e=="number"){let n=new Date(e);return isNaN(n.getTime())?null:n}return null}toYmd(e){let n=this.toJsDate(e);return n?Wn(n):""}inRange(e,n,r){return e>=n&&e<=r}sum(e){return(e??[]).reduce((n,r)=>n+(Number(r)||0),0)}buildInstallmentLabel(e,n){let r=Number(e.installmentNumber??0),i=Number(n?.installmentsCount??0);return r>0&&i>0?`${r}/${i}`:r>0?`${r}`:"\u2014"}exportCsvCustom(e,n,r){let i=this.buildCsv(e,n),o=new Blob([i],{type:"text/csv;charset=utf-8"}),s=r.replace(/[\\/:*?"<>|]/g,"").trim().replace(/\s+/g,"_"),a=s.toLowerCase().endsWith(".csv")?s:`${s}.csv`;(0,A5.saveAs)(o,a)}buildCsv(e,n,r=";"){let o=n.map(s=>s.map(a=>this.escapeCsv(a,r)).join(r));return`\uFEFF${[e.join(r),...o].join(`
`)}`}escapeCsv(e,n=";"){let r=`${e??""}`;return r.includes(n)||r.includes('"')||r.includes(`
`)||r.includes("\r")?`"${r.replace(/\"/g,'""')}"`:r}formatCsvNumber(e){return Number.isFinite(e)?Number(e).toFixed(2):"0.00"}buildYearMonth(e){if(!e)return"";if(e.length>=7)return e.slice(0,7);let n=new Date(e);if(Number.isNaN(n.getTime()))return"";let r=String(n.getMonth()+1).padStart(2,"0");return`${n.getFullYear()}-${r}`}buildFileName(e,n){let r=Wn(new Date).replace(/-/g,"");return`relatorio_${e}_${n}_${r}`}buildCurrentYearMonth(){let e=new Date,n=String(e.getMonth()+1).padStart(2,"0");return`${e.getFullYear()}-${n}`}formatDate(e){return nc(e)}formatDateShort(e){let n=Sr(e);return n?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}).format(n):""}getSaldoInicialTotal(e){return(e??[]).reduce((n,r)=>n+(Number(r?.initialBalance)||0),0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-reports"]],decls:18,vars:9,consts:[["loadingReportTpl",""],["reportData",""],["emptyCreditTpl",""],["loadingAnnualReportTpl",""],["annualData",""],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2","flex-wrap"],["role","group","aria-label","Tipo de relatorio",1,"btn-group"],["type","button",1,"btn","btn-outline-light",3,"click"],[4,"ngIf"],["id","credit-report-print","class","col-12",4,"ngIf"],["role","group","aria-label","Modo de relatorio",1,"btn-group"],[1,"btn","btn-outline-light",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"col-12"],[1,"glass-card","p-3"],[1,"row","g-3","align-items-end",3,"ngSubmit","formGroup"],[1,"col-md-4"],[1,"form-label","text-secondary"],["type","date","formControlName","start",1,"form-control","glass-input"],["type","date","formControlName","end",1,"form-control","glass-input"],["type","submit",1,"btn","btn-primary","w-100"],[4,"ngIf","ngIfElse"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"glass-card","p-3","h-100"],[1,"text-secondary","small"],[1,"fw-bold","text-info"],[1,"fw-bold","text-warning"],[1,"fw-bold","text-light"],[1,"col-lg-6"],[1,"fw-semibold","mb-3"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","fw-semibold"],["colspan","2",1,"text-secondary","text-center","py-3"],[1,"text-truncate",2,"max-width","200px"],[1,"badge",3,"ngClass"],[1,"fw-semibold"],["colspan","4",1,"text-secondary","text-center","py-3"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-50","mb-3"],[1,"skeleton","skeleton-line","w-50","mb-2"],[1,"skeleton","skeleton-line","lg","w-75"],[1,"skeleton","skeleton-line","w-75"],[1,"skeleton","skeleton-line","w-50","ms-auto"],[1,"skeleton","skeleton-line","w-100"],[1,"skeleton","skeleton-line","w-50"],["id","credit-report-print",1,"col-12"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"fw-semibold","mb-0"],[1,"row","g-3","align-items-end","mt-1",3,"ngSubmit","formGroup"],[1,"col-md-3"],["formControlName","month",1,"form-select","glass-input"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","year",1,"form-select","glass-input"],[1,"col-md-6"],["formControlName","cardId",1,"form-select","glass-input"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status",1,"form-select","glass-input"],["value","paid"],["value","pending"],["formControlName","view",1,"form-select","glass-input"],["value","due"],["value","payment"],["type","button",1,"btn","btn-outline-light","w-100",3,"click"],[3,"ngValue"],[3,"value"],[1,"section-header"],[1,"mb-0","fw-semibold"],[1,"fw-bold","text-success"],[1,"text-end","fw-semibold","text-success"],[1,"text-end","fw-semibold","text-warning"],[1,"text-end","text-secondary"],["colspan","5",1,"text-secondary","text-center","py-3"],["colspan","3",1,"text-secondary","text-center","py-3"],[1,"text-truncate",2,"max-width","180px"],["colspan","8",1,"text-secondary","text-center","py-3"],["colspan","6",1,"text-secondary","text-center","py-3"],[1,"glass-card","p-3","text-secondary"],[1,"row","g-3","align-items-end"],[1,"form-select","glass-input",3,"ngModelChange","change","ngModel"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[1,"report-total-row"],["scope","row"]],template:function(n,r){n&1&&(U(0,"div",5)(1,"div",6)(2,"div")(3,"p",7),G(4,"An\xE1lises"),B(),U(5,"h3",8),G(6,"Relat\xF3rios"),B()(),U(7,"div",9)(8,"div",10)(9,"button",11),Me("click",function(){return r.setViewMode("default")}),G(10," Relat\xF3rio "),B(),U(11,"button",11),Me("click",function(){return r.setViewMode("credit")}),G(12," Cart\xF5es "),B()(),me(13,RW,8,6,"ng-container",12)(14,OW,7,6,"ng-container",12),B()(),me(15,GW,19,5,"ng-container",12)(16,uG,55,9,"div",13)(17,bG,16,6,"ng-container",12),B()),n&2&&(X(9),xn("active",r.viewMode==="default"),X(2),xn("active",r.viewMode==="credit"),X(2),oe("ngIf",r.viewMode==="default"),X(),oe("ngIf",r.viewMode==="credit"),X(),oe("ngIf",r.viewMode==="default"&&r.periodMode==="period"),X(),oe("ngIf",r.viewMode==="credit"),X(),oe("ngIf",r.viewMode==="default"&&r.periodMode==="annual"))},dependencies:[Cn,mr,ar,Fn,ei,Zr,oc,sc,ur,xs,Tr,Qr,jr,Vr,Ju,ml,Fr,mf,Qi],styles:[".glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #10b98133}[_nghost-%COMP%]     .table, [_nghost-%COMP%]     table{background:transparent!important;color:#fff}[_nghost-%COMP%]     .table-responsive, [_nghost-%COMP%]     .table-responsive *{background-color:transparent!important}[_nghost-%COMP%]     tfoot, [_nghost-%COMP%]     tfoot tr, [_nghost-%COMP%]     tfoot th, [_nghost-%COMP%]     tfoot td, [_nghost-%COMP%]     .report-total-row, [_nghost-%COMP%]     .report-total-row th, [_nghost-%COMP%]     .report-total-row td{background:#121c2da6!important;color:#fff!important;border-top:1px solid rgba(255,255,255,.1)!important;font-weight:700!important}[_nghost-%COMP%]     tbody tr:last-child, [_nghost-%COMP%]     tbody tr:last-child td, [_nghost-%COMP%]     tbody tr:last-child th{background:#121c2d59}[_nghost-%COMP%]     .table-responsive{padding-bottom:0!important;margin-bottom:0!important}[_nghost-%COMP%]     tfoot *, [_nghost-%COMP%]     tr.report-total-row *{box-shadow:none!important}"]})};function _G(t,e){if(t&1&&(U(0,"a",18),G(1),B()),t&2){let n=e.$implicit;oe("routerLink",n.path),X(),je(" ",n.label," ")}}function wG(t,e){if(t&1&&(U(0,"li"),G(1),B()),t&2){let n=e.$implicit;X(),Te(n)}}function EG(t,e){if(t&1&&(U(0,"li"),G(1),B()),t&2){let n=e.$implicit;X(),Te(n)}}function CG(t,e){if(t&1&&(U(0,"li"),G(1),B()),t&2){let n=e.$implicit;X(),Te(n)}}function xG(t,e){if(t&1&&(U(0,"div",2)(1,"div",20)(2,"div",21)(3,"div")(4,"h5",22),G(5),B(),U(6,"div",6),G(7),B()()(),U(8,"div",23)(9,"div",24)(10,"div",25),G(11,"O que \xE9"),B(),U(12,"p",26),G(13),B()(),U(14,"div",24)(15,"div",25),G(16,"Como usar"),B(),U(17,"ol",27),me(18,wG,2,1,"li",28),B()(),U(19,"div",24)(20,"div",25),G(21,"Dicas e boas pr\xE1ticas"),B(),U(22,"ul",27),me(23,EG,2,1,"li",28),B()(),U(24,"div",24)(25,"div",25),G(26,"Observa\xE7\xF5es comuns"),B(),U(27,"ul",27),me(28,CG,2,1,"li",28),B()()()()()),t&2){let n=e.$implicit;X(4),Ii("id",n.id),X(),Te(n.title),X(2),Te(n.summary),X(6),Te(n.what),X(5),oe("ngForOf",n.how),X(5),oe("ngForOf",n.tips),X(5),oe("ngForOf",n.notes)}}function IG(t,e){if(t&1&&(ft(0),me(1,xG,29,7,"div",19),ht()),t&2){let n=pe();X(),oe("ngForOf",n.filteredSections)("ngForTrackBy",n.trackById)}}function SG(t,e){t&1&&(U(0,"div",2)(1,"div",29),G(2," Sem resultados para o filtro informado. "),B()())}function TG(t,e){if(t&1&&(U(0,"div",30)(1,"div",31),G(2),B(),U(3,"div",6),G(4),B()()),t&2){let n=e.$implicit;X(2),Te(n.question),X(2),Te(n.answer)}}var Uy=class t{query="";quickLinks=[{label:"Ir para Lan\xE7amentos",path:"/app/transactions"},{label:"Ir para Contas",path:"/app/accounts"},{label:"Ir para Relat\xF3rios",path:"/app/reports"}];sections=[{id:"dashboard",title:"Dashboard",summary:"Vis\xE3o geral do m\xEAs com saldos, despesas e gr\xE1ficos.",what:"Mostra o panorama financeiro do m\xEAs atual em cards e gr\xE1ficos.",how:["Confira o saldo geral e as entradas e sa\xEDdas do m\xEAs no topo.","Veja o saldo por conta para cada carteira ou banco.","An\xE1lise a distribui\xE7\xE3o de gastos com as 5 categorias mais altas.","Compare o fluxo di\xE1rio no gr\xE1fico de entradas x sa\xEDdas por dia.","Observe a maior despesa e as \xFAltimas transa\xE7\xF5es."],tips:["Cadastre categorias e contas para deixar os gr\xE1ficos mais completos.","O gr\xE1fico de saldo por conta (donut) mostra o peso de cada conta no total.","Use o dashboard para detectar picos de gasto e dias com maior receita."],notes:["Saldo geral = soma dos saldos das contas (saldo inicial + entradas - sa\xEDdas).","Gr\xE1ficos usam apenas lan\xE7amentos do m\xEAs atual.","Lan\xE7amentos sem conta nao entram no saldo por conta."]},{id:"lancamentos",title:"Lan\xE7amentos",summary:"Registro de receitas e despesas do dia a dia.",what:"\xC1rea para criar, editar e excluir lan\xE7amentos financeiros.",how:["Escolha o tipo: Receita ou Despesa.","Preencha data, descri\xE7\xE3o, categoria, conta e valor.","Adicione observa\xE7\xF5es se precisar.","Salve e acompanhe a lista para editar ou excluir."],tips:["Use descri\xE7\xF5es claras para facilitar a busca.","Sempre associe uma conta para manter os saldos corretos.","Revise a data antes de salvar para manter o per\xEDodo correto."],notes:["Editar ou excluir recalcula saldos e relat\xF3rios.","O tipo define se o valor entra como entrada ou sa\xEDda."]},{id:"contas",title:"Contas",summary:"Carteiras, bancos e outros saldos separados.",what:"Controla saldos por conta e o saldo geral do sistema.",how:["Crie uma conta com nome e saldo inicial.","Acompanhe o saldo atual atualizado pelos lan\xE7amentos.","Edite ou remova contas quando necess\xE1rio."],tips:["Crie uma conta para dinheiro em esp\xE9cie.","Mantenha o saldo inicial fi\xE9l ao valor real."],notes:["Saldo atual = saldo inicial + entradas - sa\xEDdas vinculadas.","Contas sem lan\xE7amentos mant\xE9m o saldo inicial."]},{id:"categorias",title:"Categorias",summary:"Organiza\xE7\xE3o das receitas e despesas.",what:"Classifica lan\xE7amentos por tipo e cor.",how:["Crie categorias com nome, tipo e cor.","Escolha o tipo correto: Receita ou Despesa.","Use as categorias nos lan\xE7amentos."],tips:["Use cores distintas para leitura r\xE1pida.","Evite categorias em excesso para simplificar os gr\xE1ficos."],notes:["O tipo define onde a categoria aparece e como entra nos gr\xE1ficos."]},{id:"metas",title:"Metas",summary:"Limites de gasto por categoria e per\xEDodo.",what:"Permite criar metas mensais para controlar despesas.",how:["Selecione a categoria e informe o valor limite.","Escolha m\xEAs e ano para o per\xEDodo.","Acompanhe a barra de progresso do gasto."],tips:["Comece com metas realistas e ajuste com o tempo.","Revise metas no in\xEDcio de cada m\xEAs."],notes:["O progresso usa os gastos da categoria no per\xEDodo selecionado."]},{id:"relatorios",title:"Relat\xF3rios",summary:"Analise por periodo com exporta\xE7\xE3o.",what:"Gera resumo de entradas, sa\xEDdas e saldo entre datas.",how:["Defina a data inicial e final.","Clique em gerar para ver o resumo do per\xEDodo.","Use a lista de lan\xE7amentos para validar os dados.","Exporte para Excel quando precisar."],tips:["Use para fechar o m\xEAs ou comparar per\xEDodos diferentes.","Combine com categorias para diagn\xF3sticos mais precisos."],notes:["Os relat\xF3rios consideram a data informada no lan\xE7amento."]},{id:"credito",title:"Cr\xE9dito (Cart\xE3o de cr\xE9dito)",summary:"Controle de compras parceladas e adiantamento de parcelas.",what:"Esta se\xE7\xE3o explica como funciona o controle de compras no cart\xE3o de cr\xE9dito, o parcelamento, o adiantamento de parcelas e o impacto nos lan\xE7amentos e no saldo das contas.",how:["Cadastre o cart\xE3o de cr\xE9dito para registrar compras parceladas.","Defina os dias de fechamento e vencimento (ex.: 29 e 7).","Registre compras parceladas com valores e datas das parcelas.","Se necess\xE1rio, edite valores mantendo o hist\xF3rico de parcelas pagas.","Marque parcelas como pagas para adiantar o pagamento e gerar lan\xE7amento."],tips:["Use a conta correta para que o saldo seja descontado corretamente.","Parcelas j\xE1 pagas permanecem marcadas mesmo ao editar valores da compra.","Desmarcar uma parcela paga remove o lan\xE7amento relacionado."],notes:["O m\xEAs e o ano s\xE3o calculados automaticamente a cada ciclo.","Vencimento \xE9 a data prevista; pagamento \xE9 a data em que a parcela foi marcada como paga.","O vencimento da parcela n\xE3o muda quando ela \xE9 paga antecipadamente.","A data do lan\xE7amento \xE9 a data do pagamento (dia em que a parcela foi marcada como paga).",'Exemplo: parcela com vencimento em 29/01 paga antecipadamente em 13/01 aparecer\xE1 como "Paga em 13/01" e o lan\xE7amento ser\xE1 registrado em 13/01.']},{id:"configuracoes",title:"Configura\xE7\xF5es",summary:"Perfil e seguran\xE7a da conta.",what:"Permite atualizar dados pessoais e credenciais.",how:["Atualize nome e data de nascimento quando necess\xE1rio.","Altere e-mail e senha usando a senha atual.","Se houver tema, ajuste a apar\xEAncia preferida."],tips:["Use senha forte e atualize periodicamente.","Mantenha seus dados pessoais corretos."],notes:["Algumas mudan\xE7as exigem confirmar a senha atual.","Op\xE7\xF5es de tema aparecem apenas se estiverem habilitadas."]}];faqs=[{question:"Por que meu saldo mudou?",answer:"O saldo muda quando voc\xEA cria, edita ou exclui lan\xE7amentos e quando altera o saldo inicial das contas."},{question:"O que acontece se eu cadastrar um lan\xE7amento sem conta?",answer:"Ele aparece nos lan\xE7amentos, relat\xF3rios e gr\xE1ficos do m\xEAs, mas n\xE3o entra no saldo por conta nem no saldo geral."},{question:"Como funcionam os relat\xF3rios por per\xEDodo?",answer:"Eles filtram por data inicial e final, somam entradas e sa\xEDdas e listam os lan\xE7amentos do intervalo."}];get filteredSections(){let e=this.query.trim().toLowerCase();return e?this.sections.filter(n=>this.sectionMatches(n,e)):this.sections}trackById(e,n){return n.id}sectionMatches(e,n){return[e.title,e.summary,e.what,...e.how,...e.tips,...e.notes].join(" ").toLowerCase().includes(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-help"]],decls:30,vars:5,consts:[["noResults",""],[1,"row","g-3"],[1,"col-12"],[1,"page-header","d-flex","align-items-center","justify-content-between"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],[1,"text-secondary","small"],[1,"glass-card","p-3"],[1,"row","g-3","align-items-end"],[1,"col-lg-6"],[1,"form-label","text-secondary"],["type","text","placeholder","Digite um termo, ex: saldo, contas, relat\xF3rios",1,"form-control","glass-input",3,"ngModelChange","ngModel"],[1,"text-secondary","small","mb-2"],[1,"d-flex","flex-wrap","gap-2"],["class","btn btn-outline-light btn-sm",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"fw-semibold","mb-3"],["class","faq-item",4,"ngFor","ngForOf"],[1,"btn","btn-outline-light","btn-sm",3,"routerLink"],["class","col-12",4,"ngFor","ngForOf","ngForTrackBy"],[1,"glass-card","p-3","help-card"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"fw-semibold","mb-1"],[1,"row","g-3","mt-1"],[1,"col-md-6"],[1,"text-uppercase","text-primary","small","fw-semibold"],[1,"help-text"],[1,"help-list"],[4,"ngFor","ngForOf"],[1,"glass-card","p-3","text-center","text-secondary"],[1,"faq-item"],[1,"fw-semibold"]],template:function(n,r){if(n&1){let i=At();U(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"p",4),G(5,"Suporte"),B(),U(6,"h3",5),G(7,"Ajuda"),B(),U(8,"div",6),G(9,"Como usar o sistema"),B()()()(),U(10,"div",2)(11,"div",7)(12,"div",8)(13,"div",9)(14,"label",10),G(15,"Buscar assuntos"),B(),U(16,"input",11),Bs("ngModelChange",function(s){return ze(i),ka(r.query,s)||(r.query=s),qe(s)}),B()(),U(17,"div",9)(18,"div",12),G(19,"Links r\xE1pidos"),B(),U(20,"div",13),me(21,_G,2,2,"a",14),B()()()()(),me(22,IG,2,2,"ng-container",15)(23,SG,3,0,"ng-template",null,0,$t),U(25,"div",2)(26,"div",7)(27,"h6",16),G(28,"Perguntas frequ\xEAntes"),B(),me(29,TG,5,2,"div",17),B()()()}if(n&2){let i=Bt(24);X(16),js("ngModel",r.query),X(5),oe("ngForOf",r.quickLinks),X(),oe("ngIf",r.filteredSections.length>0)("ngIfElse",i),X(7),oe("ngForOf",r.faqs)}},dependencies:[Cn,ar,Fn,Ju,ur,Tr,ml,ji],styles:[".page-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:-.02em}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133}.help-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{letter-spacing:-.01em}.help-text[_ngcontent-%COMP%]{margin:0;color:#cdd5df}.help-list[_ngcontent-%COMP%]{margin:0;padding-left:1rem;color:#cdd5df}.help-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.35rem}.faq-item[_ngcontent-%COMP%]{padding:.75rem 0;border-top:1px solid rgba(255,255,255,.06)}.faq-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}"]})};function DG(t,e){t&1&&(U(0,"small",26),G(1," Voc\xEA precisa ter pelo menos 18 anos. "),B())}function AG(t,e){t&1&&(U(0,"span"),G(1,"Salvar altera\xE7\xF5es"),B())}function MG(t,e){t&1&&(U(0,"span"),G(1,"Salvando..."),B())}function kG(t,e){if(t&1&&(U(0,"div",27),G(1),B()),t&2){let n=pe(2);X(),Te(n.profileMessage)}}function RG(t,e){if(t&1){let n=At();ft(0),U(1,"div",13)(2,"h2"),G(3,"Perfil"),B(),U(4,"p"),G(5,"Informa\xE7\xF5es exibidas no painel e nos relat\xF3rios."),B()(),U(6,"form",14),Me("ngSubmit",function(){ze(n);let i=pe();return qe(i.saveProfile())}),U(7,"div",15)(8,"div",16)(9,"label"),G(10,"Nome"),B(),Ee(11,"input",17),B(),U(12,"div",16)(13,"label"),G(14,"Sobrenome"),B(),Ee(15,"input",18),B()(),U(16,"div",19)(17,"div",16)(18,"label"),G(19,"Data de nascimento"),B(),Ee(20,"input",20),U(21,"small",21),G(22,"Usamos isso apenas para personaliza\xE7\xE3o e seguran\xE7a."),B(),me(23,DG,2,0,"small",22),B()(),U(24,"div",23)(25,"button",24),me(26,AG,2,0,"span",12)(27,MG,2,0,"span",12),B()()(),me(28,kG,2,1,"div",25),ht()}if(t&2){let n,r=pe();X(6),oe("formGroup",r.profileForm),X(17),oe("ngIf",(n=r.profileForm.get("birthDate"))==null||n.errors==null?null:n.errors.underage),X(2),oe("disabled",r.savingProfile),X(),oe("ngIf",!r.savingProfile),X(),oe("ngIf",r.savingProfile),X(),oe("ngIf",r.profileMessage)}}function NG(t,e){t&1&&(U(0,"span"),G(1,"Enviar confirma\xE7\xE3o"),B())}function PG(t,e){t&1&&(U(0,"span"),G(1,"Enviando..."),B())}function OG(t,e){if(t&1&&(U(0,"div",27),G(1),B()),t&2){let n=pe(2);X(),Te(n.emailMessage)}}function FG(t,e){t&1&&(U(0,"small",26),G(1,"Senhas n\xE3o conferem."),B())}function LG(t,e){t&1&&(U(0,"span"),G(1,"Atualizar senha"),B())}function VG(t,e){t&1&&(U(0,"span"),G(1,"Atualizando..."),B())}function jG(t,e){if(t&1&&(U(0,"div",27),G(1),B()),t&2){let n=pe(2);X(),Te(n.passwordMessage)}}function BG(t,e){if(t&1){let n=At();ft(0),U(1,"div",13)(2,"h2"),G(3,"Conta"),B(),U(4,"p"),G(5,"Atualize seu e-mail e senha com seguran\xE7a."),B()(),U(6,"div",28)(7,"div",29)(8,"h3"),G(9,"Alterar e-mail"),B(),U(10,"p"),G(11,"Enviaremos uma confirma\xE7\xE3o para o novo e-mail."),B()(),U(12,"form",14),Me("ngSubmit",function(){ze(n);let i=pe();return qe(i.changeEmail())}),U(13,"div",19)(14,"div",16)(15,"label"),G(16,"Novo e-mail"),B(),Ee(17,"input",30),B(),U(18,"div",16)(19,"label"),G(20,"Senha atual"),B(),U(21,"div",31),Ee(22,"input",32),U(23,"button",33),Me("click",function(){ze(n);let i=pe();return qe(i.show.emailCurrent=!i.show.emailCurrent)}),Ee(24,"i",34),B()()()(),U(25,"div",35)(26,"button",36),me(27,NG,2,0,"span",12)(28,PG,2,0,"span",12),B()()(),me(29,OG,2,1,"div",25),B(),Ee(30,"div",37),U(31,"div",28)(32,"div",29)(33,"h3"),G(34,"Alterar senha"),B(),U(35,"p"),G(36,"Escolha uma senha forte. M\xEDnimo 6 caracteres."),B()(),U(37,"form",14),Me("ngSubmit",function(){ze(n);let i=pe();return qe(i.changePassword())}),U(38,"div",19)(39,"div",16)(40,"label"),G(41,"Senha atual"),B(),U(42,"div",31),Ee(43,"input",32),U(44,"button",33),Me("click",function(){ze(n);let i=pe();return qe(i.show.passwordCurrent=!i.show.passwordCurrent)}),Ee(45,"i",34),B()()(),U(46,"div",16)(47,"label"),G(48,"Nova senha"),B(),U(49,"div",31),Ee(50,"input",38),U(51,"button",33),Me("click",function(){ze(n);let i=pe();return qe(i.show.passwordNew=!i.show.passwordNew)}),Ee(52,"i",34),B()()(),U(53,"div",16)(54,"label"),G(55,"Confirmar nova senha"),B(),U(56,"div",31),Ee(57,"input",39),U(58,"button",33),Me("click",function(){ze(n);let i=pe();return qe(i.show.passwordConfirm=!i.show.passwordConfirm)}),Ee(59,"i",34),B()(),me(60,FG,2,0,"small",22),B()(),U(61,"div",23)(62,"button",36),me(63,LG,2,0,"span",12)(64,VG,2,0,"span",12),B()()(),me(65,jG,2,1,"div",25),B(),ht()}if(t&2){let n=pe();X(12),oe("formGroup",n.emailForm),X(10),oe("type",n.show.emailCurrent?"text":"password"),X(2),oe("ngClass",n.show.emailCurrent?"bi-eye-slash":"bi-eye"),X(2),oe("disabled",n.sendingEmail),X(),oe("ngIf",!n.sendingEmail),X(),oe("ngIf",n.sendingEmail),X(),oe("ngIf",n.emailMessage),X(8),oe("formGroup",n.passwordForm),X(6),oe("type",n.show.passwordCurrent?"text":"password"),X(2),oe("ngClass",n.show.passwordCurrent?"bi-eye-slash":"bi-eye"),X(5),oe("type",n.show.passwordNew?"text":"password"),X(2),oe("ngClass",n.show.passwordNew?"bi-eye-slash":"bi-eye"),X(5),oe("type",n.show.passwordConfirm?"text":"password"),X(2),oe("ngClass",n.show.passwordConfirm?"bi-eye-slash":"bi-eye"),X(),oe("ngIf",n.passwordForm.errors==null?null:n.passwordForm.errors.mismatch),X(2),oe("disabled",n.updatingPassword),X(),oe("ngIf",!n.updatingPassword),X(),oe("ngIf",n.updatingPassword),X(),oe("ngIf",n.passwordMessage)}}var Hy=class t{fb=ge(Jr);auth=ge(jn);document=ge(hr);profileSub;profileMessage="";emailMessage="";passwordMessage="";savingProfile=!1;sendingEmail=!1;updatingPassword=!1;show={emailCurrent:!1,passwordCurrent:!1,passwordNew:!1,passwordConfirm:!1};selectedTab="perfil";profileForm=this.fb.group({firstName:new Xr(null,{nonNullable:!1,validators:[Xe.required]}),lastName:new Xr(null,{nonNullable:!1,validators:[Xe.required]}),birthDate:new Xr(null,{nonNullable:!1,validators:[Xe.required]})});emailForm=this.fb.group({newEmail:["",[Xe.required,Xe.email]],currentPassword:["",Xe.required]});passwordForm=this.fb.group({currentPassword:["",Xe.required],newPassword:["",[Xe.required,Xe.minLength(6)]],confirmPassword:["",Xe.required]},{validators:e=>e.get("newPassword")?.value===e.get("confirmPassword")?.value?null:{mismatch:!0}});constructor(){this.profileSub=this.auth.profile$.subscribe(e=>{e&&this.profileForm.patchValue({firstName:e.firstName,lastName:e.lastName,birthDate:e.birthDate??null})})}ngOnInit(){this.document.body.classList.add("no-page-scroll"),this.document.documentElement.classList.add("no-page-scroll")}ngOnDestroy(){this.profileSub?.unsubscribe(),this.document.body.classList.remove("no-page-scroll"),this.document.documentElement.classList.remove("no-page-scroll")}setTab(e){this.selectedTab=e}isTabActive(e){return this.selectedTab===e}async saveProfile(){if(this.profileMessage="",this.profileForm.invalid){this.profileForm.markAllAsTouched();return}let e=this.profileForm.value.birthDate,n=this.calculateAge(e);if(n<18){this.profileForm.get("birthDate")?.setErrors({underage:!0});return}this.savingProfile=!0;try{let{firstName:r,lastName:i}=this.profileForm.value;await this.auth.updateProfile({firstName:r,lastName:i,birthDate:e,age:n}),this.profileMessage="Perfil atualizado."}catch(r){this.profileMessage=r?.message??"Erro ao atualizar perfil."}finally{this.savingProfile=!1}}async changeEmail(){if(this.emailMessage="",this.emailForm.invalid){this.emailForm.markAllAsTouched();return}let{currentPassword:e,newEmail:n}=this.emailForm.value;this.sendingEmail=!0;try{await this.auth.requestEmailChange(n,e),this.emailMessage="Enviamos um link de confirma\xE7\xE3o para o novo e-mail. Abra o e-mail e clique no link para concluir a altera\xE7\xE3o.",this.emailForm.reset()}catch(r){switch(r?.code??r?.message){case"auth/wrong-password":this.emailMessage="Senha atual incorreta.";break;case"auth/requires-recent-login":this.emailMessage="Por seguran\xE7a, fa\xE7a login novamente e tente de novo.";break;case"auth/email-already-in-use":this.emailMessage="Esse e-mail j\xE1 est\xE1 em uso.";break;case"auth/invalid-email":case"INVALID_EMAIL":this.emailMessage="E-mail inv\xE1lido.";break;case"OPERATION_NOT_ALLOWED":this.emailMessage="Seu projeto exige verifica\xE7\xE3o do novo e-mail. Tente novamente.";break;default:this.emailMessage="N\xE3o foi poss\xEDvel solicitar a troca de e-mail."}}finally{this.sendingEmail=!1}}async changePassword(){if(this.passwordMessage="",this.passwordForm.invalid){this.passwordForm.markAllAsTouched();return}let{currentPassword:e,newPassword:n}=this.passwordForm.value;this.updatingPassword=!0;try{await this.auth.updateUserPassword(n,e),this.passwordMessage="Senha atualizada.",this.passwordForm.reset()}catch(r){this.passwordMessage=r?.message??"Erro ao atualizar senha."}finally{this.updatingPassword=!1}}calculateAge(e){if(!e)return 0;let n=Sr(e);if(!n)return 0;let r=new Date,i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return(o<0||o===0&&r.getDate()<n.getDate())&&i--,i}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-settings"]],decls:23,vars:6,consts:[[1,"settings-area","settings-overlay"],[1,"settings-card"],[1,"settings-header"],[1,"header-copy"],[1,"settings-body"],[1,"settings-nav"],["type","button",1,"nav-item",3,"click"],[1,"bi","bi-person"],[1,"bi","bi-shield-lock"],[1,"settings-content"],[1,"settings-content-scroll"],[1,"content-inner"],[4,"ngIf"],[1,"content-header"],[3,"ngSubmit","formGroup"],[1,"form-grid","two"],[1,"field"],["type","text","formControlName","firstName","placeholder","Seu nome",1,"input"],["type","text","formControlName","lastName","placeholder","Seu sobrenome",1,"input"],[1,"form-grid","one"],["type","date","formControlName","birthDate",1,"input"],[1,"hint"],["class","error",4,"ngIf"],[1,"card-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","feedback",4,"ngIf"],[1,"error"],[1,"feedback"],[1,"block"],[1,"block-title"],["type","email","formControlName","newEmail","placeholder","voce@exemplo.com",1,"input"],[1,"input-wrap"],["formControlName","currentPassword","placeholder","Digite sua senha atual",1,"input",3,"type"],["type","button","aria-label","Mostrar senha",1,"icon-btn",3,"click"],[1,"bi",3,"ngClass"],[1,"card-actions","inline"],["type","submit",1,"btn","btn-outline",3,"disabled"],[1,"divider"],["formControlName","newPassword","placeholder","M\xEDnimo 6 caracteres",1,"input",3,"type"],["formControlName","confirmPassword","placeholder","Repita a nova senha",1,"input",3,"type"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3)(4,"h1"),G(5,"Configura\xE7\xF5es"),B(),U(6,"p"),G(7,"Gerencie seus dados pessoais e seguran\xE7a da sua conta."),B()()(),U(8,"div",4)(9,"aside",5)(10,"button",6),Me("click",function(){return r.setTab("perfil")}),Ee(11,"i",7),U(12,"span"),G(13,"Perfil"),B()(),U(14,"button",6),Me("click",function(){return r.setTab("conta")}),Ee(15,"i",8),U(16,"span"),G(17,"Conta"),B()()(),U(18,"section",9)(19,"div",10)(20,"div",11),me(21,RG,29,6,"ng-container",12)(22,BG,66,19,"ng-container",12),B()()()()()()),n&2&&(X(10),xn("active",r.isTabActive("perfil")),X(4),xn("active",r.isTabActive("conta")),X(7),oe("ngIf",r.selectedTab==="perfil"),X(),oe("ngIf",r.selectedTab==="conta"))},dependencies:[Cn,mr,Fn,ei,Zr,ur,Tr,Qr,jr,Vr],styles:['[_nghost-%COMP%]{display:block;height:100%;min-height:0;width:100%;overflow:hidden;margin:0!important}.settings-overlay[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;min-height:0;overflow:hidden;padding:0;box-sizing:border-box;margin:0!important}.settings-area[_ngcontent-%COMP%]{height:calc(100vh - var(--navbar-height, 0px));max-height:100%}.settings-card[_ngcontent-%COMP%]{--settings-card-width: 1100px;--settings-card-height: 720px;--settings-header-height: 112px;width:min(var(--settings-card-width),100%);height:min(var(--settings-card-height),100%);max-width:100%;max-height:100%;border-radius:22px;padding:0;background:linear-gradient(150deg,#ffffff14,#ffffff05);border:1px solid rgba(255,255,255,.12);box-shadow:0 28px 60px #00000059;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);overflow:hidden;display:flex;flex-direction:column;min-height:0;min-width:0;position:relative}.settings-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 10% 0%,rgba(114,124,255,.2),transparent 45%),radial-gradient(circle at 80% 20%,rgba(40,204,255,.18),transparent 50%);opacity:.7;pointer-events:none}.settings-card[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.settings-header[_ngcontent-%COMP%]{height:var(--settings-header-height);padding:20px 28px;border-bottom:1px solid rgba(255,255,255,.08);flex:0 0 auto;display:flex;align-items:center}.header-copy[_ngcontent-%COMP%]{max-width:680px}.settings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:800;letter-spacing:.01em}.settings-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 0;color:#ffffffa6;font-size:14px}.settings-body[_ngcontent-%COMP%]{display:flex;gap:20px;padding:20px 28px 28px;flex:1 1 auto;min-height:0;min-width:0;overflow:hidden}.settings-nav[_ngcontent-%COMP%]{flex:0 0 240px;display:flex;flex-direction:column;gap:10px;padding:8px;border-radius:16px;background:#00000040;border:1px solid rgba(255,255,255,.08);overflow:hidden;min-height:0}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:100%;padding:12px 14px;border-radius:12px;border:1px solid transparent;background:#ffffff0a;color:#ffffffbf;cursor:pointer;font-weight:600;text-align:left;transition:background .15s ease,color .15s ease,box-shadow .15s ease,border-color .15s ease}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#727cff59,#28ccff40);border-color:#78beff73;color:#fff;box-shadow:0 10px 22px #1e90ff2e}.settings-content[_ngcontent-%COMP%]{flex:1;min-width:0;min-height:0;display:flex;overflow:hidden}.settings-content-scroll[_ngcontent-%COMP%]{flex:1;min-height:0;overflow-y:auto;overflow-x:hidden;padding-right:8px}.content-inner[_ngcontent-%COMP%]{width:100%;max-width:720px}.content-header[_ngcontent-%COMP%]{margin-bottom:14px}.content-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.content-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#fff9;font-size:13px}.block[_ngcontent-%COMP%]{padding-top:8px}.block-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:700}.block-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#fff9;font-size:13px}.divider[_ngcontent-%COMP%]{height:1px;background:#ffffff14;margin:16px 0}.form-grid[_ngcontent-%COMP%]{display:grid;gap:12px;margin-top:12px}.form-grid.two[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.form-grid.one[_ngcontent-%COMP%]{grid-template-columns:1fr}@media(max-width:680px){.form-grid.two[_ngcontent-%COMP%]{grid-template-columns:1fr}}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#ffffffbf;margin-bottom:6px}.input[_ngcontent-%COMP%]{width:100%;height:44px;padding:0 12px;border-radius:12px;background:#0000004d;border:1px solid rgba(255,255,255,.12);outline:none;color:#fff;transition:border .15s ease,box-shadow .15s ease,transform .08s ease}.input[_ngcontent-%COMP%]::placeholder{color:#fff6}.input[_ngcontent-%COMP%]:focus{border-color:#78beffb3;box-shadow:0 0 0 4px #78beff29}.hint[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#ffffff80;font-size:12px}.error[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#f87171;font-size:12px}.input-wrap[_ngcontent-%COMP%]{position:relative}.input-wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-right:44px}.icon-btn[_ngcontent-%COMP%]{position:absolute;right:6px;left:auto;top:50%;transform:translateY(-50%);height:30px;width:32px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#ffffff08;color:#ffffffe6;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s ease,box-shadow .15s ease,border-color .15s ease}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1f;border-color:#fff3}.icon-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #78beff59}.card-actions[_ngcontent-%COMP%]{margin-top:14px;display:flex;justify-content:flex-end;gap:10px}.settings-content[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:last-of-type   .card-actions[_ngcontent-%COMP%]{justify-content:flex-start}.card-actions.inline[_ngcontent-%COMP%]{justify-content:flex-start}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:40px;padding:0 14px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:#ffffff0f;color:#fff;cursor:pointer;font-weight:650;transition:transform .12s ease,box-shadow .15s ease,background .15s ease}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #78beff40}.settings-overlay[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.settings-overlay[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border:none;background:linear-gradient(90deg,#727cff,#28ccff)}.settings-overlay[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:transparent}.settings-overlay[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{background:#ffffff14}.feedback[_ngcontent-%COMP%]{margin-top:12px;padding:10px 12px;border-radius:12px;background:#ffffff0f;border:1px solid rgba(255,255,255,.08);color:#ffffffbf;font-size:13px}@media(max-width:900px){.settings-body[_ngcontent-%COMP%]{flex-direction:column;padding:18px 20px 22px}.settings-nav[_ngcontent-%COMP%]{flex-direction:row;width:100%;gap:8px;padding:6px}.nav-item[_ngcontent-%COMP%]{flex:1;justify-content:center}.settings-content-scroll[_ngcontent-%COMP%]{padding-right:0}.content-inner[_ngcontent-%COMP%]{max-width:100%}}@media(max-width:600px){.settings-header[_ngcontent-%COMP%]{padding:18px 20px 12px}.settings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.settings-card[_ngcontent-%COMP%]{border-radius:18px}}']})};var zy=class t{firestore=ge(Lr);async reconcile(e){let n=new Date;n.setHours(0,0,0,0);let r=vn(this.firestore,`users/${e}/creditInstallments`),i=ii(r,Hi("paid","==",!1),Oi(2e3)),o=await gi(i);if(o.empty)return 0;let s=o.docs.map(f=>ye({id:f.id},f.data())),[a,c]=await Promise.all([this.fetchCards(e),this.fetchPurchases(e)]),u=new Map(a.map(f=>[f.id||"",f])),l=new Map(c.map(f=>[f.id||"",f])),d=0;for(let f of s){let p=f.id??f.installmentId??f.installmentNumber??f.number??null;if(!f.id||f.linkedTransactionId||!f.purchaseId||p==null)continue;let h=this.toJsDate(f.dueDate??f.date);if(!h||(h.setHours(0,0,0,0),h>n))continue;let y=Number(f.amount??0);if(!Number.isFinite(y)||y<=0)continue;let m=l.get(f.purchaseId),_=u.get(f.cardId);if(!(!m||!_))try{let x=Number(f.installmentNumber??0),D=m.installmentsCount&&Number.isFinite(x)&&x>0?` (${x}/${m.installmentsCount})`:"",L=`Cartao: ${_.name} - ${m.description}${D}`,$=await Pi(vn(this.firestore,`users/${e}/transactions`),{type:"expense",description:L,amount:y,date:Wn(h),categoryId:m.categoryId||null,accountId:f.paymentAccountId||_.paymentAccountId||null,accountOriginId:null,accountDestinationId:null,notes:"Gerado automaticamente pelo Cr\xE9dito",createdAt:Nn()}),V=Vn(this.firestore,`users/${e}/creditInstallments/${f.id}`);await yi(V,{paid:!0,paidAt:Nn(),linkedTransactionId:$.id}),d++}catch(x){console.warn("Reconcile installment failed",x);continue}}return d}async fetchCards(e){let n=vn(this.firestore,`users/${e}/creditCards`);return(await gi(n)).docs.map(i=>ye({id:i.id},i.data()))}async fetchPurchases(e){let n=vn(this.firestore,`users/${e}/creditPurchases`);return(await gi(n)).docs.map(i=>ye({id:i.id},i.data()))}toJsDate(e){if(!e)return null;if(e?.toDate&&typeof e.toDate=="function")return e.toDate();if(e instanceof Date)return e;if(typeof e=="string"){let n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(n){let r=Number(n[1]),i=Number(n[2])-1,o=Number(n[3]);if(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(o))return new Date(r,i,o,12,0,0,0)}}if(typeof e=="string"||typeof e=="number"){let n=new Date(e);return isNaN(n.getTime())?null:n}return null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"})};var cc=t=>[t,"BRL","symbol","1.2-2","pt-BR"];function $G(t,e){t&1&&(U(0,"div",18),G(1,"Conciliando parcelas vencidas..."),B())}function UG(t,e){if(t&1&&(U(0,"option",45),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),Te(n.name)}}function HG(t,e){t&1&&Ee(0,"span",46)}function zG(t,e){t&1&&(U(0,"div",47),G(1," Cadastre uma conta para vincular o cart\xE3o. "),B())}function qG(t,e){if(t&1){let n=At();ft(0),U(1,"form",28),Me("ngSubmit",function(){ze(n);let i=pe(2);return qe(i.saveCard())}),U(2,"div")(3,"label",29),G(4,"Nome"),B(),Ee(5,"input",30),B(),U(6,"div")(7,"label",29),G(8,"Bandeira"),B(),Ee(9,"input",31),B(),U(10,"div")(11,"label",29),G(12,"Limite"),B(),Ee(13,"input",32),B(),U(14,"div",33)(15,"div",34)(16,"label",29),G(17,"Dia de fechamento"),B(),Ee(18,"input",35),B(),U(19,"div",34)(20,"label",29),G(21,"Dia de vencimento"),B(),Ee(22,"input",36),B()(),U(23,"div")(24,"label",29),G(25,"Conta de pagamento"),B(),U(26,"select",37)(27,"option",38),G(28,"Selecione..."),B(),me(29,UG,2,2,"option",39),B()(),U(30,"div",40)(31,"button",41),me(32,HG,1,0,"span",42),G(33),B(),U(34,"button",43),Me("click",function(){ze(n);let i=pe(2);return qe(i.resetCardForm())}),G(35,"Limpar"),B()()(),me(36,zG,2,0,"div",44),ht()}if(t&2){let n=e.ngIf,r=pe(2);X(),oe("formGroup",r.cardForm),X(28),oe("ngForOf",n),X(2),oe("disabled",r.savingCard),X(),oe("ngIf",r.savingCard),X(),je(" ",r.savingCard?"Salvando...":r.editingCardId?"Salvar":"Adicionar"," "),X(3),oe("ngIf",n.length===0)}}function WG(t,e){if(t&1&&(U(0,"span"),G(1),Pe(2,"currency"),B()),t&2){let n=pe().$implicit;X(),je(" ",it(2,1,rt(7,cc,n.limit))," ")}}function GG(t,e){t&1&&G(0,"-")}function KG(t,e){t&1&&Ee(0,"span",56)}function YG(t,e){if(t&1){let n=At();U(0,"tr")(1,"td")(2,"div",49),G(3),B(),U(4,"div",50),G(5),B()(),U(6,"td",26),me(7,WG,3,9,"span",27)(8,GG,1,0,"ng-template",null,2,$t),B(),U(10,"td")(11,"div",51),G(12),B(),U(13,"div",51),G(14),B()(),U(15,"td"),G(16),B(),U(17,"td",26)(18,"button",52),Me("click",function(){let i=ze(n).$implicit,o=pe(4);return qe(o.editCard(i))}),Ee(19,"i",53),G(20," Editar "),B(),U(21,"button",54),Me("click",function(){let i=ze(n).$implicit,o=pe(4);return qe(o.deleteCard(i))}),me(22,KG,1,0,"span",55),G(23),B()()()}if(t&2){let n=e.$implicit,r=Bt(9),i=pe(4);X(3),Te(n.name),X(2),Te(n.brand||"Sem bandeira"),X(2),oe("ngIf",n.limit!==null)("ngIfElse",r),X(5),je("Fechamento: ",n.closingDay||"-"),X(2),je("Vencimento: ",n.dueDay),X(2),Te(n.paymentAccountName),X(5),oe("disabled",i.deletingCardId===n.id),X(),oe("ngIf",i.deletingCardId===n.id),X(),je(" ",i.deletingCardId===n.id?"Excluindo...":"Excluir"," ")}}function XG(t,e){if(t&1&&(ft(0),me(1,YG,24,10,"tr",48),ht()),t&2){let n=pe().ngIf,r=pe(2);X(),oe("ngForOf",n)("ngForTrackBy",r.trackById)}}function QG(t,e){if(t&1&&(ft(0),me(1,XG,2,2,"ng-container",27),ht()),t&2){let n=e.ngIf;pe();let r=Bt(29);X(),oe("ngIf",n.length>0)("ngIfElse",r)}}function ZG(t,e){t&1&&(U(0,"tr")(1,"td"),Ee(2,"div",58),B(),U(3,"td",26),Ee(4,"div",59),B(),U(5,"td"),Ee(6,"div",60),B(),U(7,"td"),Ee(8,"div",58),B(),U(9,"td",26),Ee(10,"div",59),B()())}function JG(t,e){if(t&1&&me(0,ZG,11,0,"tr",57),t&2){let n=pe(2);oe("ngForOf",n.skeletonRows)}}function eK(t,e){if(t&1){let n=At();U(0,"tr")(1,"td",61)(2,"div",62)(3,"div"),G(4,"Nenhum cart\xE3o cadastrado."),B(),U(5,"button",63),Me("click",function(){ze(n);let i=pe(2);return qe(i.resetCardForm())}),G(6," Cadastrar cart\xE3o "),B()()()()}}function tK(t,e){if(t&1&&(ft(0),U(1,"div",19)(2,"div",20)(3,"h6",21),G(4),B(),me(5,qG,37,6,"ng-container",17),Pe(6,"async"),B()(),U(7,"div",22)(8,"div",20)(9,"div",23)(10,"table",24)(11,"thead")(12,"tr",25)(13,"th"),G(14,"Cart\xE3o"),B(),U(15,"th",26),G(16,"Limite"),B(),U(17,"th"),G(18,"Vencimento"),B(),U(19,"th"),G(20,"Conta"),B(),U(21,"th",26),G(22,"A\xE7\xF5es"),B()()(),U(23,"tbody"),me(24,QG,2,2,"ng-container",27),Pe(25,"async"),B(),me(26,JG,1,1,"ng-template",null,0,$t)(28,eK,7,0,"ng-template",null,1,$t),B()()()(),ht()),t&2){let n=Bt(27),r=pe();X(4),Te(r.editingCardId?"Editar cart\xE3o":"Novo cart\xE3o"),X(),oe("ngIf",mn(6,4,r.accounts$)),X(19),oe("ngIf",mn(25,6,r.cardsView$))("ngIfElse",n)}}function nK(t,e){if(t&1&&(U(0,"option",45),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),Te(n.name)}}function rK(t,e){if(t&1&&(U(0,"option",45),G(1),B()),t&2){let n=e.$implicit;oe("value",n.id),X(),je(" ",n.name," ")}}function iK(t,e){if(t&1&&(ft(0),U(1,"div")(2,"label",29),G(3,"Categoria (opcional)"),B(),U(4,"select",77)(5,"option",78),G(6,"Sem categoria"),B(),me(7,rK,2,2,"option",39),B()(),ht()),t&2){let n=e.ngIf;X(7),oe("ngForOf",n)}}function oK(t,e){if(t&1){let n=At();U(0,"div",79)(1,"div",80)(2,"span",50),G(3),B()(),U(4,"input",81),Me("input",function(){let i=ze(n).index,o=pe(4);return qe(o.handleInstallmentInput(i))}),B()()}if(t&2){let n=e.index,r=pe(4);X(3),je("Parcela ",n+1),X(),oe("formControlName",n)("readonly",r.sameValueEnabled&&n>0)}}function sK(t,e){t&1&&Ee(0,"span",46)}function aK(t,e){if(t&1){let n=At();ft(0),U(1,"form",28),Me("ngSubmit",function(){ze(n);let i=pe(3);return qe(i.savePurchase())}),U(2,"div")(3,"label",29),G(4,"Cart\xE3o"),B(),U(5,"select",66)(6,"option",38),G(7,"Selecione..."),B(),me(8,nK,2,2,"option",39),B()(),U(9,"div")(10,"label",29),G(11,"Descri\xE7\xE3o"),B(),Ee(12,"input",67),B(),me(13,iK,8,1,"ng-container",17),Pe(14,"async"),U(15,"div",33)(16,"div",34)(17,"label",29),G(18,"Data da compra"),B(),Ee(19,"input",68),B(),U(20,"div",34)(21,"label",29),G(22,"Primeiro vencimento"),B(),Ee(23,"input",69),B()(),U(24,"div",70)(25,"div",34)(26,"label",29),G(27,"N\xFAmero de parcelas"),B(),Ee(28,"input",71),B(),U(29,"div",34)(30,"div",72),Ee(31,"input",73),U(32,"label",74),G(33," Todas as parcelas com o mesmo valor "),B()()()(),U(34,"div",75)(35,"label",29),G(36,"Valores das parcelas"),B(),me(37,oK,5,3,"div",76),U(38,"div",50),G(39),Pe(40,"currency"),B()(),U(41,"div",40)(42,"button",41),me(43,sK,1,0,"span",42),G(44),B(),U(45,"button",43),Me("click",function(){ze(n);let i=pe(3);return qe(i.resetPurchaseForm())}),G(46,"Limpar"),B()()(),ht()}if(t&2){let n=pe().ngIf,r=pe(2);X(),oe("formGroup",r.purchaseForm),X(7),oe("ngForOf",n),X(5),oe("ngIf",mn(14,8,r.categories$)),X(24),oe("ngForOf",r.installmentControls),X(2),je(" Total: ",it(40,10,rt(16,cc,r.installmentsTotal))," "),X(3),oe("disabled",r.savingPurchase),X(),oe("ngIf",r.savingPurchase),X(),je(" ",r.savingPurchase?"Salvando...":"Cadastrar compra"," ")}}function cK(t,e){if(t&1){let n=At();U(0,"div",62)(1,"div"),G(2,"Cadastre um cart\xE3o para come\xE7ar."),B(),U(3,"button",63),Me("click",function(){ze(n);let i=pe(3);return qe(i.setTab("cards"))}),G(4," Ir para cart\xF5es "),B()()}}function lK(t,e){if(t&1&&(ft(0),me(1,aK,47,18,"ng-container",27)(2,cK,5,0,"ng-template",null,5,$t),ht()),t&2){let n=e.ngIf,r=Bt(3);X(),oe("ngIf",n.length>0)("ngIfElse",r)}}function uK(t,e){if(t&1&&(U(0,"div",50),G(1),B()),t&2){let n=pe().$implicit;X(),je(" Categoria: ",n.categoryName," ")}}function dK(t,e){if(t&1){let n=At();U(0,"div",94)(1,"div",51),G(2),B(),U(3,"span",95),G(4),Pe(5,"date"),B(),U(6,"div",49),G(7),Pe(8,"currency"),B(),U(9,"span",96),G(10),B(),U(11,"button",97),Me("click",function(){let i=ze(n).$implicit,o=pe(2).$implicit,s=pe(4);return qe(s.toggleInstallmentPaid(o,i))}),Ee(12,"i",98),B()()}if(t&2){let n=e.$implicit,r=pe(6);xn("paid",n.paid)("installment-paid",n.paid),X(2),je("#",n.installmentNumber),X(2),je(" ",$s(5,16,r.toJsDate(n.paid?n.paidAt:n.dueDate),"dd/MM/yyyy")," "),X(3),je(" ",it(8,19,rt(25,cc,n.amount))," "),X(3),je(" ",n.paid?"Pago":"Pendente"," "),X(),xn("btn-outline-success",!n.paid)("btn-success",n.paid),X(),xn("bi-check2-circle",!n.paid)("bi-check2-circle-fill",n.paid)}}function fK(t,e){if(t&1&&(U(0,"div",92),me(1,dK,13,27,"div",93),B()),t&2){let n=pe().$implicit,r=pe(4);X(),oe("ngForOf",n.installments)("ngForTrackBy",r.trackByInstallment)}}function hK(t,e){if(t&1){let n=At();U(0,"div",83)(1,"div",84)(2,"div")(3,"div",49),G(4),B(),U(5,"div",50),G(6),B(),me(7,uK,2,1,"div",85),B(),U(8,"div",26)(9,"div",49),G(10),Pe(11,"currency"),B(),U(12,"div",50),G(13),B(),U(14,"div",86)(15,"button",87),Me("click",function(){let i=ze(n).$implicit,o=pe(4);return qe(o.editPurchase(i))}),Ee(16,"i",88),B(),U(17,"button",89),Me("click",function(){let i=ze(n).$implicit,o=pe(4);return qe(o.deletePurchase(i))}),Ee(18,"i",90),B()()()(),me(19,fK,2,2,"div",91),B()}if(t&2){let n=e.$implicit,r=pe(4);X(4),Te(n.description),X(2),Bo(" ",n.cardName," \u2022 ",r.formatDate(n.purchaseDate)," "),X(),oe("ngIf",n.categoryName),X(3),je(" ",it(11,8,rt(14,cc,n.totalAmount))," "),X(3),Bo(" ",n.paidCount,"/",n.installmentsCount," pagas "),X(6),oe("ngIf",n.installments.length>0)}}function pK(t,e){if(t&1&&(ft(0),me(1,hK,20,16,"div",82),ht()),t&2){let n=pe().ngIf,r=pe(2);X(),oe("ngForOf",n)("ngForTrackBy",r.trackById)}}function mK(t,e){if(t&1&&(ft(0),me(1,pK,2,2,"ng-container",27),ht()),t&2){let n=e.ngIf;pe();let r=Bt(16);X(),oe("ngIf",n.length>0)("ngIfElse",r)}}function gK(t,e){t&1&&(U(0,"div",83),Ee(1,"div",100)(2,"div",101)(3,"div",102),B())}function yK(t,e){if(t&1&&me(0,gK,4,0,"div",99),t&2){let n=pe(2);oe("ngForOf",n.skeletonRows)}}function vK(t,e){t&1&&(U(0,"div",62)(1,"div"),G(2,"Nenhuma compra cadastrada."),B()())}function bK(t,e){if(t&1&&(ft(0),U(1,"div",64)(2,"div",20)(3,"h6",21),G(4,"Nova compra"),B(),me(5,lK,4,2,"ng-container",17),Pe(6,"async"),B()(),U(7,"div",65)(8,"div",20)(9,"h6",21),G(10,"Compras cadastradas"),B(),me(11,mK,2,2,"ng-container",27),Pe(12,"async"),me(13,yK,1,1,"ng-template",null,3,$t)(15,vK,3,0,"ng-template",null,4,$t),B()(),ht()),t&2){let n=Bt(14),r=pe();X(5),oe("ngIf",mn(6,3,r.cards$)),X(6),oe("ngIf",mn(12,5,r.purchasesView$))("ngIfElse",n)}}function _K(t,e){if(t&1&&(U(0,"div",107)(1,"span"),G(2),B(),U(3,"span",49),G(4),Pe(5,"currency"),B()()),t&2){let n=e.$implicit;X(2),Te(n.cardName),X(2),je(" ",it(5,2,rt(8,cc,n.amount))," ")}}function wK(t,e){if(t&1&&(U(0,"div",105),me(1,_K,6,10,"div",106),B()),t&2){let n=pe().ngIf;X(),oe("ngForOf",n.cardTotals)}}function EK(t,e){t&1&&(U(0,"div",50),G(1,"Nenhum valor em aberto."),B())}function CK(t,e){if(t&1&&(U(0,"div",107)(1,"span"),G(2),B(),U(3,"span",49),G(4),Pe(5,"currency"),B()()),t&2){let n=e.$implicit,r=pe(4);X(2),Te(r.formatDate(n.key)),X(2),je(" ",it(5,2,rt(8,cc,n.amount))," ")}}function xK(t,e){if(t&1&&(U(0,"div"),me(1,CK,6,10,"div",106),B()),t&2){let n=pe().ngIf;X(),oe("ngForOf",n.upcoming)}}function IK(t,e){t&1&&(U(0,"div",50),G(1,"Sem vencimentos nos pr\xF3ximos 30 dias."),B())}function SK(t,e){if(t&1&&(U(0,"div",107)(1,"span"),G(2),B(),U(3,"span",49),G(4),Pe(5,"currency"),B()()),t&2){let n=e.$implicit;X(2),Te(n.key),X(2),je(" ",it(5,2,rt(8,cc,n.amount))," ")}}function TK(t,e){if(t&1&&(U(0,"div"),me(1,SK,6,10,"div",106),B()),t&2){let n=pe().ngIf;X(),oe("ngForOf",n.monthly)}}function DK(t,e){t&1&&(U(0,"div",50),G(1,"Sem parcelas futuras."),B())}function AK(t,e){if(t&1&&(ft(0),U(1,"div",19)(2,"div",20)(3,"h6",21),G(4,"Totais em aberto"),B(),U(5,"div",103),G(6),Pe(7,"currency"),B(),me(8,wK,2,1,"div",104)(9,EK,2,0,"ng-template",null,7,$t),B()(),U(11,"div",19)(12,"div",20)(13,"h6",21),G(14,"Pr\xF3ximos vencimentos"),B(),me(15,xK,2,1,"div",27)(16,IK,2,0,"ng-template",null,8,$t),B()(),U(18,"div",19)(19,"div",20)(20,"h6",21),G(21,"Vis\xE3o mensal"),B(),me(22,TK,2,1,"div",27)(23,DK,2,0,"ng-template",null,9,$t),B()(),ht()),t&2){let n=e.ngIf,r=Bt(10),i=Bt(17),o=Bt(24);X(6),je(" ",it(7,7,rt(13,cc,n.totalOpen))," "),X(2),oe("ngIf",n.cardTotals.length>0)("ngIfElse",r),X(7),oe("ngIf",n.upcoming.length>0)("ngIfElse",i),X(7),oe("ngIf",n.monthly.length>0)("ngIfElse",o)}}function MK(t,e){t&1&&(U(0,"div",108)(1,"div",109),Ee(2,"div",110)(3,"div",100)(4,"div",60),B()())}function kK(t,e){if(t&1&&(ft(0),me(1,AK,25,15,"ng-container",27),Pe(2,"async"),me(3,MK,5,0,"ng-template",null,6,$t),ht()),t&2){let n=Bt(4),r=pe();X(),oe("ngIf",mn(2,2,r.diagnosticView$))("ngIfElse",n)}}var qy=class t{fb=ge(Jr);auth=ge(jn);accountsService=ge(Io);categoriesService=ge(vi);creditService=ge(ac);reconcileService=ge(zy);notifications=ge(bi);destroy$=new Bn;activeTab="cards";editingCardId=null;editingPurchaseId=null;editingPurchase=null;loadingCards=!0;loadingPurchases=!0;loadingDiagnostic=!0;savingCard=!1;savingPurchase=!1;deletingCardId=null;reconciling=!1;skeletonRows=Array.from({length:4});formatDate=nc;cardForm=this.fb.group({name:this.fb.control("",{validators:[Xe.required,Xe.minLength(2)]}),brand:this.fb.control("",{nonNullable:!0}),limit:this.fb.control(null,{validators:[Xe.min(0)]}),closingDay:[null],dueDay:[null],paymentAccountId:this.fb.control("",{validators:[Xe.required]})});purchaseForm=this.fb.group({cardId:["",Xe.required],description:["",[Xe.required,Xe.minLength(2)]],categoryId:[""],purchaseDate:["",Xe.required],firstDueDate:["",Xe.required],installmentsCount:[1,[Xe.required,Xe.min(1),Xe.max(48)]],sameValue:[!0],installmentAmounts:this.fb.array([])});accounts$=this.auth.user$.pipe(Tt(e=>e?this.accountsService.list$(e.uid):Le([])),$e(e=>e??[]));cards$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listCards$(e.uid):Le([])),$e(e=>e??[]));categories$=this.auth.user$.pipe(Tt(e=>e?this.categoriesService.list$(e.uid):Le([])),$e(e=>e??[]));purchases$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listPurchases$(e.uid):Le([])),$e(e=>e??[]));installments$=this.auth.user$.pipe(Tt(e=>e?this.creditService.listInstallments$(e.uid):Le([])),$e(e=>e??[]));cardsView$=$n([this.cards$,this.accounts$]).pipe($e(([e,n])=>{let r=new Map(n.map(i=>[i.id||"",i]));return e.map(i=>Ne(ye({},i),{paymentAccountName:r.get(i.paymentAccountId)?.name||"-"}))}),ln(()=>this.loadingCards=!1),En(()=>(this.loadingCards=!1,Le([]))));purchasesView$=$n([this.purchases$,this.cards$,this.categories$,this.installments$]).pipe($e(([e,n,r,i])=>{let o=new Map(n.map(c=>[c.id||"",c])),s=new Map(r.map(c=>[c.id||"",c])),a=new Map;return i.forEach(c=>{let u=c.purchaseId,l=a.get(u)||[];l.push(c),a.set(u,l)}),e.map(c=>{let u=o.get(c.cardId)?.name||"Cart\xE3o",l=c.categoryId?s.get(c.categoryId)?.name:void 0,d=(a.get(c.id||"")||[]).sort((_,x)=>_.installmentNumber-x.installmentNumber),f=(c.installmentAmounts??[]).map(_=>Number(_??0)),p=d.reduce((_,x)=>_+Number(x.amount??0),0),h=f.reduce((_,x)=>_+Number(x??0),0),y=d.filter(_=>_.paid).length,m={id:c.id,cardId:c.cardId,description:c.description,categoryId:c.categoryId??null,cardName:u,categoryName:l,purchaseDate:c.purchaseDate,firstDueDate:c.firstDueDate,installmentsCount:c.installmentsCount,sameValue:!!c.sameValue,installmentAmounts:f,totalAmount:d.length?p:h,paidCount:y,installments:d};return this.checkAutoPaidInstallments(m),m})}),ln(()=>this.loadingPurchases=!1),En(()=>(this.loadingPurchases=!1,Le([]))));diagnosticView$=$n([this.cards$,this.installments$]).pipe($e(([e,n])=>{let r=n.filter(f=>!f.paid),i=e.map(f=>{let p=r.filter(h=>h.cardId===f.id).reduce((h,y)=>h+Number(y.amount??0),0);return{cardId:f.id||"",cardName:f.name,amount:p}}).filter(f=>f.amount>0),o=i.reduce((f,p)=>f+p.amount,0),s=Wn(new Date),a=Wn(new Date(Date.now()+720*60*60*1e3)),c=new Map,u=new Map;r.forEach(f=>{let p=f.dueDate?.slice(0,7)||"";if(p){let h=u.get(p)||{key:p,amount:0,count:0};h.amount+=Number(f.amount??0),h.count+=1,u.set(p,h)}if(f.dueDate>=s&&f.dueDate<=a){let h=c.get(f.dueDate)||{key:f.dueDate,amount:0,count:0};h.amount+=Number(f.amount??0),h.count+=1,c.set(f.dueDate,h)}});let l=Array.from(c.values()).sort((f,p)=>f.key<p.key?-1:1),d=Array.from(u.values()).sort((f,p)=>f.key<p.key?-1:1);return{cardTotals:i,upcoming:l,monthly:d,totalOpen:o}}),ln(()=>this.loadingDiagnostic=!1),En(()=>(this.loadingDiagnostic=!1,Le({cardTotals:[],upcoming:[],monthly:[],totalOpen:0}))));get installmentsArray(){return this.purchaseForm.get("installmentAmounts")}get installmentControls(){return this.installmentsArray.controls}get sameValueEnabled(){return!!this.purchaseForm.get("sameValue")?.value}get installmentsTotal(){return this.installmentControls.reduce((e,n)=>e+Number(n.value??0),0)}ngOnInit(){this.syncInstallments(1),this.purchaseForm.get("installmentsCount")?.valueChanges.pipe(ks(this.destroy$)).subscribe(e=>{let n=this.normalizeInstallmentsCount(e);n!==Number(e??1)&&this.purchaseForm.get("installmentsCount")?.setValue(n,{emitEvent:!1}),this.syncInstallments(n)}),this.purchaseForm.get("sameValue")?.valueChanges.pipe(ks(this.destroy$)).subscribe(e=>{e&&this.copyFirstInstallmentAmount()}),this.runReconcile()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setTab(e){this.activeTab=e}trackById(e,n){return n.id}trackByInstallment(e,n){return n.id||`${n.purchaseId}-${n.installmentNumber}`}parseLocalYmd(e){if(!e)return null;let n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)return null;let r=Number(n[1]),i=Number(n[2])-1,o=Number(n[3]);return!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)?null:new Date(r,i,o,12,0,0,0)}toJsDate(e){if(!e)return null;if(e?.toDate&&typeof e.toDate=="function")return e.toDate();if(e instanceof Date)return e;if(typeof e=="string"){let n=this.parseLocalYmd(e);if(n)return n}if(typeof e=="string"||typeof e=="number"){let n=new Date(e);return isNaN(n.getTime())?null:n}return null}editCard(e){this.editingCardId=e.id||null,this.cardForm.patchValue({name:e.name,brand:e.brand||"",limit:e.limit??null,closingDay:e.closingDay??null,dueDay:e.dueDay??null,paymentAccountId:e.paymentAccountId})}resetCardForm(){this.editingCardId=null,this.cardForm.reset({name:"",brand:"",limit:null,closingDay:null,dueDay:null,paymentAccountId:""})}async saveCard(){let e=this.cardForm.getRawValue(),n={name:(e.name??"").trim(),brand:(e.brand??"").trim(),limit:e.limit===null||e.limit===void 0?null:Number(e.limit),closingDay:e.closingDay===null||e.closingDay===void 0?null:Number(e.closingDay),dueDay:e.dueDay===null||e.dueDay===void 0?null:Number(e.dueDay),paymentAccountId:e.paymentAccountId??""};if(n.limit!==null&&!Number.isFinite(n.limit)&&(n.limit=null),n.closingDay!==null&&!Number.isFinite(n.closingDay)&&(n.closingDay=null),n.dueDay!==null&&!Number.isFinite(n.dueDay)&&(n.dueDay=null),this.cardForm.patchValue(n,{emitEvent:!1}),this.cardForm.updateValueAndValidity(),this.cardForm.invalid){this.cardForm.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}let r=await rn(this.auth.user$);if(r){this.savingCard=!0;try{this.editingCardId?await this.creditService.updateCard(r.uid,this.editingCardId,{name:n.name,brand:n.brand||null,limit:n.limit,closingDay:n.closingDay,dueDay:n.dueDay,paymentAccountId:n.paymentAccountId}):await this.creditService.addCard(r.uid,{name:n.name,brand:n.brand||null,limit:n.limit,closingDay:n.closingDay,dueDay:n.dueDay,paymentAccountId:n.paymentAccountId}),this.notifications.success("Cart\xE3o salvo com sucesso."),this.resetCardForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.savingCard=!1}}}async deleteCard(e){if(!confirm(`Excluir cart\xE3o "${e.name}"?`)||!e.id)return;let r=await rn(this.auth.user$);if(r){this.deletingCardId=e.id;try{await this.creditService.deleteCard(r.uid,e.id),this.notifications.success("Cart\xE3o exclu\xEDdo com sucesso.")}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.deletingCardId===e.id&&(this.deletingCardId=null)}}}editPurchase(e){this.editingPurchaseId=e.id??null,this.editingPurchase=e;let n=Number(e.installmentsCount??(e.installmentAmounts.length||1)),r=e.installmentAmounts.length>0?e.installmentAmounts:e.installments.map(i=>Number(i.amount??0));this.purchaseForm.patchValue({cardId:e.cardId??"",description:e.description??"",categoryId:e.categoryId??"",purchaseDate:e.purchaseDate??"",firstDueDate:e.firstDueDate??"",installmentsCount:n,sameValue:!!e.sameValue},{emitEvent:!1}),this.syncInstallments(n);for(let i=0;i<this.installmentsArray.length;i++)this.installmentsArray.at(i).setValue(Number(r[i]??0),{emitEvent:!1});this.sameValueEnabled&&this.copyFirstInstallmentAmount(),this.purchaseForm.markAsPristine(),this.purchaseForm.updateValueAndValidity({emitEvent:!1})}cancelEditPurchase(){this.editingPurchaseId=null,this.editingPurchase=null,this.resetPurchaseForm()}async deletePurchase(e){if(!confirm("Excluir esta compra? Essa a\xE7\xE3o n\xE3o pode ser desfeita.")||!e.id)return;let r=await rn(this.auth.user$);if(r)try{await this.creditService.deletePurchase(r.uid,e.id),this.notifications.success("Compra exclu\xEDda com sucesso."),this.editingPurchaseId&&e.id===this.editingPurchaseId&&this.cancelEditPurchase()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}}async toggleInstallmentPaid(e,n){if(!e?.id)return;let r=n.paymentAccountId??null;if(!r){alert("Esta compra n\xE3o tem uma conta vinculada para pagamento.");return}let i=!n.paid;if(!confirm(i?"Marcar esta parcela como paga e descontar da conta vinculada?":"Desmarcar pagamento desta parcela e estornar o desconto?"))return;let s=n.id??"";if(!s){alert("Parcela sem identificador.");return}let a=await rn(this.auth.user$);if(a)try{await this.creditService.setInstallmentPaid(a.uid,{purchaseId:e.id,installmentId:s,accountId:r,paid:i})}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}}async checkAutoPaidInstallments(e){if(!e?.id||!e.installments?.length)return;let n=await rn(this.auth.user$);if(!n)return;let r=Wn(new Date);for(let i of e.installments)if(!(!i||i.paid||i.paymentMovementId)&&i.dueDate&&!(i.dueDate>r)&&!(!i.id||!i.paymentAccountId))try{await this.creditService.setInstallmentPaid(n.uid,{purchaseId:e.id,installmentId:i.id,accountId:i.paymentAccountId,paid:!0})}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.");return}}async savePurchase(){if(this.purchaseForm.invalid){this.purchaseForm.markAllAsTouched(),this.notifications.warning("Preencha os campos obrigat\xF3rios.");return}this.sameValueEnabled&&this.copyFirstInstallmentAmount();let e=await rn(this.auth.user$);if(!e)return;let n=await rn(this.cards$),{cardId:r,description:i,categoryId:o,purchaseDate:s,firstDueDate:a,installmentsCount:c,sameValue:u}=this.purchaseForm.value,l=n.find(p=>p.id===r);if(!l){this.notifications.error("Selecione um cart\xE3o v\xE1lido.");return}let d=Number(c??1),f=this.installmentControls.map(p=>Number(p.value??0));if(!f.length||f.some(p=>p<=0)){this.notifications.warning("Informe os valores das parcelas.");return}this.savingPurchase=!0;try{if(this.editingPurchaseId){let p=this.editingPurchase,h=Array.isArray(p?.installments)?p.installments:[],y=Lh(a,d),m=f.map((D,L)=>{let $=L+1;return{id:h.find(R=>R.installmentNumber===$)?.id,purchaseId:p?.id??this.editingPurchaseId??"",cardId:r,installmentNumber:$,amount:Number(D??0),dueDate:y[L]||a,paymentAccountId:l.paymentAccountId,paid:!1,paidAt:void 0,paymentMovementId:null}}),_=D=>D?.id??D?.installmentId??D?.installmentNumber??D?.number??null,x=m.map(D=>{let L=_(D),$=h.find(V=>_(V)===L);return Ne(ye({},D),{paid:$?.paid??D.paid??!1,paidAt:$?.paidAt??D.paidAt??void 0,paymentMovementId:$?.paymentMovementId??D.paymentMovementId??null})});await this.creditService.updatePurchaseWithInstallments(e.uid,this.editingPurchaseId,{cardId:r,description:i,categoryId:o||null,purchaseDate:s,installmentsCount:d,installmentAmounts:f,sameValue:!!u,firstDueDate:a},l,x),this.editingPurchaseId=null,this.editingPurchase=null,this.notifications.success("Compra atualizada com sucesso.")}else await this.creditService.addPurchaseWithInstallments(e.uid,{cardId:r,description:i,categoryId:o||null,purchaseDate:s,installmentsCount:d,installmentAmounts:f,sameValue:!!u,firstDueDate:a,status:"open"},l),this.notifications.success("Compra cadastrada com sucesso.");this.resetPurchaseForm()}catch{this.notifications.error("N\xE3o foi poss\xEDvel concluir. Tente novamente.")}finally{this.savingPurchase=!1}}resetPurchaseForm(){this.editingPurchaseId=null,this.editingPurchase=null,this.purchaseForm.reset({cardId:"",description:"",categoryId:"",purchaseDate:"",firstDueDate:"",installmentsCount:1,sameValue:!0}),this.syncInstallments(1)}handleInstallmentInput(e){!this.sameValueEnabled||e!==0||this.copyFirstInstallmentAmount()}syncInstallments(e){let n=Math.max(1,Math.min(e,48));for(;this.installmentsArray.length<n;){let r=this.sameValueEnabled?Number(this.installmentsArray.at(0)?.value??0):0;this.installmentsArray.push(this.fb.control(r,[Xe.min(.01)]))}for(;this.installmentsArray.length>n;)this.installmentsArray.removeAt(this.installmentsArray.length-1);this.sameValueEnabled&&this.copyFirstInstallmentAmount()}copyFirstInstallmentAmount(){let e=Number(this.installmentsArray.at(0)?.value??0);for(let n=1;n<this.installmentsArray.length;n++)this.installmentsArray.at(n).setValue(e,{emitEvent:!1})}normalizeInstallmentsCount(e){let n=Number(e??1);return Number.isNaN(n)||n<=0?1:Math.min(Math.max(n,1),48)}async runReconcile(){let e=await rn(this.auth.user$);if(e){this.reconciling=!0;try{let n=await this.reconcileService.reconcile(e.uid);n>0&&this.notifications.info(`${n} parcelas conciliadas.`)}catch(n){console.error(n),this.notifications.error("Falha ao reconciliar parcelas vencidas.")}finally{this.reconciling=!1}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-credit"]],decls:18,vars:7,consts:[["loadingCardsTpl",""],["emptyCardsTpl",""],["noLimit",""],["loadingPurchasesTpl",""],["emptyPurchasesTpl",""],["noCardsTpl",""],["loadingDiagnosticTpl",""],["emptyCardTotalsTpl",""],["emptyUpcomingTpl",""],["emptyMonthlyTpl",""],[1,"row","g-3"],[1,"col-12","d-flex","align-items-center","justify-content-between","flex-wrap","gap-3"],[1,"text-uppercase","text-primary","small","mb-1"],[1,"fw-bold","mb-0"],["class","text-secondary small mt-1",4,"ngIf"],[1,"credit-tabs","d-flex","flex-wrap","gap-2"],["type","button",1,"btn","btn-sm",3,"click","ngClass"],[4,"ngIf"],[1,"text-secondary","small","mt-1"],[1,"col-lg-4"],[1,"glass-card","p-3","h-100"],[1,"fw-semibold","mb-3"],[1,"col-lg-8"],[1,"table-responsive"],[1,"table","table-hover","align-middle","table-sm","app-table"],[1,"text-secondary"],[1,"text-end"],[4,"ngIf","ngIfElse"],[1,"d-grid","gap-3",3,"ngSubmit","formGroup"],[1,"form-label","text-secondary"],["formControlName","name","placeholder","Ex: Cart\xE3o principal",1,"form-control","glass-input"],["formControlName","brand","placeholder","Ex: Visa",1,"form-control","glass-input"],["type","number","formControlName","limit","placeholder","Ex: 3500.00","step","0.01",1,"form-control","glass-input"],[1,"row","g-2"],[1,"col-6"],["type","number","formControlName","closingDay","placeholder","1-28","min","1","max","28",1,"form-control","glass-input"],["type","number","formControlName","dueDay","placeholder","1-28","min","1","max","28",1,"form-control","glass-input"],["formControlName","paymentAccountId",1,"form-select","glass-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary","flex-grow-1",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"],["class","text-warning small mt-2",4,"ngIf"],[3,"value"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"text-warning","small","mt-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fw-semibold"],[1,"text-secondary","small"],[1,"small"],[1,"btn","btn-sm","btn-outline-light","me-2",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"btn","btn-sm","btn-outline-light",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-50"],[1,"skeleton","skeleton-line","w-50","ms-auto"],[1,"skeleton","skeleton-line","w-75"],["colspan","5"],[1,"empty-state"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-lg-5"],[1,"col-lg-7"],["formControlName","cardId",1,"form-select","glass-input"],["formControlName","description","placeholder","Ex: Notebook",1,"form-control","glass-input"],["type","date","formControlName","purchaseDate",1,"form-control","glass-input"],["type","date","formControlName","firstDueDate",1,"form-control","glass-input"],[1,"row","g-2","align-items-end"],["type","number","formControlName","installmentsCount","min","1","max","48",1,"form-control","glass-input"],[1,"form-check","mt-4"],["type","checkbox","formControlName","sameValue","id","sameValue",1,"form-check-input"],["for","sameValue",1,"form-check-label","text-secondary"],["formArrayName","installmentAmounts",1,"d-grid","gap-2"],["class","installment-input",4,"ngFor","ngForOf"],["formControlName","categoryId",1,"form-select","glass-input"],["value",""],[1,"installment-input"],[1,"d-flex","align-items-center","justify-content-between"],["type","number","min","0.01","step","0.01",1,"form-control","glass-input","mt-1",3,"input","formControlName","readonly"],["class","purchase-card p-3 mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"purchase-card","p-3","mb-3"],[1,"d-flex","justify-content-between","flex-wrap","gap-2"],["class","text-secondary small",4,"ngIf"],[1,"d-flex","justify-content-end","gap-2","mt-2"],["type","button",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],["class","installments-grid mt-3",4,"ngIf"],[1,"installments-grid","mt-3"],["class","installment-chip",3,"paid","installment-paid",4,"ngFor","ngForOf","ngForTrackBy"],[1,"installment-chip"],[1,"installment-date"],[1,"installment-status"],["type","button",1,"btn","btn-sm","mt-2",3,"click"],[1,"bi"],["class","purchase-card p-3 mb-3",4,"ngFor","ngForOf"],[1,"skeleton","skeleton-line","w-50","mb-2"],[1,"skeleton","skeleton-line","w-75","mb-2"],[1,"skeleton","skeleton-line","w-100"],[1,"diagnostic-total"],["class","mt-3",4,"ngIf","ngIfElse"],[1,"mt-3"],["class","d-flex justify-content-between mb-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mb-2"],[1,"col-12"],[1,"glass-card","p-3"],[1,"skeleton","skeleton-line","w-25","mb-2"]],template:function(n,r){n&1&&(U(0,"div",10)(1,"div",11)(2,"div")(3,"p",12),G(4,"Cr\xE9dito"),B(),U(5,"h3",13),G(6,"Cr\xE9dito"),B(),me(7,$G,2,0,"div",14),B(),U(8,"div",15)(9,"button",16),Me("click",function(){return r.setTab("cards")}),G(10," Cart\xF5es "),B(),U(11,"button",16),Me("click",function(){return r.setTab("purchases")}),G(12," Compras "),B(),U(13,"button",16),Me("click",function(){return r.setTab("diagnostic")}),G(14," Diagn\xF3stico "),B()()(),me(15,tK,30,8,"ng-container",17)(16,bK,17,7,"ng-container",17)(17,kK,5,4,"ng-container",17),B()),n&2&&(X(7),oe("ngIf",r.reconciling),X(2),oe("ngClass",r.activeTab==="cards"?"btn-primary":"btn-outline-light"),X(2),oe("ngClass",r.activeTab==="purchases"?"btn-primary":"btn-outline-light"),X(2),oe("ngClass",r.activeTab==="diagnostic"?"btn-primary":"btn-outline-light"),X(2),oe("ngIf",r.activeTab==="cards"),X(),oe("ngIf",r.activeTab==="purchases"),X(),oe("ngIf",r.activeTab==="diagnostic"))},dependencies:[Cn,mr,ar,Fn,ei,Zr,oc,sc,ur,ca,WC,xs,Tr,Qr,gl,JC,jr,Vr,Ty,Fr,Qi,pf],styles:[".glass-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.08);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.glass-input[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);color:#e5e7eb}.glass-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6366f133}.credit-tabs[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:999px;padding:.35rem .9rem}.purchase-card[_ngcontent-%COMP%]{background:#ffffff0a;border:1px solid rgba(255,255,255,.08);border-radius:14px}.installments-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:8px}.installment-chip[_ngcontent-%COMP%]{background:#ffffff0a;border:1px dashed rgba(255,255,255,.2);border-radius:12px;padding:8px}.installment-chip.paid[_ngcontent-%COMP%]{border-style:solid;opacity:.7}.installment-input[_ngcontent-%COMP%]{background:#ffffff08;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:8px}.diagnostic-total[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.installment-paid[_ngcontent-%COMP%]{border-color:#2ecc7199;background:linear-gradient(135deg,#2ecc712e,#2ecc710d)}.installment-paid[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%], .installment-paid[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#9be7c4}"]})};var M5=[{path:"",pathMatch:"full",component:hy,canActivate:[Uk]},{path:"auth",children:[{path:"login",component:Dy},{path:"register",component:Ay},{path:"",pathMatch:"full",redirectTo:"login"}]},{path:"app",component:Ry,canActivate:[$k],children:[{path:"dashboard",component:Ny},{path:"transactions",component:Py},{path:"accounts",component:Oy},{path:"categories",component:Fy},{path:"budgets",component:Ly},{path:"reports",component:$y},{path:"credit",component:qy},{path:"ajuda",component:Uy},{path:"settings",component:Hy},{path:"",pathMatch:"full",redirectTo:"dashboard"}]},{path:"**",redirectTo:""}];var k5={production:!1,firebase:{apiKey:"AIzaSyBrtk-IgKjO9M01grt7g-N0Wp-vrrtBK0k",authDomain:"gestaogastos-bc99d.firebaseapp.com",projectId:"gestaogastos-bc99d",storageBucket:"gestaogastos-bc99d.firebasestorage.app",messagingSenderId:"481547974744",appId:"1:481547974744:web:8ea510a9165babbda8f22d",measurementId:"G-SSQPTQEE46"}};var R5={providers:[FA(()=>LA(k5.firebase)),z4(()=>G4()),Ok(()=>Vk()),Y_(M5),{provide:Us,useValue:"pt-BR"}]};var RK=(t,e,n,r)=>({"toast-success":t,"toast-error":e,"toast-info":n,"toast-warning":r});function NK(t,e){if(t&1){let n=At();U(0,"button",8),Me("click",function(i){ze(n);let o=pe().$implicit,s=pe();return s.handleAction(o),qe(s.stop(i))}),G(1),B()}if(t&2){let n=pe().$implicit;X(),je(" ",n.actionLabel," ")}}function PK(t,e){if(t&1){let n=At();U(0,"div",3),Me("click",function(i){ze(n);let o=pe();return qe(o.stop(i))}),U(1,"div",4),G(2),B(),U(3,"div",5),me(4,NK,2,1,"button",6),U(5,"button",7),Me("click",function(i){let o=ze(n).$implicit,s=pe();return s.dismiss(o.id),qe(s.stop(i))}),G(6," \xD7 "),B()()()}if(t&2){let n=e.$implicit;oe("ngClass",Xb(3,RK,n.type==="success",n.type==="error",n.type==="info",n.type==="warning")),X(2),Te(n.message),X(2),oe("ngIf",n.actionLabel)}}var Wy=class t{notifications=ge(bi);toasts$=this.notifications.toasts$;trackById(e,n){return n.id}dismiss(e){this.notifications.dismiss(e)}handleAction(e){e.action?.(),this.notifications.dismiss(e.id)}stop(e){e.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-toast-container"]],decls:4,vars:4,consts:[["aria-live","polite",1,"toast-container"],[1,"toast-stack"],["class","toast toast-item","role","status",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["role","status",1,"toast","toast-item",3,"click","ngClass"],[1,"toast-message"],[1,"toast-actions"],["type","button","class","btn btn-sm btn-outline-light",3,"click",4,"ngIf"],["type","button","aria-label","Fechar",1,"toast-close",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-light",3,"click"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"div",1),me(2,PK,7,8,"div",2),Pe(3,"async"),B()()),n&2&&(X(2),oe("ngForOf",mn(3,2,r.toasts$))("ngForTrackBy",r.trackById))},dependencies:[Cn,mr,ar,Fn,Fr],styles:[".toast-container[_ngcontent-%COMP%]{width:100%}.toast-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;border-radius:14px;background:#111827f2;border:1px solid rgba(255,255,255,.08);color:#f9fafb;box-shadow:0 10px 25px #00000040;animation:_ngcontent-%COMP%_toast-in .2s ease-out}.toast-message[_ngcontent-%COMP%]{flex:1;font-size:.9rem}.toast-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.toast-close[_ngcontent-%COMP%]{border:0;background:transparent;color:inherit;font-size:1.1rem;line-height:1;padding:0 4px;cursor:pointer}.toast-success[_ngcontent-%COMP%]{border-left:4px solid #10b981}.toast-error[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.toast-info[_ngcontent-%COMP%]{border-left:4px solid #38bdf8}.toast-warning[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}@keyframes _ngcontent-%COMP%_toast-in{0%{transform:translateY(-8px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{position:fixed;top:16px;right:16px;z-index:99999;width:min(420px,calc(100vw - 32px));pointer-events:none}.toast-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;pointer-events:none}.toast[_ngcontent-%COMP%]{pointer-events:auto;position:relative}.toast[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .toast[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer}"]})};var Gy=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=on({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"app-surface"]],template:function(n,r){n&1&&(U(0,"div",0),Ee(1,"router-outlet"),B(),Ee(2,"app-toast-container"))},dependencies:[Hc,Wy],styles:["[_nghost-%COMP%]{display:block}.app-surface[_ngcontent-%COMP%]{min-height:100vh;background:var(--bg-gradient);color:var(--text-color)}"]})};XD(ZD);I_(Gy,R5).catch(t=>console.error(t));
